import{S as we,i as ke,s as ge,G as _t,E as ce,k as N,a as W,y as R,l as T,m as $,h,c as Z,z as j,n as I,H as de,I as st,b as M,J as b,A as q,K as Ce,ad as Dt,ae as lr,L as gt,M as pt,N as bt,O as ze,g as _,d as v,B as O,P as Je,D as ye,C as vt,R as me,T as nr,t as wr,j as kr,F as Se,q as G,r as K,u as ue,Q as Le,w as Be,af as rr,_ as pe,$ as be,a0 as Ie,a1 as ee,e as ae,o as $r,Z as yr,p as Qe,W as ir,a7 as Te,aa as je,v as te,f as le,a4 as Pe,ab as Ae,X as wt,Y as kt,a2 as $t,ag as Sr,U as We,V as Ze,ah as Er,a8 as at,a3 as ot,x as ft,a6 as Et,ai as Dr}from"../chunks/index.f491bb8d.js";import{g as sr}from"../chunks/navigation.093c316a.js";import{C as Xt,O as Ir,a as dt,P as Vr}from"../chunks/Page.cae9fef0.js";import{T as Xe,k as Cr,l as Re,t as xe,d as et,m as Ue,n as Rt,o as Nr,M as ar,S as Tr,p as Mr,q as Nt,r as Fr,u as zr,v as Ar,I as Pr,w as xt,x as Br,y as Rr,z as qr,c as Or,A as Hr,B as Lr,D as qt,s as ut,C as jr,E as ct,F as or,G as fr,H as ur,J as cr,K as Ur,h as Yr,L as Qr,g as Wr,N as Zr,O as Jr,P as Gr,Q as Kr,R as Xr,U as xr}from"../chunks/Commands.e68f9867.js";import{h as Me,l as Ve,m as Ot,n as Ee,p as Ht,k as ei,r as tt,t as ti,u as qe,v as ht,w as yt,x as li,L as Ke,y as ni,z as lt,A as ri,C as Lt,D as ii,U as jt,B as mt,E as dr,c as si,a as Ut,F as ai,G as nt,H as It,I as Pt,J as oi,K as fi,P as Vt,V as hr,M as ui,N as ci,O as di,R as hi,S as mi,T as _i,W as gi}from"../chunks/HoverTooltip.b4b82cd7.js";import{d as el,w as it}from"../chunks/index.469944cd.js";import{C as pi,S as Ye,n as bi,b as vi,f as wi,d as ki}from"../chunks/JSONSchemaForm.42d7a47d.js";import{E as Yt,C as $i,S as yi,a as Bt,I as tl,T as Si,b as Ei}from"../chunks/ConceptView.d7f96615.js";import{C as Di,S as Tt,a as St}from"../chunks/SelectItem.5ef0037f.js";import{q as Qt,g as mr,S as Ii}from"../chunks/settingsStore.9112b208.js";import{I as _r}from"../chunks/InlineNotification.ad05f6bb.js";import{C as Vi}from"../chunks/ComboBox.e002aafb.js";import{S as Ci}from"../chunks/Settings.8b29c0e9.js";const Ni=i=>({}),ll=i=>({});function nl(i){let e=i[3].label+"",l;return{c(){l=G(e)},l(t){l=K(t,e)},m(t,n){M(t,l,n)},p(t,n){n[0]&8&&e!==(e=t[3].label+"")&&ue(l,e)},d(t){t&&h(l)}}}function Ti(i){let e,l,t,n,o,r,s,a,f,u,c,d,m=i[3]&&nl(i);o=new Di({props:{"aria-hidden":"true",title:i[1]}});const g=i[20].default,p=_t(g,i,i[19],null);let w=[{role:"navigation"},i[10]],D={};for(let V=0;V<w.length;V+=1)D=ce(D,w[V]);const F=i[20].content,S=_t(F,i,i[19],ll);return{c(){e=N("div"),l=N("div"),t=N("a"),m&&m.c(),n=W(),R(o.$$.fragment),s=W(),a=N("ul"),p&&p.c(),f=W(),S&&S.c(),this.h()},l(V){e=T(V,"DIV",{role:!0});var C=$(e);l=T(C,"DIV",{role:!0,tabindex:!0,"aria-label":!0});var A=$(l);t=T(A,"A",{tabindex:!0,href:!0});var y=$(t);m&&m.l(y),y.forEach(h),n=Z(A),j(o.$$.fragment,A),A.forEach(h),s=Z(C),a=T(C,"UL",{role:!0});var E=$(a);p&&p.l(E),E.forEach(h),C.forEach(h),f=Z(V),S&&S.l(V),this.h()},h(){I(t,"tabindex","-1"),I(t,"href",i[2]),de(t,"bx--tabs-trigger-text",!0),I(l,"role","listbox"),I(l,"tabindex","0"),I(l,"aria-label",r=i[11]["aria-label"]||"listbox"),de(l,"bx--tabs-trigger",!0),I(a,"role","tablist"),de(a,"bx--tabs__nav",!0),de(a,"bx--tabs__nav--hidden",i[5]),st(e,D),de(e,"bx--tabs",!0),de(e,"bx--tabs--container",i[0]==="container")},m(V,C){M(V,e,C),b(e,l),b(l,t),m&&m.m(t,null),b(l,n),q(o,l,null),b(e,s),b(e,a),p&&p.m(a,null),i[26](a),M(V,f,C),S&&S.m(V,C),u=!0,c||(d=[Ce(t,"click",Dt(i[22])),Ce(t,"click",lr(Dt(i[23]))),Ce(l,"click",i[24]),Ce(l,"keypress",i[21]),Ce(l,"keypress",i[25])],c=!0)},p(V,C){V[3]?m?m.p(V,C):(m=nl(V),m.c(),m.m(t,null)):m&&(m.d(1),m=null),(!u||C[0]&4)&&I(t,"href",V[2]);const A={};C[0]&2&&(A.title=V[1]),o.$set(A),(!u||C[0]&2048&&r!==(r=V[11]["aria-label"]||"listbox"))&&I(l,"aria-label",r),p&&p.p&&(!u||C[0]&524288)&&gt(p,g,V,V[19],u?bt(g,V[19],C,null):pt(V[19]),null),(!u||C[0]&32)&&de(a,"bx--tabs__nav--hidden",V[5]),st(e,D=ze(w,[{role:"navigation"},C[0]&1024&&V[10]])),de(e,"bx--tabs",!0),de(e,"bx--tabs--container",V[0]==="container"),S&&S.p&&(!u||C[0]&524288)&&gt(S,F,V,V[19],u?bt(F,V[19],C,Ni):pt(V[19]),ll)},i(V){u||(_(o.$$.fragment,V),_(p,V),_(S,V),u=!0)},o(V){v(o.$$.fragment,V),v(p,V),v(S,V),u=!1},d(V){V&&h(e),m&&m.d(),O(o),p&&p.d(V),i[26](null),V&&h(f),S&&S.d(V),c=!1,Je(d)}}}function Mi(i,e,l){let t,n;const o=["selected","type","autoWidth","iconDescription","triggerHref"];let r=ye(e,o),s,a,f,u,{$$slots:c={},$$scope:d}=e,{selected:m=0}=e,{type:g="default"}=e,{autoWidth:p=!1}=e,{iconDescription:w="Show menu options"}=e,{triggerHref:D="#"}=e;const F=vt(),S=it([]);me(i,S,ne=>l(18,f=ne));const V=el(S,ne=>ne.reduce((oe,re)=>({...oe,[re.id]:re}),{}));me(i,V,ne=>l(28,u=ne));const C=it(p),A=it(void 0);me(i,A,ne=>l(16,s=ne));const y=it([]);me(i,y,ne=>l(17,a=ne));const E=el(y,ne=>ne.reduce((oe,re)=>({...oe,[re.id]:re}),{})),P=it(void 0);let k=null;nr("Tabs",{tabs:S,contentById:E,selectedTab:A,selectedContent:P,useAutoWidth:C,add:ne=>{S.update(oe=>[...oe,{...ne,index:oe.length}])},addContent:ne=>{y.update(oe=>[...oe,{...ne,index:oe.length}])},update:ne=>{l(14,H=u[ne].index)},change:async ne=>{let oe=H+ne;oe<0?oe=f.length-1:oe>=f.length&&(oe=0);let re=f[oe].disabled;for(;re;)oe=oe+ne,oe<0?oe=f.length-1:oe>=f.length&&(oe=0),re=f[oe].disabled;l(14,H=oe),await wr();const De=k==null?void 0:k.querySelectorAll("[role='tab']")[H];De==null||De.focus()}}),kr(()=>{l(12,m=H),U>-1&&U!==H&&F("change",H),U=H});let z=!0,H=m,U=-1;function J(ne){Le.call(this,i,ne)}function B(ne){Le.call(this,i,ne)}const Y=()=>{l(5,z=!z)},L=()=>{l(5,z=!z)},Q=()=>{l(5,z=!z)};function x(ne){Be[ne?"unshift":"push"](()=>{k=ne,l(4,k)})}return i.$$set=ne=>{l(11,e=ce(ce({},e),Se(ne))),l(10,r=ye(e,o)),"selected"in ne&&l(12,m=ne.selected),"type"in ne&&l(0,g=ne.type),"autoWidth"in ne&&l(13,p=ne.autoWidth),"iconDescription"in ne&&l(1,w=ne.iconDescription),"triggerHref"in ne&&l(2,D=ne.triggerHref),"$$scope"in ne&&l(19,d=ne.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&4096&&l(14,H=m),i.$$.dirty[0]&278528&&l(3,t=f[H]||void 0),i.$$.dirty[0]&147456&&l(15,n=a[H]||void 0),i.$$.dirty[0]&32776&&(t&&A.set(t.id),n&&P.set(n.id)),i.$$.dirty[0]&65536&&s&&l(5,z=!0),i.$$.dirty[0]&8192&&C.set(p)},e=Se(e),[g,w,D,t,k,z,S,V,A,y,r,e,m,p,H,n,s,a,f,d,c,J,B,Y,L,Q,x]}class Fi extends we{constructor(e){super(),ke(this,e,Mi,Ti,ge,{selected:12,type:0,autoWidth:13,iconDescription:1,triggerHref:2},null,[-1,-1])}}const zi=Fi;function Ai(i){let e;return{c(){e=G(i[1])},l(l){e=K(l,i[1])},m(l,t){M(l,e,t)},p(l,t){t&2&&ue(e,l[1])},d(l){l&&h(e)}}}function Pi(i){let e,l,t,n,o,r,s;const a=i[15].default,f=_t(a,i,i[14],null),u=f||Ai(i);let c=[{tabindex:"-1"},{role:"presentation"},i[12]],d={};for(let m=0;m<c.length;m+=1)d=ce(d,c[m]);return{c(){e=N("li"),l=N("a"),u&&u.c(),this.h()},l(m){e=T(m,"LI",{tabindex:!0,role:!0});var g=$(e);l=T(g,"A",{role:!0,tabindex:!0,"aria-selected":!0,"aria-disabled":!0,id:!0,href:!0,style:!0});var p=$(l);u&&u.l(p),p.forEach(h),g.forEach(h),this.h()},h(){I(l,"role","tab"),I(l,"tabindex",t=i[3]?"-1":i[4]),I(l,"aria-selected",i[6]),I(l,"aria-disabled",i[3]),I(l,"id",i[5]),I(l,"href",i[2]),I(l,"style",n=i[7]?"width: auto":void 0),de(l,"bx--tabs__nav-link",!0),st(e,d),de(e,"bx--tabs__nav-item",!0),de(e,"bx--tabs__nav-item--disabled",i[3]),de(e,"bx--tabs__nav-item--selected",i[6])},m(m,g){M(m,e,g),b(e,l),u&&u.m(l,null),i[20](l),o=!0,r||(s=[Ce(e,"click",Dt(i[16])),Ce(e,"click",Dt(i[21])),Ce(e,"mouseover",i[17]),Ce(e,"mouseenter",i[18]),Ce(e,"mouseleave",i[19]),Ce(e,"keydown",i[22])],r=!0)},p(m,[g]){f?f.p&&(!o||g&16384)&&gt(f,a,m,m[14],o?bt(a,m[14],g,null):pt(m[14]),null):u&&u.p&&(!o||g&2)&&u.p(m,o?g:-1),(!o||g&24&&t!==(t=m[3]?"-1":m[4]))&&I(l,"tabindex",t),(!o||g&64)&&I(l,"aria-selected",m[6]),(!o||g&8)&&I(l,"aria-disabled",m[3]),(!o||g&32)&&I(l,"id",m[5]),(!o||g&4)&&I(l,"href",m[2]),(!o||g&128&&n!==(n=m[7]?"width: auto":void 0))&&I(l,"style",n),st(e,d=ze(c,[{tabindex:"-1"},{role:"presentation"},g&4096&&m[12]])),de(e,"bx--tabs__nav-item",!0),de(e,"bx--tabs__nav-item--disabled",m[3]),de(e,"bx--tabs__nav-item--selected",m[6])},i(m){o||(_(u,m),o=!0)},o(m){v(u,m),o=!1},d(m){m&&h(e),u&&u.d(m),i[20](null),r=!1,Je(s)}}}function Bi(i,e,l){let t;const n=["label","href","disabled","tabindex","id","ref"];let o=ye(e,n),r,s,{$$slots:a={},$$scope:f}=e,{label:u=""}=e,{href:c="#"}=e,{disabled:d=!1}=e,{tabindex:m="0"}=e,{id:g="ccs-"+Math.random().toString(36)}=e,{ref:p=null}=e;const{selectedTab:w,useAutoWidth:D,add:F,update:S,change:V}=rr("Tabs");me(i,w,H=>l(13,r=H)),me(i,D,H=>l(7,s=H)),F({id:g,label:u,disabled:d});function C(H){Le.call(this,i,H)}function A(H){Le.call(this,i,H)}function y(H){Le.call(this,i,H)}function E(H){Le.call(this,i,H)}function P(H){Be[H?"unshift":"push"](()=>{p=H,l(0,p)})}const k=()=>{d||S(g)},z=({key:H})=>{d||(H==="ArrowRight"?V(1):H==="ArrowLeft"?V(-1):(H===" "||H==="Enter")&&S(g))};return i.$$set=H=>{e=ce(ce({},e),Se(H)),l(12,o=ye(e,n)),"label"in H&&l(1,u=H.label),"href"in H&&l(2,c=H.href),"disabled"in H&&l(3,d=H.disabled),"tabindex"in H&&l(4,m=H.tabindex),"id"in H&&l(5,g=H.id),"ref"in H&&l(0,p=H.ref),"$$scope"in H&&l(14,f=H.$$scope)},i.$$.update=()=>{i.$$.dirty&8224&&l(6,t=r===g)},[p,u,c,d,m,g,t,s,w,D,S,V,o,r,f,a,C,A,y,E,P,k,z]}class Ri extends we{constructor(e){super(),ke(this,e,Bi,Pi,ge,{label:1,href:2,disabled:3,tabindex:4,id:5,ref:0})}}const zt=Ri;function qi(i){let e,l,t,n;const o=i[12].default,r=_t(o,i,i[11],null);let s=[{role:"tabpanel"},{"aria-labelledby":i[1]},{"aria-hidden":l=!i[2]},{hidden:t=i[2]?void 0:""},{id:i[0]},i[6]],a={};for(let f=0;f<s.length;f+=1)a=ce(a,s[f]);return{c(){e=N("div"),r&&r.c(),this.h()},l(f){e=T(f,"DIV",{role:!0,"aria-labelledby":!0,"aria-hidden":!0,id:!0});var u=$(e);r&&r.l(u),u.forEach(h),this.h()},h(){st(e,a),de(e,"bx--tab-content",!0)},m(f,u){M(f,e,u),r&&r.m(e,null),n=!0},p(f,[u]){r&&r.p&&(!n||u&2048)&&gt(r,o,f,f[11],n?bt(o,f[11],u,null):pt(f[11]),null),st(e,a=ze(s,[{role:"tabpanel"},(!n||u&2)&&{"aria-labelledby":f[1]},(!n||u&4&&l!==(l=!f[2]))&&{"aria-hidden":l},(!n||u&4&&t!==(t=f[2]?void 0:""))&&{hidden:t},(!n||u&1)&&{id:f[0]},u&64&&f[6]])),de(e,"bx--tab-content",!0)},i(f){n||(_(r,f),n=!0)},o(f){v(r,f),n=!1},d(f){f&&h(e),r&&r.d(f)}}}function Oi(i,e,l){let t,n,o;const r=["id"];let s=ye(e,r),a,f,u,{$$slots:c={},$$scope:d}=e,{id:m="ccs-"+Math.random().toString(36)}=e;const{selectedContent:g,addContent:p,tabs:w,contentById:D}=rr("Tabs");return me(i,g,F=>l(10,u=F)),me(i,w,F=>l(8,a=F)),me(i,D,F=>l(9,f=F)),p({id:m}),i.$$set=F=>{e=ce(ce({},e),Se(F)),l(6,s=ye(e,r)),"id"in F&&l(0,m=F.id),"$$scope"in F&&l(11,d=F.$$scope)},i.$$.update=()=>{i.$$.dirty&1025&&l(2,t=u===m),i.$$.dirty&513&&l(7,n=f[m].index),i.$$.dirty&384&&l(1,o=a[n].id)},[m,o,t,g,w,D,s,n,a,f,u,d,c]}class Hi extends we{constructor(e){super(),ke(this,e,Oi,qi,ge,{id:0})}}const At=Hi;function rl(i){let e,l;return{c(){e=pe("title"),l=G(i[1])},l(t){e=be(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(h)},m(t,n){M(t,e,n),b(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Li(i){let e,l,t=i[1]&&rl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=pe("svg"),t&&t.c(),l=pe("path"),this.h()},l(r){e=be(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=be(s,"path",{d:!0}),$(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),Ie(e,o)},m(r,s){M(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=rl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&h(e),t&&t.d()}}}function ji(i,e,l){let t,n;const o=["size","title"];let r=ye(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ye(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class Ui extends we{constructor(e){super(),ke(this,e,ji,Li,ge,{size:0,title:1})}}function il(i){let e,l;return{c(){e=pe("title"),l=G(i[1])},l(t){e=be(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(h)},m(t,n){M(t,e,n),b(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Yi(i){let e,l,t=i[1]&&il(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=pe("svg"),t&&t.c(),l=pe("path"),this.h()},l(r){e=be(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=be(s,"path",{d:!0}),$(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M24 12L16 22 8 12z"),Ie(e,o)},m(r,s){M(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=il(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&h(e),t&&t.d()}}}function Qi(i,e,l){let t,n;const o=["size","title"];let r=ye(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ye(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class Wi extends we{constructor(e){super(),ke(this,e,Qi,Yi,ge,{size:0,title:1})}}function sl(i){let e,l;return{c(){e=pe("title"),l=G(i[1])},l(t){e=be(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(h)},m(t,n){M(t,e,n),b(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Zi(i){let e,l,t=i[1]&&sl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=pe("svg"),t&&t.c(),l=pe("path"),this.h()},l(r){e=be(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=be(s,"path",{d:!0}),$(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M10 16L20 6 21.4 7.4 12.8 16 21.4 24.6 20 26z"),Ie(e,o)},m(r,s){M(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=sl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&h(e),t&&t.d()}}}function Ji(i,e,l){let t,n;const o=["size","title"];let r=ye(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ye(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class Gi extends we{constructor(e){super(),ke(this,e,Ji,Zi,ge,{size:0,title:1})}}function al(i){let e,l;return{c(){e=pe("title"),l=G(i[1])},l(t){e=be(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(h)},m(t,n){M(t,e,n),b(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Ki(i){let e,l,t=i[1]&&al(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=pe("svg"),t&&t.c(),l=pe("path"),this.h()},l(r){e=be(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=be(s,"path",{d:!0}),$(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"),Ie(e,o)},m(r,s){M(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=al(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&h(e),t&&t.d()}}}function Xi(i,e,l){let t,n;const o=["size","title"];let r=ye(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ye(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class xi extends we{constructor(e){super(),ke(this,e,Xi,Ki,ge,{size:0,title:1})}}function ol(i){let e,l;return{c(){e=pe("title"),l=G(i[1])},l(t){e=be(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(h)},m(t,n){M(t,e,n),b(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function es(i){let e,l,t=i[1]&&ol(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=pe("svg"),t&&t.c(),l=pe("path"),this.h()},l(r){e=be(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=be(s,"path",{d:!0}),$(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M26 24v4H6V24H4v4H4a2 2 0 002 2H26a2 2 0 002-2h0V24zM26 14L24.59 12.59 17 20.17 17 2 15 2 15 20.17 7.41 12.59 6 14 16 24 26 14z"),Ie(e,o)},m(r,s){M(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=ol(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&h(e),t&&t.d()}}}function ts(i,e,l){let t,n;const o=["size","title"];let r=ye(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ye(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class ls extends we{constructor(e){super(),ke(this,e,ts,es,ge,{size:0,title:1})}}function fl(i){let e,l;return{c(){e=pe("title"),l=G(i[1])},l(t){e=be(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(h)},m(t,n){M(t,e,n),b(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ns(i){let e,l,t=i[1]&&fl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=pe("svg"),t&&t.c(),l=pe("path"),this.h()},l(r){e=be(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=be(s,"path",{d:!0}),$(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M16 7a3 3 0 113-3A3.0033 3.0033 0 0116 7zm0-4a1 1 0 101 1A1.001 1.001 0 0016 3zM11 30a3 3 0 113-3A3.0033 3.0033 0 0111 30zm0-4a1 1 0 101 1A1.001 1.001 0 0011 26zM7 11a3 3 0 113-3A3.0033 3.0033 0 017 11zM7 7A1 1 0 108 8 1.001 1.001 0 007 7zM21 30a3 3 0 113-3A3.0033 3.0033 0 0121 30zm0-4a1 1 0 101 1A1.001 1.001 0 0021 26zM25 11a3 3 0 113-3A3.0033 3.0033 0 0125 11zm0-4a1 1 0 101 1A1.001 1.001 0 0025 7zM4 21a3 3 0 113-3A3.0033 3.0033 0 014 21zm0-4a1 1 0 101 1A1.001 1.001 0 004 17zM28 21a3 3 0 113-3A3.0033 3.0033 0 0128 21zm0-4a1 1 0 101 1A1.001 1.001 0 0028 17zM16 22a6 6 0 116-6A6.0069 6.0069 0 0116 22zm0-10a4 4 0 104 4A4.0045 4.0045 0 0016 12z"),Ie(e,o)},m(r,s){M(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=fl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&h(e),t&&t.d()}}}function rs(i,e,l){let t,n;const o=["size","title"];let r=ye(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ye(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class is extends we{constructor(e){super(),ke(this,e,rs,ns,ge,{size:0,title:1})}}function ul(i){let e,l;return{c(){e=pe("title"),l=G(i[1])},l(t){e=be(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(h)},m(t,n){M(t,e,n),b(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ss(i){let e,l,t,n=i[1]&&ul(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=ce(r,o[s]);return{c(){e=pe("svg"),n&&n.c(),l=pe("path"),t=pe("path"),this.h()},l(s){e=be(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=$(e);n&&n.l(a),l=be(a,"path",{d:!0}),$(l).forEach(h),t=be(a,"path",{d:!0}),$(t).forEach(h),a.forEach(h),this.h()},h(){I(l,"d","M17 22L17 14 13 14 13 16 15 16 15 22 12 22 12 24 20 24 20 22 17 22zM16 8a1.5 1.5 0 101.5 1.5A1.5 1.5 0 0016 8z"),I(t,"d","M16,30A14,14,0,1,1,30,16,14,14,0,0,1,16,30ZM16,4A12,12,0,1,0,28,16,12,12,0,0,0,16,4Z"),Ie(e,r)},m(s,a){M(s,e,a),n&&n.m(e,null),b(e,l),b(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=ul(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),Ie(e,r=ze(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:ee,o:ee,d(s){s&&h(e),n&&n.d()}}}function as(i,e,l){let t,n;const o=["size","title"];let r=ye(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ye(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class Ct extends we{constructor(e){super(),ke(this,e,as,ss,ge,{size:0,title:1})}}function cl(i){let e,l;return{c(){e=pe("title"),l=G(i[1])},l(t){e=be(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(h)},m(t,n){M(t,e,n),b(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function os(i){let e,l,t=i[1]&&cl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=pe("svg"),t&&t.c(),l=pe("path"),this.h()},l(r){e=be(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=be(s,"path",{d:!0}),$(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M30 6L26 6 26 2 24 2 24 6 20 6 20 8 24 8 24 12 26 12 26 8 30 8 30 6zM24 28.5859l-5.9751-5.9751a9.0234 9.0234 0 10-1.4141 1.4141L22.5859 30zM4 17a7 7 0 117 7A7.0078 7.0078 0 014 17z"),Ie(e,o)},m(r,s){M(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=cl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&h(e),t&&t.d()}}}function fs(i,e,l){let t,n;const o=["size","title"];let r=ye(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ye(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class gr extends we{constructor(e){super(),ke(this,e,fs,os,ge,{size:0,title:1})}}function dl(i){let e,l;return{c(){e=pe("title"),l=G(i[1])},l(t){e=be(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(h)},m(t,n){M(t,e,n),b(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function us(i){let e,l,t=i[1]&&dl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=pe("svg"),t&&t.c(),l=pe("path"),this.h()},l(r){e=be(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=be(s,"path",{d:!0}),$(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M23,20a5,5,0,0,0-3.89,1.89L11.8,17.32a4.46,4.46,0,0,0,0-2.64l7.31-4.57A5,5,0,1,0,18,7a4.79,4.79,0,0,0,.2,1.32l-7.31,4.57a5,5,0,1,0,0,6.22l7.31,4.57A4.79,4.79,0,0,0,18,25a5,5,0,1,0,5-5ZM23,4a3,3,0,1,1-3,3A3,3,0,0,1,23,4ZM7,19a3,3,0,1,1,3-3A3,3,0,0,1,7,19Zm16,9a3,3,0,1,1,3-3A3,3,0,0,1,23,28Z"),Ie(e,o)},m(r,s){M(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=dl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&h(e),t&&t.d()}}}function cs(i,e,l){let t,n;const o=["size","title"];let r=ye(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ye(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class ds extends we{constructor(e){super(),ke(this,e,cs,us,ge,{size:0,title:1})}}function hl(i){let e,l;return{c(){e=pe("title"),l=G(i[1])},l(t){e=be(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(h)},m(t,n){M(t,e,n),b(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function hs(i){let e,l,t=i[1]&&hl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=pe("svg"),t&&t.c(),l=pe("path"),this.h()},l(r){e=be(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=be(s,"path",{d:!0}),$(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 18H16V20H2zM6 12H16V14H6zM10 6H16V8H10z"),Ie(e,o)},m(r,s){M(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=hl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&h(e),t&&t.d()}}}function ms(i,e,l){let t,n;const o=["size","title"];let r=ye(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ye(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class Wt extends we{constructor(e){super(),ke(this,e,ms,hs,ge,{size:0,title:1})}}function ml(i){let e,l;return{c(){e=pe("title"),l=G(i[1])},l(t){e=be(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(h)},m(t,n){M(t,e,n),b(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function _s(i){let e,l,t=i[1]&&ml(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=pe("svg"),t&&t.c(),l=pe("path"),this.h()},l(r){e=be(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=be(s,"path",{d:!0}),$(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 6H16V8H2zM6 12H16V14H6zM10 18H16V20H10z"),Ie(e,o)},m(r,s){M(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=ml(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&h(e),t&&t.d()}}}function gs(i,e,l){let t,n;const o=["size","title"];let r=ye(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ye(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class Zt extends we{constructor(e){super(),ke(this,e,gs,_s,ge,{size:0,title:1})}}function _l(i){let e,l;return{c(){e=pe("title"),l=G(i[1])},l(t){e=be(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(h)},m(t,n){M(t,e,n),b(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ps(i){let e,l,t=i[1]&&_l(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=pe("svg"),t&&t.c(),l=pe("path"),this.h()},l(r){e=be(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=be(s,"path",{d:!0}),$(l).forEach(h),s.forEach(h),this.h()},h(){I(l,"d","M30 19.415L28.586 18 25 21.587 21.414 18 20 19.415 23.586 23 20 26.586 21.414 28 25 24.414 28.586 28 30 26.586 26.414 23 30 19.415zM10 18H16V20H10zM2 6H16V8H2zM6 12H16V14H6z"),Ie(e,o)},m(r,s){M(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=_l(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&h(e),t&&t.d()}}}function bs(i,e,l){let t,n;const o=["size","title"];let r=ye(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ye(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class vs extends we{constructor(e){super(),ke(this,e,bs,ps,ge,{size:0,title:1})}}function gl(i){let e,l;return{c(){e=pe("title"),l=G(i[1])},l(t){e=be(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(h)},m(t,n){M(t,e,n),b(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ws(i){let e,l,t,n=i[1]&&gl(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=ce(r,o[s]);return{c(){e=pe("svg"),n&&n.c(),l=pe("path"),t=pe("path"),this.h()},l(s){e=be(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=$(e);n&&n.l(a),l=be(a,"path",{d:!0}),$(l).forEach(h),t=be(a,"path",{d:!0}),$(t).forEach(h),a.forEach(h),this.h()},h(){I(l,"d","M30.94,15.66A16.69,16.69,0,0,0,16,5,16.69,16.69,0,0,0,1.06,15.66a1,1,0,0,0,0,.68A16.69,16.69,0,0,0,16,27,16.69,16.69,0,0,0,30.94,16.34,1,1,0,0,0,30.94,15.66ZM16,25c-5.3,0-10.9-3.93-12.93-9C5.1,10.93,10.7,7,16,7s10.9,3.93,12.93,9C26.9,21.07,21.3,25,16,25Z"),I(t,"d","M16,10a6,6,0,1,0,6,6A6,6,0,0,0,16,10Zm0,10a4,4,0,1,1,4-4A4,4,0,0,1,16,20Z"),Ie(e,r)},m(s,a){M(s,e,a),n&&n.m(e,null),b(e,l),b(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=gl(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),Ie(e,r=ze(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:ee,o:ee,d(s){s&&h(e),n&&n.d()}}}function ks(i,e,l){let t,n;const o=["size","title"];let r=ye(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ye(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class $s extends we{constructor(e){super(),ke(this,e,ks,ws,ge,{size:0,title:1})}}function pl(i){let e;return{c(){e=N("div"),this.h()},l(l){e=T(l,"DIV",{id:!0,style:!0}),$(e).forEach(h),this.h()},h(){I(e,"id","svelte-infinite-scroll"),Qe(e,"width","0")},m(l,t){M(l,e,t),i[11](e)},p:ee,d(l){l&&h(e),i[11](null)}}}function ys(i){let e,l=!i[1]&&!i[0]&&pl(i);return{c(){l&&l.c(),e=ae()},l(t){l&&l.l(t),e=ae()},m(t,n){l&&l.m(t,n),M(t,e,n)},p(t,[n]){!t[1]&&!t[0]?l?l.p(t,n):(l=pl(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ee,o:ee,d(t){l&&l.d(t),t&&h(e)}}}function Ss(i,e,l){let{threshold:t=0}=e,{horizontal:n=!1}=e,{elementScroll:o=null}=e,{hasMore:r=!0}=e,{reverse:s=!1}=e,{window:a=!1}=e;const f=vt();let u=!1,c,d,m,g;const p=F=>{if(!r)return;const S=F.target;w(S,s,n)<=t?(!u&&r&&(f("loadMore"),l(8,d=S.scrollHeight),l(9,m=S.scrollTop)),l(7,u=!0)):l(7,u=!1)},w=(F,S,V)=>{const C=F.documentElement?F.documentElement:F;return S?V?C.scrollLeft:C.scrollTop:V?C.scrollWidth-C.clientWidth-C.scrollLeft:C.scrollHeight-C.clientHeight-C.scrollTop};$r(()=>{a?l(10,g=document):o?l(10,g=o):l(10,g=c.parentNode)}),yr(()=>{g&&(g.removeEventListener("scroll",p),g.removeEventListener("resize",p))});function D(F){Be[F?"unshift":"push"](()=>{c=F,l(2,c)})}return i.$$set=F=>{"threshold"in F&&l(3,t=F.threshold),"horizontal"in F&&l(4,n=F.horizontal),"elementScroll"in F&&l(0,o=F.elementScroll),"hasMore"in F&&l(5,r=F.hasMore),"reverse"in F&&l(6,s=F.reverse),"window"in F&&l(1,a=F.window)},i.$$.update=()=>{i.$$.dirty&1088&&g&&(s&&l(10,g.scrollTop=g.scrollHeight,g),g.addEventListener("scroll",p),g.addEventListener("resize",p)),i.$$.dirty&1984&&u&&s&&l(10,g.scrollTop=g.scrollHeight-d+m,g)},[o,a,c,t,n,r,s,u,d,m,g,D]}class Es extends we{constructor(e){super(),ke(this,e,Ss,ys,ge,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function Ds(i){let e,l,t,n,o,r,s,a;t=new Cr({});const f=i[3].default,u=_t(f,i,i[6],null);return{c(){e=N("div"),l=N("button"),R(t.$$.fragment),n=W(),o=N("span"),u&&u.c(),this.h()},l(c){e=T(c,"DIV",{class:!0});var d=$(e);l=T(d,"BUTTON",{class:!0});var m=$(l);j(t.$$.fragment,m),m.forEach(h),n=Z(d),o=T(d,"SPAN",{class:!0});var g=$(o);u&&u.l(g),g.forEach(h),d.forEach(h),this.h()},h(){I(l,"class","p-0 opacity-50 hover:opacity-100"),I(o,"class","truncate"),I(e,"class","removable-tag flex items-center gap-x-1")},m(c,d){M(c,e,d),b(e,l),q(t,l,null),b(e,n),b(e,o),u&&u.m(o,null),r=!0,s||(a=Ce(l,"click",lr(i[4])),s=!0)},p(c,d){u&&u.p&&(!r||d&64)&&gt(u,f,c,c[6],r?bt(f,c[6],d,null):pt(c[6]),null)},i(c){r||(_(t.$$.fragment,c),_(u,c),r=!0)},o(c){v(t.$$.fragment,c),v(u,c),r=!1},d(c){c&&h(e),O(t),u&&u.d(c),s=!1,a()}}}function Is(i){let e,l;const t=[{type:i[0]},i[2]];let n={$$slots:{default:[Ds]},$$scope:{ctx:i}};for(let o=0;o<t.length;o+=1)n=ce(n,t[o]);return e=new Xe({props:n}),e.$on("click",i[5]),{c(){R(e.$$.fragment)},l(o){j(e.$$.fragment,o)},m(o,r){q(e,o,r),l=!0},p(o,[r]){const s=r&5?ze(t,[r&1&&{type:o[0]},r&4&&ir(o[2])]):{};r&64&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){l||(_(e.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),l=!1},d(o){O(e,o)}}}function Vs(i,e,l){const t=["type"];let n=ye(e,t),{$$slots:o={},$$scope:r}=e;const s=vt();let{type:a}=e;const f=()=>s("remove");function u(c){Le.call(this,i,c)}return i.$$set=c=>{e=ce(ce({},e),Se(c)),l(2,n=ye(e,t)),"type"in c&&l(0,a=c.type),"$$scope"in c&&l(6,r=c.$$scope)},[a,s,n,o,f,u,r]}class Mt extends we{constructor(e){super(),ke(this,e,Vs,Is,ge,{type:0})}}function Cs(i){let e,l=(i[2]?"":i[5])+"",t,n,o=i[0][i[1].op]+"",r,s,a;return{c(){e=N("span"),t=G(l),n=W(),r=G(o),s=W(),a=G(i[4]),this.h()},l(f){e=T(f,"SPAN",{class:!0});var u=$(e);t=K(u,l),u.forEach(h),n=Z(f),r=K(f,o),s=Z(f),a=K(f,i[4]),this.h()},h(){I(e,"class","font-mono")},m(f,u){M(f,e,u),b(e,t),M(f,n,u),M(f,r,u),M(f,s,u),M(f,a,u)},p(f,u){u&36&&l!==(l=(f[2]?"":f[5])+"")&&ue(t,l),u&2&&o!==(o=f[0][f[1].op]+"")&&ue(r,o),u&16&&ue(a,f[4])},d(f){f&&h(e),f&&h(n),f&&h(r),f&&h(s),f&&h(a)}}}function Ns(i){let e,l,t,n,o,r;return l=new Mt({props:{interactive:!0,type:"magenta",$$slots:{default:[Cs]},$$scope:{ctx:i}}}),l.$on("click",i[9]),l.$on("remove",i[10]),{c(){e=N("div"),R(l.$$.fragment),this.h()},l(s){e=T(s,"DIV",{class:!0});var a=$(e);j(l.$$.fragment,a),a.forEach(h),this.h()},h(){I(e,"class","filter-pill items-center")},m(s,a){M(s,e,a),q(l,e,null),n=!0,o||(r=Te(t=Me.call(null,e,{text:i[6]})),o=!0)},p(s,[a]){const f={};a&2102&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&je(t.update)&&a&64&&t.update.call(null,{text:s[6]})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&h(e),O(l),o=!1,r()}}}function Ts(i,e,l){let t,n,o,r,s;const a={equals:"=",not_equal:"≠",less:"<",less_equal:"≤",greater:">",greater_equal:"≥",in:"in",exists:"exists"};let{filter:f}=e,{hidePath:u=!1}=e;const c=Re();me(i,c,g=>l(7,s=g));const d=()=>xe({command:et.EditFilter,namespace:s.namespace,datasetName:s.datasetName,path:n}),m=()=>c.removeFilter(f);return i.$$set=g=>{"filter"in g&&l(1,f=g.filter),"hidePath"in g&&l(2,u=g.hidePath)},i.$$.update=()=>{i.$$.dirty&2&&l(4,t=Ve(f.value||"false")),i.$$.dirty&2&&l(3,n=Ot(f.path)),i.$$.dirty&18&&l(6,o=`${Ee(f.path)} ${a[f.op]} ${t}`),i.$$.dirty&8&&l(5,r=n.at(-1))},[a,f,u,n,t,r,o,s,c,d,m]}class Jt extends we{constructor(e){super(),ke(this,e,Ts,Ns,ge,{FILTER_SHORTHANDS:0,filter:1,hidePath:2})}get FILTER_SHORTHANDS(){return this.$$.ctx[0]}}function bl(i){let e,l=i[0].query.concept_namespace+"",t,n,o=i[0].query.concept_name+"",r;return{c(){e=N("div"),t=G(l),n=G(" / "),r=G(o),this.h()},l(s){e=T(s,"DIV",{class:!0});var a=$(e);t=K(a,l),n=K(a," / "),r=K(a,o),a.forEach(h),this.h()},h(){I(e,"class","mb-2 w-full text-center text-xs")},m(s,a){M(s,e,a),b(e,t),b(e,n),b(e,r)},p(s,a){a&1&&l!==(l=s[0].query.concept_namespace+"")&&ue(t,l),a&1&&o!==(o=s[0].query.concept_name+"")&&ue(r,o)},d(s){s&&h(e)}}}function Ms(i){let e=Ee(i[0].path)+"",l,t,n=i[0].query.type+"",o;return{c(){l=G(e),t=G(": "),o=G(n)},l(r){l=K(r,e),t=K(r,": "),o=K(r,n)},m(r,s){M(r,l,s),M(r,t,s),M(r,o,s)},p(r,s){s&1&&e!==(e=Ee(r[0].path)+"")&&ue(l,e),s&1&&n!==(n=r[0].query.type+"")&&ue(o,n)},d(r){r&&h(l),r&&h(t),r&&h(o)}}}function vl(i){let e,l,t;return l=new Yt({props:{embedding:i[0].query.embedding}}),{c(){e=N("div"),R(l.$$.fragment),this.h()},l(n){e=T(n,"DIV",{class:!0});var o=$(e);j(l.$$.fragment,o),o.forEach(h),this.h()},h(){I(e,"class","ml-2")},m(n,o){M(n,e,o),q(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.embedding=n[0].query.embedding),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),O(l)}}}function wl(i){let e,l;return{c(){e=N("div"),l=G(i[2]),this.h()},l(t){e=T(t,"DIV",{class:!0});var n=$(e);l=K(n,i[2]),n.forEach(h),this.h()},h(){I(e,"class","mt-2 whitespace-pre-wrap text-left")},m(t,n){M(t,e,n),b(e,l)},p(t,n){n&4&&ue(l,t[2])},d(t){t&&h(e)}}}function Fs(i){let e,l,t,n,o,r,s,a,f=i[0].query.type==="concept"&&bl(i);n=new Xe({props:{type:i[1],$$slots:{default:[Ms]},$$scope:{ctx:i}}});let u=(i[0].query.type==="semantic"||i[0].query.type==="concept")&&vl(i),c=i[2]&&wl(i);return{c(){f&&f.c(),e=W(),l=N("div"),t=N("div"),R(n.$$.fragment),o=W(),u&&u.c(),r=W(),c&&c.c(),s=ae(),this.h()},l(d){f&&f.l(d),e=Z(d),l=T(d,"DIV",{class:!0});var m=$(l);t=T(m,"DIV",{class:!0});var g=$(t);j(n.$$.fragment,g),g.forEach(h),o=Z(m),u&&u.l(m),m.forEach(h),r=Z(d),c&&c.l(d),s=ae(),this.h()},h(){I(t,"class","whitespace-nowrap"),I(l,"class","flex items-center justify-items-center")},m(d,m){f&&f.m(d,m),M(d,e,m),M(d,l,m),b(l,t),q(n,t,null),b(l,o),u&&u.m(l,null),M(d,r,m),c&&c.m(d,m),M(d,s,m),a=!0},p(d,[m]){d[0].query.type==="concept"?f?f.p(d,m):(f=bl(d),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null);const g={};m&2&&(g.type=d[1]),m&9&&(g.$$scope={dirty:m,ctx:d}),n.$set(g),d[0].query.type==="semantic"||d[0].query.type==="concept"?u?(u.p(d,m),m&1&&_(u,1)):(u=vl(d),u.c(),_(u,1),u.m(l,null)):u&&(te(),v(u,1,1,()=>{u=null}),le()),d[2]?c?c.p(d,m):(c=wl(d),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i(d){a||(_(n.$$.fragment,d),_(u),a=!0)},o(d){v(n.$$.fragment,d),v(u),a=!1},d(d){f&&f.d(d),d&&h(e),d&&h(l),O(n),u&&u.d(),d&&h(r),c&&c.d(d),d&&h(s)}}}function zs(i,e,l){let t,{search:n}=e,{tagType:o="outline"}=e;return i.$$set=r=>{"search"in r&&l(0,n=r.search),"tagType"in r&&l(1,o=r.tagType)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=n.query.type==="concept"?"":n.query.search)},[n,o,t]}class kl extends we{constructor(e){super(),ke(this,e,zs,Fs,ge,{search:0,tagType:1})}}function As(i){let e,l=Ee(i[0].path)+"",t,n,o,r;return{c(){e=N("span"),t=G(l),n=G(' has "'),o=G(i[2]),r=G('"'),this.h()},l(s){e=T(s,"SPAN",{class:!0});var a=$(e);t=K(a,l),a.forEach(h),n=K(s,' has "'),o=K(s,i[2]),r=K(s,'"'),this.h()},h(){I(e,"class","font-mono")},m(s,a){M(s,e,a),b(e,t),M(s,n,a),M(s,o,a),M(s,r,a)},p(s,a){a&1&&l!==(l=Ee(s[0].path)+"")&&ue(t,l),a&4&&ue(o,s[2])},d(s){s&&h(e),s&&h(n),s&&h(o),s&&h(r)}}}function Ps(i){let e,l,t,n,o,r;return l=new Mt({props:{title:"query",interactive:!0,type:i[1],$$slots:{default:[As]},$$scope:{ctx:i}}}),l.$on("click",i[6]),l.$on("remove",i[7]),{c(){e=N("div"),R(l.$$.fragment),this.h()},l(s){e=T(s,"DIV",{class:!0});var a=$(e);j(l.$$.fragment,a),a.forEach(h),this.h()},h(){I(e,"class","search-pill items-center text-left")},m(s,a){M(s,e,a),q(l,e,null),n=!0,o||(r=Te(t=Me.call(null,e,{component:kl,props:{search:i[0],tagType:i[1]}})),o=!0)},p(s,[a]){const f={};a&2&&(f.type=s[1]),a&517&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&je(t.update)&&a&3&&t.update.call(null,{component:kl,props:{search:s[0],tagType:s[1]}})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&h(e),O(l),o=!1,r()}}}function Bs(i,e,l){let t,n,o,{search:r}=e;const s={keyword:"outline",semantic:"teal",concept:"green"},a=Re(),f=Ue();me(i,f,d=>l(3,o=d));function u(d){Le.call(this,i,d)}const c=()=>{var d;return a.removeSearch(r,((d=o.selectRowsSchema)==null?void 0:d.data)||null)};return i.$$set=d=>{"search"in d&&l(0,r=d.search)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=r.query.type==="concept"?r.query.concept_name:r.query.search),i.$$.dirty&1&&l(1,n=r.query.type!=null?s[r.query.type]:"outline")},[r,n,t,o,a,f,u,c]}class pr extends we{constructor(e){super(),ke(this,e,Bs,Ps,ge,{search:0})}}function $l(i,e,l){const t=i.slice();return t[26]=e[l][0],t[27]=e[l][1],t}function yl(i,e,l){const t=i.slice();return t[30]=e[l],t}function Sl(i,e,l){const t=i.slice();return t[33]=e[l],t}function El(i,e,l){const t=i.slice();return t[36]=e[l],t}function Dl(i,e,l){const t=i.slice();return t[39]=e[l],t}function Rs(i){let e,l,t,n=i[13],o=[];for(let a=0;a<n.length;a+=1)o[a]=Cl(El(i,n,a));const r=a=>v(o[a],1,1,()=>{o[a]=null});let s=i[8]!=null&&i[8].length>0&&Nl(i);return{c(){e=N("div");for(let a=0;a<o.length;a+=1)o[a].c();l=W(),s&&s.c(),this.h()},l(a){e=T(a,"DIV",{class:!0});var f=$(e);for(let u=0;u<o.length;u+=1)o[u].l(f);l=Z(f),s&&s.l(f),f.forEach(h),this.h()},h(){I(e,"class","flex w-full flex-row gap-x-4")},m(a,f){M(a,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);b(e,l),s&&s.m(e,null),t=!0},p(a,f){if(f[0]&57352){n=a[13];let u;for(u=0;u<n.length;u+=1){const c=El(a,n,u);o[u]?(o[u].p(c,f),_(o[u],1)):(o[u]=Cl(c),o[u].c(),_(o[u],1),o[u].m(e,l))}for(te(),u=n.length;u<o.length;u+=1)r(u);le()}a[8]!=null&&a[8].length>0?s?(s.p(a,f),f[0]&256&&_(s,1)):(s=Nl(a),s.c(),_(s,1),s.m(e,null)):s&&(te(),v(s,1,1,()=>{s=null}),le())},i(a){if(!t){for(let f=0;f<n.length;f+=1)_(o[f]);_(s),t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)v(o[f]);v(s),t=!1},d(a){a&&h(e),Pe(o,a),s&&s.d()}}}function Il(i){let e,l,t=i[14][i[36]]+"",n,o,r,s,a,f=i[3][i[36]],u=[];for(let d=0;d<f.length;d+=1)u[d]=Vl(Dl(i,f,d));const c=d=>v(u[d],1,1,()=>{u[d]=null});return{c(){e=N("div"),l=N("div"),n=G(t),o=W(),r=N("div");for(let d=0;d<u.length;d+=1)u[d].c();s=W(),this.h()},l(d){e=T(d,"DIV",{class:!0});var m=$(e);l=T(m,"DIV",{class:!0});var g=$(l);n=K(g,t),g.forEach(h),o=Z(m),r=T(m,"DIV",{class:!0});var p=$(r);for(let w=0;w<u.length;w+=1)u[w].l(p);p.forEach(h),s=Z(m),m.forEach(h),this.h()},h(){I(l,"class","text-xs font-light"),I(r,"class","flex flex-row gap-x-1"),I(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-16ln9ke")},m(d,m){M(d,e,m),b(e,l),b(l,n),b(e,o),b(e,r);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(r,null);b(e,s),a=!0},p(d,m){if(m[0]&40968){f=d[3][d[36]];let g;for(g=0;g<f.length;g+=1){const p=Dl(d,f,g);u[g]?(u[g].p(p,m),_(u[g],1)):(u[g]=Vl(p),u[g].c(),_(u[g],1),u[g].m(r,null))}for(te(),g=f.length;g<u.length;g+=1)c(g);le()}},i(d){if(!a){for(let m=0;m<f.length;m+=1)_(u[m]);a=!0}},o(d){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)v(u[m]);a=!1},d(d){d&&h(e),Pe(u,d)}}}function Vl(i){let e,l;function t(){return i[23](i[39])}return e=new pr({props:{search:i[39]}}),e.$on("click",t),{c(){R(e.$$.fragment)},l(n){j(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){i=n;const r={};o[0]&8&&(r.search=i[39]),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){v(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Cl(i){let e,l,t=i[3][i[36]]&&Il(i);return{c(){t&&t.c(),e=ae()},l(n){t&&t.l(n),e=ae()},m(n,o){t&&t.m(n,o),M(n,e,o),l=!0},p(n,o){n[3][n[36]]?t?(t.p(n,o),o[0]&8&&_(t,1)):(t=Il(n),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(te(),v(t,1,1,()=>{t=null}),le())},i(n){l||(_(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Nl(i){let e,l,t,n,o,r,s=i[8],a=[];for(let u=0;u<s.length;u+=1)a[u]=Tl(Sl(i,s,u));const f=u=>v(a[u],1,1,()=>{a[u]=null});return{c(){e=N("div"),l=N("div"),t=G("Filters"),n=W(),o=N("div");for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=T(u,"DIV",{class:!0});var c=$(e);l=T(c,"DIV",{class:!0});var d=$(l);t=K(d,"Filters"),d.forEach(h),n=Z(c),o=T(c,"DIV",{class:!0});var m=$(o);for(let g=0;g<a.length;g+=1)a[g].l(m);m.forEach(h),c.forEach(h),this.h()},h(){I(l,"class","text-xs font-light"),I(o,"class","flex flex-row gap-x-1"),I(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-16ln9ke")},m(u,c){M(u,e,c),b(e,l),b(l,t),b(e,n),b(e,o);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(o,null);r=!0},p(u,c){if(c[0]&256){s=u[8];let d;for(d=0;d<s.length;d+=1){const m=Sl(u,s,d);a[d]?(a[d].p(m,c),_(a[d],1)):(a[d]=Tl(m),a[d].c(),_(a[d],1),a[d].m(o,null))}for(te(),d=s.length;d<a.length;d+=1)f(d);le()}},i(u){if(!r){for(let c=0;c<s.length;c+=1)_(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)v(a[c]);r=!1},d(u){u&&h(e),Pe(a,u)}}}function Tl(i){let e,l;return e=new Jt({props:{filter:i[33]}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&256&&(o.filter=t[33]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ml(i){let e=Ve(i[0])+"",l,t,n=Ve(i[1].dataset_manifest.num_items)+"",o,r;return{c(){l=G(e),t=G(" of "),o=G(n),r=G(" rows")},l(s){l=K(s,e),t=K(s," of "),o=K(s,n),r=K(s," rows")},m(s,a){M(s,l,a),M(s,t,a),M(s,o,a),M(s,r,a)},p(s,a){a[0]&1&&e!==(e=Ve(s[0])+"")&&ue(l,e),a[0]&2&&n!==(n=Ve(s[1].dataset_manifest.num_items)+"")&&ue(o,n)},d(s){s&&h(l),s&&h(t),s&&h(o),s&&h(r)}}}function Fl(i){let e,l;return e=new St({props:{value:i[30].path!=null?Ee(i[30].path):void 0,text:i[30].text,disabled:i[30].disabled}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.value=t[30].path!=null?Ee(t[30].path):void 0),n[0]&128&&(o.text=t[30].text),n[0]&128&&(o.disabled=t[30].disabled),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function qs(i){let e,l,t=i[27],n=[];for(let r=0;r<t.length;r+=1)n[r]=Fl(yl(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=W()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=Z(r)},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);M(r,e,s),l=!0},p(r,s){if(s[0]&128){t=r[27];let a;for(a=0;a<t.length;a+=1){const f=yl(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Fl(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(te(),a=t.length;a<n.length;a+=1)o(a);le()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Pe(n,r),r&&h(e)}}}function zl(i){let e,l;return e=new Tr({props:{label:i[26],$$slots:{default:[qs]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.label=t[26]),n[0]&128|n[1]&2048&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Os(i){let e,l,t=Object.entries(i[7]),n=[];for(let r=0;r<t.length;r+=1)n[r]=zl($l(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ae()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ae()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);M(r,e,s),l=!0},p(r,s){if(s[0]&128){t=Object.entries(r[7]);let a;for(a=0;a<t.length;a+=1){const f=$l(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=zl(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(te(),a=t.length;a<n.length;a+=1)o(a);le()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Pe(n,r),r&&h(e)}}}function Al(i){let e,l,t,n,o,r;return l=new pi({}),{c(){e=N("button"),R(l.$$.fragment),this.h()},l(s){e=T(s,"BUTTON",{});var a=$(e);j(l.$$.fragment,a),a.forEach(h),this.h()},h(){e.disabled=t=i[4]==null},m(s,a){M(s,e,a),q(l,e,null),n=!0,o||(r=[Te(Me.call(null,e,{text:"Clear sort"})),Ce(e,"click",i[18])],o=!0)},p(s,a){(!n||a[0]&16&&t!==(t=s[4]==null))&&(e.disabled=t)},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&h(e),O(l),o=!1,Je(r)}}}function Hs(i){let e,l;return e=new Zt({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ls(i){let e,l;return e=new Wt({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function js(i){let e,l;return e=new vs({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Pl(i){let e,l;return e=new ar({props:{open:!0,modalHeading:"Concept",passiveModal:!0,size:"lg",$$slots:{default:[Ws]},$$scope:{ctx:i}}}),e.$on("close",i[24]),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1024|n[1]&2048&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Us(i){let e,l;return e=new $i({props:{concept:i[10].data}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1024&&(o.concept=t[10].data),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ys(i){let e,l=i[10].error.message+"",t;return{c(){e=N("p"),t=G(l)},l(n){e=T(n,"P",{});var o=$(e);t=K(o,l),o.forEach(h)},m(n,o){M(n,e,o),b(e,t)},p(n,o){o[0]&1024&&l!==(l=n[10].error.message+"")&&ue(t,l)},i:ee,o:ee,d(n){n&&h(e)}}}function Qs(i){let e,l;return e=new Ye({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:ee,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ws(i){let e,l,t,n;const o=[Qs,Ys,Us],r=[];function s(a,f){var u,c,d;return(u=a[10])!=null&&u.isLoading?0:(c=a[10])!=null&&c.isError?1:(d=a[10])!=null&&d.isSuccess?2:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=ae()},l(a){l&&l.l(a),t=ae()},m(a,f){~e&&r[e].m(a,f),M(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?~e&&r[e].p(a,f):(l&&(te(),v(r[u],1,1,()=>{r[u]=null}),le()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(_(l),n=!0)},o(a){v(l),n=!1},d(a){~e&&r[e].d(a),a&&h(t)}}}function Zs(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,p,w,D,F,S,V,C,A,y=i[13].length>0&&Rs(i),E=i[0]&&i[1]&&Ml(i);u=new Tt({props:{noLabel:!0,size:"sm",class:"w-80",selected:i[5],$$slots:{default:[Os]},$$scope:{ctx:i}}}),u.$on("update",i[16]);let P=i[6]!=null&&Al(i);const k=[js,Ls,Hs],z=[];function H(J,B){var Y,L,Q;return((Y=J[4])==null?void 0:Y.order)==null?0:((L=J[4])==null?void 0:L.order)==="ASC"?1:((Q=J[4])==null?void 0:Q.order)==="DESC"?2:-1}~(g=H(i))&&(p=z[g]=k[g](i));let U=i[2]&&Pl(i);return{c(){e=N("div"),y&&y.c(),l=W(),t=N("div"),n=N("div"),E&&E.c(),o=W(),r=N("div"),s=N("div"),a=G("Sort by"),f=W(),R(u.$$.fragment),c=W(),P&&P.c(),d=W(),m=N("button"),p&&p.c(),F=W(),U&&U.c(),S=ae(),this.h()},l(J){e=T(J,"DIV",{class:!0});var B=$(e);y&&y.l(B),l=Z(B),t=T(B,"DIV",{class:!0});var Y=$(t);n=T(Y,"DIV",{class:!0});var L=$(n);E&&E.l(L),L.forEach(h),o=Z(Y),r=T(Y,"DIV",{class:!0});var Q=$(r);s=T(Q,"DIV",{class:!0});var x=$(s);a=K(x,"Sort by"),x.forEach(h),f=Z(Q),j(u.$$.fragment,Q),c=Z(Q),P&&P.l(Q),d=Z(Q),m=T(Q,"BUTTON",{});var ne=$(m);p&&p.l(ne),ne.forEach(h),Q.forEach(h),Y.forEach(h),B.forEach(h),F=Z(J),U&&U.l(J),S=ae(),this.h()},h(){I(n,"class","py-1"),I(s,"class","mr-1"),m.disabled=w=i[4]==null,I(r,"class","sort-container flex flex-row items-center gap-x-1"),I(t,"class","flex w-full flex-row items-center justify-between"),I(e,"class","mx-5 my-2 flex flex-col gap-y-2")},m(J,B){var Y;M(J,e,B),y&&y.m(e,null),b(e,l),b(e,t),b(t,n),E&&E.m(n,null),b(t,o),b(t,r),b(r,s),b(s,a),b(r,f),q(u,r,null),b(r,c),P&&P.m(r,null),b(r,d),b(r,m),~g&&z[g].m(m,null),M(J,F,B),U&&U.m(J,B),M(J,S,B),V=!0,C||(A=[Te(D=Me.call(null,m,{text:((Y=i[4])==null?void 0:Y.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."})),Ce(m,"click",i[17])],C=!0)},p(J,B){var Q;J[13].length>0&&y.p(J,B),J[0]&&J[1]?E?E.p(J,B):(E=Ml(J),E.c(),E.m(n,null)):E&&(E.d(1),E=null);const Y={};B[0]&32&&(Y.selected=J[5]),B[0]&128|B[1]&2048&&(Y.$$scope={dirty:B,ctx:J}),u.$set(Y),J[6]!=null?P?(P.p(J,B),B[0]&64&&_(P,1)):(P=Al(J),P.c(),_(P,1),P.m(r,d)):P&&(te(),v(P,1,1,()=>{P=null}),le());let L=g;g=H(J),g!==L&&(p&&(te(),v(z[L],1,1,()=>{z[L]=null}),le()),~g?(p=z[g],p||(p=z[g]=k[g](J),p.c()),_(p,1),p.m(m,null)):p=null),(!V||B[0]&16&&w!==(w=J[4]==null))&&(m.disabled=w),D&&je(D.update)&&B[0]&16&&D.update.call(null,{text:((Q=J[4])==null?void 0:Q.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."}),J[2]?U?(U.p(J,B),B[0]&4&&_(U,1)):(U=Pl(J),U.c(),_(U,1),U.m(S.parentNode,S)):U&&(te(),v(U,1,1,()=>{U=null}),le())},i(J){V||(_(y),_(u.$$.fragment,J),_(P),_(p),_(U),V=!0)},o(J){v(y),v(u.$$.fragment,J),v(P),v(p),v(U),V=!1},d(J){J&&h(e),y&&y.d(),E&&E.d(),O(u),P&&P.d(),~g&&z[g].d(),J&&h(F),U&&U.d(J),J&&h(S),C=!1,Je(A)}}}function Js(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g=ee,p=()=>(g(),g=Ae(t,B=>l(10,m=B)),t);i.$$.on_destroy.push(()=>g());let{totalNumRows:w}=e,{manifest:D}=e,F=Re();me(i,F,B=>l(22,d=B));let S=Ue();me(i,S,B=>l(21,c=B));let V=null;const C=["keyword","semantic","concept"],A={keyword:"Keyword",semantic:"Semantic",concept:"Concepts"};let y={};function E(B){if(B.query.type==="concept"){const Y=B.query;l(2,V={namespace:Y.concept_namespace,name:Y.concept_name})}}let P={};const k=B=>{const Y=B.detail;Y!==s&&F.setSortBy(Y===""?null:Ot(Y))},z=()=>{r!=null&&F.setSortBy(r.path),F.setSortOrder((r==null?void 0:r.order)==="ASC"?"DESC":"ASC")},H=()=>{F.clearSorts()},U=B=>E(B),J=()=>l(2,V=null);return i.$$set=B=>{"totalNumRows"in B&&l(0,w=B.totalNumRows),"manifest"in B&&l(1,D=B.manifest)},i.$$.update=()=>{var B,Y,L,Q;if(i.$$.dirty[0]&4&&p(l(9,t=V?ei(V.namespace,V.name):void 0)),i.$$.dirty[0]&4194304&&l(20,n=Rt(d)),i.$$.dirty[0]&4194304&&l(8,o=d.query.filters),i.$$.dirty[0]&1048584){l(3,y={});for(const x of n)x.query.type&&(x.query.type in y||l(3,y[x.query.type]=[],y),y[x.query.type].push(x))}if(i.$$.dirty[0]&2097152&&l(4,r=Nr(c)),i.$$.dirty[0]&2097152)for(const x of((Y=(B=c.selectRowsSchema)==null?void 0:B.data)==null?void 0:Y.search_results)||[])P[Ee(x.result_path)]=x;i.$$.dirty[0]&16&&l(5,s=r!=null&&r.path?Ee(r.path):""),i.$$.dirty[0]&4194304&&l(6,a=d.query.sort_by),i.$$.dirty[0]&2097248&&l(19,f=((Q=(L=c.selectRowsSchema)==null?void 0:L.data)==null?void 0:Q.schema)!=null?[{path:[""],text:"None",disabled:a==null&&s!==""},...Ht(c.selectRowsSchema.data.schema).filter(x=>x.dtype!="embedding"&&x.dtype!="string_span").map(x=>({path:x.path,text:Ee(x.path.slice(1)),disabled:!1}))]:[]),i.$$.dirty[0]&524288&&l(7,u=f.reduce((x,ne)=>{const oe=ne.path[0];return(x[oe]=x[oe]||[]).push(ne),x},{}))},[w,D,V,y,r,s,a,u,o,t,m,F,S,C,A,E,k,z,H,f,n,c,d,U,J]}class Gs extends we{constructor(e){super(),ke(this,e,Js,Zs,ge,{totalNumRows:0,manifest:1},null,[-1,-1])}}function Bl(i,e,l){var r,s,a;const t=i.slice();t[19]=e[l],t[23]=l;const n=t[2].length>1?`[${t[23]}]`:"";t[20]=n;const o=((a=(s=(r=t[6].data)==null?void 0:r.ui)==null?void 0:s.markdown_paths)==null?void 0:a.find(f=>qe(f,t[0])))!=null;return t[21]=o,t}function Rl(i){let e,l,t,n=i[0].join(".")+i[20]+"",o,r,s,a,f,u;return a=new yi({props:{text:Ve(i[19]),row:i[1],markdown:i[21],spanPaths:i[4],valuePaths:i[7],datasetViewStore:i[8],datasetStore:i[5]}}),{c(){e=N("div"),l=N("div"),t=N("div"),o=G(n),r=W(),s=N("div"),R(a.$$.fragment),f=W(),this.h()},l(c){e=T(c,"DIV",{class:!0});var d=$(e);l=T(d,"DIV",{class:!0});var m=$(l);t=T(m,"DIV",{class:!0});var g=$(t);o=K(g,n),g.forEach(h),r=Z(m),s=T(m,"DIV",{class:!0});var p=$(s);j(a.$$.fragment,p),p.forEach(h),m.forEach(h),f=Z(d),d.forEach(h),this.h()},h(){I(t,"class","sticky top-0 z-10 w-full self-start border-t border-neutral-200 bg-neutral-100 px-2 py-2 pb-2 font-mono font-medium text-neutral-500"),I(s,"class","font-normal"),I(l,"class","flex w-full flex-col"),I(e,"class","flex flex-row")},m(c,d){M(c,e,d),b(e,l),b(l,t),b(t,o),b(l,r),b(l,s),q(a,s,null),b(e,f),u=!0},p(c,d){(!u||d&5)&&n!==(n=c[0].join(".")+c[20]+"")&&ue(o,n);const m={};d&4&&(m.text=Ve(c[19])),d&2&&(m.row=c[1]),d&65&&(m.markdown=c[21]),d&16&&(m.spanPaths=c[4]),d&32&&(m.datasetStore=c[5]),a.$set(m)},i(c){u||(_(a.$$.fragment,c),u=!0)},o(c){v(a.$$.fragment,c),u=!1},d(c){c&&h(e),O(a)}}}function Ks(i){let e,l,t=i[2],n=[];for(let r=0;r<t.length;r+=1)n[r]=Rl(Bl(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ae()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ae()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);M(r,e,s),l=!0},p(r,[s]){if(s&503){t=r[2];let a;for(a=0;a<t.length;a+=1){const f=Bl(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Rl(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(te(),a=t.length;a<n.length;a+=1)o(a);le()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Pe(n,r),r&&h(e)}}}function Xs(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g,p=ee,w=()=>(p(),p=Ae(u,E=>l(6,g=E)),u);i.$$.on_destroy.push(()=>p());let{path:D}=e,{row:F}=e,{field:S}=e,V=[];const C=Re();me(i,C,E=>l(17,d=E));const A=Ue();me(i,A,E=>l(5,m=E));const y=m.visibleFields||[];return i.$$set=E=>{"path"in E&&l(0,D=E.path),"row"in E&&l(1,F=E.row),"field"in E&&l(10,S=E.field)},i.$$.update=()=>{if(i.$$.dirty&1024&&l(16,t=tt(S)),i.$$.dirty&65536&&l(13,n=t.filter(E=>ti(E.signal))),i.$$.dirty&65536&&l(12,o=t.filter(E=>{var P;return((P=E.signal)==null?void 0:P.signal_name)==="concept_labels"})),i.$$.dirty&65536&&l(11,r=t.filter(E=>{var P;return((P=E.signal)==null?void 0:P.signal_name)==="semantic_similarity"})),i.$$.dirty&65536&&l(14,s=t.filter(E=>{var P;return((P=E.signal)==null?void 0:P.signal_name)==="substring_search"})),i.$$.dirty&65536&&l(15,a=t.filter(E=>E.dtype==="string_span")),i.$$.dirty&32768&&l(4,f=a.map(E=>E.path)),i.$$.dirty&63488)for(const E of a){const k=tt(E).filter(U=>U.dtype!="string_span").filter(U=>y==null?void 0:y.some(J=>qe(J.path,U.path))).filter(U=>U.dtype!=null&&U.dtype!="embedding"),z=E.path,H=s.find(U=>ht(E.path,U.path));if(H!=null){const U=H.signal;V.push({path:E.path,spanPath:z,type:"keyword",name:U.query,dtype:E.dtype,signal:U})}for(const U of k){const J=n.find(L=>ht(U.path,L.path)),B=o.find(L=>ht(U.path,L.path)),Y=r.find(L=>ht(U.path,L.path));if(J!=null){const L=J.signal;V.push({path:U.path,spanPath:z,type:"concept_score",name:`${L.namespace}/${L.concept_name}`,dtype:U.dtype,signal:L})}else if(B!=null){const L=B.signal;V.push({path:U.path,spanPath:z,type:"label",name:`${L.namespace}/${L.concept_name} label`,dtype:U.dtype,signal:L})}else if(Y!=null){const L=Y.signal;V.push({path:U.path,spanPath:z,type:"semantic_similarity",name:`similarity: ${L.query}`,dtype:U.dtype,signal:L})}else V.push({path:U.path,spanPath:z,type:"metadata",name:U.path[U.path.length-1],dtype:U.dtype})}}i.$$.dirty&131072&&w(l(3,u=yt(d.namespace,d.datasetName))),i.$$.dirty&3&&l(2,c=li(F,D).map(E=>Ke.value(E)).filter(bi))},[D,F,c,u,f,m,g,V,C,A,S,r,o,n,s,a,t,d]}class xs extends we{constructor(e){super(),ke(this,e,Xs,Ks,ge,{path:0,row:1,field:10})}}function ea(i){let e,l,t,n,o;const r=[i[3],{type:i[0]?"green":"blue"},{icon:i[2]}];let s={};for(let a=0;a<r.length;a+=1)s=ce(s,r[a]);return l=new Xe({props:s}),{c(){e=N("div"),R(l.$$.fragment),this.h()},l(a){e=T(a,"DIV",{class:!0});var f=$(e);j(l.$$.fragment,f),f.forEach(h),this.h()},h(){I(e,"class","signal-badge")},m(a,f){M(a,e,f),q(l,e,null),t=!0,n||(o=Te(Me.call(null,e,{text:i[1]})),n=!0)},p(a,[f]){const u=f&13?ze(r,[f&8&&ir(a[3]),f&1&&{type:a[0]?"green":"blue"},f&4&&{icon:a[2]}]):{};l.$set(u)},i(a){t||(_(l.$$.fragment,a),t=!0)},o(a){v(l.$$.fragment,a),t=!1},d(a){a&&h(e),O(l),n=!1,o()}}}function ta(i,e,l){const t=["isPreview"];let n=ye(e,t),{isPreview:o=!1}=e;const r=o?"Signal is in preview mode and has not been computed for the whole dataset.":"Generated by a signal.",s=o?$s:is;return i.$$set=a=>{e=ce(ce({},e),Se(a)),l(3,n=ye(e,t)),"isPreview"in a&&l(0,o=a.isPreview)},[o,r,s,n]}class Gt extends we{constructor(e){super(),ke(this,e,ta,ea,ge,{isPreview:0})}}function ql(i,e,l){const t=i.slice();return t[0]=e[l],t}function Ol(i){let e,l,t=[],n=new Map,o,r=i[1];const s=a=>Ee(a[0].path);for(let a=0;a<r.length;a+=1){let f=ql(i,r,a),u=s(f);n.set(u,t[a]=Hl(u,f))}return{c(){e=N("div"),l=N("table");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=T(a,"DIV",{class:!0});var f=$(e);l=T(f,"TABLE",{class:!0});var u=$(l);for(let c=0;c<t.length;c+=1)t[c].l(u);u.forEach(h),f.forEach(h),this.h()},h(){I(l,"class","table w-full table-fixed border-collapse px-2 pt-1"),I(e,"class","border-t border-neutral-200 px-2 py-4")},m(a,f){M(a,e,f),b(e,l);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(l,null);o=!0},p(a,f){f&2&&(r=a[1],te(),t=wt(t,f,s,1,a,r,n,l,kt,Hl,null,ql),le())},i(a){if(!o){for(let f=0;f<r.length;f+=1)_(t[f]);o=!0}},o(a){for(let f=0;f<t.length;f+=1)v(t[f]);o=!1},d(a){a&&h(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function la(i){let e,l;return e=new Gt({props:{isPreview:i[0].isPreviewSignal}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&2&&(o.isPreview=t[0].isPreviewSignal),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function na(i){var t;let e,l;return e=new Yt({props:{hideEmbeddingName:!0,embedding:(t=i[0].field.signal)==null?void 0:t.signal_name}}),{c(){R(e.$$.fragment)},l(n){j(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){var s;const r={};o&2&&(r.embedding=(s=n[0].field.signal)==null?void 0:s.signal_name),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){v(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Hl(i,e){let l,t,n,o=e[0].fieldName+"",r,s,a,f,u,c,d,m,g,p=e[0].formattedValue+"",w,D,F,S;const V=[na,la],C=[];function A(y,E){return y[0].isEmbeddingSignal?0:y[0].isSignal?1:-1}return~(u=A(e))&&(c=C[u]=V[u](e)),{key:i,first:null,c(){l=N("tr"),t=N("td"),n=N("span"),r=G(o),a=W(),f=N("td"),c&&c.c(),d=W(),m=N("td"),g=N("div"),w=G(p),F=W(),this.h()},l(y){l=T(y,"TR",{class:!0});var E=$(l);t=T(E,"TD",{class:!0});var P=$(t);n=T(P,"SPAN",{title:!0});var k=$(n);r=K(k,o),k.forEach(h),P.forEach(h),a=Z(E),f=T(E,"TD",{class:!0});var z=$(f);c&&c.l(z),z.forEach(h),d=Z(E),m=T(E,"TD",{class:!0});var H=$(m);g=T(H,"DIV",{title:!0,class:!0});var U=$(g);w=K(U,p),U.forEach(h),H.forEach(h),F=Z(E),E.forEach(h),this.h()},h(){I(n,"title",s=e[0].fieldName),Qe(n,"padding-left",`${e[0].indentLevel*12}px`),I(t,"class","truncate p-2 font-mono text-xs font-medium text-neutral-500"),I(f,"class","w-10"),I(g,"title",D=`${e[0].value}`),I(g,"class","truncate pr-2 text-xs"),de(g,"italic",e[0].formattedValue===null),I(m,"class","p-2"),I(l,"class","border-gray-300"),this.first=l},m(y,E){M(y,l,E),b(l,t),b(t,n),b(n,r),b(l,a),b(l,f),~u&&C[u].m(f,null),b(l,d),b(l,m),b(m,g),b(g,w),b(l,F),S=!0},p(y,E){e=y,(!S||E&2)&&o!==(o=e[0].fieldName+"")&&ue(r,o),(!S||E&2&&s!==(s=e[0].fieldName))&&I(n,"title",s),E&2&&Qe(n,"padding-left",`${e[0].indentLevel*12}px`);let P=u;u=A(e),u===P?~u&&C[u].p(e,E):(c&&(te(),v(C[P],1,1,()=>{C[P]=null}),le()),~u?(c=C[u],c?c.p(e,E):(c=C[u]=V[u](e),c.c()),_(c,1),c.m(f,null)):c=null),(!S||E&2)&&p!==(p=e[0].formattedValue+"")&&ue(w,p),(!S||E&2&&D!==(D=`${e[0].value}`))&&I(g,"title",D),(!S||E&2)&&de(g,"italic",e[0].formattedValue===null)},i(y){S||(_(c),S=!0)},o(y){v(c),S=!1},d(y){y&&h(l),~u&&C[u].d()}}}function ra(i){let e,l,t=i[1].length>0&&Ol(i);return{c(){t&&t.c(),e=ae()},l(n){t&&t.l(n),e=ae()},m(n,o){t&&t.m(n,o),M(n,e,o),l=!0},p(n,[o]){n[1].length>0?t?(t.p(n,o),o&2&&_(t,1)):(t=Ol(n),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(te(),v(t,1,1,()=>{t=null}),le())},i(n){l||(_(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function ia(i,e,l){let t,n,o,{row:r}=e,{visibleFields:s}=e;const a=Ue();me(i,a,c=>l(5,n=c));const f=Qt();me(i,f,c=>l(6,o=c));function u(c){const d=ni(c).filter(g=>Mr(g,s)),m=d.filter(g=>{var p;return((p=Ke.field(g))==null?void 0:p.dtype)==="string_span"}).map(g=>Ke.path(g));return d.filter(g=>!m.some(p=>ht(Ke.path(g),p))).map(g=>{var C,A;const p=Ke.field(g),w=Ke.path(g);let D=Ke.value(g);if(p.dtype==="string_span")return null;const F=((C=o.data)==null?void 0:C.some(y=>{var E;return y.name===((E=p.signal)==null?void 0:E.signal_name)}))||!1,S=lt(p);let V;return F||S&&p.dtype==null||p.dtype==="embedding"||p.repeated_field!=null?V="":D==null?V=null:V=Ve(D),{indentLevel:w.length-1,fieldName:w[w.length-1],field:p,path:w,isSignal:S,isPreviewSignal:Nt(((A=n.selectRowsSchema)==null?void 0:A.data)||null,w),isEmbeddingSignal:F,value:D,formattedValue:V}}).filter(g=>g!=null)}return i.$$set=c=>{"row"in c&&l(0,r=c.row),"visibleFields"in c&&l(4,s=c.visibleFields)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=u(r))},[r,t,a,f,s]}class sa extends we{constructor(e){super(),ke(this,e,ia,ra,ge,{row:0,visibleFields:4})}}function Ll(i,e,l){const t=i.slice();return t[5]=e[l],t[7]=l,t}function jl(i){let e,l=[],t=new Map,n,o,r=i[1];const s=a=>Ee(a[5].path);for(let a=0;a<r.length;a+=1){let f=Ll(i,r,a),u=s(f);t.set(u,l[a]=Ul(u,f))}return{c(){e=N("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=T(a,"DIV",{class:!0});var f=$(e);for(let u=0;u<l.length;u+=1)l[u].l(f);f.forEach(h),this.h()},h(){I(e,"class","w-2/3 overflow-hidden"),$t(()=>i[4].call(e))},m(a,f){M(a,e,f);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);n=Sr(e,i[4].bind(e)),o=!0},p(a,f){f&3&&(r=a[1],te(),l=wt(l,f,s,1,a,r,t,e,kt,Ul,null,Ll),le())},i(a){if(!o){for(let f=0;f<r.length;f+=1)_(l[f]);o=!0}},o(a){for(let f=0;f<l.length;f+=1)v(l[f]);o=!1},d(a){a&&h(e);for(let f=0;f<l.length;f+=1)l[f].d();n()}}}function Ul(i,e){let l,t,n,o;return t=new xs({props:{row:e[0],path:e[5].path,field:e[5]}}),{key:i,first:null,c(){l=N("div"),R(t.$$.fragment),n=W(),this.h()},l(r){l=T(r,"DIV",{class:!0});var s=$(l);j(t.$$.fragment,s),n=Z(s),s.forEach(h),this.h()},h(){I(l,"class","border-gray-100"),de(l,"border-b",e[7]<e[1].length-1),this.first=l},m(r,s){M(r,l,s),q(t,l,null),b(l,n),o=!0},p(r,s){e=r;const a={};s&1&&(a.row=e[0]),s&2&&(a.path=e[5].path),s&2&&(a.field=e[5]),t.$set(a),(!o||s&2)&&de(l,"border-b",e[7]<e[1].length-1)},i(r){o||(_(t.$$.fragment,r),o=!0)},o(r){v(t.$$.fragment,r),o=!1},d(r){r&&h(l),O(t)}}}function aa(i){let e,l,t,n,o,r,s,a,f,u=i[1].length>0&&jl(i);return s=new sa({props:{row:i[0],visibleFields:i[2]}}),{c(){e=N("div"),l=N("div"),u&&u.c(),t=W(),n=N("div"),o=N("div"),r=N("div"),R(s.$$.fragment),this.h()},l(c){e=T(c,"DIV",{class:!0});var d=$(e);l=T(d,"DIV",{class:!0});var m=$(l);u&&u.l(m),t=Z(m),n=T(m,"DIV",{class:!0});var g=$(n);o=T(g,"DIV",{class:!0});var p=$(o);r=T(p,"DIV",{style:!0,class:!0});var w=$(r);j(s.$$.fragment,w),w.forEach(h),p.forEach(h),g.forEach(h),m.forEach(h),d.forEach(h),this.h()},h(){I(r,"style",a=`max-height: ${Math.max(Yl,i[3])}px`),I(r,"class","overflow-y-auto"),I(o,"class","sticky top-0 self-start"),I(n,"class","flex h-full w-1/3 bg-neutral-100"),I(l,"class","flex h-full w-full flex-row"),I(e,"class","rounded border-x border-b border-neutral-200 shadow-md")},m(c,d){M(c,e,d),b(e,l),u&&u.m(l,null),b(l,t),b(l,n),b(n,o),b(o,r),q(s,r,null),f=!0},p(c,[d]){c[1].length>0?u?(u.p(c,d),d&2&&_(u,1)):(u=jl(c),u.c(),_(u,1),u.m(l,t)):u&&(te(),v(u,1,1,()=>{u=null}),le());const m={};d&1&&(m.row=c[0]),d&4&&(m.visibleFields=c[2]),s.$set(m),(!f||d&8&&a!==(a=`max-height: ${Math.max(Yl,c[3])}px`))&&I(r,"style",a)},i(c){f||(_(u),_(s.$$.fragment,c),f=!0)},o(c){v(u),v(s.$$.fragment,c),f=!1},d(c){c&&h(e),u&&u.d(),O(s)}}}const Yl=320;function oa(i,e,l){let{row:t}=e,{mediaFields:n}=e,{visibleFields:o}=e,r=0;function s(){r=this.clientHeight,l(3,r)}return i.$$set=a=>{"row"in a&&l(0,t=a.row),"mediaFields"in a&&l(1,n=a.mediaFields),"visibleFields"in a&&l(2,o=a.visibleFields)},[t,n,o,r,s]}class fa extends we{constructor(e){super(),ke(this,e,oa,aa,ge,{row:0,mediaFields:1,visibleFields:2})}}function Ql(i,e,l){const t=i.slice();return t[23]=e[l],t}function ua(i){let e,l;return{c(){e=N("div"),l=G("No results."),this.h()},l(t){e=T(t,"DIV",{class:!0});var n=$(e);l=K(n,"No results."),n.forEach(h),this.h()},h(){I(e,"class","mx-4 mt-8 w-full text-gray-600")},m(t,n){M(t,e,n),b(e,l)},p:ee,i:ee,o:ee,d(t){t&&h(e)}}}function ca(i){let e,l;return{c(){e=N("div"),l=G("Select fields to display"),this.h()},l(t){e=T(t,"DIV",{class:!0});var n=$(e);l=K(n,"Select fields to display"),n.forEach(h),this.h()},h(){I(e,"class","mt-12 w-full text-center text-gray-600")},m(t,n){M(t,e,n),b(e,l)},p:ee,i:ee,o:ee,d(t){t&&h(e)}}}function da(i){let e,l;return e=new Ye({props:{paragraph:!0,lines:3}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:ee,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ha(i){var t,n;let e,l;return e=new _r({props:{lowContrast:!0,title:"Could not fetch schema:",subtitle:((t=i[2].error.body)==null?void 0:t.detail)||((n=i[2])==null?void 0:n.error.message)}}),{c(){R(e.$$.fragment)},l(o){j(e.$$.fragment,o)},m(o,r){q(e,o,r),l=!0},p(o,r){var a,f;const s={};r&4&&(s.subtitle=((a=o[2].error.body)==null?void 0:a.detail)||((f=o[2])==null?void 0:f.error.message)),e.$set(s)},i(o){l||(_(e.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),l=!1},d(o){O(e,o)}}}function ma(i){var t;let e,l;return e=new _r({props:{lowContrast:!0,title:"Could not fetch rows:",subtitle:((t=i[4].error.body)==null?void 0:t.detail)||i[4].error.message}}),{c(){R(e.$$.fragment)},l(n){j(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){var s;const r={};o&16&&(r.subtitle=((s=n[4].error.body)==null?void 0:s.detail)||n[4].error.message),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){v(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Wl(i){let e,l=[],t=new Map,n,o,r=i[6];const s=f=>Ke.value(f[23][jt]);for(let f=0;f<r.length;f+=1){let u=Ql(i,r,f),c=s(u);t.set(c,l[f]=Zl(c,u))}let a=i[6].length>0&&Jl(i);return{c(){e=N("div");for(let f=0;f<l.length;f+=1)l[f].c();n=W(),a&&a.c(),this.h()},l(f){e=T(f,"DIV",{class:!0});var u=$(e);for(let c=0;c<l.length;c+=1)l[c].l(u);n=Z(u),a&&a.l(u),u.forEach(h),this.h()},h(){I(e,"class","flex h-full w-full flex-col gap-y-10 overflow-y-scroll px-5 pb-32")},m(f,u){M(f,e,u);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);b(e,n),a&&a.m(e,null),i[21](e),o=!0},p(f,u){u&98&&(r=f[6],te(),l=wt(l,u,s,1,f,r,t,e,kt,Zl,n,Ql),le()),f[6].length>0?a?(a.p(f,u),u&64&&_(a,1)):(a=Jl(f),a.c(),_(a,1),a.m(e,null)):a&&(te(),v(a,1,1,()=>{a=null}),le())},i(f){if(!o){for(let u=0;u<r.length;u+=1)_(l[u]);_(a),o=!0}},o(f){for(let u=0;u<l.length;u+=1)v(l[u]);v(a),o=!1},d(f){f&&h(e);for(let u=0;u<l.length;u+=1)l[u].d();a&&a.d(),i[21](null)}}}function Zl(i,e){let l,t,n;return t=new fa({props:{visibleFields:e[1],row:e[23],mediaFields:e[5]}}),{key:i,first:null,c(){l=ae(),R(t.$$.fragment),this.h()},l(o){l=ae(),j(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){M(o,l,r),q(t,o,r),n=!0},p(o,r){e=o;const s={};r&2&&(s.visibleFields=e[1]),r&64&&(s.row=e[23]),r&32&&(s.mediaFields=e[5]),t.$set(s)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&h(l),O(t,o)}}}function Jl(i){let e,l;return e=new Es({props:{threshold:100}}),e.$on("loadMore",i[20]),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:ee,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function _a(i){let e,l,t,n,o,r,s;e=new Gs({props:{totalNumRows:i[7],manifest:i[12].data}});const a=[ma,ha,da,ca,ua],f=[];function u(d,m){var g,p,w,D;return d[4].isError?0:(g=d[2])!=null&&g.isError?1:(p=d[4])!=null&&p.isFetching||d[13].isFetching||(w=d[2])!=null&&w.isFetching||d[3].isFetching?2:d[1].length===0?3:(D=d[4])!=null&&D.isSuccess&&d[6]&&d[6].length===0?4:-1}~(t=u(i))&&(n=f[t]=a[t](i));let c=i[6]&&i[1].length>0&&i[13].isSuccess&&i[5]!=null&&Wl(i);return{c(){R(e.$$.fragment),l=W(),n&&n.c(),o=W(),c&&c.c(),r=ae()},l(d){j(e.$$.fragment,d),l=Z(d),n&&n.l(d),o=Z(d),c&&c.l(d),r=ae()},m(d,m){q(e,d,m),M(d,l,m),~t&&f[t].m(d,m),M(d,o,m),c&&c.m(d,m),M(d,r,m),s=!0},p(d,[m]){const g={};m&128&&(g.totalNumRows=d[7]),m&4096&&(g.manifest=d[12].data),e.$set(g);let p=t;t=u(d),t===p?~t&&f[t].p(d,m):(n&&(te(),v(f[p],1,1,()=>{f[p]=null}),le()),~t?(n=f[t],n?n.p(d,m):(n=f[t]=a[t](d),n.c()),_(n,1),n.m(o.parentNode,o)):n=null),d[6]&&d[1].length>0&&d[13].isSuccess&&d[5]!=null?c?(c.p(d,m),m&8290&&_(c,1)):(c=Wl(d),c.c(),_(c,1),c.m(r.parentNode,r)):c&&(te(),v(c,1,1,()=>{c=null}),le())},i(d){s||(_(e.$$.fragment,d),_(n),_(c),s=!0)},o(d){v(e.$$.fragment,d),v(n),v(c),s=!1},d(d){O(e,d),d&&h(l),~t&&f[t].d(d),d&&h(o),c&&c.d(d),d&&h(r)}}}function ga(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g,p=ee,w=()=>(p(),p=Ae(r,Q=>l(3,g=Q)),r),D,F,S=ee,V=()=>(S(),S=Ae(a,Q=>l(4,F=Q)),a),C,A,y=ee,E=()=>(y(),y=Ae(t,Q=>l(12,A=Q)),t),P,k=ee,z=()=>(k(),k=Ae(n,Q=>l(13,P=Q)),n);i.$$.on_destroy.push(()=>p()),i.$$.on_destroy.push(()=>S()),i.$$.on_destroy.push(()=>y()),i.$$.on_destroy.push(()=>k());const H=Re();me(i,H,Q=>l(19,C=Q));const U=Ue();me(i,U,Q=>l(18,D=Q));let J=null;const B=it(J),Y=()=>F==null?void 0:F.fetchNextPage();function L(Q){Be[Q?"unshift":"push"](()=>{J=Q,l(0,J)})}return i.$$.update=()=>{var Q,x,ne,oe;i.$$.dirty&524288&&E(l(11,t=ri(C.namespace,C.datasetName))),i.$$.dirty&524288&&z(l(10,n=Lt(C.namespace,C.datasetName))),i.$$.dirty&524288&&l(17,o=Fr(C)),i.$$.dirty&524288&&w(l(9,r=yt(C.namespace,C.datasetName))),i.$$.dirty&262144&&l(2,s=D.selectRowsSchema),i.$$.dirty&655364&&V(l(8,a=ii(C.namespace,C.datasetName,o||{},s!=null&&s.isSuccess?s.data.schema:void 0))),i.$$.dirty&16&&l(7,f=(Q=F.data)==null?void 0:Q.pages[0].total_num_rows),i.$$.dirty&16&&l(6,u=(x=F.data)==null?void 0:x.pages.flatMap(re=>re.rows)),i.$$.dirty&262144&&l(1,c=(D.visibleFields||[]).sort((re,De)=>Ee(re.path)>Ee(De.path)?1:-1)),i.$$.dirty&6&&l(16,d=((ne=s==null?void 0:s.data)==null?void 0:ne.schema)!=null?zr((oe=s==null?void 0:s.data)==null?void 0:oe.schema,c):null),i.$$.dirty&65544&&l(5,m=g.data?Ar(d,g.data):[]),i.$$.dirty&1&&B.set(J)},nr(Pr,B),[J,c,s,g,F,m,u,f,a,r,n,t,A,P,H,U,d,o,D,C,Y,L]}class pa extends we{constructor(e){super(),ke(this,e,ga,_a,ge,{})}}function Gl(i,e,l){const t=i.slice();return t[44]=e[l],t}function Kl(i,e,l){const t=i.slice();return t[47]=e[l],t}function Xl(i){const e=i[5][i[50]];i[51]=e}function ba(i){let e,l,t=i[51].text+"",n,o,r=i[51].description&&xl(i);return{c(){e=N("div"),l=N("div"),n=G(t),o=W(),r&&r.c(),this.h()},l(s){e=T(s,"DIV",{class:!0});var a=$(e);l=T(a,"DIV",{});var f=$(l);n=K(f,t),f.forEach(h),o=Z(a),r&&r.l(a),a.forEach(h),this.h()},h(){I(e,"class","flex justify-between gap-x-4")},m(s,a){M(s,e,a),b(e,l),b(l,n),b(e,o),r&&r.m(e,null)},p(s,a){a[0]&32|a[1]&524288&&t!==(t=s[51].text+"")&&ue(n,t),s[51].description?r?r.p(s,a):(r=xl(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:ee,o:ee,d(s){s&&h(e),r&&r.d()}}}function va(i){let e,l,t,n,o,r,s;return l=new Xe({props:{$$slots:{default:[$a]},$$scope:{ctx:i}}}),{c(){e=N("div"),R(l.$$.fragment),t=W(),n=N("div"),o=G(`Semantic search:
                    `),r=G(i[0]),this.h()},l(a){e=T(a,"DIV",{class:!0});var f=$(e);j(l.$$.fragment,f),t=Z(f),n=T(f,"DIV",{class:!0});var u=$(n);o=K(u,`Semantic search:
                    `),r=K(u,i[0]),u.forEach(h),f.forEach(h),this.h()},h(){I(n,"class","ml-2"),I(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(a,f){M(a,e,f),q(l,e,null),b(e,t),b(e,n),b(n,o),b(n,r),s=!0},p(a,f){const u={};f[1]&2097152&&(u.$$scope={dirty:f,ctx:a}),l.$set(u),(!s||f[0]&1)&&ue(r,a[0])},i(a){s||(_(l.$$.fragment,a),s=!0)},o(a){v(l.$$.fragment,a),s=!1},d(a){a&&h(e),O(l)}}}function wa(i){let e,l,t,n,o,r,s;return l=new Xe({props:{$$slots:{default:[ya]},$$scope:{ctx:i}}}),{c(){e=N("div"),R(l.$$.fragment),t=W(),n=N("div"),o=G(`Keyword search:
                    `),r=G(i[0]),this.h()},l(a){e=T(a,"DIV",{class:!0});var f=$(e);j(l.$$.fragment,f),t=Z(f),n=T(f,"DIV",{class:!0});var u=$(n);o=K(u,`Keyword search:
                    `),r=K(u,i[0]),u.forEach(h),f.forEach(h),this.h()},h(){I(n,"class","ml-2"),I(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(a,f){M(a,e,f),q(l,e,null),b(e,t),b(e,n),b(n,o),b(n,r),s=!0},p(a,f){const u={};f[1]&2097152&&(u.$$scope={dirty:f,ctx:a}),l.$set(u),(!s||f[0]&1)&&ue(r,a[0])},i(a){s||(_(l.$$.fragment,a),s=!0)},o(a){v(l.$$.fragment,a),s=!1},d(a){a&&h(e),O(l)}}}function ka(i){let e,l,t,n,o,r=i[0]!=""?":":"",s,a,f,u;return l=new Xe({props:{$$slots:{default:[Sa]},$$scope:{ctx:i}}}),{c(){e=N("div"),R(l.$$.fragment),t=W(),n=N("div"),o=G("New concept"),s=G(r),a=W(),f=G(i[0]),this.h()},l(c){e=T(c,"DIV",{class:!0});var d=$(e);j(l.$$.fragment,d),t=Z(d),n=T(d,"DIV",{class:!0});var m=$(n);o=K(m,"New concept"),s=K(m,r),a=Z(m),f=K(m,i[0]),m.forEach(h),d.forEach(h),this.h()},h(){I(n,"class","ml-2"),I(e,"class","new-concept flex flex-row items-center justify-items-center")},m(c,d){M(c,e,d),q(l,e,null),b(e,t),b(e,n),b(n,o),b(n,s),b(n,a),b(n,f),u=!0},p(c,d){const m={};d[1]&2097152&&(m.$$scope={dirty:d,ctx:c}),l.$set(m),(!u||d[0]&1)&&r!==(r=c[0]!=""?":":"")&&ue(s,r),(!u||d[0]&1)&&ue(f,c[0])},i(c){u||(_(l.$$.fragment,c),u=!0)},o(c){v(l.$$.fragment,c),u=!1},d(c){c&&h(e),O(l)}}}function xl(i){let e,l=i[51].description+"",t;return{c(){e=N("div"),t=G(l),this.h()},l(n){e=T(n,"DIV",{class:!0});var o=$(e);t=K(o,l),o.forEach(h),this.h()},h(){I(e,"class","truncate text-xs text-gray-500")},m(n,o){M(n,e,o),b(e,t)},p(n,o){o[0]&32|o[1]&524288&&l!==(l=n[51].description+"")&&ue(t,l)},d(n){n&&h(e)}}}function $a(i){let e,l;return e=new gr({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ya(i){let e,l;return e=new gr({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Sa(i){let e,l;return e=new Ui({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ea(i){Xl(i);let e,l,t,n;const o=[ka,wa,va,ba],r=[];function s(a,f){return a[51].id==="new-concept"?0:a[51].id==="keyword-search"?1:a[51].id==="semantic-search"?2:3}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=ae()},l(a){l.l(a),t=ae()},m(a,f){r[e].m(a,f),M(a,t,f),n=!0},p(a,f){Xl(a);let u=e;e=s(a),e===u?r[e].p(a,f):(te(),v(r[u],1,1,()=>{r[u]=null}),le(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t))},i(a){n||(_(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function en(i){let e,l;return e=new St({props:{value:Ee(i[47]),text:Ee(i[47])}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&512&&(o.value=Ee(t[47])),n[0]&512&&(o.text=Ee(t[47])),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Da(i){let e,l,t=i[9],n=[];for(let r=0;r<t.length;r+=1)n[r]=en(Kl(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ae()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ae()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);M(r,e,s),l=!0},p(r,s){if(s[0]&512){t=r[9];let a;for(a=0;a<t.length;a+=1){const f=Kl(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=en(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(te(),a=t.length;a<n.length;a+=1)o(a);le()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Pe(n,r),r&&h(e)}}}function tn(i){let e,l;return e=new Tt({props:{size:"xl",class:"field-select w-48",selected:i[2]?Ee(i[2]):"",disabled:i[9].length===0,warn:i[9].length===0,$$slots:{default:[Da]},$$scope:{ctx:i}}}),e.$on("change",i[21]),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&4&&(o.selected=t[2]?Ee(t[2]):""),n[0]&512&&(o.disabled=t[9].length===0),n[0]&512&&(o.warn=t[9].length===0),n[0]&512|n[1]&2097152&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ln(i){let e,l;return e=new St({props:{value:i[44].name,text:i[44].name}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&16&&(o.value=t[44].name),n[0]&16&&(o.text=t[44].name),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ia(i){let e,l,t=i[4].data||[],n=[];for(let r=0;r<t.length;r+=1)n[r]=ln(Gl(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ae()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ae()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);M(r,e,s),l=!0},p(r,s){if(s[0]&16){t=r[4].data||[];let a;for(a=0;a<t.length;a+=1){const f=Gl(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=ln(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(te(),a=t.length;a<n.length;a+=1)o(a);le()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Pe(n,r),r&&h(e)}}}function Va(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g=i[9],p,w,D,F,S,V,C;t=new mt({props:{disabled:i[3]||i[8],iconDescription:"Compute embedding index. This may be expensive.",icon:i[3]?Xt:i[8]?xt:Bt}}),t.$on("click",i[36]);function A(P){i[38](P)}let y={size:"xl",items:i[5],shouldFilterItem:Ca,placeholder:i[7],$$slots:{default:[Ea,({index:P})=>({50:P}),({index:P})=>[0,P?524288:0]]},$$scope:{ctx:i}};i[0]!==void 0&&(y.value=i[0]),u=new Vi({props:y}),i[37](u),Be.push(()=>We(u,"value",A)),u.$on("select",i[20]);let E=tn(i);return F=new Tt({props:{size:"xl",selected:i[1]||"",name:i[1]||"",$$slots:{default:[Ia]},$$scope:{ctx:i}}}),F.$on("change",i[18]),{c(){e=N("div"),l=N("div"),R(t.$$.fragment),n=W(),o=N("div"),r=N("div"),s=N("div"),a=N("div"),f=N("div"),R(u.$$.fragment),d=W(),m=N("div"),E.c(),p=W(),w=N("div"),D=N("div"),R(F.$$.fragment),this.h()},l(P){e=T(P,"DIV",{class:!0});var k=$(e);l=T(k,"DIV",{class:!0});var z=$(l);j(t.$$.fragment,z),z.forEach(h),n=Z(k),o=T(k,"DIV",{class:!0});var H=$(o);r=T(H,"DIV",{class:!0});var U=$(r);s=T(U,"DIV",{class:!0});var J=$(s);a=T(J,"DIV",{class:!0});var B=$(a);f=T(B,"DIV",{class:!0});var Y=$(f);j(u.$$.fragment,Y),Y.forEach(h),B.forEach(h),J.forEach(h),U.forEach(h),H.forEach(h),d=Z(k),m=T(k,"DIV",{class:!0});var L=$(m);E.l(L),L.forEach(h),p=Z(k),w=T(k,"DIV",{class:!0});var Q=$(w);D=T(Q,"DIV",{class:!0});var x=$(D);j(F.$$.fragment,x),x.forEach(h),Q.forEach(h),k.forEach(h),this.h()},h(){I(l,"class","compute-embedding mr-1"),de(l,"compute-embedding-indexing",i[8]),I(f,"class","flex-grow"),I(a,"class","flex w-full flex-row items-start justify-items-start"),I(s,"class","flex flex-row"),I(r,"class","w-full"),I(o,"class","search-container flex w-full flex-grow flex-row"),I(m,"class","mx-1"),I(D,"class","w-32"),I(w,"class","embedding-select mr-8 flex flex-row"),I(e,"class","border-1 flex w-full flex-row items-center px-4")},m(P,k){M(P,e,k),b(e,l),q(t,l,null),b(e,n),b(e,o),b(o,r),b(r,s),b(s,a),b(a,f),q(u,f,null),b(e,d),b(e,m),E.m(m,null),b(e,p),b(e,w),b(w,D),q(F,D,null),S=!0,V||(C=[Te(Me.call(null,m,{text:"Select the field to search over."})),Te(Me.call(null,D,{text:"Select the embedding to use."}))],V=!0)},p(P,k){const z={};k[0]&264&&(z.disabled=P[3]||P[8]),k[0]&264&&(z.icon=P[3]?Xt:P[8]?xt:Bt),t.$set(z),(!S||k[0]&256)&&de(l,"compute-embedding-indexing",P[8]);const H={};k[0]&32&&(H.items=P[5]),k[0]&128&&(H.placeholder=P[7]),k[0]&33|k[1]&2621440&&(H.$$scope={dirty:k,ctx:P}),!c&&k[0]&1&&(c=!0,H.value=P[0],Ze(()=>c=!1)),u.$set(H),k[0]&512&&ge(g,g=P[9])?(te(),v(E,1,1,ee),le(),E=tn(P),E.c(),_(E,1),E.m(m,null)):E.p(P,k);const U={};k[0]&2&&(U.selected=P[1]||""),k[0]&2&&(U.name=P[1]||""),k[0]&16|k[1]&2097152&&(U.$$scope={dirty:k,ctx:P}),F.$set(U)},i(P){S||(_(t.$$.fragment,P),_(u.$$.fragment,P),_(E),_(F.$$.fragment,P),S=!0)},o(P){v(t.$$.fragment,P),v(u.$$.fragment,P),v(E),v(F.$$.fragment,P),S=!1},d(P){P&&h(e),O(t),i[37](null),O(u),E.d(P),O(F),V=!1,Je(C)}}}const Ca=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-concept";function Na(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g,p,w,D,F,S,V,C,A,y,E,P=ee,k=()=>(P(),P=Ae(t,se=>l(34,E=se)),t),z;i.$$.on_destroy.push(()=>P());const H=Re();me(i,H,se=>l(33,y=se));const U=Ue();me(i,U,se=>l(32,C=se));const J=mr();me(i,J,se=>l(35,z=se));const B=dr();me(i,B,se=>l(41,F=se));const Y=Qt();me(i,Y,se=>l(4,A=se));const L=(se,Ne)=>`${Ee(se||"")}_${Ne}`;let Q={};const x=si();me(i,x,se=>l(31,V=se));const ne=Ut();me(i,ne,se=>l(30,S=se));let oe=[],re="",De;const ve=se=>{l(1,f=se.target.value),H.setSearchEmbedding(se.target.value)},fe=()=>{f!=null&&(l(22,Q[L(r,f)]=!0,Q),F.mutate([n,o,{leaf_path:Ot(r||[]),signal:{signal_name:f}}]))};let he;const $e=(se,Ne)=>{r==null||f==null||(H.addSearch({path:[Ee(r)],query:{type:"concept",concept_namespace:se,concept_name:Ne,embedding:f}}),he.clear())},X=se=>{if(!(r==null||f==null)){if(se.detail.selectedId==="new-concept"){re===De.id&&l(0,re="");const Ne=re.split("/",2);let Fe="",Oe="";Ne.length===2?[Fe,Oe]=Ne:[Oe]=Ne,xe({command:et.CreateConcept,namespace:Fe,conceptName:Oe,onCreate:rt=>$e(rt.detail.namespace,rt.detail.name)}),he.clear();return}else if(se.detail.selectedId==="keyword-search"){if(re=="")return;H.addSearch({path:[Ee(r)],query:{type:"keyword",search:re}}),he.clear();return}else if(se.detail.selectedId=="semantic-search"){if(re=="")return;H.addSearch({path:[Ee(r)],query:{type:"semantic",search:re,embedding:f}}),he.clear();return}$e(se.detail.selectedId.namespace,se.detail.selectedId.name)}},ie=se=>{H.setSearchPath(se.target.value)},_e=()=>{fe()};function He(se){Be[se?"unshift":"push"](()=>{he=se,l(6,he)})}function Ge(se){re=se,l(0,re)}return i.$$.update=()=>{var se,Ne;i.$$.dirty[1]&4&&k(l(10,t=yt(y.namespace,y.datasetName))),i.$$.dirty[1]&4&&(n=y.namespace),i.$$.dirty[1]&4&&(o=y.datasetName),i.$$.dirty[1]&6&&l(2,r=Br(y,C)),i.$$.dirty[0]&4|i.$$.dirty[1]&4&&l(24,s=Rt(y,r)),i.$$.dirty[1]&2&&l(9,a=(C.visibleFields||[]).filter(Fe=>Fe.dtype==="string").map(Fe=>Ee(Fe.path))),i.$$.dirty[0]&20|i.$$.dirty[1]&30&&l(1,f=Rr(z,E.data,y,C,r,(A.data||[]).map(Fe=>Fe.name))),i.$$.dirty[0]&4|i.$$.dirty[1]&2&&l(29,u=qr(C,r)),i.$$.dirty[0]&536870914&&l(3,c=u!=null&&!!u.includes(f||"")),i.$$.dirty[0]&4194318&&l(8,d=!c&&Q[L(r,f)]),i.$$.dirty[0]&8&&l(7,m=c?"Search by concept or keyword.":'Search by keyword. Click "compute embedding" to search by concept.'),i.$$.dirty[0]&1073741824&&l(28,g=(Ne=(se=S.data)==null?void 0:se.user)==null?void 0:Ne.id),i.$$.dirty[0]&268435456|i.$$.dirty[1]&1&&l(25,p=Or(V.data||[],g)),i.$$.dirty[0]&9&&l(23,De={id:"new-concept",text:re,disabled:!c}),i.$$.dirty[0]&1&&l(27,w={id:"keyword-search",text:re}),i.$$.dirty[0]&9&&l(26,D={id:"semantic-search",text:re,disabled:!c}),i.$$.dirty[0]&1333788683|i.$$.dirty[1]&1&&l(5,oe=V!=null&&V.data?[De,...re!=""?[w]:[],...re!=""&&f?[D]:[],...p.flatMap(Fe=>Fe.concepts.map(Oe=>({id:{namespace:Oe.namespace,name:Oe.name},text:Hr(Oe.namespace,Oe.name,S.data),description:Oe.description,disabled:!c||s.some(rt=>rt.query.type==="concept"&&rt.query.concept_namespace===Oe.namespace&&rt.query.concept_name===Oe.name)})))]:[])},[re,f,r,c,A,oe,he,m,d,a,t,H,U,J,B,Y,x,ne,ve,fe,X,ie,Q,De,s,p,D,w,g,u,S,V,C,y,E,z,_e,He,Ge]}class Ta extends we{constructor(e){super(),ke(this,e,Na,Va,ge,{},null,[-1,-1])}}function Ma(i){let e,l;return e=new mt({props:{$$slots:{default:[za]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&512&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Fa(i){let e,l;return{c(){e=N("span"),l=G("Invalid query"),this.h()},l(t){e=T(t,"SPAN",{class:!0});var n=$(e);l=K(n,"Invalid query"),n.forEach(h),this.h()},h(){I(e,"class","text-red-500")},m(t,n){M(t,e,n),b(e,l)},p:ee,i:ee,o:ee,d(t){t&&h(e)}}}function za(i){let e;return{c(){e=G("Apply")},l(l){e=K(l,"Apply")},m(l,t){M(l,e,t)},d(l){l&&h(e)}}}function Aa(i){let e,l,t,n,o,r,s,a,f,u,c;const d=[Fa,Ma],m=[];function g(p,w){return p[0]?p[3]?1:-1:0}return~(r=g(i))&&(s=m[r]=d[r](i)),{c(){e=N("pre"),l=G(""),t=G(i[2]),n=G(`
`),o=W(),s&&s.c(),a=ae(),this.h()},l(p){e=T(p,"PRE",{class:!0,contenteditable:!0});var w=$(e);l=K(w,""),t=K(w,i[2]),n=K(w,`
`),w.forEach(h),o=Z(p),s&&s.l(p),a=ae(),this.h()},h(){I(e,"class","whitespace-pre bg-gray-50 p-4 font-mono"),I(e,"contenteditable",""),i[1]===void 0&&$t(()=>i[8].call(e)),de(e,"outline-red-500",!i[0])},m(p,w){M(p,e,w),b(e,l),b(e,t),b(e,n),i[1]!==void 0&&(e.innerText=i[1]),M(p,o,w),~r&&m[r].m(p,w),M(p,a,w),f=!0,u||(c=Ce(e,"input",i[8]),u=!0)},p(p,[w]){(!f||w&4)&&Er(t,p[2]),w&2&&p[1]!==e.innerText&&(e.innerText=p[1]),(!f||w&1)&&de(e,"outline-red-500",!p[0]);let D=r;r=g(p),r===D?~r&&m[r].p(p,w):(s&&(te(),v(m[D],1,1,()=>{m[D]=null}),le()),~r?(s=m[r],s?s.p(p,w):(s=m[r]=d[r](p),s.c()),_(s,1),s.m(a.parentNode,a)):s=null)},i(p){f||(_(s),f=!0)},o(p){v(s),f=!1},d(p){p&&h(e),p&&h(o),~r&&m[r].d(p),p&&h(a),u=!1,c()}}}function Pa(i,e,l){let t,n,o,r,s;const a=Re();me(i,a,d=>l(7,s=d));let f=!0;function u(){at(a,s.query=JSON.parse(o),s)}function c(){o=this.innerText,l(1,o),l(2,n),l(6,t),l(7,s)}return i.$$.update=()=>{if(i.$$.dirty&128&&l(6,t=s.query),i.$$.dirty&64&&l(2,n=t?JSON.stringify(t,null,2):""),i.$$.dirty&4&&l(1,o=n),i.$$.dirty&2)try{JSON.parse(o),l(0,f=!0)}catch{l(0,f=!1)}i.$$.dirty&67&&l(3,r=f&&!Lr(JSON.parse(o),t))},[f,o,n,r,a,u,t,s,c]}class Ba extends we{constructor(e){super(),ke(this,e,Pa,Aa,ge,{})}}function nn(i){let e,l;return e=new Ir({props:{light:!0,flipped:!0,$$slots:{default:[Ra]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&1073742079&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function rn(i){let e,l;return e=new dt({props:{text:"Sort by"}}),e.$on("click",i[20]),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:ee,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function sn(i){let e,l;return e=new dt({props:{text:"Filter"}}),e.$on("click",i[21]),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:ee,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function an(i){let e,l,t,n,o,r;return l=new dt({props:{disabled:!i[7],text:"Compute embedding"}}),l.$on("click",i[22]),{c(){e=N("div"),R(l.$$.fragment),this.h()},l(s){e=T(s,"DIV",{class:!0});var a=$(e);j(l.$$.fragment,a),a.forEach(h),this.h()},h(){I(e,"class","w-full")},m(s,a){M(s,e,a),q(l,e,null),n=!0,o||(r=Te(t=Me.call(null,e,{text:i[7]?"":"User does not have access to compute embeddings over this dataset."})),o=!0)},p(s,a){const f={};a&128&&(f.disabled=!s[7]),l.$set(f),t&&je(t.update)&&a&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute embeddings over this dataset."})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&h(e),O(l),o=!1,r()}}}function on(i){let e,l;return e=new dt({props:{text:"Preview signal"}}),e.$on("click",i[23]),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:ee,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function fn(i){let e,l,t,n,o,r;return l=new dt({props:{text:"Compute signal",disabled:!i[7]}}),l.$on("click",i[24]),{c(){e=N("div"),R(l.$$.fragment),this.h()},l(s){e=T(s,"DIV",{class:!0});var a=$(e);j(l.$$.fragment,a),a.forEach(h),this.h()},h(){I(e,"class","w-full")},m(s,a){M(s,e,a),q(l,e,null),n=!0,o||(r=Te(t=Me.call(null,e,{text:i[7]?"":"User does not have access to compute signals over this dataset."})),o=!0)},p(s,a){const f={};a&128&&(f.disabled=!s[7]),l.$set(f),t&&je(t.update)&&a&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute signals over this dataset."})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&h(e),O(l),o=!1,r()}}}function un(i){let e,l,t,n,o,r;return l=new dt({props:{disabled:!i[6],text:"Delete signal"}}),l.$on("click",i[25]),{c(){e=N("div"),R(l.$$.fragment),this.h()},l(s){e=T(s,"DIV",{class:!0});var a=$(e);j(l.$$.fragment,a),a.forEach(h),this.h()},h(){I(e,"class","w-full")},m(s,a){M(s,e,a),q(l,e,null),n=!0,o||(r=Te(t=Me.call(null,e,{text:i[6]?"":"User does not have access to delete signals for this dataset."})),o=!0)},p(s,a){const f={};a&64&&(f.disabled=!s[6]),l.$set(f),t&&je(t.update)&&a&64&&t.update.call(null,{text:s[6]?"":"User does not have access to delete signals for this dataset."})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&h(e),O(l),o=!1,r()}}}function Ra(i){let e=It(i[0]),l,t=Pt(i[0]),n,o,r,s,a,f,u=e&&rn(i),c=t&&sn(i),d=!i[2]&&an(i),m=!i[2]&&on(i),g=!i[2]&&fn(i),p=i[1]&&un(i);return{c(){u&&u.c(),l=W(),c&&c.c(),n=W(),d&&d.c(),o=W(),m&&m.c(),r=W(),g&&g.c(),s=W(),p&&p.c(),a=ae()},l(w){u&&u.l(w),l=Z(w),c&&c.l(w),n=Z(w),d&&d.l(w),o=Z(w),m&&m.l(w),r=Z(w),g&&g.l(w),s=Z(w),p&&p.l(w),a=ae()},m(w,D){u&&u.m(w,D),M(w,l,D),c&&c.m(w,D),M(w,n,D),d&&d.m(w,D),M(w,o,D),m&&m.m(w,D),M(w,r,D),g&&g.m(w,D),M(w,s,D),p&&p.m(w,D),M(w,a,D),f=!0},p(w,D){D&1&&(e=It(w[0])),e?u?(u.p(w,D),D&1&&_(u,1)):(u=rn(w),u.c(),_(u,1),u.m(l.parentNode,l)):u&&(te(),v(u,1,1,()=>{u=null}),le()),D&1&&(t=Pt(w[0])),t?c?(c.p(w,D),D&1&&_(c,1)):(c=sn(w),c.c(),_(c,1),c.m(n.parentNode,n)):c&&(te(),v(c,1,1,()=>{c=null}),le()),w[2]?d&&(te(),v(d,1,1,()=>{d=null}),le()):d?(d.p(w,D),D&4&&_(d,1)):(d=an(w),d.c(),_(d,1),d.m(o.parentNode,o)),w[2]?m&&(te(),v(m,1,1,()=>{m=null}),le()):m?(m.p(w,D),D&4&&_(m,1)):(m=on(w),m.c(),_(m,1),m.m(r.parentNode,r)),w[2]?g&&(te(),v(g,1,1,()=>{g=null}),le()):g?(g.p(w,D),D&4&&_(g,1)):(g=fn(w),g.c(),_(g,1),g.m(s.parentNode,s)),w[1]?p?(p.p(w,D),D&2&&_(p,1)):(p=un(w),p.c(),_(p,1),p.m(a.parentNode,a)):p&&(te(),v(p,1,1,()=>{p=null}),le())},i(w){f||(_(u),_(c),_(d),_(m),_(g),_(p),f=!0)},o(w){v(u),v(c),v(d),v(m),v(g),v(p),f=!1},d(w){u&&u.d(w),w&&h(l),c&&c.d(w),w&&h(n),d&&d.d(w),w&&h(o),m&&m.d(w),w&&h(r),g&&g.d(w),w&&h(s),p&&p.d(w),w&&h(a)}}}function qa(i){let e,l,t,n=Ee(i[0].path)+"",o,r,s,a,f;return{c(){e=N("p"),l=G("Confirm deleting "),t=N("code"),o=G(n),r=G(" ?"),s=W(),a=N("p"),f=G("This is a permanent action and cannot be undone."),this.h()},l(u){e=T(u,"P",{class:!0});var c=$(e);l=K(c,"Confirm deleting "),t=T(c,"CODE",{});var d=$(t);o=K(d,n),d.forEach(h),r=K(c," ?"),c.forEach(h),s=Z(u),a=T(u,"P",{class:!0});var m=$(a);f=K(m,"This is a permanent action and cannot be undone."),m.forEach(h),this.h()},h(){I(e,"class","!text-lg"),I(a,"class","mt-2")},m(u,c){M(u,e,c),b(e,l),b(e,t),b(t,o),b(e,r),M(u,s,c),M(u,a,c),b(a,f)},p(u,c){c&1&&n!==(n=Ee(u[0].path)+"")&&ue(o,n)},d(u){u&&h(e),u&&h(s),u&&h(a)}}}function Oa(i){let e,l,t,n,o=i[8]&&nn(i);function r(a){i[26](a)}let s={danger:!0,modalHeading:"Delete signal",primaryButtonText:"Delete",primaryButtonIcon:i[9].isLoading?tl:void 0,secondaryButtonText:"Cancel",$$slots:{default:[qa]},$$scope:{ctx:i}};return i[3]!==void 0&&(s.open=i[3]),l=new ar({props:s}),Be.push(()=>We(l,"open",r)),l.$on("click:button--secondary",i[27]),l.$on("open",i[28]),l.$on("close",i[29]),l.$on("submit",i[14]),{c(){o&&o.c(),e=W(),R(l.$$.fragment)},l(a){o&&o.l(a),e=Z(a),j(l.$$.fragment,a)},m(a,f){o&&o.m(a,f),M(a,e,f),q(l,a,f),n=!0},p(a,[f]){a[8]?o?(o.p(a,f),f&256&&_(o,1)):(o=nn(a),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(te(),v(o,1,1,()=>{o=null}),le());const u={};f&512&&(u.primaryButtonIcon=a[9].isLoading?tl:void 0),f&1073741825&&(u.$$scope={dirty:f,ctx:a}),!t&&f&8&&(t=!0,u.open=a[3],Ze(()=>t=!1)),l.$set(u)},i(a){n||(_(o),_(l.$$.fragment,a),n=!0)},o(a){v(o),v(l.$$.fragment,a),n=!1},d(a){o&&o.d(a),a&&h(e),O(l,a)}}}function Ha(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g,{field:p}=e,{schema:w}=e,D=!1;const F=Re();me(i,F,L=>l(19,g=L));const S=Ue();me(i,S,L=>l(18,m=L));const V=ai();me(i,V,L=>l(9,c=L));const C=Ut();me(i,C,L=>l(17,d=L));function A(){c.mutate([t,n,{signal_path:p.path}],{onSuccess:()=>{l(3,D=!1),F.deleteSignal(p.path)}})}const y=()=>F.addSortBy(p.path),E=()=>xe({command:et.EditFilter,namespace:t,datasetName:n,path:p.path}),P=()=>xe({command:et.ComputeEmbedding,namespace:t,datasetName:n,path:p==null?void 0:p.path}),k=()=>xe({command:et.PreviewConcept,namespace:t,datasetName:n,path:p==null?void 0:p.path}),z=()=>xe({command:et.ComputeSignal,namespace:t,datasetName:n,path:p==null?void 0:p.path}),H=()=>l(3,D=!0);function U(L){D=L,l(3,D)}const J=()=>l(3,D=!1);function B(L){Le.call(this,i,L)}function Y(L){Le.call(this,i,L)}return i.$$set=L=>{"field"in L&&l(0,p=L.field),"schema"in L&&l(15,w=L.schema)},i.$$.update=()=>{var L,Q,x;i.$$.dirty&524288&&l(5,t=g.namespace),i.$$.dirty&524288&&l(4,n=g.datasetName),i.$$.dirty&32769&&l(2,o=nt(p,w)),i.$$.dirty&1&&l(1,r=lt(p)),i.$$.dirty&262145&&l(16,s=Nt(((L=m.selectRowsSchema)==null?void 0:L.data)||null,p.path)),i.$$.dirty&65543&&l(8,a=(It(p)||Pt(p)||!o||r)&&!s),i.$$.dirty&131072&&l(7,f=(Q=d.data)==null?void 0:Q.access.dataset.compute_signals),i.$$.dirty&131072&&l(6,u=(x=d.data)==null?void 0:x.access.dataset.delete_signals)},[p,r,o,D,n,t,u,f,a,c,F,S,V,C,A,w,s,d,m,g,y,E,P,k,z,H,U,J,B,Y]}class br extends we{constructor(e){super(),ke(this,e,Ha,Oa,ge,{field:0,schema:15})}}function cn(i,e,l){const t=i.slice();t[7]=e[l][0],t[8]=e[l][1];const n=t[2](t[7]);t[9]=n;const o=`${t[8]/t[1]*100}%`;t[10]=o;const r=Ve(t[8]);return t[11]=r,t}function dn(i){let e,l,t=i[9]+"",n,o,r,s,a,f=i[11]+"",u,c,d,m,g;function p(){return i[6](i[7])}return{c(){e=N("button"),l=N("div"),n=G(t),r=W(),s=N("div"),a=N("div"),u=G(f),d=W(),this.h()},l(w){e=T(w,"BUTTON",{class:!0});var D=$(e);l=T(D,"DIV",{title:!0,class:!0});var F=$(l);n=K(F,t),F.forEach(h),r=Z(D),s=T(D,"DIV",{class:!0});var S=$(s);a=T(S,"DIV",{title:!0,class:!0});var V=$(a);u=K(V,f),V.forEach(h),S.forEach(h),d=Z(D),D.forEach(h),this.h()},h(){I(l,"title",o=i[9]),I(l,"class","w-48 flex-none truncate px-2"),I(a,"title",c=i[11]),I(a,"class","histogram-bar my-px bg-indigo-200 pl-2 text-xs leading-5"),Qe(a,"width",i[10]),I(s,"class","w-36 border-l border-gray-300 pl-2"),I(e,"class","flex items-center p-0 text-left text-xs text-black hover:bg-gray-200")},m(w,D){M(w,e,D),b(e,l),b(l,n),b(e,r),b(e,s),b(s,a),b(a,u),b(e,d),m||(g=Ce(e,"click",p),m=!0)},p(w,D){i=w,D&1&&t!==(t=i[9]+"")&&ue(n,t),D&1&&o!==(o=i[9])&&I(l,"title",o),D&1&&f!==(f=i[11]+"")&&ue(u,f),D&1&&c!==(c=i[11])&&I(a,"title",c),D&3&&Qe(a,"width",i[10])},d(w){w&&h(e),m=!1,g()}}}function La(i){let e,l=i[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=dn(cn(i,l,n));return{c(){e=N("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=T(n,"DIV",{class:!0});var o=$(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(h),this.h()},h(){I(e,"class","histogram")},m(n,o){M(n,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(n,[o]){if(o&15){l=n[0];let r;for(r=0;r<l.length;r+=1){const s=cn(n,l,r);t[r]?t[r].p(s,o):(t[r]=dn(s),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},i:ee,o:ee,d(n){n&&h(e),Pe(t,n)}}}function ja(i,e,l){let t,{field:n}=e,{counts:o}=e,{bins:r}=e;function s(u){if(u==null)return Ve(u);if(r==null||n.bins!=null)return Ve(u);const[c,d]=r[u.toString()];return c==null?`< ${Ve(d)}`:d==null?`≥ ${Ve(c)}`:`${Ve(c)} .. ${Ve(d)}`}const a=vt(),f=u=>a("row-click",{value:u});return i.$$set=u=>{"field"in u&&l(4,n=u.field),"counts"in u&&l(0,o=u.counts),"bins"in u&&l(5,r=u.bins)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=Math.max(...o.map(([u,c])=>c)))},[o,t,s,a,n,r,f]}class Ua extends we{constructor(e){super(),ke(this,e,ja,La,ge,{field:4,counts:0,bins:5})}}function Ya(i){let e,l,t,n,o,r,s,a,f,u,c,d=Ve(i[4].total_count)+"",m,g,p,w,D,F,S,V,C,A,y,E,P=Ve(i[4].approx_count_distinct)+"",k,z,H,U,J,B;r=new Ct({props:{class:"inline"}}),F=new Ct({props:{class:"inline"}});let Y=i[4].avg_text_length&&hn(i),L=i[4].min_val&&i[4].max_val&&mn(i);return{c(){e=N("table"),l=N("tbody"),t=N("tr"),n=N("td"),o=N("span"),R(r.$$.fragment),s=W(),a=N("span"),f=G("Total count"),u=W(),c=N("td"),m=G(d),g=W(),p=N("tr"),w=N("td"),D=N("span"),R(F.$$.fragment),S=W(),V=N("span"),C=G("Unique values"),A=W(),y=N("td"),E=G("~"),k=G(P),z=W(),Y&&Y.c(),H=W(),L&&L.c(),this.h()},l(Q){e=T(Q,"TABLE",{class:!0});var x=$(e);l=T(x,"TBODY",{});var ne=$(l);t=T(ne,"TR",{});var oe=$(t);n=T(oe,"TD",{class:!0});var re=$(n);o=T(re,"SPAN",{});var De=$(o);j(r.$$.fragment,De),De.forEach(h),s=Z(re),a=T(re,"SPAN",{});var ve=$(a);f=K(ve,"Total count"),ve.forEach(h),re.forEach(h),u=Z(oe),c=T(oe,"TD",{class:!0});var fe=$(c);m=K(fe,d),fe.forEach(h),oe.forEach(h),g=Z(ne),p=T(ne,"TR",{});var he=$(p);w=T(he,"TD",{class:!0});var $e=$(w);D=T($e,"SPAN",{});var X=$(D);j(F.$$.fragment,X),X.forEach(h),S=Z($e),V=T($e,"SPAN",{});var ie=$(V);C=K(ie,"Unique values"),ie.forEach(h),$e.forEach(h),A=Z(he),y=T(he,"TD",{class:!0});var _e=$(y);E=K(_e,"~"),k=K(_e,P),_e.forEach(h),he.forEach(h),z=Z(ne),Y&&Y.l(ne),H=Z(ne),L&&L.l(ne),ne.forEach(h),x.forEach(h),this.h()},h(){I(n,"class","svelte-1tctrjz"),I(c,"class","svelte-1tctrjz"),I(w,"class","svelte-1tctrjz"),I(y,"class","svelte-1tctrjz"),I(e,"class","stats-table w-full svelte-1tctrjz")},m(Q,x){M(Q,e,x),b(e,l),b(l,t),b(t,n),b(n,o),q(r,o,null),b(n,s),b(n,a),b(a,f),b(t,u),b(t,c),b(c,m),b(l,g),b(l,p),b(p,w),b(w,D),q(F,D,null),b(w,S),b(w,V),b(V,C),b(p,A),b(p,y),b(y,E),b(y,k),b(l,z),Y&&Y.m(l,null),b(l,H),L&&L.m(l,null),U=!0,J||(B=[Te(Me.call(null,o,{text:"Total number of rows where the value is defined."})),Te(Me.call(null,D,{text:"An approximation of the total number of unique values."}))],J=!0)},p(Q,x){(!U||x&16)&&d!==(d=Ve(Q[4].total_count)+"")&&ue(m,d),(!U||x&16)&&P!==(P=Ve(Q[4].approx_count_distinct)+"")&&ue(k,P),Q[4].avg_text_length?Y?(Y.p(Q,x),x&16&&_(Y,1)):(Y=hn(Q),Y.c(),_(Y,1),Y.m(l,H)):Y&&(te(),v(Y,1,1,()=>{Y=null}),le()),Q[4].min_val&&Q[4].max_val?L?(L.p(Q,x),x&16&&_(L,1)):(L=mn(Q),L.c(),_(L,1),L.m(l,null)):L&&(te(),v(L,1,1,()=>{L=null}),le())},i(Q){U||(_(r.$$.fragment,Q),_(F.$$.fragment,Q),_(Y),_(L),U=!0)},o(Q){v(r.$$.fragment,Q),v(F.$$.fragment,Q),v(Y),v(L),U=!1},d(Q){Q&&h(e),O(r),O(F),Y&&Y.d(),L&&L.d(),J=!1,Je(B)}}}function Qa(i){let e,l;return e=new Ye({props:{paragraph:!0,width:"50%"}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:ee,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Wa(i){let e,l,t=i[2].error.message+"",n;return{c(){e=N("p"),l=G("Error: "),n=G(t)},l(o){e=T(o,"P",{});var r=$(e);l=K(r,"Error: "),n=K(r,t),r.forEach(h)},m(o,r){M(o,e,r),b(e,l),b(e,n)},p(o,r){r&4&&t!==(t=o[2].error.message+"")&&ue(n,t)},i:ee,o:ee,d(o){o&&h(e)}}}function hn(i){let e,l,t,n,o,r,s,a,f,u=Ve(i[4].avg_text_length)+"",c,d,m,g;return n=new Ct({props:{class:"inline"}}),{c(){e=N("tr"),l=N("td"),t=N("span"),R(n.$$.fragment),o=W(),r=N("span"),s=G("Average text length"),a=W(),f=N("td"),c=G(u),this.h()},l(p){e=T(p,"TR",{});var w=$(e);l=T(w,"TD",{class:!0});var D=$(l);t=T(D,"SPAN",{});var F=$(t);j(n.$$.fragment,F),F.forEach(h),o=Z(D),r=T(D,"SPAN",{});var S=$(r);s=K(S,"Average text length"),S.forEach(h),D.forEach(h),a=Z(w),f=T(w,"TD",{class:!0});var V=$(f);c=K(V,u),V.forEach(h),w.forEach(h),this.h()},h(){I(l,"class","svelte-1tctrjz"),I(f,"class","svelte-1tctrjz")},m(p,w){M(p,e,w),b(e,l),b(l,t),q(n,t,null),b(l,o),b(l,r),b(r,s),b(e,a),b(e,f),b(f,c),d=!0,m||(g=Te(Me.call(null,t,{text:"The average length of the text in characters."})),m=!0)},p(p,w){(!d||w&16)&&u!==(u=Ve(p[4].avg_text_length)+"")&&ue(c,u)},i(p){d||(_(n.$$.fragment,p),d=!0)},o(p){v(n.$$.fragment,p),d=!1},d(p){p&&h(e),O(n),m=!1,g()}}}function mn(i){let e,l,t,n,o,r,s,a,f,u=Ve(i[4].min_val)+"",c,d,m=Ve(i[4].max_val)+"",g,p,w,D;return n=new Ct({props:{class:"inline"}}),{c(){e=N("tr"),l=N("td"),t=N("span"),R(n.$$.fragment),o=W(),r=N("span"),s=G("Range"),a=W(),f=N("td"),c=G(u),d=G(" .. "),g=G(m),this.h()},l(F){e=T(F,"TR",{});var S=$(e);l=T(S,"TD",{class:!0});var V=$(l);t=T(V,"SPAN",{});var C=$(t);j(n.$$.fragment,C),C.forEach(h),o=Z(V),r=T(V,"SPAN",{});var A=$(r);s=K(A,"Range"),A.forEach(h),V.forEach(h),a=Z(S),f=T(S,"TD",{class:!0});var y=$(f);c=K(y,u),d=K(y," .. "),g=K(y,m),y.forEach(h),S.forEach(h),this.h()},h(){I(l,"class","svelte-1tctrjz"),I(f,"class","svelte-1tctrjz")},m(F,S){M(F,e,S),b(e,l),b(l,t),q(n,t,null),b(l,o),b(l,r),b(r,s),b(e,a),b(e,f),b(f,c),b(f,d),b(f,g),p=!0,w||(D=Te(Me.call(null,t,{text:"The minimum and maximum value across the dataset"})),w=!0)},p(F,S){(!p||S&16)&&u!==(u=Ve(F[4].min_val)+"")&&ue(c,u),(!p||S&16)&&m!==(m=Ve(F[4].max_val)+"")&&ue(g,m)},i(F){p||(_(n.$$.fragment,F),p=!0)},o(F){v(n.$$.fragment,F),p=!1},d(F){F&&h(e),O(n),w=!1,D()}}}function Za(i){let e,l,t;return l=new Ua({props:{counts:i[5],bins:i[3],field:i[0]}}),l.$on("row-click",i[11]),{c(){e=N("div"),R(l.$$.fragment),this.h()},l(n){e=T(n,"DIV",{class:!0});var o=$(e);j(l.$$.fragment,o),o.forEach(h),this.h()},h(){I(e,"class","mt-4")},m(n,o){M(n,e,o),q(l,e,null),t=!0},p(n,o){const r={};o&32&&(r.counts=n[5]),o&8&&(r.bins=n[3]),o&1&&(r.field=n[0]),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),O(l)}}}function Ja(i){let e,l;return e=new Ye({props:{paragraph:!0,width:"50%"}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:ee,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ga(i){let e,l,t=i[1].error.message+"",n;return{c(){e=N("p"),l=G("Error: "),n=G(t)},l(o){e=T(o,"P",{});var r=$(e);l=K(r,"Error: "),n=K(r,t),r.forEach(h)},m(o,r){M(o,e,r),b(e,l),b(e,n)},p(o,r){r&2&&t!==(t=o[1].error.message+"")&&ue(n,t)},i:ee,o:ee,d(o){o&&h(e)}}}function Ka(i){let e,l,t,n,o,r,s;const a=[Wa,Qa,Ya],f=[];function u(g,p){return g[2].error?0:g[4]==null?1:2}l=u(i),t=f[l]=a[l](i);const c=[Ga,Ja,Za],d=[];function m(g,p){return g[1].error?0:g[5]==null?1:g[5].length>0?2:-1}return~(o=m(i))&&(r=d[o]=c[o](i)),{c(){e=N("div"),t.c(),n=W(),r&&r.c(),this.h()},l(g){e=T(g,"DIV",{class:!0});var p=$(e);t.l(p),n=Z(p),r&&r.l(p),p.forEach(h),this.h()},h(){I(e,"class","p-4")},m(g,p){M(g,e,p),f[l].m(e,null),b(e,n),~o&&d[o].m(e,null),s=!0},p(g,[p]){let w=l;l=u(g),l===w?f[l].p(g,p):(te(),v(f[w],1,1,()=>{f[w]=null}),le(),t=f[l],t?t.p(g,p):(t=f[l]=a[l](g),t.c()),_(t,1),t.m(e,n));let D=o;o=m(g),o===D?~o&&d[o].p(g,p):(r&&(te(),v(d[D],1,1,()=>{d[D]=null}),le()),~o?(r=d[o],r?r.p(g,p):(r=d[o]=c[o](g),r.c()),_(r,1),r.m(e,null)):r=null)},i(g){s||(_(t),_(r),s=!0)},o(g){v(t),v(r),s=!1},d(g){g&&h(e),f[l].d(),~o&&d[o].d()}}}function Xa(i,e,l){let t,n,o,r,s,a=ee,f=()=>(a(),a=Ae(n,S=>l(1,s=S)),n),u,c=ee,d=()=>(c(),c=Ae(t,S=>l(2,u=S)),t),m;i.$$.on_destroy.push(()=>a()),i.$$.on_destroy.push(()=>c());let{field:g}=e;const p=Re();me(i,p,S=>l(10,m=S));let w=null;function D(S){if(S==null)return;if(w!=null){const[C,A]=w[S.toString()];if(C!=null){const y={path:g.path,op:"greater_equal",value:C};p.addFilter(y)}if(A!=null){const y={path:g.path,op:"less",value:A};p.addFilter(y)}return}const V={path:g.path,op:"equals",value:S};p.addFilter(V)}const F=S=>D(S.detail.value);return i.$$set=S=>{"field"in S&&l(0,g=S.field)},i.$$.update=()=>{var S;if(i.$$.dirty&1025&&d(l(7,t=oi(m.namespace,m.datasetName,{leaf_path:g.path}))),i.$$.dirty&1025&&f(l(6,n=fi(m.namespace,m.datasetName,{leaf_path:g.path,filters:m.query.filters}))),i.$$.dirty&2&&l(5,o=s.data!=null?s.data.counts:null),i.$$.dirty&4&&l(4,r=u.data!=null?u.data:null),i.$$.dirty&2)if(((S=s.data)==null?void 0:S.bins)!=null){l(3,w={});for(const[V,C,A]of Object.values(s.data.bins))l(3,w[V]=[C,A],w)}else l(3,w=null)},[g,s,u,w,r,o,n,t,p,D,m,F]}class xa extends we{constructor(e){super(),ke(this,e,Xa,Ka,ge,{field:0})}}function _n(i,e,l){const t=i.slice();return t[38]=e[l],t}function gn(i,e,l){const t=i.slice();return t[41]=e[l],t}function pn(i,e,l){const t=i.slice();return t[44]=e[l],t}function bn(i,e,l){const t=i.slice();return t[47]=e[l],t}function eo(i){let e,l="{}",t;return{c(){e=N("span"),t=G(l),this.h()},l(n){e=T(n,"SPAN",{class:!0});var o=$(e);t=K(o,l),o.forEach(h),this.h()},h(){I(e,"class","font-mono")},m(n,o){M(n,e,o),b(e,t)},p:ee,i:ee,o:ee,d(n){n&&h(e)}}}function to(i){let e,l,t,n;var o=ct[i[1].repeated_field.dtype];function r(s){return{props:{title:s[1].dtype}}}return o&&(l=ft(o,r(i))),{c(){e=N("div"),l&&R(l.$$.fragment),t=G("[]"),this.h()},l(s){e=T(s,"DIV",{class:!0});var a=$(e);l&&j(l.$$.fragment,a),t=K(a,"[]"),a.forEach(h),this.h()},h(){I(e,"class","flex")},m(s,a){M(s,e,a),l&&q(l,e,null),b(e,t),n=!0},p(s,a){const f={};if(a[0]&2&&(f.title=s[1].dtype),a[0]&2&&o!==(o=ct[s[1].repeated_field.dtype])){if(l){te();const u=l;v(u.$$.fragment,1,0,()=>{O(u,1)}),le()}o?(l=ft(o,r(s)),R(l.$$.fragment),_(l.$$.fragment,1),q(l,e,t)):l=null}else o&&l.$set(f)},i(s){n||(l&&_(l.$$.fragment,s),n=!0)},o(s){l&&v(l.$$.fragment,s),n=!1},d(s){s&&h(e),l&&O(l)}}}function lo(i){let e,l,t;var n=ct[i[1].dtype];function o(r){return{props:{title:r[1].dtype}}}return n&&(e=ft(n,o(i))),{c(){e&&R(e.$$.fragment),l=ae()},l(r){e&&j(e.$$.fragment,r),l=ae()},m(r,s){e&&q(e,r,s),M(r,l,s),t=!0},p(r,s){const a={};if(s[0]&2&&(a.title=r[1].dtype),s[0]&2&&n!==(n=ct[r[1].dtype])){if(e){te();const f=e;v(f.$$.fragment,1,0,()=>{O(f,1)}),le()}n?(e=ft(n,o(r)),R(e.$$.fragment),_(e.$$.fragment,1),q(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&_(e.$$.fragment,r),t=!0)},o(r){e&&v(e.$$.fragment,r),t=!1},d(r){r&&h(l),e&&O(e,r)}}}function vn(i){let e,l;return e=new Mt({props:{interactive:!0,type:"green",$$slots:{default:[io]},$$scope:{ctx:i}}}),e.$on("click",i[32]),e.$on("remove",i[33]),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&16384|n[1]&524288&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function no(i){let e,l;return e=new Zt({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ro(i){let e,l;return e=new Wt({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function io(i){let e,l,t,n,o,r,s,a;const f=[ro,no],u=[];function c(d,m){return d[14]=="ASC"?0:1}return r=c(i),s=u[r]=f[r](i),{c(){e=N("div"),l=N("div"),t=G("Sorted"),n=W(),o=N("span"),s.c(),this.h()},l(d){e=T(d,"DIV",{class:!0});var m=$(e);l=T(m,"DIV",{class:!0});var g=$(l);t=K(g,"Sorted"),g.forEach(h),n=Z(m),o=T(m,"SPAN",{});var p=$(o);s.l(p),p.forEach(h),m.forEach(h),this.h()},h(){I(l,"class","mr-1"),I(e,"class","flex flex-row")},m(d,m){M(d,e,m),b(e,l),b(l,t),b(e,n),b(e,o),u[r].m(o,null),a=!0},p(d,m){let g=r;r=c(d),r!==g&&(te(),v(u[g],1,1,()=>{u[g]=null}),le(),s=u[r],s||(s=u[r]=f[r](d),s.c()),_(s,1),s.m(o,null))},i(d){a||(_(s),a=!0)},o(d){v(s),a=!1},d(d){d&&h(e),u[r].d()}}}function wn(i){let e,l,t=i[7],n=[];for(let r=0;r<t.length;r+=1)n[r]=kn(bn(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ae()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ae()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);M(r,e,s),l=!0},p(r,s){if(s[0]&128){t=r[7];let a;for(a=0;a<t.length;a+=1){const f=bn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=kn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(te(),a=t.length;a<n.length;a+=1)o(a);le()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Pe(n,r),r&&h(e)}}}function kn(i){let e,l;return e=new Jt({props:{filter:i[47],hidePath:!0}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.filter=t[47]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function $n(i){let e,l;return e=new pr({props:{search:i[44]}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&4096&&(o.search=t[44]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function yn(i){var t;let e,l;return e=new Yt({props:{embedding:(t=i[41].signal)==null?void 0:t.signal_name}}),{c(){R(e.$$.fragment)},l(n){j(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){var s;const r={};o[0]&65536&&(r.embedding=(s=n[41].signal)==null?void 0:s.signal_name),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){v(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Sn(i){let e,l,t,n,o,r,s;return l=new Xe({props:{type:"cyan",icon:Bt}}),l.$on("click",i[34]),n=new Gt({props:{isPreview:!0}}),n.$on("click",i[35]),{c(){e=N("div"),R(l.$$.fragment),t=W(),R(n.$$.fragment),this.h()},l(a){e=T(a,"DIV",{class:!0});var f=$(e);j(l.$$.fragment,f),f.forEach(h),t=Z(a),j(n.$$.fragment,a),this.h()},h(){I(e,"class","compute-signal-preview pointer-events-auto")},m(a,f){M(a,e,f),q(l,e,null),M(a,t,f),q(n,a,f),o=!0,r||(s=Te(Me.call(null,e,{text:`Compute signal over the column and save the result.

This may be expensive.`})),r=!0)},p:ee,i(a){o||(_(l.$$.fragment,a),_(n.$$.fragment,a),o=!0)},o(a){v(l.$$.fragment,a),v(n.$$.fragment,a),o=!1},d(a){a&&h(e),O(l),a&&h(t),O(n,a),r=!1,s()}}}function En(i){let e,l,t,n,o,r,s;return t=new jr({}),{c(){e=N("button"),l=N("div"),R(t.$$.fragment),this.h()},l(a){e=T(a,"BUTTON",{});var f=$(e);l=T(f,"DIV",{class:!0});var u=$(l);j(t.$$.fragment,u),u.forEach(h),f.forEach(h),this.h()},h(){I(l,"class","transition"),de(l,"rotate-180",i[20]),de(e,"bg-slate-300",i[20])},m(a,f){M(a,e,f),b(e,l),q(t,l,null),o=!0,r||(s=[Te(n=Me.call(null,e,{text:i[20]?"Close statistics":"See statistics"})),Ce(e,"click",i[36])],r=!0)},p(a,f){(!o||f[0]&1048576)&&de(l,"rotate-180",a[20]),n&&je(n.update)&&f[0]&1048576&&n.update.call(null,{text:a[20]?"Close statistics":"See statistics"}),(!o||f[0]&1048576)&&de(e,"bg-slate-300",a[20])},i(a){o||(_(t.$$.fragment,a),o=!0)},o(a){v(t.$$.fragment,a),o=!1},d(a){a&&h(e),O(t),r=!1,Je(s)}}}function Dn(i){let e,l,t,n;return l=new xa({props:{field:i[1]}}),{c(){e=N("div"),R(l.$$.fragment),this.h()},l(o){e=T(o,"DIV",{class:!0});var r=$(e);j(l.$$.fragment,r),r.forEach(h),this.h()},h(){I(e,"class","px-2")},m(o,r){M(o,e,r),q(l,e,null),n=!0},p(o,r){const s={};r[0]&2&&(s.field=o[1]),l.$set(s)},i(o){n||(_(l.$$.fragment,o),o&&$t(()=>{n&&(t||(t=ot(e,ut,{},!0)),t.run(1))}),n=!0)},o(o){v(l.$$.fragment,o),o&&(t||(t=ot(e,ut,{},!1)),t.run(0)),n=!1},d(o){o&&h(e),O(l),o&&t&&t.end()}}}function In(i){let e,l,t=i[18],n=[];for(let r=0;r<t.length;r+=1)n[r]=Vn(_n(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ae()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ae()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);M(r,e,s),l=!0},p(r,s){if(s[0]&262415){t=r[18];let a;for(a=0;a<t.length;a+=1){const f=_n(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Vn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(te(),a=t.length;a<n.length;a+=1)o(a);le()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Pe(n,r),r&&h(e)}}}function Vn(i){let e,l;return e=new vr({props:{schema:i[0],field:i[38],indent:i[3]+1,sourceField:i[8]&&nt(i[38],i[0])?i[1]:i[2]}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&262144&&(o.field=t[38]),n[0]&8&&(o.indent=t[3]+1),n[0]&262407&&(o.sourceField=t[8]&&nt(t[38],t[0])?t[1]:t[2]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function so(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,p,w,D,F,S,V,C,A,y,E,P,k,z,H;n=new qt({props:{labelText:"Show",hideLabel:!0,checked:i[17]}}),n.$on("change",i[30]);const U=[lo,to,eo],J=[];function B(X,ie){return X[1].dtype?0:X[1].repeated_field&&X[1].repeated_field.dtype?1:2}s=B(i),a=J[s]=U[s](i);let Y=i[15]&&vn(i),L=i[13]&&wn(i),Q=i[12],x=[];for(let X=0;X<Q.length;X+=1)x[X]=$n(pn(i,Q,X));const ne=X=>v(x[X],1,1,()=>{x[X]=null});let oe=i[16],re=[];for(let X=0;X<oe.length;X+=1)re[X]=yn(gn(i,oe,X));const De=X=>v(re[X],1,1,()=>{re[X]=null});let ve=i[4]&&i[21]&&Sn(i),fe=i[10]&&En(i);C=new br({props:{field:i[1],schema:i[0]}});let he=i[20]&&Dn(i),$e=i[18].length&&In(i);return{c(){e=N("div"),l=N("div"),t=N("div"),R(n.$$.fragment),o=W(),r=N("div"),a.c(),u=W(),c=N("button"),d=G(i[19]),g=W(),Y&&Y.c(),p=W(),L&&L.c(),w=W();for(let X=0;X<x.length;X+=1)x[X].c();D=W();for(let X=0;X<re.length;X+=1)re[X].c();F=W(),ve&&ve.c(),S=W(),fe&&fe.c(),V=W(),R(C.$$.fragment),A=W(),he&&he.c(),y=W(),E=N("div"),$e&&$e.c(),this.h()},l(X){e=T(X,"DIV",{class:!0});var ie=$(e);l=T(ie,"DIV",{class:!0});var _e=$(l);t=T(_e,"DIV",{});var He=$(t);j(n.$$.fragment,He),He.forEach(h),o=Z(_e),r=T(_e,"DIV",{class:!0});var Ge=$(r);a.l(Ge),Ge.forEach(h),u=Z(_e),c=T(_e,"BUTTON",{class:!0});var se=$(c);d=K(se,i[19]),se.forEach(h),g=Z(_e),Y&&Y.l(_e),p=Z(_e),L&&L.l(_e),w=Z(_e);for(let Fe=0;Fe<x.length;Fe+=1)x[Fe].l(_e);D=Z(_e);for(let Fe=0;Fe<re.length;Fe+=1)re[Fe].l(_e);F=Z(_e),ve&&ve.l(_e),S=Z(_e),fe&&fe.l(_e),V=Z(_e),j(C.$$.fragment,_e),_e.forEach(h),A=Z(ie),he&&he.l(ie),y=Z(ie),E=T(ie,"DIV",{});var Ne=$(E);$e&&$e.l(Ne),Ne.forEach(h),ie.forEach(h),this.h()},h(){Qe(t,"margin-left",i[3]*1.5+"rem"),I(r,"class","rounded-md bg-blue-200 p-0.5"),de(r,"bg-blue-200",i[5]),I(c,"class","ml-2 grow cursor-pointer truncate whitespace-nowrap text-left text-gray-900"),c.disabled=m=!i[10],de(c,"cursor-default",!i[10]),I(l,"class","flex w-full flex-row items-center gap-x-2 border-gray-300 px-4 hover:bg-gray-100"),de(l,"bg-blue-50",i[5]),de(l,"bg-emerald-100",i[4]),de(l,"hover:bg-blue-100",i[5]),I(e,"class","border-gray-300"),de(e,"border-b",!i[5])},m(X,ie){M(X,e,ie),b(e,l),b(l,t),q(n,t,null),b(l,o),b(l,r),J[s].m(r,null),b(l,u),b(l,c),b(c,d),b(l,g),Y&&Y.m(l,null),b(l,p),L&&L.m(l,null),b(l,w);for(let _e=0;_e<x.length;_e+=1)x[_e]&&x[_e].m(l,null);b(l,D);for(let _e=0;_e<re.length;_e+=1)re[_e]&&re[_e].m(l,null);b(l,F),ve&&ve.m(l,null),b(l,S),fe&&fe.m(l,null),b(l,V),q(C,l,null),b(e,A),he&&he.m(e,null),b(e,y),b(e,E),$e&&$e.m(E,null),k=!0,z||(H=[Te(f=Me.call(null,r,{text:i[11]})),Ce(c,"click",i[31])],z=!0)},p(X,ie){const _e={};ie[0]&131072&&(_e.checked=X[17]),n.$set(_e),ie[0]&8&&Qe(t,"margin-left",X[3]*1.5+"rem");let He=s;if(s=B(X),s===He?J[s].p(X,ie):(te(),v(J[He],1,1,()=>{J[He]=null}),le(),a=J[s],a?a.p(X,ie):(a=J[s]=U[s](X),a.c()),_(a,1),a.m(r,null)),f&&je(f.update)&&ie[0]&2048&&f.update.call(null,{text:X[11]}),(!k||ie[0]&32)&&de(r,"bg-blue-200",X[5]),(!k||ie[0]&524288)&&ue(d,X[19]),(!k||ie[0]&1024&&m!==(m=!X[10]))&&(c.disabled=m),(!k||ie[0]&1024)&&de(c,"cursor-default",!X[10]),X[15]?Y?(Y.p(X,ie),ie[0]&32768&&_(Y,1)):(Y=vn(X),Y.c(),_(Y,1),Y.m(l,p)):Y&&(te(),v(Y,1,1,()=>{Y=null}),le()),X[13]?L?(L.p(X,ie),ie[0]&8192&&_(L,1)):(L=wn(X),L.c(),_(L,1),L.m(l,w)):L&&(te(),v(L,1,1,()=>{L=null}),le()),ie[0]&4096){Q=X[12];let se;for(se=0;se<Q.length;se+=1){const Ne=pn(X,Q,se);x[se]?(x[se].p(Ne,ie),_(x[se],1)):(x[se]=$n(Ne),x[se].c(),_(x[se],1),x[se].m(l,D))}for(te(),se=Q.length;se<x.length;se+=1)ne(se);le()}if(ie[0]&65536){oe=X[16];let se;for(se=0;se<oe.length;se+=1){const Ne=gn(X,oe,se);re[se]?(re[se].p(Ne,ie),_(re[se],1)):(re[se]=yn(Ne),re[se].c(),_(re[se],1),re[se].m(l,F))}for(te(),se=oe.length;se<re.length;se+=1)De(se);le()}X[4]&&X[21]?ve?(ve.p(X,ie),ie[0]&2097168&&_(ve,1)):(ve=Sn(X),ve.c(),_(ve,1),ve.m(l,S)):ve&&(te(),v(ve,1,1,()=>{ve=null}),le()),X[10]?fe?(fe.p(X,ie),ie[0]&1024&&_(fe,1)):(fe=En(X),fe.c(),_(fe,1),fe.m(l,V)):fe&&(te(),v(fe,1,1,()=>{fe=null}),le());const Ge={};ie[0]&2&&(Ge.field=X[1]),ie[0]&1&&(Ge.schema=X[0]),C.$set(Ge),(!k||ie[0]&32)&&de(l,"bg-blue-50",X[5]),(!k||ie[0]&16)&&de(l,"bg-emerald-100",X[4]),(!k||ie[0]&32)&&de(l,"hover:bg-blue-100",X[5]),X[20]?he?(he.p(X,ie),ie[0]&1048576&&_(he,1)):(he=Dn(X),he.c(),_(he,1),he.m(e,y)):he&&(te(),v(he,1,1,()=>{he=null}),le()),X[18].length?$e?($e.p(X,ie),ie[0]&262144&&_($e,1)):($e=In(X),$e.c(),_($e,1),$e.m(E,null)):$e&&(te(),v($e,1,1,()=>{$e=null}),le()),(!k||ie[0]&32)&&de(e,"border-b",!X[5])},i(X){if(!k){_(n.$$.fragment,X),_(a),_(Y),_(L);for(let ie=0;ie<Q.length;ie+=1)_(x[ie]);for(let ie=0;ie<oe.length;ie+=1)_(re[ie]);_(ve),_(fe),_(C.$$.fragment,X),_(he),_($e),X&&$t(()=>{k&&(P||(P=ot(E,ut,{},!0)),P.run(1))}),k=!0}},o(X){v(n.$$.fragment,X),v(a),v(Y),v(L),x=x.filter(Boolean);for(let ie=0;ie<x.length;ie+=1)v(x[ie]);re=re.filter(Boolean);for(let ie=0;ie<re.length;ie+=1)v(re[ie]);v(ve),v(fe),v(C.$$.fragment,X),v(he),v($e),X&&(P||(P=ot(E,ut,{},!1)),P.run(0)),k=!1},d(X){X&&h(e),O(n),J[s].d(),Y&&Y.d(),L&&L.d(),Pe(x,X),Pe(re,X),ve&&ve.d(),fe&&fe.d(),O(C),he&&he.d(),$e&&$e.d(),X&&P&&P.end(),z=!1,Je(H)}}}function ao(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g,p,w,D,F,S,V,C,A,y,E,P,{schema:k}=e,{field:z}=e,{sourceField:H=void 0}=e,{indent:U=0}=e;const J=dr();me(i,J,fe=>l(22,P=fe));const B=Re();me(i,B,fe=>l(9,y=fe));const Y=Ue();me(i,Y,fe=>l(29,E=fe));function L(fe){return fe!=null&&fe.repeated_field?L(fe.repeated_field):fe!=null&&fe.fields?[...Object.values(fe.fields).filter(he=>he.path.at(-1)!==hr)].flatMap(he=>{const $e=L(he);return $e.some(X=>lt(X))?$e:[he]}).filter(he=>{var $e,X,ie,_e;return!(he.dtype==="embedding"||he.signal!=null&&tt(he).some(He=>He.dtype==="embedding")||(($e=he.signal)==null?void 0:$e.signal_name)==="sentences"||((X=he.signal)==null?void 0:X.signal_name)==="substring_search"||((ie=he.signal)==null?void 0:ie.signal_name)==="semantic_similarity"||((_e=he.signal)==null?void 0:_e.signal_name)==="concept_labels")}):[]}const Q=()=>{c?B.removeSelectedColumn(r):B.addSelectedColumn(r)},x=()=>{A&&(s?B.removeExpandedColumn(r):B.addExpandedColumn(r))},ne=()=>g==="ASC"?at(B,y.query.sort_order="DESC",y):at(B,y.query.sort_order="ASC",y),oe=()=>B.removeSortBy(r),re=()=>z.signal&&D&&H&&P.mutate([y.namespace,y.datasetName,{leaf_path:H.path,signal:z.signal}]),De=()=>{var fe;return z.signal&&D&&xe({command:et.EditPreviewConcept,namespace:y.namespace,datasetName:y.datasetName,path:H==null?void 0:H.path,signalName:(fe=z.signal)==null?void 0:fe.signal_name,value:z.signal})},ve=()=>{s?B.removeExpandedColumn(r):B.addExpandedColumn(r)};return i.$$set=fe=>{"schema"in fe&&l(0,k=fe.schema),"field"in fe&&l(1,z=fe.field),"sourceField"in fe&&l(2,H=fe.sourceField),"indent"in fe&&l(3,U=fe.indent)},i.$$.update=()=>{var fe,he,$e,X;i.$$.dirty[0]&3&&l(5,t=nt(z,k)),i.$$.dirty[0]&2&&l(21,n=lt(z)),i.$$.dirty[0]&32&&l(8,o=!t),i.$$.dirty[0]&2&&l(6,r=z.path),i.$$.dirty[0]&576&&l(20,s=y.expandedColumns[Ee(r)]||!1),i.$$.dirty[0]&64&&l(28,a=r.at(-1)===Vt),i.$$.dirty[0]&268435520&&l(19,f=a?r.at(-2):r.at(-1)),i.$$.dirty[0]&2&&l(18,u=L(z)),i.$$.dirty[0]&536870976&&l(17,c=(fe=E.visibleFields)==null?void 0:fe.some(ie=>qe(ie.path,r))),i.$$.dirty[0]&258&&l(16,d=o?tt(z).filter(ie=>ie.signal!=null&&tt(ie).some(_e=>_e.dtype==="embedding")):[]),i.$$.dirty[0]&576&&l(15,m=(he=y.query.sort_by)==null?void 0:he.some(ie=>qe(ie,r))),i.$$.dirty[0]&512&&l(14,g=y.query.sort_order),i.$$.dirty[0]&576&&l(7,p=(($e=y.query.filters)==null?void 0:$e.filter(ie=>qe(ie.path,r)))||[]),i.$$.dirty[0]&128&&l(13,w=p.length>0),i.$$.dirty[0]&536870976&&l(4,D=Nt(((X=E.selectRowsSchema)==null?void 0:X.data)||null,r)),i.$$.dirty[0]&576&&l(12,F=Rt(y,r)),i.$$.dirty[0]&32&&l(26,S=t?". Generated by a signal":""),i.$$.dirty[0]&2&&l(27,V=z.dtype??(z.repeated_field&&z.repeated_field.dtype?`${z.repeated_field.dtype}[]`:"object")),i.$$.dirty[0]&201326592&&l(11,C=`Data type: ${V}${S}`),i.$$.dirty[0]&18&&l(10,A=It(z)&&!D)},[k,z,H,U,D,t,r,p,o,y,A,C,F,w,g,m,d,c,u,f,s,n,P,J,B,Y,S,V,a,E,Q,x,ne,oe,re,De,ve]}class vr extends we{constructor(e){super(),ke(this,e,ao,so,ge,{schema:0,field:1,sourceField:2,indent:3},null,[-1,-1])}}function Cn(i,e,l){const t=i.slice();return t[28]=e[l],t}function Nn(i,e,l){const t=i.slice();return t[31]=e[l],t}function oo(i){var P;let e,l,t,n,o,r,s,a,f,u,c,d,m,g,p,w,D,F;t=new qt({props:{labelText:"Show",hideLabel:!0,checked:i[14],disabled:i[10]}}),t.$on("change",i[23]);let S=i[15]&&Tn(i),V=i[13]&&Mn(i),C=i[11]&&Fn(i),A=i[17]&&An(i),y=((P=i[1])==null?void 0:P.dtype)&&Pn(i);p=new br({props:{field:i[1],schema:i[0]}});let E=i[8]&&Bn(i);return{c(){e=N("div"),l=N("div"),R(t.$$.fragment),n=W(),o=N("div"),S&&S.c(),r=W(),s=N("div"),a=G(i[16]),f=W(),V&&V.c(),u=W(),C&&C.c(),c=W(),A&&A.c(),d=W(),y&&y.c(),m=W(),g=N("div"),R(p.$$.fragment),w=W(),E&&E.c(),D=ae(),this.h()},l(k){e=T(k,"DIV",{class:!0});var z=$(e);l=T(z,"DIV",{class:!0});var H=$(l);j(t.$$.fragment,H),H.forEach(h),n=Z(z),o=T(z,"DIV",{class:!0});var U=$(o);S&&S.l(U),U.forEach(h),r=Z(z),s=T(z,"DIV",{class:!0,title:!0});var J=$(s);a=K(J,i[16]),J.forEach(h),f=Z(z),V&&V.l(z),u=Z(z),C&&C.l(z),c=Z(z),A&&A.l(z),d=Z(z),y&&y.l(z),m=Z(z),g=T(z,"DIV",{});var B=$(g);j(p.$$.fragment,B),B.forEach(h),z.forEach(h),w=Z(k),E&&E.l(k),D=ae(),this.h()},h(){I(l,"class","w-6"),I(o,"class","w-6"),Qe(o,"margin-left",i[2]*24+"px"),I(s,"class","grow truncate whitespace-nowrap pr-2 text-gray-900"),I(s,"title",i[16]),I(e,"class","flex w-full flex-row items-center border-b border-gray-200 px-4 py-2 hover:bg-gray-100"),de(e,"bg-blue-50",i[18]),de(e,"hover:bg-blue-100",i[18])},m(k,z){M(k,e,z),b(e,l),q(t,l,null),b(e,n),b(e,o),S&&S.m(o,null),b(e,r),b(e,s),b(s,a),b(e,f),V&&V.m(e,null),b(e,u),C&&C.m(e,null),b(e,c),A&&A.m(e,null),b(e,d),y&&y.m(e,null),b(e,m),b(e,g),q(p,g,null),M(k,w,z),E&&E.m(k,z),M(k,D,z),F=!0},p(k,z){var J;const H={};z[0]&16384&&(H.checked=k[14]),z[0]&1024&&(H.disabled=k[10]),t.$set(H),k[15]?S?(S.p(k,z),z[0]&32768&&_(S,1)):(S=Tn(k),S.c(),_(S,1),S.m(o,null)):S&&(te(),v(S,1,1,()=>{S=null}),le()),z[0]&4&&Qe(o,"margin-left",k[2]*24+"px"),(!F||z[0]&65536)&&ue(a,k[16]),(!F||z[0]&65536)&&I(s,"title",k[16]),k[13]?V?(V.p(k,z),z[0]&8192&&_(V,1)):(V=Mn(k),V.c(),_(V,1),V.m(e,u)):V&&(te(),v(V,1,1,()=>{V=null}),le()),k[11]?C?(C.p(k,z),z[0]&2048&&_(C,1)):(C=Fn(k),C.c(),_(C,1),C.m(e,c)):C&&(te(),v(C,1,1,()=>{C=null}),le()),k[17]?A?(A.p(k,z),z[0]&131072&&_(A,1)):(A=An(k),A.c(),_(A,1),A.m(e,d)):A&&(te(),v(A,1,1,()=>{A=null}),le()),(J=k[1])!=null&&J.dtype?y?y.p(k,z):(y=Pn(k),y.c(),y.m(e,m)):y&&(y.d(1),y=null);const U={};z[0]&2&&(U.field=k[1]),z[0]&1&&(U.schema=k[0]),p.$set(U),(!F||z[0]&262144)&&de(e,"bg-blue-50",k[18]),(!F||z[0]&262144)&&de(e,"hover:bg-blue-100",k[18]),k[8]?E?(E.p(k,z),z[0]&256&&_(E,1)):(E=Bn(k),E.c(),_(E,1),E.m(D.parentNode,D)):E&&(te(),v(E,1,1,()=>{E=null}),le())},i(k){F||(_(t.$$.fragment,k),_(S),_(V),_(C),_(A),_(p.$$.fragment,k),_(E),F=!0)},o(k){v(t.$$.fragment,k),v(S),v(V),v(C),v(A),v(p.$$.fragment,k),v(E),F=!1},d(k){k&&h(e),O(t),S&&S.d(),V&&V.d(),C&&C.d(),A&&A.d(),y&&y.d(),O(p),k&&h(w),E&&E.d(k),k&&h(D)}}}function fo(i){let e,l;return e=new Kt({props:{field:i[1].repeated_field,indent:i[2],schema:i[0]}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&2&&(o.field=t[1].repeated_field),n[0]&4&&(o.indent=t[2]),n[0]&1&&(o.schema=t[0]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Tn(i){let e,l,t,n,o;return l=new Wi({props:{class:"w-3"}}),{c(){e=N("button"),R(l.$$.fragment),this.h()},l(r){e=T(r,"BUTTON",{class:!0});var s=$(e);j(l.$$.fragment,s),s.forEach(h),this.h()},h(){I(e,"class","p-2 transition hover:opacity-60"),de(e,"rotate-180",!i[8])},m(r,s){M(r,e,s),q(l,e,null),t=!0,n||(o=Ce(e,"click",i[24]),n=!0)},p(r,s){(!t||s[0]&256)&&de(e,"rotate-180",!r[8])},i(r){t||(_(l.$$.fragment,r),t=!0)},o(r){v(l.$$.fragment,r),t=!1},d(r){r&&h(e),O(l),n=!1,o()}}}function Mn(i){let e,l;return e=new Mt({props:{interactive:!0,type:"green",$$slots:{default:[ho]},$$scope:{ctx:i}}}),e.$on("click",i[25]),e.$on("remove",i[26]),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&4096|n[1]&8&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function uo(i){let e,l;return e=new Zt({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function co(i){let e,l;return e=new Wt({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ho(i){let e,l,t,n,o;const r=[co,uo],s=[];function a(f,u){return f[12]=="ASC"?0:1}return l=a(i),t=s[l]=r[l](i),{c(){e=G(`Sorted
        `),t.c(),n=ae()},l(f){e=K(f,`Sorted
        `),t.l(f),n=ae()},m(f,u){M(f,e,u),s[l].m(f,u),M(f,n,u),o=!0},p(f,u){let c=l;l=a(f),l!==c&&(te(),v(s[c],1,1,()=>{s[c]=null}),le(),t=s[l],t||(t=s[l]=r[l](f),t.c()),_(t,1),t.m(n.parentNode,n))},i(f){o||(_(t),o=!0)},o(f){v(t),o=!1},d(f){f&&h(e),s[l].d(f),f&&h(n)}}}function Fn(i){let e,l,t=i[4],n=[];for(let r=0;r<t.length;r+=1)n[r]=zn(Nn(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ae()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ae()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);M(r,e,s),l=!0},p(r,s){if(s[0]&16){t=r[4];let a;for(a=0;a<t.length;a+=1){const f=Nn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=zn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(te(),a=t.length;a<n.length;a+=1)o(a);le()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Pe(n,r),r&&h(e)}}}function zn(i){let e,l,t,n;return l=new Jt({props:{filter:i[31],hidePath:!0}}),{c(){e=N("div"),R(l.$$.fragment),t=W(),this.h()},l(o){e=T(o,"DIV",{class:!0});var r=$(e);j(l.$$.fragment,r),t=Z(r),r.forEach(h),this.h()},h(){I(e,"class","mx-1")},m(o,r){M(o,e,r),q(l,e,null),b(e,t),n=!0},p(o,r){const s={};r[0]&16&&(s.filter=o[31]),l.$set(s)},i(o){n||(_(l.$$.fragment,o),n=!0)},o(o){v(l.$$.fragment,o),n=!1},d(o){o&&h(e),O(l)}}}function An(i){let e,l;return e=new Gt({props:{isPreview:i[9]}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&512&&(o.isPreview=t[9]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Pn(i){let e,l=i[1].dtype+"",t,n=i[6]?"[]":"",o;return{c(){e=N("div"),t=G(l),o=G(n),this.h()},l(r){e=T(r,"DIV",{class:!0});var s=$(e);t=K(s,l),o=K(s,n),s.forEach(h),this.h()},h(){I(e,"class","w-24 px-2 text-right")},m(r,s){M(r,e,s),b(e,t),b(e,o)},p(r,s){s[0]&2&&l!==(l=r[1].dtype+"")&&ue(t,l),s[0]&64&&n!==(n=r[6]?"[]":"")&&ue(o,n)},d(r){r&&h(e)}}}function Bn(i){let e,l,t,n=i[5].length&&Rn(i);return{c(){e=N("div"),n&&n.c()},l(o){e=T(o,"DIV",{});var r=$(e);n&&n.l(r),r.forEach(h)},m(o,r){M(o,e,r),n&&n.m(e,null),t=!0},p(o,r){o[5].length?n?(n.p(o,r),r[0]&32&&_(n,1)):(n=Rn(o),n.c(),_(n,1),n.m(e,null)):n&&(te(),v(n,1,1,()=>{n=null}),le())},i(o){t||(_(n),o&&$t(()=>{t&&(l||(l=ot(e,ut,{},!0)),l.run(1))}),t=!0)},o(o){v(n),o&&(l||(l=ot(e,ut,{},!1)),l.run(0)),t=!1},d(o){o&&h(e),n&&n.d(),o&&l&&l.end()}}}function Rn(i){let e,l,t=i[5],n=[];for(let r=0;r<t.length;r+=1)n[r]=qn(Cn(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ae()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ae()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);M(r,e,s),l=!0},p(r,s){if(s[0]&37){t=r[5];let a;for(a=0;a<t.length;a+=1){const f=Cn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=qn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(te(),a=t.length;a<n.length;a+=1)o(a);le()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Pe(n,r),r&&h(e)}}}function qn(i){let e,l;return e=new Kt({props:{schema:i[0],field:i[28],indent:i[2]+1}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&32&&(o.field=t[28]),n[0]&4&&(o.indent=t[2]+1),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function mo(i){let e,l,t,n;const o=[fo,oo],r=[];function s(a,f){return a[1].repeated_field?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=ae()},l(a){l.l(a),t=ae()},m(a,f){r[e].m(a,f),M(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(te(),v(r[u],1,1,()=>{r[u]=null}),le(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t))},i(a){n||(_(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function _o(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g,p,w,D,F,S,{schema:V}=e,{field:C}=e,{indent:A=0}=e;const y=Re();me(i,y,B=>l(7,S=B));const E=Ue();me(i,E,B=>l(22,F=B));let P=!0;function k(B){return B!=null&&B.fields?Object.values(B.fields).filter(Y=>Y.path.at(-1)!==hr):[]}const z=()=>{c?y.removeSelectedColumn(t):y.addSelectedColumn(t)},H=()=>l(8,P=!P),U=()=>m==="ASC"?at(y,S.query.sort_order="DESC",S):at(y,S.query.sort_order="ASC",S),J=()=>y.removeSortBy(t);return i.$$set=B=>{"schema"in B&&l(0,V=B.schema),"field"in B&&l(1,C=B.field),"indent"in B&&l(2,A=B.indent)},i.$$.update=()=>{var B,Y,L,Q;i.$$.dirty[0]&2&&l(3,t=C.path),i.$$.dirty[0]&3&&l(21,n=ui(V,C.path.slice(0,-1))),i.$$.dirty[0]&3&&l(18,o=nt(C,V)),i.$$.dirty[0]&2&&l(6,s=C.path.at(-1)===Vt),i.$$.dirty[0]&2097218&&l(17,r=s&&n?lt(n):lt(C)),i.$$.dirty[0]&66&&l(16,a=s?C.path.at(-2):C.path.at(-1)),i.$$.dirty[0]&2&&l(5,f=k(C)),i.$$.dirty[0]&32&&l(15,u=f.length>0),i.$$.dirty[0]&4194312&&l(14,c=(B=F.visibleFields)==null?void 0:B.some(x=>qe(x.path,t))),i.$$.dirty[0]&136&&l(13,d=(Y=S.query.sort_by)==null?void 0:Y.some(x=>qe(x,t))),i.$$.dirty[0]&128&&l(12,m=S.query.sort_order),i.$$.dirty[0]&136&&l(4,g=((L=S.query.filters)==null?void 0:L.filter(x=>qe(x.path,t)))||[]),i.$$.dirty[0]&16&&l(11,p=g.length>0),i.$$.dirty[0]&2&&l(10,w=!C.dtype||C.dtype==="embedding"),i.$$.dirty[0]&4194312&&l(9,D=Nt(((Q=F.selectRowsSchema)==null?void 0:Q.data)||null,t))},[V,C,A,t,g,f,s,S,P,D,w,p,m,d,c,u,a,r,o,y,E,n,F,z,H,U,J]}class Kt extends we{constructor(e){super(),ke(this,e,_o,mo,ge,{schema:0,field:1,indent:2},null,[-1,-1])}}function On(i,e,l){const t=i.slice();return t[3]=e[l],t}function Hn(i,e,l){const t=i.slice();return t[3]=e[l],t}function go(i){let e,l,t,n,o,r;return e=new zt({props:{label:"Schema",class:"w-1/3"}}),t=new zt({props:{label:"Tree View",class:"w-1/3"}}),o=new zt({props:{label:"Raw Query",class:"w-1/3"}}),{c(){R(e.$$.fragment),l=W(),R(t.$$.fragment),n=W(),R(o.$$.fragment)},l(s){j(e.$$.fragment,s),l=Z(s),j(t.$$.fragment,s),n=Z(s),j(o.$$.fragment,s)},m(s,a){q(e,s,a),M(s,l,a),q(t,s,a),M(s,n,a),q(o,s,a),r=!0},p:ee,i(s){r||(_(e.$$.fragment,s),_(t.$$.fragment,s),_(o.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(t.$$.fragment,s),v(o.$$.fragment,s),r=!1},d(s){O(e,s),s&&h(l),O(t,s),s&&h(n),O(o,s)}}}function po(i){let e=[],l=new Map,t,n,o=Object.keys(i[0].data.schema.fields);const r=s=>s[3];for(let s=0;s<o.length;s+=1){let a=Hn(i,o,s),f=r(a);l.set(f,e[s]=Ln(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=ae()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=ae()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);M(s,t,a),n=!0},p(s,a){a&1&&(o=Object.keys(s[0].data.schema.fields),te(),e=wt(e,a,r,1,s,o,l,t.parentNode,kt,Ln,t,Hn),le())},i(s){if(!n){for(let a=0;a<o.length;a+=1)_(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)v(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&h(t)}}}function bo(i){let e,l;return e=new Ye({props:{paragraph:!0,lines:3}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:ee,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ln(i,e){let l,t,n;return t=new vr({props:{schema:e[0].data.schema,field:e[0].data.schema.fields[e[3]]}}),{key:i,first:null,c(){l=ae(),R(t.$$.fragment),this.h()},l(o){l=ae(),j(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){M(o,l,r),q(t,o,r),n=!0},p(o,r){e=o;const s={};r&1&&(s.schema=e[0].data.schema),r&1&&(s.field=e[0].data.schema.fields[e[3]]),t.$set(s)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&h(l),O(t,o)}}}function vo(i){let e,l,t,n;const o=[bo,po],r=[];function s(a,f){var u,c;return(u=a[0])!=null&&u.isLoading?0:(c=a[0])!=null&&c.isSuccess&&a[0].data.schema.fields!=null?1:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=ae()},l(a){l&&l.l(a),t=ae()},m(a,f){~e&&r[e].m(a,f),M(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?~e&&r[e].p(a,f):(l&&(te(),v(r[u],1,1,()=>{r[u]=null}),le()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(_(l),n=!0)},o(a){v(l),n=!1},d(a){~e&&r[e].d(a),a&&h(t)}}}function wo(i){let e=[],l=new Map,t,n,o=Object.keys(i[0].data.schema.fields);const r=s=>s[3];for(let s=0;s<o.length;s+=1){let a=On(i,o,s),f=r(a);l.set(f,e[s]=jn(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=ae()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=ae()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);M(s,t,a),n=!0},p(s,a){a&1&&(o=Object.keys(s[0].data.schema.fields),te(),e=wt(e,a,r,1,s,o,l,t.parentNode,kt,jn,t,On),le())},i(s){if(!n){for(let a=0;a<o.length;a+=1)_(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)v(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&h(t)}}}function ko(i){let e,l;return e=new Ye({props:{paragraph:!0,lines:3}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:ee,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function jn(i,e){let l,t,n;return t=new Kt({props:{schema:e[0].data.schema,field:e[0].data.schema.fields[e[3]]}}),{key:i,first:null,c(){l=ae(),R(t.$$.fragment),this.h()},l(o){l=ae(),j(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){M(o,l,r),q(t,o,r),n=!0},p(o,r){e=o;const s={};r&1&&(s.schema=e[0].data.schema),r&1&&(s.field=e[0].data.schema.fields[e[3]]),t.$set(s)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&h(l),O(t,o)}}}function $o(i){let e,l,t,n;const o=[ko,wo],r=[];function s(a,f){var u,c;return(u=a[0])!=null&&u.isLoading?0:(c=a[0])!=null&&c.isSuccess&&a[0].data.schema.fields!=null?1:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=ae()},l(a){l&&l.l(a),t=ae()},m(a,f){~e&&r[e].m(a,f),M(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?~e&&r[e].p(a,f):(l&&(te(),v(r[u],1,1,()=>{r[u]=null}),le()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(_(l),n=!0)},o(a){v(l),n=!1},d(a){~e&&r[e].d(a),a&&h(t)}}}function yo(i){let e,l;return e=new Ba({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function So(i){let e,l,t,n,o,r,s;return l=new At({props:{$$slots:{default:[vo]},$$scope:{ctx:i}}}),n=new At({props:{$$slots:{default:[$o]},$$scope:{ctx:i}}}),r=new At({props:{$$slots:{default:[yo]},$$scope:{ctx:i}}}),{c(){e=N("div"),R(l.$$.fragment),t=W(),R(n.$$.fragment),o=W(),R(r.$$.fragment),this.h()},l(a){e=T(a,"DIV",{class:!0,slot:!0});var f=$(e);j(l.$$.fragment,f),t=Z(f),j(n.$$.fragment,f),o=Z(f),j(r.$$.fragment,f),f.forEach(h),this.h()},h(){I(e,"class","h-full overflow-y-auto"),I(e,"slot","content")},m(a,f){M(a,e,f),q(l,e,null),b(e,t),q(n,e,null),b(e,o),q(r,e,null),s=!0},p(a,f){const u={};f&257&&(u.$$scope={dirty:f,ctx:a}),l.$set(u);const c={};f&257&&(c.$$scope={dirty:f,ctx:a}),n.$set(c);const d={};f&256&&(d.$$scope={dirty:f,ctx:a}),r.$set(d)},i(a){s||(_(l.$$.fragment,a),_(n.$$.fragment,a),_(r.$$.fragment,a),s=!0)},o(a){v(l.$$.fragment,a),v(n.$$.fragment,a),v(r.$$.fragment,a),s=!1},d(a){a&&h(e),O(l),O(n),O(r)}}}function Eo(i){let e,l,t;return l=new zi({props:{class:"overflow-hidden border-b border-gray-200",$$slots:{content:[So],default:[go]},$$scope:{ctx:i}}}),{c(){e=N("div"),R(l.$$.fragment),this.h()},l(n){e=T(n,"DIV",{class:!0});var o=$(e);j(l.$$.fragment,o),o.forEach(h),this.h()},h(){I(e,"class","flex h-full flex-col pt-4")},m(n,o){M(n,e,o),q(l,e,null),t=!0},p(n,[o]){const r={};o&257&&(r.$$scope={dirty:o,ctx:n}),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),O(l)}}}function Do(i,e,l){let t,n;const o=Ue();return me(i,o,r=>l(2,n=r)),i.$$.update=()=>{i.$$.dirty&4&&l(0,t=n.selectRowsSchema)},[t,o,n]}class Io extends we{constructor(e){super(),ke(this,e,Do,Eo,ge,{})}}function Un(i,e,l){const t=i.slice();return t[5]=e[l],t}function Vo(i){let e,l="{}",t;return{c(){e=N("span"),t=G(l),this.h()},l(n){e=T(n,"SPAN",{class:!0});var o=$(e);t=K(o,l),o.forEach(h),this.h()},h(){I(e,"class","font-mono")},m(n,o){M(n,e,o),b(e,t)},p:ee,i:ee,o:ee,d(n){n&&h(e)}}}function Co(i){let e,l,t;var n=ct[i[5].dtype];function o(r){return{props:{title:r[5].dtype}}}return n&&(e=ft(n,o(i))),{c(){e&&R(e.$$.fragment),l=ae()},l(r){e&&j(e.$$.fragment,r),l=ae()},m(r,s){e&&q(e,r,s),M(r,l,s),t=!0},p(r,s){const a={};if(s&2&&(a.title=r[5].dtype),s&2&&n!==(n=ct[r[5].dtype])){if(e){te();const f=e;v(f.$$.fragment,1,0,()=>{O(f,1)}),le()}n?(e=ft(n,o(r)),R(e.$$.fragment),_(e.$$.fragment,1),q(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&_(e.$$.fragment,r),t=!0)},o(r){e&&v(e.$$.fragment,r),t=!1},d(r){r&&h(l),e&&O(e,r)}}}function Yn(i){let e;return{c(){e=G("[]")},l(l){e=K(l,"[]")},m(l,t){M(l,e,t)},d(l){l&&h(e)}}}function Qn(i){let e,l,t,n,o,r,s,a,f,u=i[5].path.indexOf(Vt)>=0,c,d,m=Ee(i[5].path)+"",g,p,w;function D(...y){return i[3](i[5],...y)}function F(...y){return i[4](i[5],...y)}t=new qt({props:{labelText:"Download",hideLabel:!0,checked:i[0].find(D)!=null}}),t.$on("change",F);const S=[Co,Vo],V=[];function C(y,E){return y[5].dtype?0:1}s=C(i),a=V[s]=S[s](i);let A=u&&Yn();return{c(){e=N("div"),l=N("div"),R(t.$$.fragment),n=W(),o=N("div"),r=N("div"),a.c(),f=W(),A&&A.c(),c=W(),d=N("div"),g=G(m),p=W(),this.h()},l(y){e=T(y,"DIV",{class:!0});var E=$(e);l=T(E,"DIV",{class:!0});var P=$(l);j(t.$$.fragment,P),P.forEach(h),n=Z(E),o=T(E,"DIV",{class:!0});var k=$(o);r=T(k,"DIV",{class:!0});var z=$(r);a.l(z),f=Z(z),A&&A.l(z),z.forEach(h),k.forEach(h),c=Z(E),d=T(E,"DIV",{class:!0});var H=$(d);g=K(H,m),H.forEach(h),p=Z(E),E.forEach(h),this.h()},h(){I(l,"class","mr-2"),I(r,"class","inline-flex items-center rounded-md bg-blue-200 p-0.5"),I(o,"class","flex w-10"),I(d,"class","flex-grow"),I(e,"class","flex items-center")},m(y,E){M(y,e,E),b(e,l),q(t,l,null),b(e,n),b(e,o),b(o,r),V[s].m(r,null),b(r,f),A&&A.m(r,null),b(e,c),b(e,d),b(d,g),b(e,p),w=!0},p(y,E){i=y;const P={};E&3&&(P.checked=i[0].find(D)!=null),t.$set(P);let k=s;s=C(i),s===k?V[s].p(i,E):(te(),v(V[k],1,1,()=>{V[k]=null}),le(),a=V[s],a?a.p(i,E):(a=V[s]=S[s](i),a.c()),_(a,1),a.m(r,f)),E&2&&(u=i[5].path.indexOf(Vt)>=0),u?A||(A=Yn(),A.c(),A.m(r,null)):A&&(A.d(1),A=null),(!w||E&2)&&m!==(m=Ee(i[5].path)+"")&&ue(g,m)},i(y){w||(_(t.$$.fragment,y),_(a),w=!0)},o(y){v(t.$$.fragment,y),v(a),w=!1},d(y){y&&h(e),O(t),V[s].d(),A&&A.d()}}}function No(i){let e,l,t=i[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=Qn(Un(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ae()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ae()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);M(r,e,s),l=!0},p(r,[s]){if(s&7){t=r[1];let a;for(a=0;a<t.length;a+=1){const f=Un(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Qn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(te(),a=t.length;a<n.length;a+=1)o(a);le()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Pe(n,r),r&&h(e)}}}function To(i,e,l){let{fields:t}=e,{checkedFields:n}=e;function o(a,f){f.target.checked?(n.push(a),l(0,n)):l(0,n=n.filter(c=>c!==a))}const r=(a,f)=>qe(f.path,a.path),s=(a,f)=>o(a,f);return i.$$set=a=>{"fields"in a&&l(1,t=a.fields),"checkedFields"in a&&l(0,n=a.checkedFields)},[n,t,o,r,s]}class Ft extends we{constructor(e){super(),ke(this,e,To,No,ge,{fields:1,checkedFields:0})}}function Wn(i,e,l){const t=i.slice();return t[29]=e[l],t}function Mo(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,p,w,D,F,S,V,C,A,y,E,P,k,z,H;function U(B){i[23](B)}let J={invalid:i[8]!=i[9]};return i[8]!==void 0&&(J.value=i[8]),S=new wi({props:J}),Be.push(()=>We(S,"value",U)),E=new Si({}),{c(){e=N("div"),l=N("section"),t=N("div"),n=G("Delete this dataset"),o=W(),r=N("div"),s=N("p"),a=G("This action cannot be undone."),f=W(),u=N("p"),c=G(`This will permanently delete the
                  `),d=N("span"),m=G(i[9]),g=G(` dataset and all its files. Please type
                  `),p=N("span"),w=G(i[9]),D=G(" to confirm."),F=W(),R(S.$$.fragment),C=W(),A=N("button"),y=G(`I understand, delete this dataset
                `),R(E.$$.fragment),this.h()},l(B){e=T(B,"DIV",{class:!0});var Y=$(e);l=T(Y,"SECTION",{class:!0});var L=$(l);t=T(L,"DIV",{class:!0});var Q=$(t);n=K(Q,"Delete this dataset"),Q.forEach(h),o=Z(L),r=T(L,"DIV",{class:!0});var x=$(r);s=T(x,"P",{class:!0});var ne=$(s);a=K(ne,"This action cannot be undone."),ne.forEach(h),f=Z(x),u=T(x,"P",{});var oe=$(u);c=K(oe,`This will permanently delete the
                  `),d=T(oe,"SPAN",{class:!0});var re=$(d);m=K(re,i[9]),re.forEach(h),g=K(oe,` dataset and all its files. Please type
                  `),p=T(oe,"SPAN",{class:!0});var De=$(p);w=K(De,i[9]),De.forEach(h),D=K(oe," to confirm."),oe.forEach(h),x.forEach(h),F=Z(L),j(S.$$.fragment,L),C=Z(L),A=T(L,"BUTTON",{class:!0});var ve=$(A);y=K(ve,`I understand, delete this dataset
                `),j(E.$$.fragment,ve),ve.forEach(h),L.forEach(h),Y.forEach(h),this.h()},h(){I(t,"class","text-lg text-gray-700"),I(s,"class","mb-2"),I(d,"class","font-bold"),I(p,"class","font-bold"),I(r,"class","mb-4 text-sm text-gray-500"),I(A,"class","flex cursor-pointer flex-row justify-between p-4 text-left hover:bg-gray-200"),A.disabled=P=i[8]!=i[9],de(A,"cursor-not-allowed",i[8]!=i[9]),I(l,"class","flex flex-col gap-y-1"),I(e,"class","flex flex-col gap-y-6")},m(B,Y){M(B,e,Y),b(e,l),b(l,t),b(t,n),b(l,o),b(l,r),b(r,s),b(s,a),b(r,f),b(r,u),b(u,c),b(u,d),b(d,m),b(u,g),b(u,p),b(p,w),b(u,D),b(l,F),q(S,l,null),b(l,C),b(l,A),b(A,y),q(E,A,null),k=!0,z||(H=Ce(A,"click",i[24]),z=!0)},p(B,Y){(!k||Y[0]&512)&&ue(m,B[9]),(!k||Y[0]&512)&&ue(w,B[9]);const L={};Y[0]&768&&(L.invalid=B[8]!=B[9]),!V&&Y[0]&256&&(V=!0,L.value=B[8],Ze(()=>V=!1)),S.$set(L),(!k||Y[0]&768&&P!==(P=B[8]!=B[9]))&&(A.disabled=P),(!k||Y[0]&768)&&de(A,"cursor-not-allowed",B[8]!=B[9])},i(B){k||(_(S.$$.fragment,B),_(E.$$.fragment,B),k=!0)},o(B){v(S.$$.fragment,B),v(E.$$.fragment,B),k=!1},d(B){B&&h(e),O(S),O(E),z=!1,H()}}}function Fo(i){let e,l,t,n;const o=[Ao,zo],r=[];function s(a,f){return a[6].isFetching?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=ae()},l(a){l.l(a),t=ae()},m(a,f){r[e].m(a,f),M(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(te(),v(r[u],1,1,()=>{r[u]=null}),le(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t))},i(a){n||(_(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function zo(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,p,w,D,F,S,V,C,A,y,E,P,k=i[3]!=null&&Zn(i);const z=[Bo,Po],H=[];function U(B,Y){return B[11].isFetching?0:1}F=U(i),S=H[F]=z[F](i);let J=i[3]!=null&&i[4]!=null&&Gn(i);return{c(){e=N("div"),l=N("section"),t=N("div"),n=G("Media fields"),o=W(),r=N("div"),s=G("These fields will be presented differently from the rest of the metadata fields."),a=W(),k&&k.c(),f=W(),u=N("section"),c=N("div"),d=G("Preferred embedding"),m=W(),g=N("div"),p=G("This embedding will be used by default when indexing and querying the data."),w=W(),D=N("div"),S.c(),V=W(),C=N("section"),A=N("div"),y=G("Render as markdown"),E=W(),J&&J.c(),this.h()},l(B){e=T(B,"DIV",{class:!0});var Y=$(e);l=T(Y,"SECTION",{class:!0});var L=$(l);t=T(L,"DIV",{class:!0});var Q=$(t);n=K(Q,"Media fields"),Q.forEach(h),o=Z(L),r=T(L,"DIV",{class:!0});var x=$(r);s=K(x,"These fields will be presented differently from the rest of the metadata fields."),x.forEach(h),a=Z(L),k&&k.l(L),L.forEach(h),f=Z(Y),u=T(Y,"SECTION",{class:!0});var ne=$(u);c=T(ne,"DIV",{class:!0});var oe=$(c);d=K(oe,"Preferred embedding"),oe.forEach(h),m=Z(ne),g=T(ne,"DIV",{class:!0});var re=$(g);p=K(re,"This embedding will be used by default when indexing and querying the data."),re.forEach(h),w=Z(ne),D=T(ne,"DIV",{class:!0});var De=$(D);S.l(De),De.forEach(h),ne.forEach(h),V=Z(Y),C=T(Y,"SECTION",{class:!0});var ve=$(C);A=T(ve,"DIV",{class:!0});var fe=$(A);y=K(fe,"Render as markdown"),fe.forEach(h),E=Z(ve),J&&J.l(ve),ve.forEach(h),Y.forEach(h),this.h()},h(){I(t,"class","text-lg text-gray-700"),I(r,"class","text-sm text-gray-500"),I(l,"class","flex flex-col gap-y-1"),I(c,"class","text-lg text-gray-700"),I(g,"class","text-sm text-gray-500"),I(D,"class","w-60"),I(u,"class","flex flex-col gap-y-1"),I(A,"class","text-lg text-gray-700"),I(C,"class","flex flex-col gap-y-1"),I(e,"class","flex flex-col gap-y-6")},m(B,Y){M(B,e,Y),b(e,l),b(l,t),b(t,n),b(l,o),b(l,r),b(r,s),b(l,a),k&&k.m(l,null),b(e,f),b(e,u),b(u,c),b(c,d),b(u,m),b(u,g),b(g,p),b(u,w),b(u,D),H[F].m(D,null),b(e,V),b(e,C),b(C,A),b(A,y),b(C,E),J&&J.m(C,null),P=!0},p(B,Y){B[3]!=null?k?(k.p(B,Y),Y[0]&8&&_(k,1)):(k=Zn(B),k.c(),_(k,1),k.m(l,null)):k&&(te(),v(k,1,1,()=>{k=null}),le());let L=F;F=U(B),F===L?H[F].p(B,Y):(te(),v(H[L],1,1,()=>{H[L]=null}),le(),S=H[F],S?S.p(B,Y):(S=H[F]=z[F](B),S.c()),_(S,1),S.m(D,null)),B[3]!=null&&B[4]!=null?J?(J.p(B,Y),Y[0]&24&&_(J,1)):(J=Gn(B),J.c(),_(J,1),J.m(C,null)):J&&(te(),v(J,1,1,()=>{J=null}),le())},i(B){P||(_(k),_(S),_(J),P=!0)},o(B){v(k),v(S),v(J),P=!1},d(B){B&&h(e),k&&k.d(),H[F].d(),J&&J.d()}}}function Ao(i){let e,l;return e=new Ye({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:ee,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Zn(i){let e,l,t;function n(r){i[21](r)}let o={fields:i[5]};return i[3]!==void 0&&(o.checkedFields=i[3]),e=new Ft({props:o}),Be.push(()=>We(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,s){q(e,r,s),t=!0},p(r,s){const a={};s[0]&32&&(a.fields=r[5]),!l&&s[0]&8&&(l=!0,a.checkedFields=r[3],Ze(()=>l=!1)),e.$set(a)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function Po(i){var t;let e,l;return e=new Tt({props:{selected:(t=i[6].data)==null?void 0:t.preferred_embedding,$$slots:{default:[Ro]},$$scope:{ctx:i}}}),e.$on("change",i[16]),{c(){R(e.$$.fragment)},l(n){j(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){var s;const r={};o[0]&64&&(r.selected=(s=n[6].data)==null?void 0:s.preferred_embedding),o[0]&2048|o[1]&2&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){v(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Bo(i){let e,l;return e=new Ii({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:ee,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Jn(i){let e,l;return e=new St({props:{value:i[29].name}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&2048&&(o.value=t[29].name),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ro(i){let e,l,t,n;e=new St({props:{value:void 0,text:"None"}});let o=i[11].data||[],r=[];for(let a=0;a<o.length;a+=1)r[a]=Jn(Wn(i,o,a));const s=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){R(e.$$.fragment),l=W();for(let a=0;a<r.length;a+=1)r[a].c();t=ae()},l(a){j(e.$$.fragment,a),l=Z(a);for(let f=0;f<r.length;f+=1)r[f].l(a);t=ae()},m(a,f){q(e,a,f),M(a,l,f);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,f);M(a,t,f),n=!0},p(a,f){if(f[0]&2048){o=a[11].data||[];let u;for(u=0;u<o.length;u+=1){const c=Wn(a,o,u);r[u]?(r[u].p(c,f),_(r[u],1)):(r[u]=Jn(c),r[u].c(),_(r[u],1),r[u].m(t.parentNode,t))}for(te(),u=o.length;u<r.length;u+=1)s(u);le()}},i(a){if(!n){_(e.$$.fragment,a);for(let f=0;f<o.length;f+=1)_(r[f]);n=!0}},o(a){v(e.$$.fragment,a),r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)v(r[f]);n=!1},d(a){O(e,a),a&&h(l),Pe(r,a),a&&h(t)}}}function Gn(i){let e,l,t;function n(r){i[22](r)}let o={fields:i[3]};return i[4]!==void 0&&(o.checkedFields=i[4]),e=new Ft({props:o}),Be.push(()=>We(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,s){q(e,r,s),t=!0},p(r,s){const a={};s[0]&8&&(a.fields=r[3]),!l&&s[0]&16&&(l=!0,a.checkedFields=r[4],Ze(()=>l=!1)),e.$set(a)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function qo(i){let e,l,t,n,o,r,s,a;t=new Ur({props:{items:[{title:"Fields",value:"fields"},{title:"Administration",value:"administration"}],item:i[7]}}),t.$on("select",i[20]);const f=[Fo,Mo],u=[];function c(d,m){return d[7]==="fields"?0:d[7]==="administration"?1:-1}return~(r=c(i))&&(s=u[r]=f[r](i)),{c(){e=N("div"),l=N("div"),R(t.$$.fragment),n=W(),o=N("div"),s&&s.c(),this.h()},l(d){e=T(d,"DIV",{class:!0});var m=$(e);l=T(m,"DIV",{class:!0});var g=$(l);j(t.$$.fragment,g),g.forEach(h),n=Z(m),o=T(m,"DIV",{class:!0});var p=$(o);s&&s.l(p),p.forEach(h),m.forEach(h),this.h()},h(){I(l,"class","-ml-4 mr-4 w-96 grow-0"),I(o,"class","flex w-full flex-col gap-y-6 rounded border border-gray-300 bg-white p-4"),I(e,"class","flex flex-row")},m(d,m){M(d,e,m),b(e,l),q(t,l,null),b(e,n),b(e,o),~r&&u[r].m(o,null),a=!0},p(d,m){const g={};m[0]&128&&(g.item=d[7]),t.$set(g);let p=r;r=c(d),r===p?~r&&u[r].p(d,m):(s&&(te(),v(u[p],1,1,()=>{u[p]=null}),le()),~r?(s=u[r],s?s.p(d,m):(s=u[r]=f[r](d),s.c()),_(s,1),s.m(o,null)):s=null)},i(d){a||(_(t.$$.fragment,d),_(s),a=!0)},o(d){v(t.$$.fragment,d),v(s),a=!1},d(d){d&&h(e),O(t),~r&&u[r].d()}}}function Oo(i){let e,l,t,n,o,r;return e=new fr({props:{label:"Changes",title:"Dataset settings"}}),t=new ur({props:{hasForm:!0,$$slots:{default:[qo]},$$scope:{ctx:i}}}),o=new cr({props:{primaryButtonText:"Save",secondaryButtonText:"Cancel"}}),o.$on("click:button--secondary",close),{c(){R(e.$$.fragment),l=W(),R(t.$$.fragment),n=W(),R(o.$$.fragment)},l(s){j(e.$$.fragment,s),l=Z(s),j(t.$$.fragment,s),n=Z(s),j(o.$$.fragment,s)},m(s,a){q(e,s,a),M(s,l,a),q(t,s,a),M(s,n,a),q(o,s,a),r=!0},p(s,a){const f={};a[0]&7166|a[1]&2&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){r||(_(e.$$.fragment,s),_(t.$$.fragment,s),_(o.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(t.$$.fragment,s),v(o.$$.fragment,s),r=!1},d(s){O(e,s),s&&h(l),O(t,s),s&&h(n),O(o,s)}}}function Ho(i){let e,l;return e=new or({props:{open:i[0],$$slots:{default:[Oo]},$$scope:{ctx:i}}}),e.$on("submit",i[17]),e.$on("close",i[25]),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.open=t[0]),n[0]&7166|n[1]&2&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Lo(i,e,l){let t,n,o,r,s,a=ee,f=()=>(a(),a=Ae(t,Q=>l(6,s=Q)),t),u,c,d;i.$$.on_destroy.push(()=>a());let{namespace:m}=e,{name:g}=e,{open:p=!1}=e,{schema:w}=e;const D=mr();me(i,D,Q=>l(28,u=Q));const F=Qt();me(i,F,Q=>l(11,c=Q));const S=ci();me(i,S,Q=>l(27,r=Q));let V="fields",C=null,A=null,y=u.embedding;function E(Q){y=Q.target.value,y===""&&(y=void 0)}function P(){if(C==null)return;const Q={ui:{media_paths:C.map(x=>x.path),markdown_paths:A==null?void 0:A.map(x=>x.path)},preferred_embedding:y};r.mutate([m,g,Q],{onSuccess:()=>{l(0,p=!1)}})}let k="";const z=di();me(i,z,Q=>l(12,d=Q));const H=Q=>l(7,V=Q.detail);function U(Q){C=Q,l(3,C),l(6,s),l(5,o),l(19,w)}function J(Q){A=Q,l(4,A),l(6,s),l(5,o),l(19,w)}function B(Q){k=Q,l(8,k)}const Y=()=>d.mutate([m,g],{onSuccess:()=>sr("/")}),L=()=>l(0,p=!1);return i.$$set=Q=>{"namespace"in Q&&l(1,m=Q.namespace),"name"in Q&&l(2,g=Q.name),"open"in Q&&l(0,p=Q.open),"schema"in Q&&l(19,w=Q.schema)},i.$$.update=()=>{var Q,x,ne,oe;if(i.$$.dirty[0]&6&&f(l(10,t=yt(m,g))),i.$$.dirty[0]&6&&l(9,n=vi(m,g)),i.$$.dirty[0]&524288&&l(5,o=Ht(w).filter(re=>re.dtype==="string"&&!qe(re.path,[jt])&&!nt(re,w))),i.$$.dirty[0]&104&&C==null){const re=(x=(Q=s.data)==null?void 0:Q.ui)==null?void 0:x.media_paths;re!=null&&l(3,C=o.filter(De=>re.some(ve=>qe(De.path,ve))))}if(i.$$.dirty[0]&112&&A==null){const re=(oe=(ne=s.data)==null?void 0:ne.ui)==null?void 0:oe.markdown_paths;re!=null&&l(4,A=o.filter(De=>re.some(ve=>qe(De.path,ve))))}},[p,m,g,C,A,o,s,V,k,n,t,c,d,D,F,S,E,P,z,w,H,U,J,B,Y,L]}class jo extends we{constructor(e){super(),ke(this,e,Lo,Ho,ge,{namespace:1,name:2,open:0,schema:19},null,[-1,-1])}}function Uo(i){let e,l,t;function n(r){i[13](r)}let o={fields:i[6]};return i[1]!==void 0&&(o.checkedFields=i[1]),e=new Ft({props:o}),Be.push(()=>We(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,s){q(e,r,s),t=!0},p(r,s){const a={};s&64&&(a.fields=r[6]),!l&&s&2&&(l=!0,a.checkedFields=r[1],Ze(()=>l=!1)),e.$set(a)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function Yo(i){let e,l;return e=new Ye({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:ee,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Kn(i){let e,l,t,n,o,r,s;const a=[Wo,Qo],f=[];function u(c,d){return c[5]==null?0:1}return o=u(i),r=f[o]=a[o](i),{c(){e=N("section"),l=N("h4"),t=G("Select enriched fields"),n=W(),r.c(),this.h()},l(c){e=T(c,"SECTION",{});var d=$(e);l=T(d,"H4",{class:!0});var m=$(l);t=K(m,"Select enriched fields"),m.forEach(h),n=Z(d),r.l(d),d.forEach(h),this.h()},h(){I(l,"class","svelte-1ge817j")},m(c,d){M(c,e,d),b(e,l),b(l,t),b(e,n),f[o].m(e,null),s=!0},p(c,d){let m=o;o=u(c),o===m?f[o].p(c,d):(te(),v(f[m],1,1,()=>{f[m]=null}),le(),r=f[o],r?r.p(c,d):(r=f[o]=a[o](c),r.c()),_(r,1),r.m(e,null))},i(c){s||(_(r),s=!0)},o(c){v(r),s=!1},d(c){c&&h(e),f[o].d()}}}function Qo(i){let e,l,t;function n(r){i[14](r)}let o={fields:i[5]};return i[2]!==void 0&&(o.checkedFields=i[2]),e=new Ft({props:o}),Be.push(()=>We(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,s){q(e,r,s),t=!0},p(r,s){const a={};s&32&&(a.fields=r[5]),!l&&s&4&&(l=!0,a.checkedFields=r[2],Ze(()=>l=!1)),e.$set(a)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function Wo(i){let e,l;return e=new Ye({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:ee,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Xn(i){let e,l;return{c(){e=N("p"),l=G("No fields selected. Please select at least one field to download."),this.h()},l(t){e=T(t,"P",{class:!0});var n=$(e);l=K(n,"No fields selected. Please select at least one field to download."),n.forEach(h),this.h()},h(){I(e,"class","text-gray-600")},m(t,n){M(t,e,n),b(e,l)},d(t){t&&h(e)}}}function Zo(i){let e,l;return e=new Ei({props:{value:JSON.stringify(i[7].data,null,2),readonly:!0,rows:30,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&128&&(o.value=JSON.stringify(t[7].data,null,2)),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Jo(i){let e,l;return e=new Ye({props:{paragraph:!0}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:ee,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Go(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,p,w,D;const F=[Yo,Uo],S=[];function V(k,z){return k[6]==null?0:1}o=V(i),r=S[o]=F[o](i);let C=(i[5]==null||i[5].length>0)&&Kn(i),A=i[3].length===0&&Xn();const y=[Jo,Zo],E=[];function P(k,z){return k[7]&&k[7].isFetching?0:k[4]&&k[7]?1:-1}return~(p=P(i))&&(w=E[p]=y[p](i)),{c(){e=N("section"),l=N("h4"),t=G("Select source fields"),n=W(),r.c(),s=W(),C&&C.c(),a=W(),f=N("section"),u=N("h4"),c=G("Download preview"),d=W(),A&&A.c(),m=W(),g=N("div"),w&&w.c(),this.h()},l(k){e=T(k,"SECTION",{});var z=$(e);l=T(z,"H4",{class:!0});var H=$(l);t=K(H,"Select source fields"),H.forEach(h),n=Z(z),r.l(z),z.forEach(h),s=Z(k),C&&C.l(k),a=Z(k),f=T(k,"SECTION",{});var U=$(f);u=T(U,"H4",{class:!0});var J=$(u);c=K(J,"Download preview"),J.forEach(h),d=Z(U),A&&A.l(U),m=Z(U),g=T(U,"DIV",{class:!0});var B=$(g);w&&w.l(B),B.forEach(h),U.forEach(h),this.h()},h(){I(l,"class","svelte-1ge817j"),I(u,"class","svelte-1ge817j"),I(g,"class","preview svelte-1ge817j")},m(k,z){M(k,e,z),b(e,l),b(l,t),b(e,n),S[o].m(e,null),M(k,s,z),C&&C.m(k,z),M(k,a,z),M(k,f,z),b(f,u),b(u,c),b(f,d),A&&A.m(f,null),b(f,m),b(f,g),~p&&E[p].m(g,null),D=!0},p(k,z){let H=o;o=V(k),o===H?S[o].p(k,z):(te(),v(S[H],1,1,()=>{S[H]=null}),le(),r=S[o],r?r.p(k,z):(r=S[o]=F[o](k),r.c()),_(r,1),r.m(e,null)),k[5]==null||k[5].length>0?C?(C.p(k,z),z&32&&_(C,1)):(C=Kn(k),C.c(),_(C,1),C.m(a.parentNode,a)):C&&(te(),v(C,1,1,()=>{C=null}),le()),k[3].length===0?A||(A=Xn(),A.c(),A.m(f,m)):A&&(A.d(1),A=null);let U=p;p=P(k),p===U?~p&&E[p].p(k,z):(w&&(te(),v(E[U],1,1,()=>{E[U]=null}),le()),~p?(w=E[p],w?w.p(k,z):(w=E[p]=y[p](k),w.c()),_(w,1),w.m(g,null)):w=null)},i(k){D||(_(r),_(C),_(w),D=!0)},o(k){v(r),v(C),v(w),D=!1},d(k){k&&h(e),S[o].d(),k&&h(s),C&&C.d(k),k&&h(a),k&&h(f),A&&A.d(),~p&&E[p].d()}}}function Ko(i){let e,l,t,n,o,r;return e=new fr({props:{title:"Download data"}}),t=new ur({props:{hasForm:!0,$$slots:{default:[Go]},$$scope:{ctx:i}}}),o=new cr({props:{primaryButtonText:"Download",primaryButtonDisabled:i[3].length===0,secondaryButtonText:"Cancel"}}),o.$on("click:button--secondary",i[10]),{c(){R(e.$$.fragment),l=W(),R(t.$$.fragment),n=W(),R(o.$$.fragment)},l(s){j(e.$$.fragment,s),l=Z(s),j(t.$$.fragment,s),n=Z(s),j(o.$$.fragment,s)},m(s,a){q(e,s,a),M(s,l,a),q(t,s,a),M(s,n,a),q(o,s,a),r=!0},p(s,a){const f={};a&262398&&(f.$$scope={dirty:a,ctx:s}),t.$set(f);const u={};a&8&&(u.primaryButtonDisabled=s[3].length===0),o.$set(u)},i(s){r||(_(e.$$.fragment,s),_(t.$$.fragment,s),_(o.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(t.$$.fragment,s),v(o.$$.fragment,s),r=!1},d(s){O(e,s),s&&h(l),O(t,s),s&&h(n),O(o,s)}}}function Xo(i){let e,l;return e=new or({props:{size:"lg",open:i[0],$$slots:{default:[Ko]},$$scope:{ctx:i}}}),e.$on("submit",i[9]),e.$on("close",i[15]),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&262398&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function xo(i,e,l){let t,n,o,r,s,a,f=ee,u=()=>(f(),f=Ae(r,y=>l(7,a=y)),r);i.$$.on_destroy.push(()=>f());let{open:c=!1}=e,{schema:d}=e;const m=vt(),g=Re();me(i,g,y=>l(12,s=y));let p=[],w=[];function D(y){if(y==null)return{sourceFields:null,enrichedFields:null};const P=Ht(y).filter(z=>["embedding"].indexOf(z.dtype)===-1).filter(z=>!nt(z,y)&&z.path.at(-1)!==jt),k=tt(y).filter(z=>lt(z)).filter(z=>!tt(z).some(H=>H.dtype==="embedding"));return{sourceFields:P,enrichedFields:k}}async function F(){const y=s.namespace,E=s.datasetName,P={combine_columns:!1,columns:o.map(H=>H.path)},k=`/api/v1/datasets/${y}/${E}/select_rows_download?url_safe_options=${encodeURIComponent(JSON.stringify(P))}`,z=document.createElement("a");z.download=`${y}_${E}.json`,z.href=k,document.body.appendChild(z),z.click(),z.remove()}function S(){l(0,c=!1),m("close")}function V(y){p=y,l(1,p)}function C(y){w=y,l(2,w)}const A=()=>l(0,c=!1);return i.$$set=y=>{"open"in y&&l(0,c=y.open),"schema"in y&&l(11,d=y.schema)},i.$$.update=()=>{i.$$.dirty&2048&&l(6,{sourceFields:t,enrichedFields:n}=D(d),t,(l(5,n),l(11,d))),i.$$.dirty&6&&l(3,o=[...p,...w]),i.$$.dirty&4104&&u(l(4,r=o.length>0?hi(s.namespace,s.datasetName,{columns:o.map(y=>y.path),limit:3,combine_columns:!1}):null))},[c,p,w,o,r,n,t,a,g,F,S,d,s,V,C,A]}class ef extends we{constructor(e){super(),ke(this,e,xo,Xo,ge,{open:0,schema:11})}}function tf(i){let e,l;return e=new xi({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function lf(i){let e,l;return e=new Gi({}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function xn(i){let e,l,t,n,o,r;function s(c){i[19](c)}let a={schema:i[10].data,namespace:i[0],name:i[1]};i[3]!==void 0&&(a.open=i[3]),e=new jo({props:a}),Be.push(()=>We(e,"open",s));function f(c){i[20](c)}let u={schema:i[10].data};return i[4]!==void 0&&(u.open=i[4]),n=new ef({props:u}),Be.push(()=>We(n,"open",f)),{c(){R(e.$$.fragment),t=W(),R(n.$$.fragment)},l(c){j(e.$$.fragment,c),t=Z(c),j(n.$$.fragment,c)},m(c,d){q(e,c,d),M(c,t,d),q(n,c,d),r=!0},p(c,d){const m={};d&1024&&(m.schema=c[10].data),d&1&&(m.namespace=c[0]),d&2&&(m.name=c[1]),!l&&d&8&&(l=!0,m.open=c[3],Ze(()=>l=!1)),e.$set(m);const g={};d&1024&&(g.schema=c[10].data),!o&&d&16&&(o=!0,g.open=c[4],Ze(()=>o=!1)),n.$set(g)},i(c){r||(_(e.$$.fragment,c),_(n.$$.fragment,c),r=!0)},o(c){v(e.$$.fragment,c),v(n.$$.fragment,c),r=!1},d(c){O(e,c),c&&h(t),O(n,c)}}}function nf(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,p,w,D,F;t=new Io({});const S=[lf,tf],V=[];function C(y,E){return y[9]?1:0}r=C(i),s=V[r]=S[r](i),m=new pa({});let A=i[10].data&&xn(i);return{c(){e=N("div"),l=N("div"),R(t.$$.fragment),n=W(),o=N("div"),s.c(),c=W(),d=N("div"),R(m.$$.fragment),g=W(),A&&A.c(),p=ae(),this.h()},l(y){e=T(y,"DIV",{class:!0});var E=$(e);l=T(E,"DIV",{class:!0});var P=$(l);j(t.$$.fragment,P),n=Z(P),o=T(P,"DIV",{class:!0});var k=$(o);s.l(k),k.forEach(h),P.forEach(h),c=Z(E),d=T(E,"DIV",{class:!0});var z=$(d);j(m.$$.fragment,z),z.forEach(h),E.forEach(h),g=Z(y),A&&A.l(y),p=ae(),this.h()},h(){I(o,"class",a=Et(`absolute right-0 top-1/2 flex
                h-8 w-4 cursor-pointer items-center justify-center
                rounded border
                border-neutral-200 bg-neutral-100
                opacity-60 hover:bg-neutral-200
                hover:opacity-100
                ${i[9]?" translate-x-full":" translate-x-1/2"}`)+" svelte-1nu5kbu"),I(l,"class",u=Et(`schema-container relative h-full ${i[9]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1nu5kbu"),I(d,"class","h-full w-2/3 flex-grow"),I(e,"class","flex h-full w-full")},m(y,E){M(y,e,E),b(e,l),q(t,l,null),b(l,n),b(l,o),V[r].m(o,null),b(e,c),b(e,d),q(m,d,null),M(y,g,E),A&&A.m(y,E),M(y,p,E),w=!0,D||(F=[Te(f=Me.call(null,o,{text:i[9]?"Show Schema":"Hide Schema"})),Ce(o,"click",i[12]),Ce(o,"keypress",i[12])],D=!0)},p(y,E){let P=r;r=C(y),r!==P&&(te(),v(V[P],1,1,()=>{V[P]=null}),le(),s=V[r],s||(s=V[r]=S[r](y),s.c()),_(s,1),s.m(o,null)),(!w||E&512&&a!==(a=Et(`absolute right-0 top-1/2 flex
                h-8 w-4 cursor-pointer items-center justify-center
                rounded border
                border-neutral-200 bg-neutral-100
                opacity-60 hover:bg-neutral-200
                hover:opacity-100
                ${y[9]?" translate-x-full":" translate-x-1/2"}`)+" svelte-1nu5kbu"))&&I(o,"class",a),f&&je(f.update)&&E&512&&f.update.call(null,{text:y[9]?"Show Schema":"Hide Schema"}),(!w||E&512&&u!==(u=Et(`schema-container relative h-full ${y[9]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1nu5kbu"))&&I(l,"class",u),y[10].data?A?(A.p(y,E),E&1024&&_(A,1)):(A=xn(y),A.c(),_(A,1),A.m(p.parentNode,p)):A&&(te(),v(A,1,1,()=>{A=null}),le())},i(y){w||(_(t.$$.fragment,y),_(s),_(m.$$.fragment,y),_(A),w=!0)},o(y){v(t.$$.fragment,y),v(s),v(m.$$.fragment,y),v(A),w=!1},d(y){y&&h(e),O(t),V[r].d(),O(m),y&&h(g),A&&A.d(y),y&&h(p),D=!1,Je(F)}}}function rf(i){let e,l=i[2].namespace+"",t,n,o=i[2].datasetName+"",r,s,a;return{c(){e=N("a"),t=G(l),n=G("/"),r=G(o),this.h()},l(f){e=T(f,"A",{class:!0,href:!0});var u=$(e);t=K(u,l),n=K(u,"/"),r=K(u,o),u.forEach(h),this.h()},h(){I(e,"class","font-semibold text-black"),I(e,"href",i[6])},m(f,u){M(f,e,u),b(e,t),b(e,n),b(e,r),s||(a=Ce(e,"click",i[18]),s=!0)},p(f,u){u&4&&l!==(l=f[2].namespace+"")&&ue(t,l),u&4&&o!==(o=f[2].datasetName+"")&&ue(r,o),u&64&&I(e,"href",f[6])},d(f){f&&h(e),s=!1,a()}}}function sf(i){let e,l,t;return l=new Xe({props:{type:"outline",$$slots:{default:[rf]},$$scope:{ctx:i}}}),{c(){e=N("div"),R(l.$$.fragment),this.h()},l(n){e=T(n,"DIV",{slot:!0});var o=$(e);j(l.$$.fragment,o),o.forEach(h),this.h()},h(){I(e,"slot","header-subtext")},m(n,o){M(n,e,o),q(l,e,null),t=!0},p(n,o){const r={};o&2097220&&(r.$$scope={dirty:o,ctx:n}),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),O(l)}}}function af(i){let e,l,t;return l=new Ta({}),{c(){e=N("div"),R(l.$$.fragment),this.h()},l(n){e=T(n,"DIV",{slot:!0,class:!0});var o=$(e);j(l.$$.fragment,o),o.forEach(h),this.h()},h(){I(e,"slot","header-center"),I(e,"class","flex w-full items-center")},m(n,o){M(n,e,o),q(l,e,null),t=!0},p:ee,i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&h(e),O(l)}}}function er(i){let e,l,t,n;return{c(){e=N("div"),l=G("Copied!"),this.h()},l(o){e=T(o,"DIV",{class:!0});var r=$(e);l=K(r,"Copied!"),r.forEach(h),this.h()},h(){I(e,"class","absolute right-12 z-50 mt-2 rounded border border-neutral-300 bg-neutral-50 px-4 py-1 text-xs")},m(o,r){M(o,e,r),b(e,l),n=!0},i(o){n||(t&&t.end(1),n=!0)},o(o){t=Dr(e,Qr,{}),n=!1},d(o){o&&h(e),o&&t&&t.end()}}}function of(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,p,w=i[5]&&er();return r=new mt({props:{size:"field",kind:"ghost",icon:ds,iconDescription:"Copy the URL"}}),r.$on("click",i[15]),a=new mt({props:{size:"field",kind:"ghost",icon:ls,iconDescription:"Download data"}}),a.$on("click",i[16]),c=new mt({props:{disabled:!i[7],size:"field",kind:"ghost",icon:Ci,iconDescription:"Dataset settings"}}),c.$on("click",i[17]),{c(){e=N("div"),l=N("div"),t=N("div"),n=N("div"),w&&w.c(),o=W(),R(r.$$.fragment),s=W(),R(a.$$.fragment),f=W(),u=N("div"),R(c.$$.fragment),this.h()},l(D){e=T(D,"DIV",{slot:!0});var F=$(e);l=T(F,"DIV",{class:!0});var S=$(l);t=T(S,"DIV",{class:!0});var V=$(t);n=T(V,"DIV",{class:!0});var C=$(n);w&&w.l(C),o=Z(C),j(r.$$.fragment,C),C.forEach(h),s=Z(V),j(a.$$.fragment,V),f=Z(V),u=T(V,"DIV",{});var A=$(u);j(c.$$.fragment,A),A.forEach(h),V.forEach(h),S.forEach(h),F.forEach(h),this.h()},h(){I(n,"class","relative"),de(u,"opacity-40",!i[7]),I(t,"class","flex"),I(l,"class","flex h-full flex-col"),I(e,"slot","header-right")},m(D,F){M(D,e,F),b(e,l),b(l,t),b(t,n),w&&w.m(n,null),b(n,o),q(r,n,null),b(t,s),q(a,t,null),b(t,f),b(t,u),q(c,u,null),m=!0,g||(p=Te(d=Me.call(null,u,{text:i[7]?"":"User does not have access to update settings of this dataset."})),g=!0)},p(D,F){D[5]?w?F&32&&_(w,1):(w=er(),w.c(),_(w,1),w.m(n,o)):w&&(te(),v(w,1,1,()=>{w=null}),le());const S={};F&128&&(S.disabled=!D[7]),c.$set(S),d&&je(d.update)&&F&128&&d.update.call(null,{text:D[7]?"":"User does not have access to update settings of this dataset."}),(!m||F&128)&&de(u,"opacity-40",!D[7])},i(D){m||(_(w),_(r.$$.fragment,D),_(a.$$.fragment,D),_(c.$$.fragment,D),m=!0)},o(D){v(w),v(r.$$.fragment,D),v(a.$$.fragment,D),v(c.$$.fragment,D),m=!1},d(D){D&&h(e),w&&w.d(),O(r),O(a),O(c),g=!1,p()}}}function ff(i){let e,l,t,n;return e=new Vr({props:{$$slots:{"header-right":[of],"header-center":[af],"header-subtext":[sf],default:[nf]},$$scope:{ctx:i}}}),t=new Yr({}),{c(){R(e.$$.fragment),l=W(),R(t.$$.fragment)},l(o){j(e.$$.fragment,o),l=Z(o),j(t.$$.fragment,o)},m(o,r){q(e,o,r),M(o,l,r),q(t,o,r),n=!0},p(o,[r]){const s={};r&2098943&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){n||(_(e.$$.fragment,o),_(t.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),v(t.$$.fragment,o),n=!1},d(o){O(e,o),o&&h(l),O(t,o)}}}function uf(i,e,l){let t,n,o,r,s,a,f,u=ee,c=()=>(u(),u=Ae(n,k=>l(10,f=k)),n);i.$$.on_destroy.push(()=>u());let{namespace:d}=e,{datasetName:m}=e;const g=Re();me(i,g,k=>l(2,a=k));function p(){at(g,a.schemaCollapsed=!a.schemaCollapsed,a)}let w=!1,D=!1;const F=Ut();me(i,F,k=>l(14,s=k));let S=!1;const V=()=>navigator.clipboard.writeText(location.href).then(()=>{l(5,S=!0),setTimeout(()=>l(5,S=!1),2e3)},()=>{throw Error("Error copying link to clipboard.")}),C=()=>l(4,D=!0),A=()=>l(3,w=!0),y=()=>sr(r);function E(k){w=k,l(3,w)}function P(k){D=k,l(4,D)}return i.$$set=k=>{"namespace"in k&&l(0,d=k.namespace),"datasetName"in k&&l(1,m=k.datasetName)},i.$$.update=()=>{var k;i.$$.dirty&4&&l(9,t=a.schemaCollapsed),i.$$.dirty&4&&c(l(8,n=Lt(a.namespace,a.datasetName))),i.$$.dirty&16384&&l(7,o=(k=s.data)==null?void 0:k.access.dataset.update_settings),i.$$.dirty&3&&l(6,r=ki(d,m))},[d,m,a,w,D,S,r,o,n,t,f,g,p,F,s,V,C,A,y,E,P]}class cf extends we{constructor(e){super(),ke(this,e,uf,ff,ge,{namespace:0,datasetName:1})}}function df(i){let e;return{c(){e=G("Page not found! Please specify a dataset.")},l(l){e=K(l,"Page not found! Please specify a dataset.")},m(l,t){M(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&h(e)}}}function hf(i){let e=i[2],l,t,n=tr(i);return{c(){n.c(),l=ae()},l(o){n.l(o),l=ae()},m(o,r){n.m(o,r),M(o,l,r),t=!0},p(o,r){r&4&&ge(e,e=o[2])?(te(),v(n,1,1,ee),le(),n=tr(o),n.c(),_(n,1),n.m(l.parentNode,l)):n.p(o,r)},i(o){t||(_(n),t=!0)},o(o){v(n),t=!1},d(o){o&&h(l),n.d(o)}}}function tr(i){let e,l;return e=new cf({props:{namespace:i[0],datasetName:i[1]}}),{c(){R(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.namespace=t[0]),n&2&&(o.datasetName=t[1]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function mf(i){let e,l,t,n;const o=[hf,df],r=[];function s(a,f){return a[2]&&a[0]&&a[1]?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=ae()},l(a){l.l(a),t=ae()},m(a,f){r[e].m(a,f),M(a,t,f),n=!0},p(a,[f]){let u=e;e=s(a),e===u?r[e].p(a,f):(te(),v(r[u],1,1,()=>{r[u]=null}),le(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t))},i(a){n||(_(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function _f(i,e,l){let t,n,o,r,s,a,f,u,c=ee,d=()=>(c(),c=Ae(f,U=>l(10,u=U)),f),m,g=ee,p=()=>(g(),g=Ae(t,U=>l(11,m=U)),t),w,D=ee,F=()=>(D(),D=Ae(a,U=>l(12,w=U)),a),S,V=ee,C=()=>(V(),V=Ae(r,U=>l(13,S=U)),r),A,y=ee,E=()=>(y(),y=Ae(o,U=>l(14,A=U)),o),P;i.$$.on_destroy.push(()=>c()),i.$$.on_destroy.push(()=>g()),i.$$.on_destroy.push(()=>D()),i.$$.on_destroy.push(()=>V()),i.$$.on_destroy.push(()=>y());let k,z;const H=Wr();return me(i,H,U=>l(15,P=U)),i.$$.update=()=>{var U,J;if(i.$$.dirty&32771&&P.page==="datasets")if(P.identifier==""||P.identifier==null)l(0,k=void 0),l(1,z=void 0);else{const[B,Y]=P.identifier.split("/");(k!=B||z!=Y)&&(l(0,k=B),l(1,z=Y))}if(i.$$.dirty&3&&p(l(2,t=k&&z?Kr(H,k,z):null)),i.$$.dirty&4&&t!=null&&Zr(t),i.$$.dirty&3&&l(8,n=k&&z?Xr(k,z):null),i.$$.dirty&256&&n!=null&&Jr(n),i.$$.dirty&3&&E(l(6,o=k&&z?yt(k,z):null)),i.$$.dirty&16640&&n&&A!=null&&A.data&&n.setSettings(A.data),i.$$.dirty&3&&C(l(5,r=k&&z?Lt(k,z):null)),i.$$.dirty&8448&&n&&S!=null&&S.data&&n.setSchema(S.data),i.$$.dirty&8192&&l(9,s=S!=null&&S.data?mi("string",S.data):null),i.$$.dirty&515&&F(l(4,a=k&&z&&s?_i(k,z,s.map(B=>B.path)):null)),i.$$.dirty&4352&&n&&w!=null&&w.data&&!w.isFetching&&n.setStats(w.data),i.$$.dirty&2051&&d(l(3,f=k&&z&&m?gi(k,z,xr(m)):null)),i.$$.dirty&1280&&n&&u!=null&&u.data&&n.setSelectRowsSchema(u),i.$$.dirty&3328&&n&&m&&(U=u==null?void 0:u.data)!=null&&U.schema){const B=Gr(m.selectedColumns||{},((J=u.data)==null?void 0:J.schema)||null);n.setVisibleFields(B)}},[k,z,t,f,a,r,o,H,n,s,u,m,w,S,A,P]}class Cf extends we{constructor(e){super(),ke(this,e,_f,mf,ge,{})}}export{Cf as component};
