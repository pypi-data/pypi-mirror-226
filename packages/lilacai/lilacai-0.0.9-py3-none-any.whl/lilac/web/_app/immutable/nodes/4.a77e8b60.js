import{S as ge,i as pe,s as _e,E as ce,k as F,a as W,y as q,l as A,m as D,c as Q,z as O,h,I as Ke,H as oe,b as T,J as w,A as L,K as Ve,O as Ce,g as _,d as b,B as H,D as ke,C as _t,o as ci,F as Ee,q as J,r as K,n as V,u as ue,e as ne,v as ee,f as te,P as Ze,w as Pe,X as gt,Y as pt,G as rt,L as st,M as at,N as ot,a9 as yt,aa as Ot,R as me,T as di,t as Vi,j as Ti,Q as je,ab as mi,_ as be,$ as ve,a0 as $e,a1 as x,Z as Ci,p as Ue,W as hi,a6 as Me,a8 as We,a3 as Ae,a5 as Be,ac as kt,ad as Ni,U as Ge,V as Xe,ae as Mi,a4 as ft,af as ut,x as ct,ag as St,ah as zi}from"../chunks/index.0caa4e13.js";import{g as Et}from"../chunks/navigation.d82c44ee.js";import{h as ze,f as De,b as jt,s as Ie,p as Ut,a as Fi,c as wt,i as Ai,e as qe,g as vt,j as Nt,k as Bi,L as Je,l as Pi,m as dt,n as Ri,o as _i,r as qi,U as Yt,C as ll,t as gi,q as Li,u as Hi,v as xe,w as $t,x as qt,O as Oi,y as bt,z as ji,A as Ui,B as Dt,V as pi,D as Yi,E as Wi,F as Qi,P as bi,G as Zi,H as Ji,I as Ki,J as Gi,K as Xi}from"../chunks/Page.2bdc39e2.js";import{e as lt,f as xi,h as Re,t as et,a as tt,E as Wt,i as Qe,j as Qt,k as er,b as tr,S as lr,l as nr,m as Mt,n as ir,o as rr,p as sr,q as ar,r as nl,s as Lt,u as or,v as fr,w as ur,g as cr,x as dr,y as mr,I as It,z as Zt,A as hr,B as mt,D as ht,F as vi,M as wi,G as ki,H as Si,J as _r,C as gr,K as pr,L as br,N as vr,O as wr,P as kr,Q as Sr,R as Er,T as yr}from"../chunks/ConceptView.7f0daf61.js";import{d as il,w as it}from"../chunks/index.5c606f22.js";import{C as $r,S as Le,n as Dr,I as Jt,d as Ht}from"../chunks/utils.a9faa7e6.js";import{W as Ir,b as Vr,C as Tr,S as Kt,a as zt}from"../chunks/SelectItem.6bf0ffa0.js";import{L as Cr,a as Nr,b as Mr,c as zr,C as Fr}from"../chunks/ComboBox.0294178c.js";import{B as Ye,a as Ft}from"../chunks/taskMonitoringStore.01ae9028.js";import{M as Gt,g as Ei}from"../chunks/urlHashStore.38baadd2.js";import{q as Xt,S as Ar}from"../chunks/signalQueries.036987f0.js";import{g as yi}from"../chunks/settingsStore.cc81ce84.js";import{S as Br}from"../chunks/Settings.9cb8d7a6.js";function rl(i,e,l){const t=i.slice();return t[39]=e[l],t[41]=l,t}const Pr=i=>({item:i[0]&8,index:i[0]&8}),sl=i=>({item:i[39],index:i[41]});function al(i){let e,l;return{c(){e=F("label"),l=J(i[10]),this.h()},l(t){e=A(t,"LABEL",{for:!0});var n=D(e);l=K(n,i[10]),n.forEach(h),this.h()},h(){V(e,"for",i[19]),oe(e,"bx--label",!0),oe(e,"bx--label--disabled",i[9]),oe(e,"bx--visually-hidden",i[17])},m(t,n){T(t,e,n),w(e,l)},p(t,n){n[0]&1024&&ue(l,t[10]),n[0]&524288&&V(e,"for",t[19]),n[0]&512&&oe(e,"bx--label--disabled",t[9]),n[0]&131072&&oe(e,"bx--visually-hidden",t[17])},d(t){t&&h(e)}}}function ol(i){let e,l;return e=new Ir({props:{class:"bx--list-box__invalid-icon"}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function fl(i){let e,l;return e=new Vr({props:{class:"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning"}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Rr(i){let e;return{c(){e=J(i[16])},l(l){e=K(l,i[16])},m(l,t){T(l,e,t)},p(l,t){t[0]&65536&&ue(e,l[16])},d(l){l&&h(e)}}}function qr(i){let e=i[4](i[22])+"",l;return{c(){l=J(e)},l(t){l=K(t,e)},m(t,n){T(t,l,n)},p(t,n){n[0]&4194320&&e!==(e=t[4](t[22])+"")&&ue(l,e)},d(t){t&&h(l)}}}function ul(i){let e,l;return e=new Mr({props:{"aria-labelledby":i[19],id:i[19],$$slots:{default:[Or]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&524288&&(o["aria-labelledby"]=t[19]),n[0]&524288&&(o.id=t[19]),n[0]&2097181|n[1]&64&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Lr(i){let e=i[4](i[39])+"",l;return{c(){l=J(e)},l(t){l=K(t,e)},m(t,n){T(t,l,n)},p(t,n){n[0]&24&&e!==(e=t[4](t[39])+"")&&ue(l,e)},d(t){t&&h(l)}}}function Hr(i){let e,l;const t=i[29].default,n=rt(t,i,i[37],sl),o=n||Lr(i);return{c(){o&&o.c(),e=W()},l(r){o&&o.l(r),e=Q(r)},m(r,s){o&&o.m(r,s),T(r,e,s),l=!0},p(r,s){n?n.p&&(!l||s[0]&8|s[1]&64)&&st(n,t,r,r[37],l?ot(t,r[37],s,Pr):at(r[37]),sl):o&&o.p&&(!l||s[0]&24)&&o.p(r,l?s:[-1,-1])},i(r){l||(_(o,r),l=!0)},o(r){b(o,r),l=!1},d(r){o&&o.d(r),r&&h(e)}}}function cl(i,e){let l,t,n;function o(...s){return e[34](e[39],...s)}function r(){return e[35](e[39],e[41])}return t=new zr({props:{id:e[39].id,active:e[0]===e[39].id,highlighted:e[21]===e[41],disabled:e[39].disabled,$$slots:{default:[Hr]},$$scope:{ctx:e}}}),t.$on("click",o),t.$on("mouseenter",r),{key:i,first:null,c(){l=ne(),q(t.$$.fragment),this.h()},l(s){l=ne(),O(t.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){T(s,l,a),L(t,s,a),n=!0},p(s,a){e=s;const f={};a[0]&8&&(f.id=e[39].id),a[0]&9&&(f.active=e[0]===e[39].id),a[0]&2097160&&(f.highlighted=e[21]===e[41]),a[0]&8&&(f.disabled=e[39].disabled),a[0]&24|a[1]&64&&(f.$$scope={dirty:a,ctx:e}),t.$set(f)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){b(t.$$.fragment,s),n=!1},d(s){s&&h(l),H(t,s)}}}function Or(i){let e=[],l=new Map,t,n,o=i[3];const r=s=>s[39].id;for(let s=0;s<o.length;s+=1){let a=rl(i,o,s),f=r(a);l.set(f,e[s]=cl(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=ne()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=ne()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);T(s,t,a),n=!0},p(s,a){a[0]&35651613|a[1]&64&&(o=s[3],ee(),e=gt(e,a,r,1,s,o,l,t.parentNode,pt,cl,t,rl),te())},i(s){if(!n){for(let a=0;a<o.length;a+=1)_(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)b(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&h(t)}}}function jr(i){let e,l,t,n,o,r,s,a,f,u,d,c=i[11]&&ol(),m=!i[11]&&i[13]&&fl();function g(S,k){return S[22]?qr:Rr}let p=g(i),v=p(i);r=new Nr({props:{translateWithId:i[18],open:i[1]}}),r.$on("click",i[30]);let y=i[1]&&ul(i);return{c(){c&&c.c(),e=W(),m&&m.c(),l=W(),t=F("button"),n=F("span"),v.c(),o=W(),q(r.$$.fragment),s=W(),y&&y.c(),a=ne(),this.h()},l(S){c&&c.l(S),e=Q(S),m&&m.l(S),l=Q(S),t=A(S,"BUTTON",{type:!0,tabindex:!0,"aria-expanded":!0,translatewithid:!0,id:!0});var k=D(t);n=A(k,"SPAN",{});var $=D(n);v.l($),$.forEach(h),o=Q(k),O(r.$$.fragment,k),k.forEach(h),s=Q(S),y&&y.l(S),a=ne(),this.h()},h(){oe(n,"bx--list-box__label",!0),V(t,"type","button"),V(t,"tabindex","0"),V(t,"aria-expanded",i[1]),t.disabled=i[9],V(t,"translatewithid",i[18]),V(t,"id",i[19]),oe(t,"bx--list-box__field",!0)},m(S,k){c&&c.m(S,k),T(S,e,k),m&&m.m(S,k),T(S,l,k),T(S,t,k),w(t,n),v.m(n,null),w(t,o),L(r,t,null),i[31](t),T(S,s,k),y&&y.m(S,k),T(S,a,k),f=!0,u||(d=[Ve(t,"keydown",i[32]),Ve(t,"keyup",i[33])],u=!0)},p(S,k){S[11]?c?k[0]&2048&&_(c,1):(c=ol(),c.c(),_(c,1),c.m(e.parentNode,e)):c&&(ee(),b(c,1,1,()=>{c=null}),te()),!S[11]&&S[13]?m?k[0]&10240&&_(m,1):(m=fl(),m.c(),_(m,1),m.m(l.parentNode,l)):m&&(ee(),b(m,1,1,()=>{m=null}),te()),p===(p=g(S))&&v?v.p(S,k):(v.d(1),v=p(S),v&&(v.c(),v.m(n,null)));const $={};k[0]&262144&&($.translateWithId=S[18]),k[0]&2&&($.open=S[1]),r.$set($),(!f||k[0]&2)&&V(t,"aria-expanded",S[1]),(!f||k[0]&512)&&(t.disabled=S[9]),(!f||k[0]&262144)&&V(t,"translatewithid",S[18]),(!f||k[0]&524288)&&V(t,"id",S[19]),S[1]?y?(y.p(S,k),k[0]&2&&_(y,1)):(y=ul(S),y.c(),_(y,1),y.m(a.parentNode,a)):y&&(ee(),b(y,1,1,()=>{y=null}),te())},i(S){f||(_(c),_(m),_(r.$$.fragment,S),_(y),f=!0)},o(S){b(c),b(m),b(r.$$.fragment,S),b(y),f=!1},d(S){c&&c.d(S),S&&h(e),m&&m.d(S),S&&h(l),S&&h(t),v.d(),H(r),i[31](null),S&&h(s),y&&y.d(S),S&&h(a),u=!1,Ze(d)}}}function dl(i){let e,l;return{c(){e=F("div"),l=J(i[15]),this.h()},l(t){e=A(t,"DIV",{});var n=D(e);l=K(n,i[15]),n.forEach(h),this.h()},h(){oe(e,"bx--form__helper-text",!0),oe(e,"bx--form__helper-text--disabled",i[9])},m(t,n){T(t,e,n),w(e,l)},p(t,n){n[0]&32768&&ue(l,t[15]),n[0]&512&&oe(e,"bx--form__helper-text--disabled",t[9])},d(t){t&&h(e)}}}function Ur(i){let e,l,t,n,o,r,s,a=i[10]&&al(i);t=new Cr({props:{role:void 0,type:i[5],size:i[7],name:i[20],"aria-label":i[28]["aria-label"],class:`bx--dropdown 
      `+(i[6]==="top"&&"bx--list-box--up")+` 
      `+(i[11]&&"bx--dropdown--invalid")+` 
      `+(!i[11]&&i[13]&&"bx--dropdown--warning")+` 
      `+(i[1]&&"bx--dropdown--open")+`
      `+(i[7]==="sm"&&"bx--dropdown--sm")+`
      `+(i[7]==="xl"&&"bx--dropdown--xl")+`
      `+(i[23]&&"bx--dropdown--inline")+`
      `+(i[9]&&"bx--dropdown--disabled")+`
      `+(i[8]&&"bx--dropdown--light"),disabled:i[9],open:i[1],invalid:i[11],invalidText:i[12],light:i[8],warn:i[13],warnText:i[14],$$slots:{default:[jr]},$$scope:{ctx:i}}}),t.$on("click",i[36]);let f=!i[23]&&!i[11]&&!i[13]&&i[15]&&dl(i),u=[i[27]],d={};for(let c=0;c<u.length;c+=1)d=ce(d,u[c]);return{c(){e=F("div"),a&&a.c(),l=W(),q(t.$$.fragment),n=W(),f&&f.c(),this.h()},l(c){e=A(c,"DIV",{});var m=D(e);a&&a.l(m),l=Q(m),O(t.$$.fragment,m),n=Q(m),f&&f.l(m),m.forEach(h),this.h()},h(){Ke(e,d),oe(e,"bx--dropdown__wrapper",!0),oe(e,"bx--list-box__wrapper",!0),oe(e,"bx--dropdown__wrapper--inline",i[23]),oe(e,"bx--list-box__wrapper--inline",i[23]),oe(e,"bx--dropdown__wrapper--inline--invalid",i[23]&&i[11])},m(c,m){T(c,e,m),a&&a.m(e,null),w(e,l),L(t,e,null),w(e,n),f&&f.m(e,null),o=!0,r||(s=Ve(window,"click",i[26]),r=!0)},p(c,m){c[10]?a?a.p(c,m):(a=al(c),a.c(),a.m(e,l)):a&&(a.d(1),a=null);const g={};m[0]&32&&(g.type=c[5]),m[0]&128&&(g.size=c[7]),m[0]&1048576&&(g.name=c[20]),m[0]&268435456&&(g["aria-label"]=c[28]["aria-label"]),m[0]&8399810&&(g.class=`bx--dropdown 
      `+(c[6]==="top"&&"bx--list-box--up")+` 
      `+(c[11]&&"bx--dropdown--invalid")+` 
      `+(!c[11]&&c[13]&&"bx--dropdown--warning")+` 
      `+(c[1]&&"bx--dropdown--open")+`
      `+(c[7]==="sm"&&"bx--dropdown--sm")+`
      `+(c[7]==="xl"&&"bx--dropdown--xl")+`
      `+(c[23]&&"bx--dropdown--inline")+`
      `+(c[9]&&"bx--dropdown--disabled")+`
      `+(c[8]&&"bx--dropdown--light")),m[0]&512&&(g.disabled=c[9]),m[0]&2&&(g.open=c[1]),m[0]&2048&&(g.invalid=c[11]),m[0]&4096&&(g.invalidText=c[12]),m[0]&256&&(g.light=c[8]),m[0]&8192&&(g.warn=c[13]),m[0]&16384&&(g.warnText=c[14]),m[0]&7154207|m[1]&64&&(g.$$scope={dirty:m,ctx:c}),t.$set(g),!c[23]&&!c[11]&&!c[13]&&c[15]?f?f.p(c,m):(f=dl(c),f.c(),f.m(e,null)):f&&(f.d(1),f=null),Ke(e,d=Ce(u,[m[0]&134217728&&c[27]])),oe(e,"bx--dropdown__wrapper",!0),oe(e,"bx--list-box__wrapper",!0),oe(e,"bx--dropdown__wrapper--inline",c[23]),oe(e,"bx--list-box__wrapper--inline",c[23]),oe(e,"bx--dropdown__wrapper--inline--invalid",c[23]&&c[11])},i(c){o||(_(t.$$.fragment,c),o=!0)},o(c){b(t.$$.fragment,c),o=!1},d(c){c&&h(e),a&&a.d(),H(t),f&&f.d(),r=!1,s()}}}function Yr(i,e,l){let t,n;const o=["items","itemToString","selectedId","type","direction","size","open","light","disabled","titleText","invalid","invalidText","warn","warnText","helperText","label","hideLabel","translateWithId","id","name","ref"];let r=ke(e,o),{$$slots:s={},$$scope:a}=e,{items:f=[]}=e,{itemToString:u=R=>R.text||R.id}=e,{selectedId:d}=e,{type:c="default"}=e,{direction:m="bottom"}=e,{size:g=void 0}=e,{open:p=!1}=e,{light:v=!1}=e,{disabled:y=!1}=e,{titleText:S=""}=e,{invalid:k=!1}=e,{invalidText:$=""}=e,{warn:M=!1}=e,{warnText:z=""}=e,{helperText:C=""}=e,{label:I=void 0}=e,{hideLabel:B=!1}=e,{translateWithId:E=void 0}=e,{id:N="ccs-"+Math.random().toString(36)}=e,{name:P=void 0}=e,{ref:Y=null}=e;const G=_t();let j=-1;function X(R){let U=j+R;if(f.length===0)return;U<0?U=f.length-1:U>=f.length&&(U=0);let ie=f[U].disabled;for(;ie;)U=U+R,U<0?U=f.length-1:U>=f.length&&(U=0),ie=f[U].disabled;l(21,j=U)}const Z=()=>{G("select",{selectedId:d,selectedItem:f.find(R=>R.id===d)})},le=({target:R})=>{p&&Y&&!Y.contains(R)&&l(1,p=!1)};ci(()=>(parent&&parent.addEventListener("click",le),()=>{parent&&parent.removeEventListener("click",le)}));const he=R=>{R.stopPropagation(),!y&&l(1,p=!p)};function re(R){Pe[R?"unshift":"push"](()=>{Y=R,l(2,Y)})}const se=R=>{const{key:U}=R;["Enter","ArrowDown","ArrowUp"].includes(U)&&R.preventDefault(),U==="Enter"?(l(1,p=!p),j>-1&&f[j].id!==d&&(l(0,d=f[j].id),Z(),l(1,p=!1))):U==="Tab"?(l(1,p=!1),Y.blur()):U==="ArrowDown"?(p||l(1,p=!0),X(1)):U==="ArrowUp"?(p||l(1,p=!0),X(-1)):U==="Escape"&&l(1,p=!1)},ye=R=>{const{key:U}=R;if([" "].includes(U))R.preventDefault();else return;l(1,p=!p),j>-1&&f[j].id!==d&&(l(0,d=f[j].id),Z(),l(1,p=!1))},we=(R,U)=>{if(R.disabled){U.stopPropagation();return}l(0,d=R.id),Z(),Y.focus()},Se=(R,U)=>{R.disabled||l(21,j=U)},fe=({target:R})=>{y||l(1,p=Y.contains(R)?!p:!1)};return i.$$set=R=>{l(28,e=ce(ce({},e),Ee(R))),l(27,r=ke(e,o)),"items"in R&&l(3,f=R.items),"itemToString"in R&&l(4,u=R.itemToString),"selectedId"in R&&l(0,d=R.selectedId),"type"in R&&l(5,c=R.type),"direction"in R&&l(6,m=R.direction),"size"in R&&l(7,g=R.size),"open"in R&&l(1,p=R.open),"light"in R&&l(8,v=R.light),"disabled"in R&&l(9,y=R.disabled),"titleText"in R&&l(10,S=R.titleText),"invalid"in R&&l(11,k=R.invalid),"invalidText"in R&&l(12,$=R.invalidText),"warn"in R&&l(13,M=R.warn),"warnText"in R&&l(14,z=R.warnText),"helperText"in R&&l(15,C=R.helperText),"label"in R&&l(16,I=R.label),"hideLabel"in R&&l(17,B=R.hideLabel),"translateWithId"in R&&l(18,E=R.translateWithId),"id"in R&&l(19,N=R.id),"name"in R&&l(20,P=R.name),"ref"in R&&l(2,Y=R.ref),"$$scope"in R&&l(37,a=R.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&32&&l(23,t=c==="inline"),i.$$.dirty[0]&9&&l(22,n=f.find(R=>R.id===d)),i.$$.dirty[0]&2&&(p||l(21,j=-1))},e=Ee(e),[d,p,Y,f,u,c,m,g,v,y,S,k,$,M,z,C,I,B,E,N,P,j,n,t,X,Z,le,r,e,s,he,re,se,ye,we,Se,fe,a]}class Wr extends ge{constructor(e){super(),pe(this,e,Yr,Ur,_e,{items:3,itemToString:4,selectedId:0,type:5,direction:6,size:7,open:1,light:8,disabled:9,titleText:10,invalid:11,invalidText:12,warn:13,warnText:14,helperText:15,label:16,hideLabel:17,translateWithId:18,id:19,name:20,ref:2},null,[-1,-1])}}const Qr=Wr,Zr=i=>({}),ml=i=>({});function hl(i){let e=i[3].label+"",l;return{c(){l=J(e)},l(t){l=K(t,e)},m(t,n){T(t,l,n)},p(t,n){n[0]&8&&e!==(e=t[3].label+"")&&ue(l,e)},d(t){t&&h(l)}}}function Jr(i){let e,l,t,n,o,r,s,a,f,u,d,c,m=i[3]&&hl(i);o=new Tr({props:{"aria-hidden":"true",title:i[1]}});const g=i[20].default,p=rt(g,i,i[19],null);let v=[{role:"navigation"},i[10]],y={};for(let $=0;$<v.length;$+=1)y=ce(y,v[$]);const S=i[20].content,k=rt(S,i,i[19],ml);return{c(){e=F("div"),l=F("div"),t=F("a"),m&&m.c(),n=W(),q(o.$$.fragment),s=W(),a=F("ul"),p&&p.c(),f=W(),k&&k.c(),this.h()},l($){e=A($,"DIV",{role:!0});var M=D(e);l=A(M,"DIV",{role:!0,tabindex:!0,"aria-label":!0});var z=D(l);t=A(z,"A",{tabindex:!0,href:!0});var C=D(t);m&&m.l(C),C.forEach(h),n=Q(z),O(o.$$.fragment,z),z.forEach(h),s=Q(M),a=A(M,"UL",{role:!0});var I=D(a);p&&p.l(I),I.forEach(h),M.forEach(h),f=Q($),k&&k.l($),this.h()},h(){V(t,"tabindex","-1"),V(t,"href",i[2]),oe(t,"bx--tabs-trigger-text",!0),V(l,"role","listbox"),V(l,"tabindex","0"),V(l,"aria-label",r=i[11]["aria-label"]||"listbox"),oe(l,"bx--tabs-trigger",!0),V(a,"role","tablist"),oe(a,"bx--tabs__nav",!0),oe(a,"bx--tabs__nav--hidden",i[5]),Ke(e,y),oe(e,"bx--tabs",!0),oe(e,"bx--tabs--container",i[0]==="container")},m($,M){T($,e,M),w(e,l),w(l,t),m&&m.m(t,null),w(l,n),L(o,l,null),w(e,s),w(e,a),p&&p.m(a,null),i[26](a),T($,f,M),k&&k.m($,M),u=!0,d||(c=[Ve(t,"click",yt(i[22])),Ve(t,"click",Ot(yt(i[23]))),Ve(l,"click",i[24]),Ve(l,"keypress",i[21]),Ve(l,"keypress",i[25])],d=!0)},p($,M){$[3]?m?m.p($,M):(m=hl($),m.c(),m.m(t,null)):m&&(m.d(1),m=null),(!u||M[0]&4)&&V(t,"href",$[2]);const z={};M[0]&2&&(z.title=$[1]),o.$set(z),(!u||M[0]&2048&&r!==(r=$[11]["aria-label"]||"listbox"))&&V(l,"aria-label",r),p&&p.p&&(!u||M[0]&524288)&&st(p,g,$,$[19],u?ot(g,$[19],M,null):at($[19]),null),(!u||M[0]&32)&&oe(a,"bx--tabs__nav--hidden",$[5]),Ke(e,y=Ce(v,[{role:"navigation"},M[0]&1024&&$[10]])),oe(e,"bx--tabs",!0),oe(e,"bx--tabs--container",$[0]==="container"),k&&k.p&&(!u||M[0]&524288)&&st(k,S,$,$[19],u?ot(S,$[19],M,Zr):at($[19]),ml)},i($){u||(_(o.$$.fragment,$),_(p,$),_(k,$),u=!0)},o($){b(o.$$.fragment,$),b(p,$),b(k,$),u=!1},d($){$&&h(e),m&&m.d(),H(o),p&&p.d($),i[26](null),$&&h(f),k&&k.d($),d=!1,Ze(c)}}}function Kr(i,e,l){let t,n;const o=["selected","type","autoWidth","iconDescription","triggerHref"];let r=ke(e,o),s,a,f,u,{$$slots:d={},$$scope:c}=e,{selected:m=0}=e,{type:g="default"}=e,{autoWidth:p=!1}=e,{iconDescription:v="Show menu options"}=e,{triggerHref:y="#"}=e;const S=_t(),k=it([]);me(i,k,re=>l(18,f=re));const $=il(k,re=>re.reduce((se,ye)=>({...se,[ye.id]:ye}),{}));me(i,$,re=>l(28,u=re));const M=it(p),z=it(void 0);me(i,z,re=>l(16,s=re));const C=it([]);me(i,C,re=>l(17,a=re));const I=il(C,re=>re.reduce((se,ye)=>({...se,[ye.id]:ye}),{})),B=it(void 0);let E=null;di("Tabs",{tabs:k,contentById:I,selectedTab:z,selectedContent:B,useAutoWidth:M,add:re=>{k.update(se=>[...se,{...re,index:se.length}])},addContent:re=>{C.update(se=>[...se,{...re,index:se.length}])},update:re=>{l(14,P=u[re].index)},change:async re=>{let se=P+re;se<0?se=f.length-1:se>=f.length&&(se=0);let ye=f[se].disabled;for(;ye;)se=se+re,se<0?se=f.length-1:se>=f.length&&(se=0),ye=f[se].disabled;l(14,P=se),await Vi();const we=E==null?void 0:E.querySelectorAll("[role='tab']")[P];we==null||we.focus()}}),Ti(()=>{l(12,m=P),Y>-1&&Y!==P&&S("change",P),Y=P});let N=!0,P=m,Y=-1;function G(re){je.call(this,i,re)}function j(re){je.call(this,i,re)}const X=()=>{l(5,N=!N)},Z=()=>{l(5,N=!N)},le=()=>{l(5,N=!N)};function he(re){Pe[re?"unshift":"push"](()=>{E=re,l(4,E)})}return i.$$set=re=>{l(11,e=ce(ce({},e),Ee(re))),l(10,r=ke(e,o)),"selected"in re&&l(12,m=re.selected),"type"in re&&l(0,g=re.type),"autoWidth"in re&&l(13,p=re.autoWidth),"iconDescription"in re&&l(1,v=re.iconDescription),"triggerHref"in re&&l(2,y=re.triggerHref),"$$scope"in re&&l(19,c=re.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&4096&&l(14,P=m),i.$$.dirty[0]&278528&&l(3,t=f[P]||void 0),i.$$.dirty[0]&147456&&l(15,n=a[P]||void 0),i.$$.dirty[0]&32776&&(t&&z.set(t.id),n&&B.set(n.id)),i.$$.dirty[0]&65536&&s&&l(5,N=!0),i.$$.dirty[0]&8192&&M.set(p)},e=Ee(e),[g,v,y,t,E,N,k,$,z,C,r,e,m,p,P,n,s,a,f,c,d,G,j,X,Z,le,he]}class Gr extends ge{constructor(e){super(),pe(this,e,Kr,Jr,_e,{selected:12,type:0,autoWidth:13,iconDescription:1,triggerHref:2},null,[-1,-1])}}const Xr=Gr;function xr(i){let e;return{c(){e=J(i[1])},l(l){e=K(l,i[1])},m(l,t){T(l,e,t)},p(l,t){t&2&&ue(e,l[1])},d(l){l&&h(e)}}}function es(i){let e,l,t,n,o,r,s;const a=i[15].default,f=rt(a,i,i[14],null),u=f||xr(i);let d=[{tabindex:"-1"},{role:"presentation"},i[12]],c={};for(let m=0;m<d.length;m+=1)c=ce(c,d[m]);return{c(){e=F("li"),l=F("a"),u&&u.c(),this.h()},l(m){e=A(m,"LI",{tabindex:!0,role:!0});var g=D(e);l=A(g,"A",{role:!0,tabindex:!0,"aria-selected":!0,"aria-disabled":!0,id:!0,href:!0,style:!0});var p=D(l);u&&u.l(p),p.forEach(h),g.forEach(h),this.h()},h(){V(l,"role","tab"),V(l,"tabindex",t=i[3]?"-1":i[4]),V(l,"aria-selected",i[6]),V(l,"aria-disabled",i[3]),V(l,"id",i[5]),V(l,"href",i[2]),V(l,"style",n=i[7]?"width: auto":void 0),oe(l,"bx--tabs__nav-link",!0),Ke(e,c),oe(e,"bx--tabs__nav-item",!0),oe(e,"bx--tabs__nav-item--disabled",i[3]),oe(e,"bx--tabs__nav-item--selected",i[6])},m(m,g){T(m,e,g),w(e,l),u&&u.m(l,null),i[20](l),o=!0,r||(s=[Ve(e,"click",yt(i[16])),Ve(e,"click",yt(i[21])),Ve(e,"mouseover",i[17]),Ve(e,"mouseenter",i[18]),Ve(e,"mouseleave",i[19]),Ve(e,"keydown",i[22])],r=!0)},p(m,[g]){f?f.p&&(!o||g&16384)&&st(f,a,m,m[14],o?ot(a,m[14],g,null):at(m[14]),null):u&&u.p&&(!o||g&2)&&u.p(m,o?g:-1),(!o||g&24&&t!==(t=m[3]?"-1":m[4]))&&V(l,"tabindex",t),(!o||g&64)&&V(l,"aria-selected",m[6]),(!o||g&8)&&V(l,"aria-disabled",m[3]),(!o||g&32)&&V(l,"id",m[5]),(!o||g&4)&&V(l,"href",m[2]),(!o||g&128&&n!==(n=m[7]?"width: auto":void 0))&&V(l,"style",n),Ke(e,c=Ce(d,[{tabindex:"-1"},{role:"presentation"},g&4096&&m[12]])),oe(e,"bx--tabs__nav-item",!0),oe(e,"bx--tabs__nav-item--disabled",m[3]),oe(e,"bx--tabs__nav-item--selected",m[6])},i(m){o||(_(u,m),o=!0)},o(m){b(u,m),o=!1},d(m){m&&h(e),u&&u.d(m),i[20](null),r=!1,Ze(s)}}}function ts(i,e,l){let t;const n=["label","href","disabled","tabindex","id","ref"];let o=ke(e,n),r,s,{$$slots:a={},$$scope:f}=e,{label:u=""}=e,{href:d="#"}=e,{disabled:c=!1}=e,{tabindex:m="0"}=e,{id:g="ccs-"+Math.random().toString(36)}=e,{ref:p=null}=e;const{selectedTab:v,useAutoWidth:y,add:S,update:k,change:$}=mi("Tabs");me(i,v,P=>l(13,r=P)),me(i,y,P=>l(7,s=P)),S({id:g,label:u,disabled:c});function M(P){je.call(this,i,P)}function z(P){je.call(this,i,P)}function C(P){je.call(this,i,P)}function I(P){je.call(this,i,P)}function B(P){Pe[P?"unshift":"push"](()=>{p=P,l(0,p)})}const E=()=>{c||k(g)},N=({key:P})=>{c||(P==="ArrowRight"?$(1):P==="ArrowLeft"?$(-1):(P===" "||P==="Enter")&&k(g))};return i.$$set=P=>{e=ce(ce({},e),Ee(P)),l(12,o=ke(e,n)),"label"in P&&l(1,u=P.label),"href"in P&&l(2,d=P.href),"disabled"in P&&l(3,c=P.disabled),"tabindex"in P&&l(4,m=P.tabindex),"id"in P&&l(5,g=P.id),"ref"in P&&l(0,p=P.ref),"$$scope"in P&&l(14,f=P.$$scope)},i.$$.update=()=>{i.$$.dirty&8224&&l(6,t=r===g)},[p,u,d,c,m,g,t,s,v,y,k,$,o,r,f,a,M,z,C,I,B,E,N]}class ls extends ge{constructor(e){super(),pe(this,e,ts,es,_e,{label:1,href:2,disabled:3,tabindex:4,id:5,ref:0})}}const Pt=ls;function ns(i){let e,l,t,n;const o=i[12].default,r=rt(o,i,i[11],null);let s=[{role:"tabpanel"},{"aria-labelledby":i[1]},{"aria-hidden":l=!i[2]},{hidden:t=i[2]?void 0:""},{id:i[0]},i[6]],a={};for(let f=0;f<s.length;f+=1)a=ce(a,s[f]);return{c(){e=F("div"),r&&r.c(),this.h()},l(f){e=A(f,"DIV",{role:!0,"aria-labelledby":!0,"aria-hidden":!0,id:!0});var u=D(e);r&&r.l(u),u.forEach(h),this.h()},h(){Ke(e,a),oe(e,"bx--tab-content",!0)},m(f,u){T(f,e,u),r&&r.m(e,null),n=!0},p(f,[u]){r&&r.p&&(!n||u&2048)&&st(r,o,f,f[11],n?ot(o,f[11],u,null):at(f[11]),null),Ke(e,a=Ce(s,[{role:"tabpanel"},(!n||u&2)&&{"aria-labelledby":f[1]},(!n||u&4&&l!==(l=!f[2]))&&{"aria-hidden":l},(!n||u&4&&t!==(t=f[2]?void 0:""))&&{hidden:t},(!n||u&1)&&{id:f[0]},u&64&&f[6]])),oe(e,"bx--tab-content",!0)},i(f){n||(_(r,f),n=!0)},o(f){b(r,f),n=!1},d(f){f&&h(e),r&&r.d(f)}}}function is(i,e,l){let t,n,o;const r=["id"];let s=ke(e,r),a,f,u,{$$slots:d={},$$scope:c}=e,{id:m="ccs-"+Math.random().toString(36)}=e;const{selectedContent:g,addContent:p,tabs:v,contentById:y}=mi("Tabs");return me(i,g,S=>l(10,u=S)),me(i,v,S=>l(8,a=S)),me(i,y,S=>l(9,f=S)),p({id:m}),i.$$set=S=>{e=ce(ce({},e),Ee(S)),l(6,s=ke(e,r)),"id"in S&&l(0,m=S.id),"$$scope"in S&&l(11,c=S.$$scope)},i.$$.update=()=>{i.$$.dirty&1025&&l(2,t=u===m),i.$$.dirty&513&&l(7,n=f[m].index),i.$$.dirty&384&&l(1,o=a[n].id)},[m,o,t,g,v,y,s,n,a,f,u,c,d]}class rs extends ge{constructor(e){super(),pe(this,e,is,ns,_e,{id:0})}}const Rt=rs;function _l(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=K(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),w(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ss(i){let e,l,t=i[1]&&_l(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=D(e);t&&t.l(s),l=ve(s,"path",{d:!0}),D(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),$e(e,o)},m(r,s){T(r,e,s),t&&t.m(e,null),w(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=_l(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:x,o:x,d(r){r&&h(e),t&&t.d()}}}function as(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class os extends ge{constructor(e){super(),pe(this,e,as,ss,_e,{size:0,title:1})}}function gl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=K(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),w(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function fs(i){let e,l,t=i[1]&&gl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=D(e);t&&t.l(s),l=ve(s,"path",{d:!0}),D(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M24 12L16 22 8 12z"),$e(e,o)},m(r,s){T(r,e,s),t&&t.m(e,null),w(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=gl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:x,o:x,d(r){r&&h(e),t&&t.d()}}}function us(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class cs extends ge{constructor(e){super(),pe(this,e,us,fs,_e,{size:0,title:1})}}function pl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=K(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),w(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ds(i){let e,l,t=i[1]&&pl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=D(e);t&&t.l(s),l=ve(s,"path",{d:!0}),D(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M10 16L20 6 21.4 7.4 12.8 16 21.4 24.6 20 26z"),$e(e,o)},m(r,s){T(r,e,s),t&&t.m(e,null),w(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=pl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:x,o:x,d(r){r&&h(e),t&&t.d()}}}function ms(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class hs extends ge{constructor(e){super(),pe(this,e,ms,ds,_e,{size:0,title:1})}}function bl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=K(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),w(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function _s(i){let e,l,t=i[1]&&bl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=D(e);t&&t.l(s),l=ve(s,"path",{d:!0}),D(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"),$e(e,o)},m(r,s){T(r,e,s),t&&t.m(e,null),w(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=bl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:x,o:x,d(r){r&&h(e),t&&t.d()}}}function gs(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class ps extends ge{constructor(e){super(),pe(this,e,gs,_s,_e,{size:0,title:1})}}function vl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=K(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),w(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function bs(i){let e,l,t=i[1]&&vl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=D(e);t&&t.l(s),l=ve(s,"path",{d:!0}),D(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M26 24v4H6V24H4v4H4a2 2 0 002 2H26a2 2 0 002-2h0V24zM26 14L24.59 12.59 17 20.17 17 2 15 2 15 20.17 7.41 12.59 6 14 16 24 26 14z"),$e(e,o)},m(r,s){T(r,e,s),t&&t.m(e,null),w(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=vl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:x,o:x,d(r){r&&h(e),t&&t.d()}}}function vs(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class ws extends ge{constructor(e){super(),pe(this,e,vs,bs,_e,{size:0,title:1})}}function wl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=K(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),w(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ks(i){let e,l,t=i[1]&&wl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=D(e);t&&t.l(s),l=ve(s,"path",{d:!0}),D(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M16 7a3 3 0 113-3A3.0033 3.0033 0 0116 7zm0-4a1 1 0 101 1A1.001 1.001 0 0016 3zM11 30a3 3 0 113-3A3.0033 3.0033 0 0111 30zm0-4a1 1 0 101 1A1.001 1.001 0 0011 26zM7 11a3 3 0 113-3A3.0033 3.0033 0 017 11zM7 7A1 1 0 108 8 1.001 1.001 0 007 7zM21 30a3 3 0 113-3A3.0033 3.0033 0 0121 30zm0-4a1 1 0 101 1A1.001 1.001 0 0021 26zM25 11a3 3 0 113-3A3.0033 3.0033 0 0125 11zm0-4a1 1 0 101 1A1.001 1.001 0 0025 7zM4 21a3 3 0 113-3A3.0033 3.0033 0 014 21zm0-4a1 1 0 101 1A1.001 1.001 0 004 17zM28 21a3 3 0 113-3A3.0033 3.0033 0 0128 21zm0-4a1 1 0 101 1A1.001 1.001 0 0028 17zM16 22a6 6 0 116-6A6.0069 6.0069 0 0116 22zm0-10a4 4 0 104 4A4.0045 4.0045 0 0016 12z"),$e(e,o)},m(r,s){T(r,e,s),t&&t.m(e,null),w(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=wl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:x,o:x,d(r){r&&h(e),t&&t.d()}}}function Ss(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class Es extends ge{constructor(e){super(),pe(this,e,Ss,ks,_e,{size:0,title:1})}}function kl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=K(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),w(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ys(i){let e,l,t,n=i[1]&&kl(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=ce(r,o[s]);return{c(){e=be("svg"),n&&n.c(),l=be("path"),t=be("path"),this.h()},l(s){e=ve(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=D(e);n&&n.l(a),l=ve(a,"path",{d:!0}),D(l).forEach(h),t=ve(a,"path",{d:!0}),D(t).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M17 22L17 14 13 14 13 16 15 16 15 22 12 22 12 24 20 24 20 22 17 22zM16 8a1.5 1.5 0 101.5 1.5A1.5 1.5 0 0016 8z"),V(t,"d","M16,30A14,14,0,1,1,30,16,14,14,0,0,1,16,30ZM16,4A12,12,0,1,0,28,16,12,12,0,0,0,16,4Z"),$e(e,r)},m(s,a){T(s,e,a),n&&n.m(e,null),w(e,l),w(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=kl(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),$e(e,r=Ce(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:x,o:x,d(s){s&&h(e),n&&n.d()}}}function $s(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class Vt extends ge{constructor(e){super(),pe(this,e,$s,ys,_e,{size:0,title:1})}}function Sl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=K(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),w(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Ds(i){let e,l,t=i[1]&&Sl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=D(e);t&&t.l(s),l=ve(s,"path",{d:!0}),D(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M30 6L26 6 26 2 24 2 24 6 20 6 20 8 24 8 24 12 26 12 26 8 30 8 30 6zM24 28.5859l-5.9751-5.9751a9.0234 9.0234 0 10-1.4141 1.4141L22.5859 30zM4 17a7 7 0 117 7A7.0078 7.0078 0 014 17z"),$e(e,o)},m(r,s){T(r,e,s),t&&t.m(e,null),w(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=Sl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:x,o:x,d(r){r&&h(e),t&&t.d()}}}function Is(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class Vs extends ge{constructor(e){super(),pe(this,e,Is,Ds,_e,{size:0,title:1})}}function El(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=K(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),w(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Ts(i){let e,l,t=i[1]&&El(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=D(e);t&&t.l(s),l=ve(s,"path",{d:!0}),D(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M23,20a5,5,0,0,0-3.89,1.89L11.8,17.32a4.46,4.46,0,0,0,0-2.64l7.31-4.57A5,5,0,1,0,18,7a4.79,4.79,0,0,0,.2,1.32l-7.31,4.57a5,5,0,1,0,0,6.22l7.31,4.57A4.79,4.79,0,0,0,18,25a5,5,0,1,0,5-5ZM23,4a3,3,0,1,1-3,3A3,3,0,0,1,23,4ZM7,19a3,3,0,1,1,3-3A3,3,0,0,1,7,19Zm16,9a3,3,0,1,1,3-3A3,3,0,0,1,23,28Z"),$e(e,o)},m(r,s){T(r,e,s),t&&t.m(e,null),w(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=El(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:x,o:x,d(r){r&&h(e),t&&t.d()}}}function Cs(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class Ns extends ge{constructor(e){super(),pe(this,e,Cs,Ts,_e,{size:0,title:1})}}function yl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=K(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),w(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Ms(i){let e,l,t=i[1]&&yl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=D(e);t&&t.l(s),l=ve(s,"path",{d:!0}),D(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 18H16V20H2zM6 12H16V14H6zM10 6H16V8H10z"),$e(e,o)},m(r,s){T(r,e,s),t&&t.m(e,null),w(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=yl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:x,o:x,d(r){r&&h(e),t&&t.d()}}}function zs(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class Tt extends ge{constructor(e){super(),pe(this,e,zs,Ms,_e,{size:0,title:1})}}function $l(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=K(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),w(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Fs(i){let e,l,t=i[1]&&$l(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=D(e);t&&t.l(s),l=ve(s,"path",{d:!0}),D(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 6H16V8H2zM6 12H16V14H6zM10 18H16V20H10z"),$e(e,o)},m(r,s){T(r,e,s),t&&t.m(e,null),w(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=$l(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:x,o:x,d(r){r&&h(e),t&&t.d()}}}function As(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class Ct extends ge{constructor(e){super(),pe(this,e,As,Fs,_e,{size:0,title:1})}}function Dl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=K(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),w(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Bs(i){let e,l,t=i[1]&&Dl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=D(e);t&&t.l(s),l=ve(s,"path",{d:!0}),D(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M30 19.415L28.586 18 25 21.587 21.414 18 20 19.415 23.586 23 20 26.586 21.414 28 25 24.414 28.586 28 30 26.586 26.414 23 30 19.415zM10 18H16V20H10zM2 6H16V8H2zM6 12H16V14H6z"),$e(e,o)},m(r,s){T(r,e,s),t&&t.m(e,null),w(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=Dl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:x,o:x,d(r){r&&h(e),t&&t.d()}}}function Ps(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class Il extends ge{constructor(e){super(),pe(this,e,Ps,Bs,_e,{size:0,title:1})}}function Vl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=K(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),w(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Rs(i){let e,l,t,n=i[1]&&Vl(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=ce(r,o[s]);return{c(){e=be("svg"),n&&n.c(),l=be("path"),t=be("path"),this.h()},l(s){e=ve(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=D(e);n&&n.l(a),l=ve(a,"path",{d:!0}),D(l).forEach(h),t=ve(a,"path",{d:!0}),D(t).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M30.94,15.66A16.69,16.69,0,0,0,16,5,16.69,16.69,0,0,0,1.06,15.66a1,1,0,0,0,0,.68A16.69,16.69,0,0,0,16,27,16.69,16.69,0,0,0,30.94,16.34,1,1,0,0,0,30.94,15.66ZM16,25c-5.3,0-10.9-3.93-12.93-9C5.1,10.93,10.7,7,16,7s10.9,3.93,12.93,9C26.9,21.07,21.3,25,16,25Z"),V(t,"d","M16,10a6,6,0,1,0,6,6A6,6,0,0,0,16,10Zm0,10a4,4,0,1,1,4-4A4,4,0,0,1,16,20Z"),$e(e,r)},m(s,a){T(s,e,a),n&&n.m(e,null),w(e,l),w(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=Vl(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),$e(e,r=Ce(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:x,o:x,d(s){s&&h(e),n&&n.d()}}}function qs(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class Ls extends ge{constructor(e){super(),pe(this,e,qs,Rs,_e,{size:0,title:1})}}function Tl(i){let e;return{c(){e=F("div"),this.h()},l(l){e=A(l,"DIV",{id:!0,style:!0}),D(e).forEach(h),this.h()},h(){V(e,"id","svelte-infinite-scroll"),Ue(e,"width","0")},m(l,t){T(l,e,t),i[11](e)},p:x,d(l){l&&h(e),i[11](null)}}}function Hs(i){let e,l=!i[1]&&!i[0]&&Tl(i);return{c(){l&&l.c(),e=ne()},l(t){l&&l.l(t),e=ne()},m(t,n){l&&l.m(t,n),T(t,e,n)},p(t,[n]){!t[1]&&!t[0]?l?l.p(t,n):(l=Tl(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:x,o:x,d(t){l&&l.d(t),t&&h(e)}}}function Os(i,e,l){let{threshold:t=0}=e,{horizontal:n=!1}=e,{elementScroll:o=null}=e,{hasMore:r=!0}=e,{reverse:s=!1}=e,{window:a=!1}=e;const f=_t();let u=!1,d,c,m,g;const p=S=>{if(!r)return;const k=S.target;v(k,s,n)<=t?(!u&&r&&(f("loadMore"),l(8,c=k.scrollHeight),l(9,m=k.scrollTop)),l(7,u=!0)):l(7,u=!1)},v=(S,k,$)=>{const M=S.documentElement?S.documentElement:S;return k?$?M.scrollLeft:M.scrollTop:$?M.scrollWidth-M.clientWidth-M.scrollLeft:M.scrollHeight-M.clientHeight-M.scrollTop};ci(()=>{a?l(10,g=document):o?l(10,g=o):l(10,g=d.parentNode)}),Ci(()=>{g&&(g.removeEventListener("scroll",p),g.removeEventListener("resize",p))});function y(S){Pe[S?"unshift":"push"](()=>{d=S,l(2,d)})}return i.$$set=S=>{"threshold"in S&&l(3,t=S.threshold),"horizontal"in S&&l(4,n=S.horizontal),"elementScroll"in S&&l(0,o=S.elementScroll),"hasMore"in S&&l(5,r=S.hasMore),"reverse"in S&&l(6,s=S.reverse),"window"in S&&l(1,a=S.window)},i.$$.update=()=>{i.$$.dirty&1088&&g&&(s&&l(10,g.scrollTop=g.scrollHeight,g),g.addEventListener("scroll",p),g.addEventListener("resize",p)),i.$$.dirty&1984&&u&&s&&l(10,g.scrollTop=g.scrollHeight-c+m,g)},[o,a,d,t,n,r,s,u,c,m,g,y]}class js extends ge{constructor(e){super(),pe(this,e,Os,Hs,_e,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function Us(i){let e,l,t,n,o,r,s,a;t=new xi({});const f=i[3].default,u=rt(f,i,i[6],null);return{c(){e=F("div"),l=F("button"),q(t.$$.fragment),n=W(),o=F("span"),u&&u.c(),this.h()},l(d){e=A(d,"DIV",{class:!0});var c=D(e);l=A(c,"BUTTON",{class:!0});var m=D(l);O(t.$$.fragment,m),m.forEach(h),n=Q(c),o=A(c,"SPAN",{class:!0});var g=D(o);u&&u.l(g),g.forEach(h),c.forEach(h),this.h()},h(){V(l,"class","opacity-50 hover:opacity-100"),V(o,"class","truncate"),V(e,"class","removable-tag flex items-center gap-x-1")},m(d,c){T(d,e,c),w(e,l),L(t,l,null),w(e,n),w(e,o),u&&u.m(o,null),r=!0,s||(a=Ve(l,"click",Ot(i[4])),s=!0)},p(d,c){u&&u.p&&(!r||c&64)&&st(u,f,d,d[6],r?ot(f,d[6],c,null):at(d[6]),null)},i(d){r||(_(t.$$.fragment,d),_(u,d),r=!0)},o(d){b(t.$$.fragment,d),b(u,d),r=!1},d(d){d&&h(e),H(t),u&&u.d(d),s=!1,a()}}}function Ys(i){let e,l;const t=[{type:i[0]},i[2]];let n={$$slots:{default:[Us]},$$scope:{ctx:i}};for(let o=0;o<t.length;o+=1)n=ce(n,t[o]);return e=new lt({props:n}),e.$on("click",i[5]),{c(){q(e.$$.fragment)},l(o){O(e.$$.fragment,o)},m(o,r){L(e,o,r),l=!0},p(o,[r]){const s=r&5?Ce(t,[r&1&&{type:o[0]},r&4&&hi(o[2])]):{};r&64&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){l||(_(e.$$.fragment,o),l=!0)},o(o){b(e.$$.fragment,o),l=!1},d(o){H(e,o)}}}function Ws(i,e,l){const t=["type"];let n=ke(e,t),{$$slots:o={},$$scope:r}=e;const s=_t();let{type:a}=e;const f=()=>s("remove");function u(d){je.call(this,i,d)}return i.$$set=d=>{e=ce(ce({},e),Ee(d)),l(2,n=ke(e,t)),"type"in d&&l(0,a=d.type),"$$scope"in d&&l(6,r=d.$$scope)},[a,s,n,o,f,u,r]}class At extends ge{constructor(e){super(),pe(this,e,Ws,Ys,_e,{type:0})}}function Qs(i){let e=(i[2]?"":i[5])+"",l,t,n=i[0][i[1].op]+"",o,r,s;return{c(){l=J(e),t=W(),o=J(n),r=W(),s=J(i[4])},l(a){l=K(a,e),t=Q(a),o=K(a,n),r=Q(a),s=K(a,i[4])},m(a,f){T(a,l,f),T(a,t,f),T(a,o,f),T(a,r,f),T(a,s,f)},p(a,f){f&36&&e!==(e=(a[2]?"":a[5])+"")&&ue(l,e),f&2&&n!==(n=a[0][a[1].op]+"")&&ue(o,n),f&16&&ue(s,a[4])},d(a){a&&h(l),a&&h(t),a&&h(o),a&&h(r),a&&h(s)}}}function Zs(i){let e,l,t,n,o,r;return l=new At({props:{interactive:!0,type:"magenta",$$slots:{default:[Qs]},$$scope:{ctx:i}}}),l.$on("click",i[9]),l.$on("remove",i[10]),{c(){e=F("div"),q(l.$$.fragment),this.h()},l(s){e=A(s,"DIV",{class:!0});var a=D(e);O(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","filter-pill items-center")},m(s,a){T(s,e,a),L(l,e,null),n=!0,o||(r=Me(t=ze.call(null,e,{text:i[6]})),o=!0)},p(s,[a]){const f={};a&2102&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&We(t.update)&&a&64&&t.update.call(null,{text:s[6]})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){b(l.$$.fragment,s),n=!1},d(s){s&&h(e),H(l),o=!1,r()}}}function Js(i,e,l){let t,n,o,r,s;const a={equals:"=",not_equal:"≠",less:"<",less_equal:"≤",greater:">",greater_equal:"≥",in:"in",exists:"exists"};let{filter:f}=e,{hidePath:u=!1}=e;const d=Re();me(i,d,g=>l(7,s=g));const c=()=>et({command:tt.EditFilter,namespace:s.namespace,datasetName:s.datasetName,path:n}),m=()=>d.removeFilter(f);return i.$$set=g=>{"filter"in g&&l(1,f=g.filter),"hidePath"in g&&l(2,u=g.hidePath)},i.$$.update=()=>{i.$$.dirty&2&&l(4,t=De(f.value||"false")),i.$$.dirty&2&&l(3,n=jt(f.path)),i.$$.dirty&18&&l(6,o=`${Ie(f.path)} ${a[f.op]} ${t}`),i.$$.dirty&8&&l(5,r=n.at(-1))},[a,f,u,n,t,r,o,s,d,c,m]}class xt extends ge{constructor(e){super(),pe(this,e,Js,Zs,_e,{FILTER_SHORTHANDS:0,filter:1,hidePath:2})}get FILTER_SHORTHANDS(){return this.$$.ctx[0]}}function Cl(i){let e,l=i[0].query.concept_namespace+"",t,n,o=i[0].query.concept_name+"",r;return{c(){e=F("div"),t=J(l),n=J(" / "),r=J(o),this.h()},l(s){e=A(s,"DIV",{class:!0});var a=D(e);t=K(a,l),n=K(a," / "),r=K(a,o),a.forEach(h),this.h()},h(){V(e,"class","mb-2 w-full text-center text-xs")},m(s,a){T(s,e,a),w(e,t),w(e,n),w(e,r)},p(s,a){a&1&&l!==(l=s[0].query.concept_namespace+"")&&ue(t,l),a&1&&o!==(o=s[0].query.concept_name+"")&&ue(r,o)},d(s){s&&h(e)}}}function Ks(i){let e=Ie(i[0].path)+"",l,t,n=i[0].query.type+"",o;return{c(){l=J(e),t=J(": "),o=J(n)},l(r){l=K(r,e),t=K(r,": "),o=K(r,n)},m(r,s){T(r,l,s),T(r,t,s),T(r,o,s)},p(r,s){s&1&&e!==(e=Ie(r[0].path)+"")&&ue(l,e),s&1&&n!==(n=r[0].query.type+"")&&ue(o,n)},d(r){r&&h(l),r&&h(t),r&&h(o)}}}function Nl(i){let e,l,t;return l=new Wt({props:{embedding:i[0].query.embedding}}),{c(){e=F("div"),q(l.$$.fragment),this.h()},l(n){e=A(n,"DIV",{class:!0});var o=D(e);O(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"class","ml-2")},m(n,o){T(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.embedding=n[0].query.embedding),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){b(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function Ml(i){let e,l;return{c(){e=F("div"),l=J(i[2]),this.h()},l(t){e=A(t,"DIV",{class:!0});var n=D(e);l=K(n,i[2]),n.forEach(h),this.h()},h(){V(e,"class","mt-2 whitespace-pre-wrap text-left")},m(t,n){T(t,e,n),w(e,l)},p(t,n){n&4&&ue(l,t[2])},d(t){t&&h(e)}}}function Gs(i){let e,l,t,n,o,r,s,a,f=i[0].query.type==="concept"&&Cl(i);n=new lt({props:{type:i[1],$$slots:{default:[Ks]},$$scope:{ctx:i}}});let u=(i[0].query.type==="semantic"||i[0].query.type==="concept")&&Nl(i),d=i[2]&&Ml(i);return{c(){f&&f.c(),e=W(),l=F("div"),t=F("div"),q(n.$$.fragment),o=W(),u&&u.c(),r=W(),d&&d.c(),s=ne(),this.h()},l(c){f&&f.l(c),e=Q(c),l=A(c,"DIV",{class:!0});var m=D(l);t=A(m,"DIV",{class:!0});var g=D(t);O(n.$$.fragment,g),g.forEach(h),o=Q(m),u&&u.l(m),m.forEach(h),r=Q(c),d&&d.l(c),s=ne(),this.h()},h(){V(t,"class","whitespace-nowrap"),V(l,"class","flex items-center justify-items-center")},m(c,m){f&&f.m(c,m),T(c,e,m),T(c,l,m),w(l,t),L(n,t,null),w(l,o),u&&u.m(l,null),T(c,r,m),d&&d.m(c,m),T(c,s,m),a=!0},p(c,[m]){c[0].query.type==="concept"?f?f.p(c,m):(f=Cl(c),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null);const g={};m&2&&(g.type=c[1]),m&9&&(g.$$scope={dirty:m,ctx:c}),n.$set(g),c[0].query.type==="semantic"||c[0].query.type==="concept"?u?(u.p(c,m),m&1&&_(u,1)):(u=Nl(c),u.c(),_(u,1),u.m(l,null)):u&&(ee(),b(u,1,1,()=>{u=null}),te()),c[2]?d?d.p(c,m):(d=Ml(c),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null)},i(c){a||(_(n.$$.fragment,c),_(u),a=!0)},o(c){b(n.$$.fragment,c),b(u),a=!1},d(c){f&&f.d(c),c&&h(e),c&&h(l),H(n),u&&u.d(),c&&h(r),d&&d.d(c),c&&h(s)}}}function Xs(i,e,l){let t,{search:n}=e,{tagType:o="outline"}=e;return i.$$set=r=>{"search"in r&&l(0,n=r.search),"tagType"in r&&l(1,o=r.tagType)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=n.query.type==="concept"?"":n.query.search)},[n,o,t]}class zl extends ge{constructor(e){super(),pe(this,e,Xs,Gs,_e,{search:0,tagType:1})}}function xs(i){let e;return{c(){e=J(i[2])},l(l){e=K(l,i[2])},m(l,t){T(l,e,t)},p(l,t){t&4&&ue(e,l[2])},d(l){l&&h(e)}}}function ea(i){let e,l,t,n,o,r;return l=new At({props:{title:"query",interactive:!0,type:i[1],$$slots:{default:[xs]},$$scope:{ctx:i}}}),l.$on("remove",i[7]),{c(){e=F("button"),q(l.$$.fragment),this.h()},l(s){e=A(s,"BUTTON",{class:!0});var a=D(e);O(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","search-pill items-center text-left")},m(s,a){T(s,e,a),L(l,e,null),n=!0,o||(r=[Me(t=ze.call(null,e,{component:zl,props:{search:i[0],tagType:i[1]}})),Ve(e,"click",i[6])],o=!0)},p(s,[a]){const f={};a&2&&(f.type=s[1]),a&516&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&We(t.update)&&a&3&&t.update.call(null,{component:zl,props:{search:s[0],tagType:s[1]}})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){b(l.$$.fragment,s),n=!1},d(s){s&&h(e),H(l),o=!1,Ze(r)}}}function ta(i,e,l){let t,n,o,{search:r}=e;const s={keyword:"outline",semantic:"teal",concept:"green"},a=Re(),f=Qe();me(i,f,c=>l(3,o=c));function u(c){je.call(this,i,c)}const d=()=>{var c;return a.removeSearch(r,((c=o.selectRowsSchema)==null?void 0:c.data)||null)};return i.$$set=c=>{"search"in c&&l(0,r=c.search)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=r.query.type==="concept"?r.query.concept_name:r.query.search),i.$$.dirty&1&&l(1,n=r.query.type!=null?s[r.query.type]:"outline")},[r,n,t,o,a,f,u,d]}class $i extends ge{constructor(e){super(),pe(this,e,ta,ea,_e,{search:0})}}function Fl(i,e,l){const t=i.slice();return t[25]=e[l],t}function Al(i,e,l){const t=i.slice();return t[28]=e[l],t}function Bl(i,e,l){const t=i.slice();return t[31]=e[l],t}function la(i){let e,l,t,n=i[13],o=[];for(let a=0;a<n.length;a+=1)o[a]=ql(Al(i,n,a));const r=a=>b(o[a],1,1,()=>{o[a]=null});let s=i[8]!=null&&i[8].length>0&&Ll(i);return{c(){e=F("div");for(let a=0;a<o.length;a+=1)o[a].c();l=W(),s&&s.c(),this.h()},l(a){e=A(a,"DIV",{class:!0});var f=D(e);for(let u=0;u<o.length;u+=1)o[u].l(f);l=Q(f),s&&s.l(f),f.forEach(h),this.h()},h(){V(e,"class","flex w-full flex-row gap-x-4")},m(a,f){T(a,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);w(e,l),s&&s.m(e,null),t=!0},p(a,f){if(f[0]&57352){n=a[13];let u;for(u=0;u<n.length;u+=1){const d=Al(a,n,u);o[u]?(o[u].p(d,f),_(o[u],1)):(o[u]=ql(d),o[u].c(),_(o[u],1),o[u].m(e,l))}for(ee(),u=n.length;u<o.length;u+=1)r(u);te()}a[8]!=null&&a[8].length>0?s?(s.p(a,f),f[0]&256&&_(s,1)):(s=Ll(a),s.c(),_(s,1),s.m(e,null)):s&&(ee(),b(s,1,1,()=>{s=null}),te())},i(a){if(!t){for(let f=0;f<n.length;f+=1)_(o[f]);_(s),t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)b(o[f]);b(s),t=!1},d(a){a&&h(e),Ae(o,a),s&&s.d()}}}function Pl(i){let e,l,t=i[14][i[28]]+"",n,o,r,s,a,f=i[3][i[28]],u=[];for(let c=0;c<f.length;c+=1)u[c]=Rl(Bl(i,f,c));const d=c=>b(u[c],1,1,()=>{u[c]=null});return{c(){e=F("div"),l=F("div"),n=J(t),o=W(),r=F("div");for(let c=0;c<u.length;c+=1)u[c].c();s=W(),this.h()},l(c){e=A(c,"DIV",{class:!0});var m=D(e);l=A(m,"DIV",{class:!0});var g=D(l);n=K(g,t),g.forEach(h),o=Q(m),r=A(m,"DIV",{class:!0});var p=D(r);for(let v=0;v<u.length;v+=1)u[v].l(p);p.forEach(h),s=Q(m),m.forEach(h),this.h()},h(){V(l,"class","text-xs font-light"),V(r,"class","flex flex-row gap-x-1"),V(e,"class","filter-group items-center rounded bg-slate-50 px-2 py-1 shadow-sm svelte-fyw6pu")},m(c,m){T(c,e,m),w(e,l),w(l,n),w(e,o),w(e,r);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(r,null);w(e,s),a=!0},p(c,m){if(m[0]&40968){f=c[3][c[28]];let g;for(g=0;g<f.length;g+=1){const p=Bl(c,f,g);u[g]?(u[g].p(p,m),_(u[g],1)):(u[g]=Rl(p),u[g].c(),_(u[g],1),u[g].m(r,null))}for(ee(),g=f.length;g<u.length;g+=1)d(g);te()}},i(c){if(!a){for(let m=0;m<f.length;m+=1)_(u[m]);a=!0}},o(c){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)b(u[m]);a=!1},d(c){c&&h(e),Ae(u,c)}}}function Rl(i){let e,l;function t(){return i[22](i[31])}return e=new $i({props:{search:i[31]}}),e.$on("click",t),{c(){q(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,o){L(e,n,o),l=!0},p(n,o){i=n;const r={};o[0]&8&&(r.search=i[31]),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){b(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function ql(i){let e,l,t=i[3][i[28]]&&Pl(i);return{c(){t&&t.c(),e=ne()},l(n){t&&t.l(n),e=ne()},m(n,o){t&&t.m(n,o),T(n,e,o),l=!0},p(n,o){n[3][n[28]]?t?(t.p(n,o),o[0]&8&&_(t,1)):(t=Pl(n),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(ee(),b(t,1,1,()=>{t=null}),te())},i(n){l||(_(t),l=!0)},o(n){b(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Ll(i){let e,l,t,n,o,r,s=i[8],a=[];for(let u=0;u<s.length;u+=1)a[u]=Hl(Fl(i,s,u));const f=u=>b(a[u],1,1,()=>{a[u]=null});return{c(){e=F("div"),l=F("div"),t=J("Filters"),n=W(),o=F("div");for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=A(u,"DIV",{class:!0});var d=D(e);l=A(d,"DIV",{class:!0});var c=D(l);t=K(c,"Filters"),c.forEach(h),n=Q(d),o=A(d,"DIV",{class:!0});var m=D(o);for(let g=0;g<a.length;g+=1)a[g].l(m);m.forEach(h),d.forEach(h),this.h()},h(){V(l,"class","text-xs font-light"),V(o,"class","flex flex-row gap-x-1"),V(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-fyw6pu")},m(u,d){T(u,e,d),w(e,l),w(l,t),w(e,n),w(e,o);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(o,null);r=!0},p(u,d){if(d[0]&256){s=u[8];let c;for(c=0;c<s.length;c+=1){const m=Fl(u,s,c);a[c]?(a[c].p(m,d),_(a[c],1)):(a[c]=Hl(m),a[c].c(),_(a[c],1),a[c].m(o,null))}for(ee(),c=s.length;c<a.length;c+=1)f(c);te()}},i(u){if(!r){for(let d=0;d<s.length;d+=1)_(a[d]);r=!0}},o(u){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)b(a[d]);r=!1},d(u){u&&h(e),Ae(a,u)}}}function Hl(i){let e,l;return e=new xt({props:{filter:i[25]}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&256&&(o.filter=t[25]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ol(i){let e=De(i[0])+"",l,t,n=De(i[1].dataset_manifest.num_items)+"",o,r;return{c(){l=J(e),t=J(" of "),o=J(n),r=J(" rows")},l(s){l=K(s,e),t=K(s," of "),o=K(s,n),r=K(s," rows")},m(s,a){T(s,l,a),T(s,t,a),T(s,o,a),T(s,r,a)},p(s,a){a[0]&1&&e!==(e=De(s[0])+"")&&ue(l,e),a[0]&2&&n!==(n=De(s[1].dataset_manifest.num_items)+"")&&ue(o,n)},d(s){s&&h(l),s&&h(t),s&&h(o),s&&h(r)}}}function jl(i){let e,l;return e=new Ye({props:{class:"top-2",kind:"ghost",expressive:!0,icon:$r,disabled:i[4]==null,iconDescription:"Clear sort"}}),e.$on("click",i[18]),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&16&&(o.disabled=t[4]==null),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ul(i){let e,l;return e=new Gt({props:{open:!0,modalHeading:"Concept",passiveModal:!0,size:"lg",$$slots:{default:[sa]},$$scope:{ctx:i}}}),e.$on("close",i[23]),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&1024|n[1]&8&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function na(i){let e,l;return e=new tr({props:{concept:i[10].data}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&1024&&(o.concept=t[10].data),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ia(i){let e,l=i[10].error.message+"",t;return{c(){e=F("p"),t=J(l)},l(n){e=A(n,"P",{});var o=D(e);t=K(o,l),o.forEach(h)},m(n,o){T(n,e,o),w(e,t)},p(n,o){o[0]&1024&&l!==(l=n[10].error.message+"")&&ue(t,l)},i:x,o:x,d(n){n&&h(e)}}}function ra(i){let e,l;return e=new Le({}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function sa(i){let e,l,t,n;const o=[ra,ia,na],r=[];function s(a,f){var u,d,c;return(u=a[10])!=null&&u.isLoading?0:(d=a[10])!=null&&d.isError?1:(c=a[10])!=null&&c.isSuccess?2:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=ne()},l(a){l&&l.l(a),t=ne()},m(a,f){~e&&r[e].m(a,f),T(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?~e&&r[e].p(a,f):(l&&(ee(),b(r[u],1,1,()=>{r[u]=null}),te()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(_(l),n=!0)},o(a){b(l),n=!1},d(a){~e&&r[e].d(a),a&&h(t)}}}function aa(i){var M,z,C;let e,l,t,n,o,r,s,a,f,u,d,c,m,g,p,v,y=i[13].length>0&&la(i),S=i[0]&&i[1]&&Ol(i),k=i[6]!=null&&jl(i);u=new Qr({props:{size:"sm",titleText:"Sort by",class:"w-36",selectedId:i[5],items:i[7]}}),u.$on("select",i[16]),m=new Ye({props:{class:"top-2",kind:"ghost",expressive:!0,icon:((M=i[4])==null?void 0:M.order)==null?Il:((z=i[4])==null?void 0:z.order)==="ASC"?Tt:Ct,disabled:i[4]==null,tooltipPosition:"bottom",tooltipAlignment:"end",iconDescription:((C=i[4])==null?void 0:C.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."}}),m.$on("click",i[17]);let $=i[2]&&Ul(i);return{c(){e=F("div"),l=F("div"),y&&y.c(),t=W(),n=F("div"),o=F("div"),S&&S.c(),r=W(),s=F("div"),a=F("div"),k&&k.c(),f=W(),q(u.$$.fragment),d=W(),c=F("div"),q(m.$$.fragment),g=W(),$&&$.c(),p=ne(),this.h()},l(I){e=A(I,"DIV",{class:!0});var B=D(e);l=A(B,"DIV",{class:!0});var E=D(l);y&&y.l(E),t=Q(E),n=A(E,"DIV",{class:!0});var N=D(n);o=A(N,"DIV",{class:!0});var P=D(o);S&&S.l(P),P.forEach(h),r=Q(N),s=A(N,"DIV",{class:!0});var Y=D(s);a=A(Y,"DIV",{class:!0});var G=D(a);k&&k.l(G),G.forEach(h),f=Q(Y),O(u.$$.fragment,Y),d=Q(Y),c=A(Y,"DIV",{class:!0});var j=D(c);O(m.$$.fragment,j),j.forEach(h),Y.forEach(h),N.forEach(h),E.forEach(h),B.forEach(h),g=Q(I),$&&$.l(I),p=ne(),this.h()},h(){V(o,"class","self-end py-1"),V(a,"class","ml-1 w-8"),V(c,"class","ml-1"),V(s,"class","sort-container flex flex-row items-center"),V(n,"class","flex w-full flex-row items-end justify-between"),V(l,"class","flex w-full flex-col"),V(e,"class","mx-5 my-2 flex items-center justify-between")},m(I,B){T(I,e,B),w(e,l),y&&y.m(l,null),w(l,t),w(l,n),w(n,o),S&&S.m(o,null),w(n,r),w(n,s),w(s,a),k&&k.m(a,null),w(s,f),L(u,s,null),w(s,d),w(s,c),L(m,c,null),T(I,g,B),$&&$.m(I,B),T(I,p,B),v=!0},p(I,B){var P,Y,G;I[13].length>0&&y.p(I,B),I[0]&&I[1]?S?S.p(I,B):(S=Ol(I),S.c(),S.m(o,null)):S&&(S.d(1),S=null),I[6]!=null?k?(k.p(I,B),B[0]&64&&_(k,1)):(k=jl(I),k.c(),_(k,1),k.m(a,null)):k&&(ee(),b(k,1,1,()=>{k=null}),te());const E={};B[0]&32&&(E.selectedId=I[5]),B[0]&128&&(E.items=I[7]),u.$set(E);const N={};B[0]&16&&(N.icon=((P=I[4])==null?void 0:P.order)==null?Il:((Y=I[4])==null?void 0:Y.order)==="ASC"?Tt:Ct),B[0]&16&&(N.disabled=I[4]==null),B[0]&16&&(N.iconDescription=((G=I[4])==null?void 0:G.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."),m.$set(N),I[2]?$?($.p(I,B),B[0]&4&&_($,1)):($=Ul(I),$.c(),_($,1),$.m(p.parentNode,p)):$&&(ee(),b($,1,1,()=>{$=null}),te())},i(I){v||(_(y),_(k),_(u.$$.fragment,I),_(m.$$.fragment,I),_($),v=!0)},o(I){b(y),b(k),b(u.$$.fragment,I),b(m.$$.fragment,I),b($),v=!1},d(I){I&&h(e),y&&y.d(),S&&S.d(),k&&k.d(),H(u),H(m),I&&h(g),$&&$.d(I),I&&h(p)}}}function oa(i,e,l){let t,n,o,r,s,a,f,u,d,c,m=x,g=()=>(m(),m=Be(t,G=>l(10,c=G)),t);i.$$.on_destroy.push(()=>m());let{totalNumRows:p}=e,{manifest:v}=e,y=Re();me(i,y,G=>l(21,d=G));let S=Qe();me(i,S,G=>l(20,u=G));let k=null;const $=["keyword","semantic","concept"],M={keyword:"Keyword",semantic:"Semantic",concept:"Concepts"};let z={};function C(G){if(G.query.type==="concept"){const j=G.query;l(2,k={namespace:j.concept_namespace,name:j.concept_name})}}let I={};const B=G=>{if(G.detail.selectedId==null){y.setSortBy(null);return}y.setSortBy(jt(G.detail.selectedId))},E=()=>{r!=null&&y.setSortBy(r.path),y.setSortOrder((r==null?void 0:r.order)==="ASC"?"DESC":"ASC")},N=()=>{y.clearSorts()},P=G=>C(G),Y=()=>l(2,k=null);return i.$$set=G=>{"totalNumRows"in G&&l(0,p=G.totalNumRows),"manifest"in G&&l(1,v=G.manifest)},i.$$.update=()=>{var G,j,X,Z;if(i.$$.dirty[0]&4&&g(l(9,t=k?Fi(k.namespace,k.name):void 0)),i.$$.dirty[0]&2097152&&l(19,n=Qt(d)),i.$$.dirty[0]&2097152&&l(8,o=d.query.filters),i.$$.dirty[0]&524296){l(3,z={});for(const le of n)le.query.type&&(le.query.type in z||l(3,z[le.query.type]=[],z),z[le.query.type].push(le))}if(i.$$.dirty[0]&1048576&&l(4,r=er(u)),i.$$.dirty[0]&1048576)for(const le of((j=(G=u.selectRowsSchema)==null?void 0:G.data)==null?void 0:j.search_results)||[])I[Ie(le.result_path)]=le;i.$$.dirty[0]&16&&l(5,s=r!=null&&r.path?Ie(r.path):null),i.$$.dirty[0]&2097152&&l(6,a=d.query.sort_by),i.$$.dirty[0]&1048672&&l(7,f=((Z=(X=u.selectRowsSchema)==null?void 0:X.data)==null?void 0:Z.schema)!=null?[{id:null,text:"None",disabled:a==null&&s!=null},...Ut(u.selectRowsSchema.data.schema).map(le=>{const he=Ie(le.path);return{id:he,text:he}})]:[])},[p,v,k,z,r,s,a,f,o,t,c,y,S,$,M,C,B,E,N,n,u,d,P,Y]}class fa extends ge{constructor(e){super(),pe(this,e,oa,aa,_e,{totalNumRows:0,manifest:1},null,[-1,-1])}}function Yl(i,e,l){var r,s,a;const t=i.slice();t[19]=e[l],t[23]=l;const n=t[2].length>1?`[${t[23]}]`:"";t[20]=n;const o=((a=(s=(r=t[6].data)==null?void 0:r.ui)==null?void 0:s.markdown_paths)==null?void 0:a.find(f=>qe(f,t[0])))!=null;return t[21]=o,t}function Wl(i){let e,l,t,n=i[0].join(".")+i[20]+"",o,r,s,a,f,u;return a=new lr({props:{text:De(i[19]),row:i[1],markdown:i[21],spanPaths:i[4],valuePaths:i[7],datasetViewStore:i[8],datasetStore:i[5]}}),{c(){e=F("div"),l=F("div"),t=F("div"),o=J(n),r=W(),s=F("div"),q(a.$$.fragment),f=W(),this.h()},l(d){e=A(d,"DIV",{class:!0});var c=D(e);l=A(c,"DIV",{class:!0});var m=D(l);t=A(m,"DIV",{class:!0});var g=D(t);o=K(g,n),g.forEach(h),r=Q(m),s=A(m,"DIV",{class:!0});var p=D(s);O(a.$$.fragment,p),p.forEach(h),m.forEach(h),f=Q(c),c.forEach(h),this.h()},h(){V(t,"class","sticky top-0 z-10 w-full self-start border-t border-neutral-200 bg-neutral-100 px-2 py-2 pb-2 font-mono font-medium text-neutral-500"),V(s,"class","font-normal"),V(l,"class","flex w-full flex-col"),V(e,"class","flex flex-row")},m(d,c){T(d,e,c),w(e,l),w(l,t),w(t,o),w(l,r),w(l,s),L(a,s,null),w(e,f),u=!0},p(d,c){(!u||c&5)&&n!==(n=d[0].join(".")+d[20]+"")&&ue(o,n);const m={};c&4&&(m.text=De(d[19])),c&2&&(m.row=d[1]),c&65&&(m.markdown=d[21]),c&16&&(m.spanPaths=d[4]),c&32&&(m.datasetStore=d[5]),a.$set(m)},i(d){u||(_(a.$$.fragment,d),u=!0)},o(d){b(a.$$.fragment,d),u=!1},d(d){d&&h(e),H(a)}}}function ua(i){let e,l,t=i[2],n=[];for(let r=0;r<t.length;r+=1)n[r]=Wl(Yl(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);T(r,e,s),l=!0},p(r,[s]){if(s&503){t=r[2];let a;for(a=0;a<t.length;a+=1){const f=Yl(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Wl(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)b(n[s]);l=!1},d(r){Ae(n,r),r&&h(e)}}}function ca(i,e,l){let t,n,o,r,s,a,f,u,d,c,m,g,p=x,v=()=>(p(),p=Be(u,I=>l(6,g=I)),u);i.$$.on_destroy.push(()=>p());let{path:y}=e,{row:S}=e,{field:k}=e,$=[];const M=Re();me(i,M,I=>l(17,c=I));const z=Qe();me(i,z,I=>l(5,m=I));const C=m.visibleFields||[];return i.$$set=I=>{"path"in I&&l(0,y=I.path),"row"in I&&l(1,S=I.row),"field"in I&&l(10,k=I.field)},i.$$.update=()=>{if(i.$$.dirty&1024&&l(16,t=wt(k)),i.$$.dirty&65536&&l(13,n=t.filter(I=>Ai(I.signal))),i.$$.dirty&65536&&l(12,o=t.filter(I=>{var B;return((B=I.signal)==null?void 0:B.signal_name)==="concept_labels"})),i.$$.dirty&65536&&l(11,r=t.filter(I=>{var B;return((B=I.signal)==null?void 0:B.signal_name)==="semantic_similarity"})),i.$$.dirty&65536&&l(14,s=t.filter(I=>{var B;return((B=I.signal)==null?void 0:B.signal_name)==="substring_search"})),i.$$.dirty&65536&&l(15,a=t.filter(I=>I.dtype==="string_span")),i.$$.dirty&32768&&l(4,f=a.map(I=>I.path)),i.$$.dirty&63488)for(const I of a){const E=wt(I).filter(Y=>Y.dtype!="string_span").filter(Y=>C==null?void 0:C.some(G=>qe(G.path,Y.path))).filter(Y=>Y.dtype!=null&&Y.dtype!="embedding"),N=I.path,P=s.find(Y=>vt(I.path,Y.path));if(P!=null){const Y=P.signal;$.push({path:I.path,spanPath:N,type:"keyword",name:Y.query,dtype:I.dtype,signal:Y})}for(const Y of E){const G=n.find(Z=>vt(Y.path,Z.path)),j=o.find(Z=>vt(Y.path,Z.path)),X=r.find(Z=>vt(Y.path,Z.path));if(G!=null){const Z=G.signal;$.push({path:Y.path,spanPath:N,type:"concept_score",name:`${Z.namespace}/${Z.concept_name}`,dtype:Y.dtype,signal:Z})}else if(j!=null){const Z=j.signal;$.push({path:Y.path,spanPath:N,type:"label",name:`${Z.namespace}/${Z.concept_name} label`,dtype:Y.dtype,signal:Z})}else if(X!=null){const Z=X.signal;$.push({path:Y.path,spanPath:N,type:"semantic_similarity",name:`similarity: ${Z.query}`,dtype:Y.dtype,signal:Z})}else $.push({path:Y.path,spanPath:N,type:"metadata",name:Y.path[Y.path.length-1],dtype:Y.dtype})}}i.$$.dirty&131072&&v(l(3,u=Nt(c.namespace,c.datasetName))),i.$$.dirty&3&&l(2,d=Bi(S,y).map(I=>Je.value(I)).filter(Dr))},[y,S,d,u,f,m,g,$,M,z,k,r,o,n,s,a,t,c]}class da extends ge{constructor(e){super(),pe(this,e,ca,ua,_e,{path:0,row:1,field:10})}}function ma(i){let e,l,t,n,o;const r=[i[3],{type:i[0]?"green":"blue"},{icon:i[2]}];let s={};for(let a=0;a<r.length;a+=1)s=ce(s,r[a]);return l=new lt({props:s}),{c(){e=F("div"),q(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var f=D(e);O(l.$$.fragment,f),f.forEach(h),this.h()},h(){V(e,"class","signal-badge")},m(a,f){T(a,e,f),L(l,e,null),t=!0,n||(o=Me(ze.call(null,e,{text:i[1]})),n=!0)},p(a,[f]){const u=f&13?Ce(r,[f&8&&hi(a[3]),f&1&&{type:a[0]?"green":"blue"},f&4&&{icon:a[2]}]):{};l.$set(u)},i(a){t||(_(l.$$.fragment,a),t=!0)},o(a){b(l.$$.fragment,a),t=!1},d(a){a&&h(e),H(l),n=!1,o()}}}function ha(i,e,l){const t=["isPreview"];let n=ke(e,t),{isPreview:o=!1}=e;const r=o?"Signal is in preview mode and has not been computed for the whole dataset.":"This field was generated by a signal.",s=o?Ls:Es;return i.$$set=a=>{e=ce(ce({},e),Ee(a)),l(3,n=ke(e,t)),"isPreview"in a&&l(0,o=a.isPreview)},[o,r,s,n]}class el extends ge{constructor(e){super(),pe(this,e,ha,ma,_e,{isPreview:0})}}function Ql(i,e,l){const t=i.slice();return t[0]=e[l],t}function Zl(i){let e,l,t=[],n=new Map,o,r=i[1];const s=a=>Ie(a[0].path);for(let a=0;a<r.length;a+=1){let f=Ql(i,r,a),u=s(f);n.set(u,t[a]=Jl(u,f))}return{c(){e=F("div"),l=F("table");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=A(a,"DIV",{class:!0});var f=D(e);l=A(f,"TABLE",{class:!0});var u=D(l);for(let d=0;d<t.length;d+=1)t[d].l(u);u.forEach(h),f.forEach(h),this.h()},h(){V(l,"class","table w-full table-fixed border-collapse px-2 pt-1"),V(e,"class","border-t border-neutral-200 px-2 py-4")},m(a,f){T(a,e,f),w(e,l);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(l,null);o=!0},p(a,f){f&2&&(r=a[1],ee(),t=gt(t,f,s,1,a,r,n,l,pt,Jl,null,Ql),te())},i(a){if(!o){for(let f=0;f<r.length;f+=1)_(t[f]);o=!0}},o(a){for(let f=0;f<t.length;f+=1)b(t[f]);o=!1},d(a){a&&h(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function _a(i){let e,l;return e=new el({props:{isPreview:i[0].isPreviewSignal}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&2&&(o.isPreview=t[0].isPreviewSignal),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ga(i){var t;let e,l;return e=new Wt({props:{hideEmbeddingName:!0,embedding:(t=i[0].field.signal)==null?void 0:t.signal_name}}),{c(){q(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,o){L(e,n,o),l=!0},p(n,o){var s;const r={};o&2&&(r.embedding=(s=n[0].field.signal)==null?void 0:s.signal_name),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){b(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function Jl(i,e){let l,t,n,o=e[0].fieldName+"",r,s,a,f,u,d,c,m,g,p=e[0].formattedValue+"",v,y,S,k;const $=[ga,_a],M=[];function z(C,I){return C[0].isEmbeddingSignal?0:C[0].isSignal?1:-1}return~(u=z(e))&&(d=M[u]=$[u](e)),{key:i,first:null,c(){l=F("tr"),t=F("td"),n=F("span"),r=J(o),a=W(),f=F("td"),d&&d.c(),c=W(),m=F("td"),g=F("div"),v=J(p),S=W(),this.h()},l(C){l=A(C,"TR",{class:!0});var I=D(l);t=A(I,"TD",{class:!0});var B=D(t);n=A(B,"SPAN",{title:!0});var E=D(n);r=K(E,o),E.forEach(h),B.forEach(h),a=Q(I),f=A(I,"TD",{class:!0});var N=D(f);d&&d.l(N),N.forEach(h),c=Q(I),m=A(I,"TD",{class:!0});var P=D(m);g=A(P,"DIV",{title:!0,class:!0});var Y=D(g);v=K(Y,p),Y.forEach(h),P.forEach(h),S=Q(I),I.forEach(h),this.h()},h(){V(n,"title",s=e[0].fieldName),Ue(n,"padding-left",`${e[0].indentLevel*12}px`),V(t,"class","truncate p-2 font-mono text-xs font-medium text-neutral-500"),V(f,"class","w-10"),V(g,"title",y=`${e[0].value}`),V(g,"class","truncate pr-2 text-xs"),oe(g,"italic",e[0].formattedValue===null),V(m,"class","p-2"),V(l,"class","border-gray-300"),this.first=l},m(C,I){T(C,l,I),w(l,t),w(t,n),w(n,r),w(l,a),w(l,f),~u&&M[u].m(f,null),w(l,c),w(l,m),w(m,g),w(g,v),w(l,S),k=!0},p(C,I){e=C,(!k||I&2)&&o!==(o=e[0].fieldName+"")&&ue(r,o),(!k||I&2&&s!==(s=e[0].fieldName))&&V(n,"title",s),I&2&&Ue(n,"padding-left",`${e[0].indentLevel*12}px`);let B=u;u=z(e),u===B?~u&&M[u].p(e,I):(d&&(ee(),b(M[B],1,1,()=>{M[B]=null}),te()),~u?(d=M[u],d?d.p(e,I):(d=M[u]=$[u](e),d.c()),_(d,1),d.m(f,null)):d=null),(!k||I&2)&&p!==(p=e[0].formattedValue+"")&&ue(v,p),(!k||I&2&&y!==(y=`${e[0].value}`))&&V(g,"title",y),(!k||I&2)&&oe(g,"italic",e[0].formattedValue===null)},i(C){k||(_(d),k=!0)},o(C){b(d),k=!1},d(C){C&&h(l),~u&&M[u].d()}}}function pa(i){let e,l,t=i[1].length>0&&Zl(i);return{c(){t&&t.c(),e=ne()},l(n){t&&t.l(n),e=ne()},m(n,o){t&&t.m(n,o),T(n,e,o),l=!0},p(n,[o]){n[1].length>0?t?(t.p(n,o),o&2&&_(t,1)):(t=Zl(n),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(ee(),b(t,1,1,()=>{t=null}),te())},i(n){l||(_(t),l=!0)},o(n){b(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function ba(i,e,l){let t,n,o,{row:r}=e,{visibleFields:s}=e;const a=Qe();me(i,a,d=>l(5,n=d));const f=Xt();me(i,f,d=>l(6,o=d));function u(d){const c=Pi(d).filter(g=>nr(g,s)),m=c.filter(g=>{var p;return((p=Je.field(g))==null?void 0:p.dtype)==="string_span"}).map(g=>Je.path(g));return c.filter(g=>!m.some(p=>vt(Je.path(g),p))).map(g=>{var M,z;const p=Je.field(g),v=Je.path(g);let y=Je.value(g);if(p.dtype==="string_span")return null;const S=((M=o.data)==null?void 0:M.some(C=>{var I;return C.name===((I=p.signal)==null?void 0:I.signal_name)}))||!1,k=dt(p);let $;return S||k&&p.dtype==null||p.dtype==="embedding"||p.repeated_field!=null?$="":y==null?$=null:$=De(y),{indentLevel:v.length-1,fieldName:v[v.length-1],field:p,path:v,isSignal:k,isPreviewSignal:Mt(((z=n.selectRowsSchema)==null?void 0:z.data)||null,v),isEmbeddingSignal:S,value:y,formattedValue:$}}).filter(g=>g!=null)}return i.$$set=d=>{"row"in d&&l(0,r=d.row),"visibleFields"in d&&l(4,s=d.visibleFields)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=u(r))},[r,t,a,f,s]}class va extends ge{constructor(e){super(),pe(this,e,ba,pa,_e,{row:0,visibleFields:4})}}function Kl(i,e,l){const t=i.slice();return t[5]=e[l],t[7]=l,t}function Gl(i){let e,l=[],t=new Map,n,o,r=i[1];const s=a=>Ie(a[5].path);for(let a=0;a<r.length;a+=1){let f=Kl(i,r,a),u=s(f);t.set(u,l[a]=Xl(u,f))}return{c(){e=F("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=A(a,"DIV",{class:!0});var f=D(e);for(let u=0;u<l.length;u+=1)l[u].l(f);f.forEach(h),this.h()},h(){V(e,"class","w-2/3 overflow-hidden"),kt(()=>i[4].call(e))},m(a,f){T(a,e,f);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);n=Ni(e,i[4].bind(e)),o=!0},p(a,f){f&3&&(r=a[1],ee(),l=gt(l,f,s,1,a,r,t,e,pt,Xl,null,Kl),te())},i(a){if(!o){for(let f=0;f<r.length;f+=1)_(l[f]);o=!0}},o(a){for(let f=0;f<l.length;f+=1)b(l[f]);o=!1},d(a){a&&h(e);for(let f=0;f<l.length;f+=1)l[f].d();n()}}}function Xl(i,e){let l,t,n,o;return t=new da({props:{row:e[0],path:e[5].path,field:e[5]}}),{key:i,first:null,c(){l=F("div"),q(t.$$.fragment),n=W(),this.h()},l(r){l=A(r,"DIV",{class:!0});var s=D(l);O(t.$$.fragment,s),n=Q(s),s.forEach(h),this.h()},h(){V(l,"class","border-gray-100"),oe(l,"border-b",e[7]<e[1].length-1),this.first=l},m(r,s){T(r,l,s),L(t,l,null),w(l,n),o=!0},p(r,s){e=r;const a={};s&1&&(a.row=e[0]),s&2&&(a.path=e[5].path),s&2&&(a.field=e[5]),t.$set(a),(!o||s&2)&&oe(l,"border-b",e[7]<e[1].length-1)},i(r){o||(_(t.$$.fragment,r),o=!0)},o(r){b(t.$$.fragment,r),o=!1},d(r){r&&h(l),H(t)}}}function wa(i){let e,l,t,n,o,r,s,a,f,u=i[1].length>0&&Gl(i);return s=new va({props:{row:i[0],visibleFields:i[2]}}),{c(){e=F("div"),l=F("div"),u&&u.c(),t=W(),n=F("div"),o=F("div"),r=F("div"),q(s.$$.fragment),this.h()},l(d){e=A(d,"DIV",{class:!0});var c=D(e);l=A(c,"DIV",{class:!0});var m=D(l);u&&u.l(m),t=Q(m),n=A(m,"DIV",{class:!0});var g=D(n);o=A(g,"DIV",{class:!0});var p=D(o);r=A(p,"DIV",{style:!0,class:!0});var v=D(r);O(s.$$.fragment,v),v.forEach(h),p.forEach(h),g.forEach(h),m.forEach(h),c.forEach(h),this.h()},h(){V(r,"style",a=`max-height: ${Math.max(xl,i[3])}px`),V(r,"class","overflow-y-auto"),V(o,"class","sticky top-0 self-start"),V(n,"class","flex h-full w-1/3 bg-neutral-100"),V(l,"class","flex h-full w-full flex-row"),V(e,"class","mx-5 mb-10 rounded border-x border-b border-neutral-200 shadow-md")},m(d,c){T(d,e,c),w(e,l),u&&u.m(l,null),w(l,t),w(l,n),w(n,o),w(o,r),L(s,r,null),f=!0},p(d,[c]){d[1].length>0?u?(u.p(d,c),c&2&&_(u,1)):(u=Gl(d),u.c(),_(u,1),u.m(l,t)):u&&(ee(),b(u,1,1,()=>{u=null}),te());const m={};c&1&&(m.row=d[0]),c&4&&(m.visibleFields=d[2]),s.$set(m),(!f||c&8&&a!==(a=`max-height: ${Math.max(xl,d[3])}px`))&&V(r,"style",a)},i(d){f||(_(u),_(s.$$.fragment,d),f=!0)},o(d){b(u),b(s.$$.fragment,d),f=!1},d(d){d&&h(e),u&&u.d(),H(s)}}}const xl=320;function ka(i,e,l){let{row:t}=e,{mediaFields:n}=e,{visibleFields:o}=e,r=0;function s(){r=this.clientHeight,l(3,r)}return i.$$set=a=>{"row"in a&&l(0,t=a.row),"mediaFields"in a&&l(1,n=a.mediaFields),"visibleFields"in a&&l(2,o=a.visibleFields)},[t,n,o,r,s]}class Sa extends ge{constructor(e){super(),pe(this,e,ka,wa,_e,{row:0,mediaFields:1,visibleFields:2})}}function en(i,e,l){const t=i.slice();return t[21]=e[l],t}function Ea(i){let e,l;return{c(){e=F("div"),l=J("No results."),this.h()},l(t){e=A(t,"DIV",{class:!0});var n=D(e);l=K(n,"No results."),n.forEach(h),this.h()},h(){V(e,"class","mx-4 mt-8 w-full text-gray-600")},m(t,n){T(t,e,n),w(e,l)},p:x,i:x,o:x,d(t){t&&h(e)}}}function ya(i){let e,l;return{c(){e=F("div"),l=J("Select fields to display"),this.h()},l(t){e=A(t,"DIV",{class:!0});var n=D(e);l=K(n,"Select fields to display"),n.forEach(h),this.h()},h(){V(e,"class","mt-12 w-full text-center text-gray-600")},m(t,n){T(t,e,n),w(e,l)},p:x,i:x,o:x,d(t){t&&h(e)}}}function $a(i){let e,l;return e=new Le({props:{paragraph:!0,lines:3}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Da(i){var t,n;let e,l;return e=new Jt({props:{lowContrast:!0,title:"Could not fetch schema:",subtitle:((t=i[2].error.body)==null?void 0:t.detail)||((n=i[2])==null?void 0:n.error.message)}}),{c(){q(e.$$.fragment)},l(o){O(e.$$.fragment,o)},m(o,r){L(e,o,r),l=!0},p(o,r){var a,f;const s={};r&4&&(s.subtitle=((a=o[2].error.body)==null?void 0:a.detail)||((f=o[2])==null?void 0:f.error.message)),e.$set(s)},i(o){l||(_(e.$$.fragment,o),l=!0)},o(o){b(e.$$.fragment,o),l=!1},d(o){H(e,o)}}}function Ia(i){var t;let e,l;return e=new Jt({props:{lowContrast:!0,title:"Could not fetch rows:",subtitle:((t=i[3].error.body)==null?void 0:t.detail)||i[3].error.message}}),{c(){q(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,o){L(e,n,o),l=!0},p(n,o){var s;const r={};o&8&&(r.subtitle=((s=n[3].error.body)==null?void 0:s.detail)||n[3].error.message),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){b(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function tn(i){let e,l=[],t=new Map,n,o,r=i[6];const s=f=>Je.value(f[21][Yt]);for(let f=0;f<r.length;f+=1){let u=en(i,r,f),d=s(u);t.set(d,l[f]=ln(d,u))}let a=i[6].length>0&&nn(i);return{c(){e=F("div");for(let f=0;f<l.length;f+=1)l[f].c();n=W(),a&&a.c(),this.h()},l(f){e=A(f,"DIV",{class:!0});var u=D(e);for(let d=0;d<l.length;d+=1)l[d].l(u);n=Q(u),a&&a.l(u),u.forEach(h),this.h()},h(){V(e,"class","flex h-full w-full flex-col overflow-y-scroll")},m(f,u){T(f,e,u);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(e,null);w(e,n),a&&a.m(e,null),i[19](e),o=!0},p(f,u){u&98&&(r=f[6],ee(),l=gt(l,u,s,1,f,r,t,e,pt,ln,n,en),te()),f[6].length>0?a?(a.p(f,u),u&64&&_(a,1)):(a=nn(f),a.c(),_(a,1),a.m(e,null)):a&&(ee(),b(a,1,1,()=>{a=null}),te())},i(f){if(!o){for(let u=0;u<r.length;u+=1)_(l[u]);_(a),o=!0}},o(f){for(let u=0;u<l.length;u+=1)b(l[u]);b(a),o=!1},d(f){f&&h(e);for(let u=0;u<l.length;u+=1)l[u].d();a&&a.d(),i[19](null)}}}function ln(i,e){let l,t,n;return t=new Sa({props:{visibleFields:e[1],row:e[21],mediaFields:e[5]}}),{key:i,first:null,c(){l=ne(),q(t.$$.fragment),this.h()},l(o){l=ne(),O(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){T(o,l,r),L(t,o,r),n=!0},p(o,r){e=o;const s={};r&2&&(s.visibleFields=e[1]),r&64&&(s.row=e[21]),r&32&&(s.mediaFields=e[5]),t.$set(s)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){b(t.$$.fragment,o),n=!1},d(o){o&&h(l),H(t,o)}}}function nn(i){let e,l;return e=new js({props:{threshold:100}}),e.$on("loadMore",i[18]),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Va(i){let e,l,t,n,o,r,s;e=new fa({props:{totalNumRows:i[7],manifest:i[10].data}});const a=[Ia,Da,$a,ya,Ea],f=[];function u(c,m){var g,p,v,y;return c[3].isError?0:(g=c[2])!=null&&g.isError?1:(p=c[3])!=null&&p.isLoading||c[4].isLoading||(v=c[2])!=null&&v.isLoading?2:c[1].length===0?3:(y=c[3])!=null&&y.isSuccess&&c[6]&&c[6].length===0?4:-1}~(t=u(i))&&(n=f[t]=a[t](i));let d=i[6]&&i[1].length>0&&i[4].isSuccess&&i[5]!=null&&tn(i);return{c(){q(e.$$.fragment),l=W(),n&&n.c(),o=W(),d&&d.c(),r=ne()},l(c){O(e.$$.fragment,c),l=Q(c),n&&n.l(c),o=Q(c),d&&d.l(c),r=ne()},m(c,m){L(e,c,m),T(c,l,m),~t&&f[t].m(c,m),T(c,o,m),d&&d.m(c,m),T(c,r,m),s=!0},p(c,[m]){const g={};m&128&&(g.totalNumRows=c[7]),m&1024&&(g.manifest=c[10].data),e.$set(g);let p=t;t=u(c),t===p?~t&&f[t].p(c,m):(n&&(ee(),b(f[p],1,1,()=>{f[p]=null}),te()),~t?(n=f[t],n?n.p(c,m):(n=f[t]=a[t](c),n.c()),_(n,1),n.m(o.parentNode,o)):n=null),c[6]&&c[1].length>0&&c[4].isSuccess&&c[5]!=null?d?(d.p(c,m),m&114&&_(d,1)):(d=tn(c),d.c(),_(d,1),d.m(r.parentNode,r)):d&&(ee(),b(d,1,1,()=>{d=null}),te())},i(c){s||(_(e.$$.fragment,c),_(n),_(d),s=!0)},o(c){b(e.$$.fragment,c),b(n),b(d),s=!1},d(c){H(e,c),c&&h(l),~t&&f[t].d(c),c&&h(o),d&&d.d(c),c&&h(r)}}}function Ta(i,e,l){let t,n,o,r,s,a,f,u,d,c,m,g=x,p=()=>(g(),g=Be(r,P=>l(3,m=P)),r),v,y,S=x,k=()=>(S(),S=Be(t,P=>l(4,y=P)),t),$;i.$$.on_destroy.push(()=>g()),i.$$.on_destroy.push(()=>S());let M=Re();me(i,M,P=>l(17,v=P));let z=Qe();me(i,z,P=>l(16,c=P));const C=Ri(v.namespace,v.datasetName);me(i,C,P=>l(10,$=P));let I=null;const B=it(I),E=()=>m==null?void 0:m.fetchNextPage();function N(P){Pe[P?"unshift":"push"](()=>{I=P,l(0,I)})}return i.$$.update=()=>{var P,Y,G,j;i.$$.dirty&131072&&k(l(9,t=_i(v.namespace,v.datasetName))),i.$$.dirty&131088&&l(15,n=y.isSuccess?ir(v):void 0),i.$$.dirty&65536&&l(2,o=c.selectRowsSchema),i.$$.dirty&163844&&p(l(8,r=qi(v.namespace,v.datasetName,n||{},o!=null&&o.isSuccess?o.data.schema:void 0))),i.$$.dirty&8&&l(7,s=(P=m.data)==null?void 0:P.pages[0].total_num_rows),i.$$.dirty&8&&l(6,a=(Y=m.data)==null?void 0:Y.pages.flatMap(X=>X.rows)),i.$$.dirty&65536&&l(1,f=(c.visibleFields||[]).sort((X,Z)=>Ie(X.path)>Ie(Z.path)?1:-1)),i.$$.dirty&6&&l(14,u=((G=o==null?void 0:o.data)==null?void 0:G.schema)!=null?rr((j=o==null?void 0:o.data)==null?void 0:j.schema,f):null),i.$$.dirty&81920&&l(5,d=sr(u,c.settings)),i.$$.dirty&1&&B.set(I)},di(ar,B),[I,f,o,m,y,d,a,s,r,t,$,M,z,C,u,n,c,v,E,N]}class Ca extends ge{constructor(e){super(),pe(this,e,Ta,Va,_e,{})}}function rn(i,e,l){const t=i.slice();return t[43]=e[l],t}function sn(i,e,l){const t=i.slice();return t[46]=e[l],t}function Na(i){let e,l=i[49].text+"",t;return{c(){e=F("div"),t=J(l)},l(n){e=A(n,"DIV",{});var o=D(e);t=K(o,l),o.forEach(h)},m(n,o){T(n,e,o),w(e,t)},p(n,o){o[1]&262144&&l!==(l=n[49].text+"")&&ue(t,l)},i:x,o:x,d(n){n&&h(e)}}}function Ma(i){let e,l,t,n,o,r,s;return l=new lt({props:{$$slots:{default:[Fa]},$$scope:{ctx:i}}}),{c(){e=F("div"),q(l.$$.fragment),t=W(),n=F("div"),o=J(`Keyword search:
                    `),r=J(i[0]),this.h()},l(a){e=A(a,"DIV",{class:!0});var f=D(e);O(l.$$.fragment,f),t=Q(f),n=A(f,"DIV",{class:!0});var u=D(n);o=K(u,`Keyword search:
                    `),r=K(u,i[0]),u.forEach(h),f.forEach(h),this.h()},h(){V(n,"class","ml-2"),V(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(a,f){T(a,e,f),L(l,e,null),w(e,t),w(e,n),w(n,o),w(n,r),s=!0},p(a,f){const u={};f[1]&524288&&(u.$$scope={dirty:f,ctx:a}),l.$set(u),(!s||f[0]&1)&&ue(r,a[0])},i(a){s||(_(l.$$.fragment,a),s=!0)},o(a){b(l.$$.fragment,a),s=!1},d(a){a&&h(e),H(l)}}}function za(i){let e,l,t,n,o,r=i[0]!=""?":":"",s,a,f,u;return l=new lt({props:{$$slots:{default:[Aa]},$$scope:{ctx:i}}}),{c(){e=F("div"),q(l.$$.fragment),t=W(),n=F("div"),o=J("New concept"),s=J(r),a=W(),f=J(i[0]),this.h()},l(d){e=A(d,"DIV",{class:!0});var c=D(e);O(l.$$.fragment,c),t=Q(c),n=A(c,"DIV",{class:!0});var m=D(n);o=K(m,"New concept"),s=K(m,r),a=Q(m),f=K(m,i[0]),m.forEach(h),c.forEach(h),this.h()},h(){V(n,"class","ml-2"),V(e,"class","new-concept flex flex-row items-center justify-items-center")},m(d,c){T(d,e,c),L(l,e,null),w(e,t),w(e,n),w(n,o),w(n,s),w(n,a),w(n,f),u=!0},p(d,c){const m={};c[1]&524288&&(m.$$scope={dirty:c,ctx:d}),l.$set(m),(!u||c[0]&1)&&r!==(r=d[0]!=""?":":"")&&ue(s,r),(!u||c[0]&1)&&ue(f,d[0])},i(d){u||(_(l.$$.fragment,d),u=!0)},o(d){b(l.$$.fragment,d),u=!1},d(d){d&&h(e),H(l)}}}function Fa(i){let e,l;return e=new Vs({}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Aa(i){let e,l;return e=new os({}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ba(i){let e,l,t,n;const o=[za,Ma,Na],r=[];function s(a,f){return a[49].id==="new-concept"?0:a[49].id==="keyword-search"?1:2}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},l(a){l.l(a),t=ne()},m(a,f){r[e].m(a,f),T(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(ee(),b(r[u],1,1,()=>{r[u]=null}),te(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t))},i(a){n||(_(l),n=!0)},o(a){b(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function an(i){let e,l;return e=new zt({props:{value:Ie(i[46]),text:Ie(i[46])}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&512&&(o.value=Ie(t[46])),n[0]&512&&(o.text=Ie(t[46])),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Pa(i){let e,l,t=i[9],n=[];for(let r=0;r<t.length;r+=1)n[r]=an(sn(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);T(r,e,s),l=!0},p(r,s){if(s[0]&512){t=r[9];let a;for(a=0;a<t.length;a+=1){const f=sn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=an(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)b(n[s]);l=!1},d(r){Ae(n,r),r&&h(e)}}}function on(i){let e,l;return e=new Kt({props:{size:"xl",class:"field-select w-28",selected:i[1]?Ie(i[1]):"",disabled:i[9].length===0,warn:i[9].length===0,$$slots:{default:[Pa]},$$scope:{ctx:i}}}),e.$on("change",i[21]),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&2&&(o.selected=t[1]?Ie(t[1]):""),n[0]&512&&(o.disabled=t[9].length===0),n[0]&512&&(o.warn=t[9].length===0),n[0]&512|n[1]&524288&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function fn(i){let e,l;return e=new zt({props:{value:i[43].name,text:i[43].name}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&16&&(o.value=t[43].name),n[0]&16&&(o.text=t[43].name),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ra(i){let e,l,t=i[4].data||[],n=[];for(let r=0;r<t.length;r+=1)n[r]=fn(rn(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);T(r,e,s),l=!0},p(r,s){if(s[0]&16){t=r[4].data||[];let a;for(a=0;a<t.length;a+=1){const f=rn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=fn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)b(n[s]);l=!1},d(r){Ae(n,r),r&&h(e)}}}function qa(i){let e,l,t,n,o,r,s,a,f,u,d,c,m,g=i[9],p,v,y,S,k,$,M;t=new Ye({props:{disabled:i[3]||i[8],iconDescription:"Compute embedding index. This may be expensive.",icon:i[3]?ll:i[8]?nl:Lt}}),t.$on("click",i[35]);function z(B){i[37](B)}let C={size:"xl",items:i[5],shouldFilterItem:La,placeholder:i[7],$$slots:{default:[Ba,({item:B})=>({49:B}),({item:B})=>[0,B?262144:0]]},$$scope:{ctx:i}};i[0]!==void 0&&(C.value=i[0]),u=new Fr({props:C}),i[36](u),Pe.push(()=>Ge(u,"value",z)),u.$on("select",i[20]);let I=on(i);return S=new Kt({props:{size:"xl",selected:i[2]||"",name:i[2]||"",$$slots:{default:[Ra]},$$scope:{ctx:i}}}),S.$on("change",i[18]),{c(){e=F("div"),l=F("div"),q(t.$$.fragment),n=W(),o=F("div"),r=F("div"),s=F("div"),a=F("div"),f=F("div"),q(u.$$.fragment),c=W(),m=F("div"),I.c(),p=W(),v=F("div"),y=F("div"),q(S.$$.fragment),this.h()},l(B){e=A(B,"DIV",{class:!0});var E=D(e);l=A(E,"DIV",{class:!0});var N=D(l);O(t.$$.fragment,N),N.forEach(h),n=Q(E),o=A(E,"DIV",{class:!0});var P=D(o);r=A(P,"DIV",{class:!0});var Y=D(r);s=A(Y,"DIV",{class:!0});var G=D(s);a=A(G,"DIV",{class:!0});var j=D(a);f=A(j,"DIV",{class:!0});var X=D(f);O(u.$$.fragment,X),X.forEach(h),j.forEach(h),G.forEach(h),Y.forEach(h),P.forEach(h),c=Q(E),m=A(E,"DIV",{class:!0});var Z=D(m);I.l(Z),Z.forEach(h),p=Q(E),v=A(E,"DIV",{class:!0});var le=D(v);y=A(le,"DIV",{class:!0});var he=D(y);O(S.$$.fragment,he),he.forEach(h),le.forEach(h),E.forEach(h),this.h()},h(){V(l,"class","compute-embedding mr-1"),oe(l,"compute-embedding-indexing",i[8]),V(f,"class","flex-grow"),V(a,"class","flex w-full flex-row items-start justify-items-start"),V(s,"class","flex flex-row"),V(r,"class","w-full"),V(o,"class","search-container flex w-full flex-grow flex-row"),V(m,"class","mx-1"),V(y,"class","w-28"),V(v,"class","embedding-select mr-8 flex flex-row"),V(e,"class","border-1 flex w-full flex-row items-center px-4")},m(B,E){T(B,e,E),w(e,l),L(t,l,null),w(e,n),w(e,o),w(o,r),w(r,s),w(s,a),w(a,f),L(u,f,null),w(e,c),w(e,m),I.m(m,null),w(e,p),w(e,v),w(v,y),L(S,y,null),k=!0,$||(M=[Me(ze.call(null,m,{text:"Select the field to search over."})),Me(ze.call(null,y,{text:"Select the embedding to use."}))],$=!0)},p(B,E){const N={};E[0]&264&&(N.disabled=B[3]||B[8]),E[0]&264&&(N.icon=B[3]?ll:B[8]?nl:Lt),t.$set(N),(!k||E[0]&256)&&oe(l,"compute-embedding-indexing",B[8]);const P={};E[0]&32&&(P.items=B[5]),E[0]&128&&(P.placeholder=B[7]),E[0]&1|E[1]&786432&&(P.$$scope={dirty:E,ctx:B}),!d&&E[0]&1&&(d=!0,P.value=B[0],Xe(()=>d=!1)),u.$set(P),E[0]&512&&_e(g,g=B[9])?(ee(),b(I,1,1,x),te(),I=on(B),I.c(),_(I,1),I.m(m,null)):I.p(B,E);const Y={};E[0]&4&&(Y.selected=B[2]||""),E[0]&4&&(Y.name=B[2]||""),E[0]&16|E[1]&524288&&(Y.$$scope={dirty:E,ctx:B}),S.$set(Y)},i(B){k||(_(t.$$.fragment,B),_(u.$$.fragment,B),_(I),_(S.$$.fragment,B),k=!0)},o(B){b(t.$$.fragment,B),b(u.$$.fragment,B),b(I),b(S.$$.fragment,B),k=!1},d(B){B&&h(e),H(t),i[36](null),H(u),I.d(B),H(S),$=!1,Ze(M)}}}const La=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-concept";function Ha(i,e,l){let t,n,o,r,s,a,f,u,d,c,m,g,p,v,y,S,k,$,M,z,C,I=x,B=()=>(I(),I=Be(t,ae=>l(33,C=ae)),t),E;i.$$.on_destroy.push(()=>I());const N=Re();me(i,N,ae=>l(32,z=ae));const P=Qe();me(i,P,ae=>l(31,$=ae));const Y=yi();me(i,Y,ae=>l(34,E=ae));const G=gi();me(i,G,ae=>l(40,y=ae));const j=Xt();me(i,j,ae=>l(4,M=ae));const X=(ae,Te)=>`${Ie(ae||"")}_${Te}`;let Z={};const le=Li();me(i,le,ae=>l(30,k=ae));const he=Ft();me(i,he,ae=>l(29,S=ae));let re=[],se="",ye;const we=ae=>{l(2,f=ae.target.value),N.setSearchEmbedding(ae.target.value)},Se=()=>{f!=null&&(l(22,Z[X(r,f)]=!0,Z),y.mutate([n,o,{leaf_path:jt(r||[]),signal:{signal_name:f}}]))};let fe;const R=(ae,Te)=>{r==null||f==null||(N.addSearch({path:[Ie(r)],query:{type:"concept",concept_namespace:ae,concept_name:Te,embedding:f}}),fe.clear())},U=ae=>{if(!(r==null||f==null)){if(ae.detail.selectedId==="new-concept"){se===ye.id&&l(0,se="");const Te=se.split("/",2);let Ne="",Oe="";Te.length===2?[Ne,Oe]=Te:[Oe]=Te,et({command:tt.CreateConcept,namespace:Ne,conceptName:Oe,onCreate:nt=>R(nt.detail.namespace,nt.detail.name)}),fe.clear();return}else if(ae.detail.selectedId==="keyword-search"){if(se=="")return;N.addSearch({path:[Ie(r)],query:{type:"keyword",search:se}});return}R(ae.detail.selectedId.namespace,ae.detail.selectedId.name)}},ie=ae=>{N.setSearchPath(ae.target.value)},de=()=>{Se()};function Fe(ae){Pe[ae?"unshift":"push"](()=>{fe=ae,l(6,fe)})}function He(ae){se=ae,l(0,se)}return i.$$.update=()=>{var ae,Te;i.$$.dirty[1]&2&&B(l(10,t=Nt(z.namespace,z.datasetName))),i.$$.dirty[1]&2&&(n=z.namespace),i.$$.dirty[1]&2&&(o=z.datasetName),i.$$.dirty[1]&3&&l(1,r=or(z,$)),i.$$.dirty[0]&2|i.$$.dirty[1]&2&&l(24,s=Qt(z,r)),i.$$.dirty[1]&1&&l(9,a=($.visibleFields||[]).filter(Ne=>Ne.dtype==="string").map(Ne=>Ie(Ne.path))),i.$$.dirty[0]&18|i.$$.dirty[1]&15&&l(2,f=fr(E,C.data,z,$,r,(M.data||[]).map(Ne=>Ne.name))),i.$$.dirty[0]&2|i.$$.dirty[1]&1&&l(28,u=ur($,r)),i.$$.dirty[0]&268435460&&l(3,d=u!=null&&!!u.includes(f||"")),i.$$.dirty[0]&4194318&&l(8,c=!d&&Z[X(r,f)]),i.$$.dirty[0]&8&&l(7,m=d?"Search by concept or keyword.":'Search by keyword. Click "compute embedding" to search by concept.'),i.$$.dirty[0]&536870912&&l(27,g=(Te=(ae=S.data)==null?void 0:ae.user)==null?void 0:Te.id),i.$$.dirty[0]&1207959552&&l(25,p=cr(k.data||[],g)),i.$$.dirty[0]&9&&l(23,ye={id:"new-concept",text:se,disabled:!d}),i.$$.dirty[0]&1&&l(26,v={id:"keyword-search",text:se}),i.$$.dirty[0]&1736441865&&l(5,re=k!=null&&k.data?[ye,...se!=""?[v]:[],...p.flatMap(Ne=>Ne.concepts.map(Oe=>({id:{namespace:Oe.namespace,name:Oe.name},text:dr(Oe.namespace,Oe.name,S.data),disabled:!d||s.some(nt=>nt.query.type==="concept"&&nt.query.concept_namespace===Oe.namespace&&nt.query.concept_name===Oe.name)})))]:[])},[se,r,f,d,M,re,fe,m,c,a,t,N,P,Y,G,j,le,he,we,Se,U,ie,Z,ye,s,p,v,g,u,S,k,$,z,C,E,de,Fe,He]}class Oa extends ge{constructor(e){super(),pe(this,e,Ha,qa,_e,{},null,[-1,-1])}}function ja(i){let e,l;return e=new Ye({props:{$$slots:{default:[Ya]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&512&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ua(i){let e,l;return{c(){e=F("span"),l=J("Invalid query"),this.h()},l(t){e=A(t,"SPAN",{class:!0});var n=D(e);l=K(n,"Invalid query"),n.forEach(h),this.h()},h(){V(e,"class","text-red-500")},m(t,n){T(t,e,n),w(e,l)},p:x,i:x,o:x,d(t){t&&h(e)}}}function Ya(i){let e;return{c(){e=J("Apply")},l(l){e=K(l,"Apply")},m(l,t){T(l,e,t)},d(l){l&&h(e)}}}function Wa(i){let e,l,t,n,o,r,s,a,f,u,d;const c=[Ua,ja],m=[];function g(p,v){return p[0]?p[3]?1:-1:0}return~(r=g(i))&&(s=m[r]=c[r](i)),{c(){e=F("pre"),l=J(""),t=J(i[2]),n=J(`
`),o=W(),s&&s.c(),a=ne(),this.h()},l(p){e=A(p,"PRE",{class:!0,contenteditable:!0});var v=D(e);l=K(v,""),t=K(v,i[2]),n=K(v,`
`),v.forEach(h),o=Q(p),s&&s.l(p),a=ne(),this.h()},h(){V(e,"class","whitespace-pre bg-gray-50 p-4 font-mono"),V(e,"contenteditable",""),i[1]===void 0&&kt(()=>i[8].call(e)),oe(e,"outline-red-500",!i[0])},m(p,v){T(p,e,v),w(e,l),w(e,t),w(e,n),i[1]!==void 0&&(e.innerText=i[1]),T(p,o,v),~r&&m[r].m(p,v),T(p,a,v),f=!0,u||(d=Ve(e,"input",i[8]),u=!0)},p(p,[v]){(!f||v&4)&&Mi(t,p[2]),v&2&&p[1]!==e.innerText&&(e.innerText=p[1]),(!f||v&1)&&oe(e,"outline-red-500",!p[0]);let y=r;r=g(p),r===y?~r&&m[r].p(p,v):(s&&(ee(),b(m[y],1,1,()=>{m[y]=null}),te()),~r?(s=m[r],s?s.p(p,v):(s=m[r]=c[r](p),s.c()),_(s,1),s.m(a.parentNode,a)):s=null)},i(p){f||(_(s),f=!0)},o(p){b(s),f=!1},d(p){p&&h(e),p&&h(o),~r&&m[r].d(p),p&&h(a),u=!1,d()}}}function Qa(i,e,l){let t,n,o,r,s;const a=Re();me(i,a,c=>l(7,s=c));let f=!0;function u(){ft(a,s.query=JSON.parse(o),s)}function d(){o=this.innerText,l(1,o),l(2,n),l(6,t),l(7,s)}return i.$$.update=()=>{if(i.$$.dirty&128&&l(6,t=s.query),i.$$.dirty&64&&l(2,n=t?JSON.stringify(t,null,2):""),i.$$.dirty&4&&l(1,o=n),i.$$.dirty&2)try{JSON.parse(o),l(0,f=!0)}catch{l(0,f=!1)}i.$$.dirty&67&&l(3,r=f&&!mr(JSON.parse(o),t))},[f,o,n,r,a,u,t,s,d]}class Za extends ge{constructor(e){super(),pe(this,e,Qa,Wa,_e,{})}}function un(i){let e,l;return e=new Oi({props:{light:!0,flipped:!0,$$slots:{default:[Ja]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&1073742079&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function cn(i){let e,l;return e=new bt({props:{text:"Sort by"}}),e.$on("click",i[20]),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function dn(i){let e,l;return e=new bt({props:{text:"Filter"}}),e.$on("click",i[21]),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function mn(i){let e,l,t,n,o,r;return l=new bt({props:{disabled:!i[7],text:"Compute embedding"}}),l.$on("click",i[22]),{c(){e=F("div"),q(l.$$.fragment),this.h()},l(s){e=A(s,"DIV",{class:!0});var a=D(e);O(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","w-full")},m(s,a){T(s,e,a),L(l,e,null),n=!0,o||(r=Me(t=ze.call(null,e,{text:i[7]?"":"User does not have access to compute embeddings over this dataset."})),o=!0)},p(s,a){const f={};a&128&&(f.disabled=!s[7]),l.$set(f),t&&We(t.update)&&a&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute embeddings over this dataset."})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){b(l.$$.fragment,s),n=!1},d(s){s&&h(e),H(l),o=!1,r()}}}function hn(i){let e,l;return e=new bt({props:{text:"Preview signal"}}),e.$on("click",i[23]),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function _n(i){let e,l,t,n,o,r;return l=new bt({props:{text:"Compute signal",disabled:!i[7]}}),l.$on("click",i[24]),{c(){e=F("div"),q(l.$$.fragment),this.h()},l(s){e=A(s,"DIV",{class:!0});var a=D(e);O(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","w-full")},m(s,a){T(s,e,a),L(l,e,null),n=!0,o||(r=Me(t=ze.call(null,e,{text:i[7]?"":"User does not have access to compute signals over this dataset."})),o=!0)},p(s,a){const f={};a&128&&(f.disabled=!s[7]),l.$set(f),t&&We(t.update)&&a&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute signals over this dataset."})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){b(l.$$.fragment,s),n=!1},d(s){s&&h(e),H(l),o=!1,r()}}}function gn(i){let e,l,t,n,o,r;return l=new bt({props:{disabled:!i[6],text:"Delete signal"}}),l.$on("click",i[25]),{c(){e=F("div"),q(l.$$.fragment),this.h()},l(s){e=A(s,"DIV",{class:!0});var a=D(e);O(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","w-full")},m(s,a){T(s,e,a),L(l,e,null),n=!0,o||(r=Me(t=ze.call(null,e,{text:i[6]?"":"User does not have access to delete signals for this dataset."})),o=!0)},p(s,a){const f={};a&64&&(f.disabled=!s[6]),l.$set(f),t&&We(t.update)&&a&64&&t.update.call(null,{text:s[6]?"":"User does not have access to delete signals for this dataset."})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){b(l.$$.fragment,s),n=!1},d(s){s&&h(e),H(l),o=!1,r()}}}function Ja(i){let e=$t(i[0]),l,t=qt(i[0]),n,o,r,s,a,f,u=e&&cn(i),d=t&&dn(i),c=!i[2]&&mn(i),m=!i[2]&&hn(i),g=!i[2]&&_n(i),p=i[1]&&gn(i);return{c(){u&&u.c(),l=W(),d&&d.c(),n=W(),c&&c.c(),o=W(),m&&m.c(),r=W(),g&&g.c(),s=W(),p&&p.c(),a=ne()},l(v){u&&u.l(v),l=Q(v),d&&d.l(v),n=Q(v),c&&c.l(v),o=Q(v),m&&m.l(v),r=Q(v),g&&g.l(v),s=Q(v),p&&p.l(v),a=ne()},m(v,y){u&&u.m(v,y),T(v,l,y),d&&d.m(v,y),T(v,n,y),c&&c.m(v,y),T(v,o,y),m&&m.m(v,y),T(v,r,y),g&&g.m(v,y),T(v,s,y),p&&p.m(v,y),T(v,a,y),f=!0},p(v,y){y&1&&(e=$t(v[0])),e?u?(u.p(v,y),y&1&&_(u,1)):(u=cn(v),u.c(),_(u,1),u.m(l.parentNode,l)):u&&(ee(),b(u,1,1,()=>{u=null}),te()),y&1&&(t=qt(v[0])),t?d?(d.p(v,y),y&1&&_(d,1)):(d=dn(v),d.c(),_(d,1),d.m(n.parentNode,n)):d&&(ee(),b(d,1,1,()=>{d=null}),te()),v[2]?c&&(ee(),b(c,1,1,()=>{c=null}),te()):c?(c.p(v,y),y&4&&_(c,1)):(c=mn(v),c.c(),_(c,1),c.m(o.parentNode,o)),v[2]?m&&(ee(),b(m,1,1,()=>{m=null}),te()):m?(m.p(v,y),y&4&&_(m,1)):(m=hn(v),m.c(),_(m,1),m.m(r.parentNode,r)),v[2]?g&&(ee(),b(g,1,1,()=>{g=null}),te()):g?(g.p(v,y),y&4&&_(g,1)):(g=_n(v),g.c(),_(g,1),g.m(s.parentNode,s)),v[1]?p?(p.p(v,y),y&2&&_(p,1)):(p=gn(v),p.c(),_(p,1),p.m(a.parentNode,a)):p&&(ee(),b(p,1,1,()=>{p=null}),te())},i(v){f||(_(u),_(d),_(c),_(m),_(g),_(p),f=!0)},o(v){b(u),b(d),b(c),b(m),b(g),b(p),f=!1},d(v){u&&u.d(v),v&&h(l),d&&d.d(v),v&&h(n),c&&c.d(v),v&&h(o),m&&m.d(v),v&&h(r),g&&g.d(v),v&&h(s),p&&p.d(v),v&&h(a)}}}function Ka(i){let e,l,t,n=Ie(i[0].path)+"",o,r,s,a,f;return{c(){e=F("p"),l=J("Confirm deleting "),t=F("code"),o=J(n),r=J(" ?"),s=W(),a=F("p"),f=J("This is a permanent action and cannot be undone."),this.h()},l(u){e=A(u,"P",{class:!0});var d=D(e);l=K(d,"Confirm deleting "),t=A(d,"CODE",{});var c=D(t);o=K(c,n),c.forEach(h),r=K(d," ?"),d.forEach(h),s=Q(u),a=A(u,"P",{class:!0});var m=D(a);f=K(m,"This is a permanent action and cannot be undone."),m.forEach(h),this.h()},h(){V(e,"class","!text-lg"),V(a,"class","mt-2")},m(u,d){T(u,e,d),w(e,l),w(e,t),w(t,o),w(e,r),T(u,s,d),T(u,a,d),w(a,f)},p(u,d){d&1&&n!==(n=Ie(u[0].path)+"")&&ue(o,n)},d(u){u&&h(e),u&&h(s),u&&h(a)}}}function Ga(i){let e,l,t,n,o=i[8]&&un(i);function r(a){i[26](a)}let s={danger:!0,modalHeading:"Delete signal",primaryButtonText:"Delete",primaryButtonIcon:i[9].isLoading?It:void 0,secondaryButtonText:"Cancel",$$slots:{default:[Ka]},$$scope:{ctx:i}};return i[3]!==void 0&&(s.open=i[3]),l=new Gt({props:s}),Pe.push(()=>Ge(l,"open",r)),l.$on("click:button--secondary",i[27]),l.$on("open",i[28]),l.$on("close",i[29]),l.$on("submit",i[14]),{c(){o&&o.c(),e=W(),q(l.$$.fragment)},l(a){o&&o.l(a),e=Q(a),O(l.$$.fragment,a)},m(a,f){o&&o.m(a,f),T(a,e,f),L(l,a,f),n=!0},p(a,[f]){a[8]?o?(o.p(a,f),f&256&&_(o,1)):(o=un(a),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(ee(),b(o,1,1,()=>{o=null}),te());const u={};f&512&&(u.primaryButtonIcon=a[9].isLoading?It:void 0),f&1073741825&&(u.$$scope={dirty:f,ctx:a}),!t&&f&8&&(t=!0,u.open=a[3],Xe(()=>t=!1)),l.$set(u)},i(a){n||(_(o),_(l.$$.fragment,a),n=!0)},o(a){b(o),b(l.$$.fragment,a),n=!1},d(a){o&&o.d(a),a&&h(e),H(l,a)}}}function Xa(i,e,l){let t,n,o,r,s,a,f,u,d,c,m,g,{field:p}=e,{schema:v}=e,y=!1;const S=Re();me(i,S,Z=>l(19,g=Z));const k=Qe();me(i,k,Z=>l(18,m=Z));const $=Hi();me(i,$,Z=>l(9,d=Z));const M=Ft();me(i,M,Z=>l(17,c=Z));function z(){d.mutate([t,n,{signal_path:p.path}],{onSuccess:()=>{l(3,y=!1),S.deleteSignal(p.path)}})}const C=()=>S.addSortBy(p.path),I=()=>et({command:tt.EditFilter,namespace:t,datasetName:n,path:p.path}),B=()=>et({command:tt.ComputeEmbedding,namespace:t,datasetName:n,path:p==null?void 0:p.path}),E=()=>et({command:tt.PreviewConcept,namespace:t,datasetName:n,path:p==null?void 0:p.path}),N=()=>et({command:tt.ComputeSignal,namespace:t,datasetName:n,path:p==null?void 0:p.path}),P=()=>l(3,y=!0);function Y(Z){y=Z,l(3,y)}const G=()=>l(3,y=!1);function j(Z){je.call(this,i,Z)}function X(Z){je.call(this,i,Z)}return i.$$set=Z=>{"field"in Z&&l(0,p=Z.field),"schema"in Z&&l(15,v=Z.schema)},i.$$.update=()=>{var Z,le,he;i.$$.dirty&524288&&l(5,t=g.namespace),i.$$.dirty&524288&&l(4,n=g.datasetName),i.$$.dirty&32769&&l(2,o=xe(p,v)),i.$$.dirty&1&&l(1,r=dt(p)),i.$$.dirty&262145&&l(16,s=Mt(((Z=m.selectRowsSchema)==null?void 0:Z.data)||null,p.path)),i.$$.dirty&65543&&l(8,a=($t(p)||qt(p)||!o||r)&&!s),i.$$.dirty&131072&&l(7,f=(le=c.data)==null?void 0:le.access.dataset.compute_signals),i.$$.dirty&131072&&l(6,u=(he=c.data)==null?void 0:he.access.dataset.delete_signals)},[p,r,o,y,n,t,u,f,a,d,S,k,$,M,z,v,s,c,m,g,C,I,B,E,N,P,Y,G,j,X]}class Di extends ge{constructor(e){super(),pe(this,e,Xa,Ga,_e,{field:0,schema:15})}}function pn(i,e,l){const t=i.slice();t[7]=e[l][0],t[8]=e[l][1];const n=t[2](t[7]);t[9]=n;const o=`${t[8]/t[1]*100}%`;t[10]=o;const r=De(t[8]);return t[11]=r,t}function bn(i){let e,l,t=i[9]+"",n,o,r,s,a,f=i[11]+"",u,d,c,m,g;function p(){return i[6](i[7])}return{c(){e=F("button"),l=F("div"),n=J(t),r=W(),s=F("div"),a=F("div"),u=J(f),c=W(),this.h()},l(v){e=A(v,"BUTTON",{class:!0});var y=D(e);l=A(y,"DIV",{title:!0,class:!0});var S=D(l);n=K(S,t),S.forEach(h),r=Q(y),s=A(y,"DIV",{class:!0});var k=D(s);a=A(k,"DIV",{title:!0,class:!0});var $=D(a);u=K($,f),$.forEach(h),k.forEach(h),c=Q(y),y.forEach(h),this.h()},h(){V(l,"title",o=i[9]),V(l,"class","w-48 flex-none truncate px-2"),V(a,"title",d=i[11]),V(a,"class","histogram-bar my-px bg-indigo-200 pl-2 text-xs leading-5"),Ue(a,"width",i[10]),V(s,"class","w-36 border-l border-gray-300 pl-2"),V(e,"class","flex items-center text-left text-xs text-black hover:bg-gray-200")},m(v,y){T(v,e,y),w(e,l),w(l,n),w(e,r),w(e,s),w(s,a),w(a,u),w(e,c),m||(g=Ve(e,"click",p),m=!0)},p(v,y){i=v,y&1&&t!==(t=i[9]+"")&&ue(n,t),y&1&&o!==(o=i[9])&&V(l,"title",o),y&1&&f!==(f=i[11]+"")&&ue(u,f),y&1&&d!==(d=i[11])&&V(a,"title",d),y&3&&Ue(a,"width",i[10])},d(v){v&&h(e),m=!1,g()}}}function xa(i){let e,l=i[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=bn(pn(i,l,n));return{c(){e=F("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=A(n,"DIV",{class:!0});var o=D(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(h),this.h()},h(){V(e,"class","histogram")},m(n,o){T(n,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(n,[o]){if(o&15){l=n[0];let r;for(r=0;r<l.length;r+=1){const s=pn(n,l,r);t[r]?t[r].p(s,o):(t[r]=bn(s),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},i:x,o:x,d(n){n&&h(e),Ae(t,n)}}}function eo(i,e,l){let t,{field:n}=e,{counts:o}=e,{bins:r}=e;function s(u){if(u==null)return De(u);if(r==null||n.bins!=null)return De(u);const[d,c]=r[u.toString()];return d==null?`< ${De(c)}`:c==null?`≥ ${De(d)}`:`${De(d)} .. ${De(c)}`}const a=_t(),f=u=>a("row-click",{value:u});return i.$$set=u=>{"field"in u&&l(4,n=u.field),"counts"in u&&l(0,o=u.counts),"bins"in u&&l(5,r=u.bins)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=Math.max(...o.map(([u,d])=>d)))},[o,t,s,a,n,r,f]}class to extends ge{constructor(e){super(),pe(this,e,eo,xa,_e,{field:4,counts:0,bins:5})}}function lo(i){let e,l,t,n,o,r,s,a,f,u,d,c=De(i[4].total_count)+"",m,g,p,v,y,S,k,$,M,z,C,I,B=De(i[4].approx_count_distinct)+"",E,N,P,Y,G,j;r=new Vt({props:{class:"inline"}}),S=new Vt({props:{class:"inline"}});let X=i[4].avg_text_length&&vn(i),Z=i[4].min_val&&i[4].max_val&&wn(i);return{c(){e=F("table"),l=F("tbody"),t=F("tr"),n=F("td"),o=F("span"),q(r.$$.fragment),s=W(),a=F("span"),f=J("Total count"),u=W(),d=F("td"),m=J(c),g=W(),p=F("tr"),v=F("td"),y=F("span"),q(S.$$.fragment),k=W(),$=F("span"),M=J("Unique values"),z=W(),C=F("td"),I=J("~"),E=J(B),N=W(),X&&X.c(),P=W(),Z&&Z.c(),this.h()},l(le){e=A(le,"TABLE",{class:!0});var he=D(e);l=A(he,"TBODY",{});var re=D(l);t=A(re,"TR",{});var se=D(t);n=A(se,"TD",{class:!0});var ye=D(n);o=A(ye,"SPAN",{});var we=D(o);O(r.$$.fragment,we),we.forEach(h),s=Q(ye),a=A(ye,"SPAN",{});var Se=D(a);f=K(Se,"Total count"),Se.forEach(h),ye.forEach(h),u=Q(se),d=A(se,"TD",{class:!0});var fe=D(d);m=K(fe,c),fe.forEach(h),se.forEach(h),g=Q(re),p=A(re,"TR",{});var R=D(p);v=A(R,"TD",{class:!0});var U=D(v);y=A(U,"SPAN",{});var ie=D(y);O(S.$$.fragment,ie),ie.forEach(h),k=Q(U),$=A(U,"SPAN",{});var de=D($);M=K(de,"Unique values"),de.forEach(h),U.forEach(h),z=Q(R),C=A(R,"TD",{class:!0});var Fe=D(C);I=K(Fe,"~"),E=K(Fe,B),Fe.forEach(h),R.forEach(h),N=Q(re),X&&X.l(re),P=Q(re),Z&&Z.l(re),re.forEach(h),he.forEach(h),this.h()},h(){V(n,"class","svelte-1tctrjz"),V(d,"class","svelte-1tctrjz"),V(v,"class","svelte-1tctrjz"),V(C,"class","svelte-1tctrjz"),V(e,"class","stats-table w-full svelte-1tctrjz")},m(le,he){T(le,e,he),w(e,l),w(l,t),w(t,n),w(n,o),L(r,o,null),w(n,s),w(n,a),w(a,f),w(t,u),w(t,d),w(d,m),w(l,g),w(l,p),w(p,v),w(v,y),L(S,y,null),w(v,k),w(v,$),w($,M),w(p,z),w(p,C),w(C,I),w(C,E),w(l,N),X&&X.m(l,null),w(l,P),Z&&Z.m(l,null),Y=!0,G||(j=[Me(ze.call(null,o,{text:"Total number of rows where the value is defined."})),Me(ze.call(null,y,{text:"An approximation of the total number of unique values."}))],G=!0)},p(le,he){(!Y||he&16)&&c!==(c=De(le[4].total_count)+"")&&ue(m,c),(!Y||he&16)&&B!==(B=De(le[4].approx_count_distinct)+"")&&ue(E,B),le[4].avg_text_length?X?(X.p(le,he),he&16&&_(X,1)):(X=vn(le),X.c(),_(X,1),X.m(l,P)):X&&(ee(),b(X,1,1,()=>{X=null}),te()),le[4].min_val&&le[4].max_val?Z?(Z.p(le,he),he&16&&_(Z,1)):(Z=wn(le),Z.c(),_(Z,1),Z.m(l,null)):Z&&(ee(),b(Z,1,1,()=>{Z=null}),te())},i(le){Y||(_(r.$$.fragment,le),_(S.$$.fragment,le),_(X),_(Z),Y=!0)},o(le){b(r.$$.fragment,le),b(S.$$.fragment,le),b(X),b(Z),Y=!1},d(le){le&&h(e),H(r),H(S),X&&X.d(),Z&&Z.d(),G=!1,Ze(j)}}}function no(i){let e,l;return e=new Le({props:{paragraph:!0,width:"50%"}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function io(i){let e,l,t=i[2].error.message+"",n;return{c(){e=F("p"),l=J("Error: "),n=J(t)},l(o){e=A(o,"P",{});var r=D(e);l=K(r,"Error: "),n=K(r,t),r.forEach(h)},m(o,r){T(o,e,r),w(e,l),w(e,n)},p(o,r){r&4&&t!==(t=o[2].error.message+"")&&ue(n,t)},i:x,o:x,d(o){o&&h(e)}}}function vn(i){let e,l,t,n,o,r,s,a,f,u=De(i[4].avg_text_length)+"",d,c,m,g;return n=new Vt({props:{class:"inline"}}),{c(){e=F("tr"),l=F("td"),t=F("span"),q(n.$$.fragment),o=W(),r=F("span"),s=J("Average text length"),a=W(),f=F("td"),d=J(u),this.h()},l(p){e=A(p,"TR",{});var v=D(e);l=A(v,"TD",{class:!0});var y=D(l);t=A(y,"SPAN",{});var S=D(t);O(n.$$.fragment,S),S.forEach(h),o=Q(y),r=A(y,"SPAN",{});var k=D(r);s=K(k,"Average text length"),k.forEach(h),y.forEach(h),a=Q(v),f=A(v,"TD",{class:!0});var $=D(f);d=K($,u),$.forEach(h),v.forEach(h),this.h()},h(){V(l,"class","svelte-1tctrjz"),V(f,"class","svelte-1tctrjz")},m(p,v){T(p,e,v),w(e,l),w(l,t),L(n,t,null),w(l,o),w(l,r),w(r,s),w(e,a),w(e,f),w(f,d),c=!0,m||(g=Me(ze.call(null,t,{text:"The average length of the text in characters."})),m=!0)},p(p,v){(!c||v&16)&&u!==(u=De(p[4].avg_text_length)+"")&&ue(d,u)},i(p){c||(_(n.$$.fragment,p),c=!0)},o(p){b(n.$$.fragment,p),c=!1},d(p){p&&h(e),H(n),m=!1,g()}}}function wn(i){let e,l,t,n,o,r,s,a,f,u=De(i[4].min_val)+"",d,c,m=De(i[4].max_val)+"",g,p,v,y;return n=new Vt({props:{class:"inline"}}),{c(){e=F("tr"),l=F("td"),t=F("span"),q(n.$$.fragment),o=W(),r=F("span"),s=J("Range"),a=W(),f=F("td"),d=J(u),c=J(" .. "),g=J(m),this.h()},l(S){e=A(S,"TR",{});var k=D(e);l=A(k,"TD",{class:!0});var $=D(l);t=A($,"SPAN",{});var M=D(t);O(n.$$.fragment,M),M.forEach(h),o=Q($),r=A($,"SPAN",{});var z=D(r);s=K(z,"Range"),z.forEach(h),$.forEach(h),a=Q(k),f=A(k,"TD",{class:!0});var C=D(f);d=K(C,u),c=K(C," .. "),g=K(C,m),C.forEach(h),k.forEach(h),this.h()},h(){V(l,"class","svelte-1tctrjz"),V(f,"class","svelte-1tctrjz")},m(S,k){T(S,e,k),w(e,l),w(l,t),L(n,t,null),w(l,o),w(l,r),w(r,s),w(e,a),w(e,f),w(f,d),w(f,c),w(f,g),p=!0,v||(y=Me(ze.call(null,t,{text:"The minimum and maximum value across the dataset"})),v=!0)},p(S,k){(!p||k&16)&&u!==(u=De(S[4].min_val)+"")&&ue(d,u),(!p||k&16)&&m!==(m=De(S[4].max_val)+"")&&ue(g,m)},i(S){p||(_(n.$$.fragment,S),p=!0)},o(S){b(n.$$.fragment,S),p=!1},d(S){S&&h(e),H(n),v=!1,y()}}}function ro(i){let e,l,t;return l=new to({props:{counts:i[5],bins:i[3],field:i[0]}}),l.$on("row-click",i[11]),{c(){e=F("div"),q(l.$$.fragment),this.h()},l(n){e=A(n,"DIV",{class:!0});var o=D(e);O(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"class","mt-4")},m(n,o){T(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&32&&(r.counts=n[5]),o&8&&(r.bins=n[3]),o&1&&(r.field=n[0]),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){b(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function so(i){let e,l;return e=new Le({props:{paragraph:!0,width:"50%"}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ao(i){let e,l,t=i[1].error.message+"",n;return{c(){e=F("p"),l=J("Error: "),n=J(t)},l(o){e=A(o,"P",{});var r=D(e);l=K(r,"Error: "),n=K(r,t),r.forEach(h)},m(o,r){T(o,e,r),w(e,l),w(e,n)},p(o,r){r&2&&t!==(t=o[1].error.message+"")&&ue(n,t)},i:x,o:x,d(o){o&&h(e)}}}function oo(i){let e,l,t,n,o,r,s;const a=[io,no,lo],f=[];function u(g,p){return g[2].error?0:g[4]==null?1:2}l=u(i),t=f[l]=a[l](i);const d=[ao,so,ro],c=[];function m(g,p){return g[1].error?0:g[5]==null?1:g[5].length>0?2:-1}return~(o=m(i))&&(r=c[o]=d[o](i)),{c(){e=F("div"),t.c(),n=W(),r&&r.c(),this.h()},l(g){e=A(g,"DIV",{class:!0});var p=D(e);t.l(p),n=Q(p),r&&r.l(p),p.forEach(h),this.h()},h(){V(e,"class","p-4")},m(g,p){T(g,e,p),f[l].m(e,null),w(e,n),~o&&c[o].m(e,null),s=!0},p(g,[p]){let v=l;l=u(g),l===v?f[l].p(g,p):(ee(),b(f[v],1,1,()=>{f[v]=null}),te(),t=f[l],t?t.p(g,p):(t=f[l]=a[l](g),t.c()),_(t,1),t.m(e,n));let y=o;o=m(g),o===y?~o&&c[o].p(g,p):(r&&(ee(),b(c[y],1,1,()=>{c[y]=null}),te()),~o?(r=c[o],r?r.p(g,p):(r=c[o]=d[o](g),r.c()),_(r,1),r.m(e,null)):r=null)},i(g){s||(_(t),_(r),s=!0)},o(g){b(t),b(r),s=!1},d(g){g&&h(e),f[l].d(),~o&&c[o].d()}}}function fo(i,e,l){let t,n,o,r,s,a=x,f=()=>(a(),a=Be(n,k=>l(1,s=k)),n),u,d=x,c=()=>(d(),d=Be(t,k=>l(2,u=k)),t),m;i.$$.on_destroy.push(()=>a()),i.$$.on_destroy.push(()=>d());let{field:g}=e;const p=Re();me(i,p,k=>l(10,m=k));let v=null;function y(k){if(k==null)return;if(v!=null){const[M,z]=v[k.toString()];if(M!=null){const C={path:g.path,op:"greater_equal",value:M};p.addFilter(C)}if(z!=null){const C={path:g.path,op:"less",value:z};p.addFilter(C)}return}const $={path:g.path,op:"equals",value:k};p.addFilter($)}const S=k=>y(k.detail.value);return i.$$set=k=>{"field"in k&&l(0,g=k.field)},i.$$.update=()=>{var k;if(i.$$.dirty&1025&&c(l(7,t=ji(m.namespace,m.datasetName,{leaf_path:g.path}))),i.$$.dirty&1025&&f(l(6,n=Ui(m.namespace,m.datasetName,{leaf_path:g.path,filters:m.query.filters}))),i.$$.dirty&2&&l(5,o=s.data!=null?s.data.counts:null),i.$$.dirty&4&&l(4,r=u.data!=null?u.data:null),i.$$.dirty&2)if(((k=s.data)==null?void 0:k.bins)!=null){l(3,v={});for(const[$,M,z]of Object.values(s.data.bins))l(3,v[$]=[M,z],v)}else l(3,v=null)},[g,s,u,v,r,o,n,t,p,y,m,S]}class uo extends ge{constructor(e){super(),pe(this,e,fo,oo,_e,{field:0})}}function kn(i,e,l){const t=i.slice();return t[38]=e[l],t}function Sn(i,e,l){const t=i.slice();return t[41]=e[l],t}function En(i,e,l){const t=i.slice();return t[44]=e[l],t}function yn(i,e,l){const t=i.slice();return t[47]=e[l],t}function co(i){let e,l="{}",t;return{c(){e=F("span"),t=J(l),this.h()},l(n){e=A(n,"SPAN",{class:!0});var o=D(e);t=K(o,l),o.forEach(h),this.h()},h(){V(e,"class","font-mono")},m(n,o){T(n,e,o),w(e,t)},p:x,i:x,o:x,d(n){n&&h(e)}}}function mo(i){let e,l,t,n;var o=ht[i[1].repeated_field.dtype];function r(s){return{props:{title:s[1].dtype}}}return o&&(l=ct(o,r(i))),{c(){e=F("div"),l&&q(l.$$.fragment),t=J("[]"),this.h()},l(s){e=A(s,"DIV",{class:!0});var a=D(e);l&&O(l.$$.fragment,a),t=K(a,"[]"),a.forEach(h),this.h()},h(){V(e,"class","flex")},m(s,a){T(s,e,a),l&&L(l,e,null),w(e,t),n=!0},p(s,a){const f={};if(a[0]&2&&(f.title=s[1].dtype),a[0]&2&&o!==(o=ht[s[1].repeated_field.dtype])){if(l){ee();const u=l;b(u.$$.fragment,1,0,()=>{H(u,1)}),te()}o?(l=ct(o,r(s)),q(l.$$.fragment),_(l.$$.fragment,1),L(l,e,t)):l=null}else o&&l.$set(f)},i(s){n||(l&&_(l.$$.fragment,s),n=!0)},o(s){l&&b(l.$$.fragment,s),n=!1},d(s){s&&h(e),l&&H(l)}}}function ho(i){let e,l,t;var n=ht[i[1].dtype];function o(r){return{props:{title:r[1].dtype}}}return n&&(e=ct(n,o(i))),{c(){e&&q(e.$$.fragment),l=ne()},l(r){e&&O(e.$$.fragment,r),l=ne()},m(r,s){e&&L(e,r,s),T(r,l,s),t=!0},p(r,s){const a={};if(s[0]&2&&(a.title=r[1].dtype),s[0]&2&&n!==(n=ht[r[1].dtype])){if(e){ee();const f=e;b(f.$$.fragment,1,0,()=>{H(f,1)}),te()}n?(e=ct(n,o(r)),q(e.$$.fragment),_(e.$$.fragment,1),L(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&_(e.$$.fragment,r),t=!0)},o(r){e&&b(e.$$.fragment,r),t=!1},d(r){r&&h(l),e&&H(e,r)}}}function $n(i){let e,l;return e=new At({props:{interactive:!0,type:"green",$$slots:{default:[po]},$$scope:{ctx:i}}}),e.$on("click",i[32]),e.$on("remove",i[33]),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&16384|n[1]&524288&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function _o(i){let e,l;return e=new Ct({}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function go(i){let e,l;return e=new Tt({}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function po(i){let e,l,t,n,o,r,s,a;const f=[go,_o],u=[];function d(c,m){return c[14]=="ASC"?0:1}return r=d(i),s=u[r]=f[r](i),{c(){e=F("div"),l=F("div"),t=J("Sorted"),n=W(),o=F("span"),s.c(),this.h()},l(c){e=A(c,"DIV",{class:!0});var m=D(e);l=A(m,"DIV",{class:!0});var g=D(l);t=K(g,"Sorted"),g.forEach(h),n=Q(m),o=A(m,"SPAN",{});var p=D(o);s.l(p),p.forEach(h),m.forEach(h),this.h()},h(){V(l,"class","mr-1"),V(e,"class","flex flex-row")},m(c,m){T(c,e,m),w(e,l),w(l,t),w(e,n),w(e,o),u[r].m(o,null),a=!0},p(c,m){let g=r;r=d(c),r!==g&&(ee(),b(u[g],1,1,()=>{u[g]=null}),te(),s=u[r],s||(s=u[r]=f[r](c),s.c()),_(s,1),s.m(o,null))},i(c){a||(_(s),a=!0)},o(c){b(s),a=!1},d(c){c&&h(e),u[r].d()}}}function Dn(i){let e,l,t=i[7],n=[];for(let r=0;r<t.length;r+=1)n[r]=In(yn(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);T(r,e,s),l=!0},p(r,s){if(s[0]&128){t=r[7];let a;for(a=0;a<t.length;a+=1){const f=yn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=In(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)b(n[s]);l=!1},d(r){Ae(n,r),r&&h(e)}}}function In(i){let e,l;return e=new xt({props:{filter:i[47],hidePath:!0}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.filter=t[47]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Vn(i){let e,l;return e=new $i({props:{search:i[44]}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&4096&&(o.search=t[44]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Tn(i){var t;let e,l;return e=new Wt({props:{embedding:(t=i[41].signal)==null?void 0:t.signal_name}}),{c(){q(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,o){L(e,n,o),l=!0},p(n,o){var s;const r={};o[0]&65536&&(r.embedding=(s=n[41].signal)==null?void 0:s.signal_name),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){b(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function Cn(i){let e,l,t,n,o,r,s;return l=new lt({props:{type:"cyan",icon:Lt}}),l.$on("click",i[34]),n=new el({props:{isPreview:!0}}),n.$on("click",i[35]),{c(){e=F("div"),q(l.$$.fragment),t=W(),q(n.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var f=D(e);O(l.$$.fragment,f),f.forEach(h),t=Q(a),O(n.$$.fragment,a),this.h()},h(){V(e,"class","compute-signal-preview pointer-events-auto mr-2")},m(a,f){T(a,e,f),L(l,e,null),T(a,t,f),L(n,a,f),o=!0,r||(s=Me(ze.call(null,e,{text:`Compute signal over the column and save the result.

This may be expensive.`})),r=!0)},p:x,i(a){o||(_(l.$$.fragment,a),_(n.$$.fragment,a),o=!0)},o(a){b(l.$$.fragment,a),b(n.$$.fragment,a),o=!1},d(a){a&&h(e),H(l),a&&h(t),H(n,a),r=!1,s()}}}function Nn(i){let e,l,t;return l=new Ye({props:{isSelected:i[20],kind:"ghost",size:"field",iconDescription:i[20]?"Close statistics":"See statistics",icon:hr}}),l.$on("click",i[36]),{c(){e=F("div"),q(l.$$.fragment),this.h()},l(n){e=A(n,"DIV",{class:!0});var o=D(e);O(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"class","stats-button flex")},m(n,o){T(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o[0]&1048576&&(r.isSelected=n[20]),o[0]&1048576&&(r.iconDescription=n[20]?"Close statistics":"See statistics"),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){b(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function Mn(i){let e,l,t,n;return l=new uo({props:{field:i[1]}}),{c(){e=F("div"),q(l.$$.fragment),this.h()},l(o){e=A(o,"DIV",{class:!0});var r=D(e);O(l.$$.fragment,r),r.forEach(h),this.h()},h(){V(e,"class","px-2")},m(o,r){T(o,e,r),L(l,e,null),n=!0},p(o,r){const s={};r[0]&2&&(s.field=o[1]),l.$set(s)},i(o){n||(_(l.$$.fragment,o),o&&kt(()=>{n&&(t||(t=ut(e,mt,{},!0)),t.run(1))}),n=!0)},o(o){b(l.$$.fragment,o),o&&(t||(t=ut(e,mt,{},!1)),t.run(0)),n=!1},d(o){o&&h(e),H(l),o&&t&&t.end()}}}function zn(i){let e,l,t=i[18],n=[];for(let r=0;r<t.length;r+=1)n[r]=Fn(kn(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);T(r,e,s),l=!0},p(r,s){if(s[0]&262415){t=r[18];let a;for(a=0;a<t.length;a+=1){const f=kn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Fn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)b(n[s]);l=!1},d(r){Ae(n,r),r&&h(e)}}}function Fn(i){let e,l;return e=new Ii({props:{schema:i[0],field:i[38],indent:i[3]+1,sourceField:i[8]&&xe(i[38],i[0])?i[1]:i[2]}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&262144&&(o.field=t[38]),n[0]&8&&(o.indent=t[3]+1),n[0]&262407&&(o.sourceField=t[8]&&xe(t[38],t[0])?t[1]:t[2]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function bo(i){let e,l,t,n,o,r,s,a,f,u,d,c,m,g,p,v,y,S,k,$,M,z,C,I,B,E,N;n=new Zt({props:{labelText:"Show",hideLabel:!0,checked:i[17]}}),n.$on("change",i[30]);const P=[ho,mo,co],Y=[];function G(U,ie){return U[1].dtype?0:U[1].repeated_field&&U[1].repeated_field.dtype?1:2}s=G(i),a=Y[s]=P[s](i);let j=i[15]&&$n(i),X=i[13]&&Dn(i),Z=i[12],le=[];for(let U=0;U<Z.length;U+=1)le[U]=Vn(En(i,Z,U));const he=U=>b(le[U],1,1,()=>{le[U]=null});let re=i[16],se=[];for(let U=0;U<re.length;U+=1)se[U]=Tn(Sn(i,re,U));const ye=U=>b(se[U],1,1,()=>{se[U]=null});let we=i[4]&&i[21]&&Cn(i),Se=i[10]&&Nn(i);$=new Di({props:{field:i[1],schema:i[0]}});let fe=i[20]&&Mn(i),R=i[18].length&&zn(i);return{c(){e=F("div"),l=F("div"),t=F("div"),q(n.$$.fragment),o=W(),r=F("div"),a.c(),u=W(),d=F("button"),c=J(i[19]),m=W(),j&&j.c(),g=W(),X&&X.c(),p=W();for(let U=0;U<le.length;U+=1)le[U].c();v=W();for(let U=0;U<se.length;U+=1)se[U].c();y=W(),we&&we.c(),S=W(),Se&&Se.c(),k=W(),q($.$$.fragment),M=W(),fe&&fe.c(),z=W(),C=F("div"),R&&R.c(),this.h()},l(U){e=A(U,"DIV",{class:!0});var ie=D(e);l=A(ie,"DIV",{class:!0});var de=D(l);t=A(de,"DIV",{});var Fe=D(t);O(n.$$.fragment,Fe),Fe.forEach(h),o=Q(de),r=A(de,"DIV",{class:!0});var He=D(r);a.l(He),He.forEach(h),u=Q(de),d=A(de,"BUTTON",{class:!0});var ae=D(d);c=K(ae,i[19]),ae.forEach(h),m=Q(de),j&&j.l(de),g=Q(de),X&&X.l(de),p=Q(de);for(let Ne=0;Ne<le.length;Ne+=1)le[Ne].l(de);v=Q(de);for(let Ne=0;Ne<se.length;Ne+=1)se[Ne].l(de);y=Q(de),we&&we.l(de),S=Q(de),Se&&Se.l(de),k=Q(de),O($.$$.fragment,de),de.forEach(h),M=Q(ie),fe&&fe.l(ie),z=Q(ie),C=A(ie,"DIV",{});var Te=D(C);R&&R.l(Te),Te.forEach(h),ie.forEach(h),this.h()},h(){Ue(t,"margin-left",i[3]*1.5+"rem"),V(r,"class","rounded-md bg-blue-200 p-0.5"),oe(r,"bg-blue-200",i[5]),V(d,"class","ml-2 grow cursor-pointer truncate whitespace-nowrap text-left text-gray-900"),oe(d,"cursor-default",!i[10]),Ue(d,"line-height","3rem"),V(l,"class","flex w-full flex-row items-center gap-x-2 border-gray-300 px-4 hover:bg-gray-100"),oe(l,"bg-blue-50",i[5]),oe(l,"bg-emerald-100",i[4]),oe(l,"hover:bg-blue-100",i[5]),V(e,"class","border-gray-300"),oe(e,"border-b",!i[5])},m(U,ie){T(U,e,ie),w(e,l),w(l,t),L(n,t,null),w(l,o),w(l,r),Y[s].m(r,null),w(l,u),w(l,d),w(d,c),w(l,m),j&&j.m(l,null),w(l,g),X&&X.m(l,null),w(l,p);for(let de=0;de<le.length;de+=1)le[de]&&le[de].m(l,null);w(l,v);for(let de=0;de<se.length;de+=1)se[de]&&se[de].m(l,null);w(l,y),we&&we.m(l,null),w(l,S),Se&&Se.m(l,null),w(l,k),L($,l,null),w(e,M),fe&&fe.m(e,null),w(e,z),w(e,C),R&&R.m(C,null),B=!0,E||(N=[Me(f=ze.call(null,r,{text:i[11]})),Ve(d,"click",i[31])],E=!0)},p(U,ie){const de={};ie[0]&131072&&(de.checked=U[17]),n.$set(de),ie[0]&8&&Ue(t,"margin-left",U[3]*1.5+"rem");let Fe=s;if(s=G(U),s===Fe?Y[s].p(U,ie):(ee(),b(Y[Fe],1,1,()=>{Y[Fe]=null}),te(),a=Y[s],a?a.p(U,ie):(a=Y[s]=P[s](U),a.c()),_(a,1),a.m(r,null)),f&&We(f.update)&&ie[0]&2048&&f.update.call(null,{text:U[11]}),(!B||ie[0]&32)&&oe(r,"bg-blue-200",U[5]),(!B||ie[0]&524288)&&ue(c,U[19]),(!B||ie[0]&1024)&&oe(d,"cursor-default",!U[10]),U[15]?j?(j.p(U,ie),ie[0]&32768&&_(j,1)):(j=$n(U),j.c(),_(j,1),j.m(l,g)):j&&(ee(),b(j,1,1,()=>{j=null}),te()),U[13]?X?(X.p(U,ie),ie[0]&8192&&_(X,1)):(X=Dn(U),X.c(),_(X,1),X.m(l,p)):X&&(ee(),b(X,1,1,()=>{X=null}),te()),ie[0]&4096){Z=U[12];let ae;for(ae=0;ae<Z.length;ae+=1){const Te=En(U,Z,ae);le[ae]?(le[ae].p(Te,ie),_(le[ae],1)):(le[ae]=Vn(Te),le[ae].c(),_(le[ae],1),le[ae].m(l,v))}for(ee(),ae=Z.length;ae<le.length;ae+=1)he(ae);te()}if(ie[0]&65536){re=U[16];let ae;for(ae=0;ae<re.length;ae+=1){const Te=Sn(U,re,ae);se[ae]?(se[ae].p(Te,ie),_(se[ae],1)):(se[ae]=Tn(Te),se[ae].c(),_(se[ae],1),se[ae].m(l,y))}for(ee(),ae=re.length;ae<se.length;ae+=1)ye(ae);te()}U[4]&&U[21]?we?(we.p(U,ie),ie[0]&2097168&&_(we,1)):(we=Cn(U),we.c(),_(we,1),we.m(l,S)):we&&(ee(),b(we,1,1,()=>{we=null}),te()),U[10]?Se?(Se.p(U,ie),ie[0]&1024&&_(Se,1)):(Se=Nn(U),Se.c(),_(Se,1),Se.m(l,k)):Se&&(ee(),b(Se,1,1,()=>{Se=null}),te());const He={};ie[0]&2&&(He.field=U[1]),ie[0]&1&&(He.schema=U[0]),$.$set(He),(!B||ie[0]&32)&&oe(l,"bg-blue-50",U[5]),(!B||ie[0]&16)&&oe(l,"bg-emerald-100",U[4]),(!B||ie[0]&32)&&oe(l,"hover:bg-blue-100",U[5]),U[20]?fe?(fe.p(U,ie),ie[0]&1048576&&_(fe,1)):(fe=Mn(U),fe.c(),_(fe,1),fe.m(e,z)):fe&&(ee(),b(fe,1,1,()=>{fe=null}),te()),U[18].length?R?(R.p(U,ie),ie[0]&262144&&_(R,1)):(R=zn(U),R.c(),_(R,1),R.m(C,null)):R&&(ee(),b(R,1,1,()=>{R=null}),te()),(!B||ie[0]&32)&&oe(e,"border-b",!U[5])},i(U){if(!B){_(n.$$.fragment,U),_(a),_(j),_(X);for(let ie=0;ie<Z.length;ie+=1)_(le[ie]);for(let ie=0;ie<re.length;ie+=1)_(se[ie]);_(we),_(Se),_($.$$.fragment,U),_(fe),_(R),U&&kt(()=>{B&&(I||(I=ut(C,mt,{},!0)),I.run(1))}),B=!0}},o(U){b(n.$$.fragment,U),b(a),b(j),b(X),le=le.filter(Boolean);for(let ie=0;ie<le.length;ie+=1)b(le[ie]);se=se.filter(Boolean);for(let ie=0;ie<se.length;ie+=1)b(se[ie]);b(we),b(Se),b($.$$.fragment,U),b(fe),b(R),U&&(I||(I=ut(C,mt,{},!1)),I.run(0)),B=!1},d(U){U&&h(e),H(n),Y[s].d(),j&&j.d(),X&&X.d(),Ae(le,U),Ae(se,U),we&&we.d(),Se&&Se.d(),H($),fe&&fe.d(),R&&R.d(),U&&I&&I.end(),E=!1,Ze(N)}}}function vo(i,e,l){let t,n,o,r,s,a,f,u,d,c,m,g,p,v,y,S,k,$,M,z,C,I,B,{schema:E}=e,{field:N}=e,{sourceField:P=void 0}=e,{indent:Y=0}=e;const G=gi();me(i,G,fe=>l(22,B=fe));const j=Re();me(i,j,fe=>l(9,C=fe));const X=Qe();me(i,X,fe=>l(29,I=fe));function Z(fe){return fe!=null&&fe.repeated_field?Z(fe.repeated_field):fe!=null&&fe.fields?[...Object.values(fe.fields).filter(R=>R.path.at(-1)!==pi)].flatMap(R=>{const U=Z(R);return U.some(ie=>dt(ie))?U:[R]}).filter(R=>{var U,ie,de,Fe;return!(R.dtype==="embedding"||R.signal!=null&&wt(R).some(He=>He.dtype==="embedding")||((U=R.signal)==null?void 0:U.signal_name)==="sentences"||((ie=R.signal)==null?void 0:ie.signal_name)==="substring_search"||((de=R.signal)==null?void 0:de.signal_name)==="semantic_similarity"||((Fe=R.signal)==null?void 0:Fe.signal_name)==="concept_labels")}):[]}const le=()=>{d?j.removeSelectedColumn(r):j.addSelectedColumn(r)},he=()=>{z&&(s?j.removeExpandedColumn(r):j.addExpandedColumn(r))},re=()=>g==="ASC"?ft(j,C.query.sort_order="DESC",C):ft(j,C.query.sort_order="ASC",C),se=()=>j.removeSortBy(r),ye=()=>N.signal&&y&&P&&B.mutate([C.namespace,C.datasetName,{leaf_path:P.path,signal:N.signal}]),we=()=>{var fe;return N.signal&&y&&et({command:tt.EditPreviewConcept,namespace:C.namespace,datasetName:C.datasetName,path:P==null?void 0:P.path,signalName:(fe=N.signal)==null?void 0:fe.signal_name,value:N.signal})},Se=()=>{s?j.removeExpandedColumn(r):j.addExpandedColumn(r)};return i.$$set=fe=>{"schema"in fe&&l(0,E=fe.schema),"field"in fe&&l(1,N=fe.field),"sourceField"in fe&&l(2,P=fe.sourceField),"indent"in fe&&l(3,Y=fe.indent)},i.$$.update=()=>{var fe,R,U,ie;i.$$.dirty[0]&3&&l(5,t=xe(N,E)),i.$$.dirty[0]&2&&l(21,n=dt(N)),i.$$.dirty[0]&32&&l(8,o=!t),i.$$.dirty[0]&2&&l(6,r=N.path),i.$$.dirty[0]&576&&l(20,s=C.expandedColumns[Ie(r)]||!1),i.$$.dirty[0]&64&&l(28,a=r.at(-1)===Dt),i.$$.dirty[0]&268435520&&l(19,f=a?r.at(-2):r.at(-1)),i.$$.dirty[0]&2&&l(18,u=Z(N)),i.$$.dirty[0]&536870976&&l(17,d=(fe=I.visibleFields)==null?void 0:fe.some(de=>qe(de.path,r))),i.$$.dirty[0]&258&&l(16,c=o?wt(N).filter(de=>de.signal!=null&&wt(de).some(Fe=>Fe.dtype==="embedding")):[]),i.$$.dirty[0]&576&&l(15,m=(R=C.query.sort_by)==null?void 0:R.some(de=>qe(de,r))),i.$$.dirty[0]&512&&l(14,g=C.query.sort_order),i.$$.dirty[0]&576&&l(7,p=((U=C.query.filters)==null?void 0:U.filter(de=>qe(de.path,r)))||[]),i.$$.dirty[0]&128&&l(13,v=p.length>0),i.$$.dirty[0]&536870976&&l(4,y=Mt(((ie=I.selectRowsSchema)==null?void 0:ie.data)||null,r)),i.$$.dirty[0]&576&&l(12,S=Qt(C,r)),i.$$.dirty[0]&32&&l(26,k=t?". This field was generated by a signal":""),i.$$.dirty[0]&2&&l(27,$=N.dtype??(N.repeated_field&&N.repeated_field.dtype?`${N.repeated_field.dtype}[]`:"object")),i.$$.dirty[0]&201326592&&l(11,M=`Data type: ${$}${k}`),i.$$.dirty[0]&18&&l(10,z=$t(N)&&!y)},[E,N,P,Y,y,t,r,p,o,C,z,M,S,v,g,m,c,d,u,f,s,n,B,G,j,X,k,$,a,I,le,he,re,se,ye,we,Se]}class Ii extends ge{constructor(e){super(),pe(this,e,vo,bo,_e,{schema:0,field:1,sourceField:2,indent:3},null,[-1,-1])}}function An(i,e,l){const t=i.slice();return t[28]=e[l],t}function Bn(i,e,l){const t=i.slice();return t[31]=e[l],t}function wo(i){var B;let e,l,t,n,o,r,s,a,f,u,d,c,m,g,p,v,y,S;t=new Zt({props:{labelText:"Show",hideLabel:!0,checked:i[14],disabled:i[10]}}),t.$on("change",i[23]);let k=i[15]&&Pn(i),$=i[13]&&Rn(i),M=i[11]&&qn(i),z=i[17]&&Hn(i),C=((B=i[1])==null?void 0:B.dtype)&&On(i);p=new Di({props:{field:i[1],schema:i[0]}});let I=i[8]&&jn(i);return{c(){e=F("div"),l=F("div"),q(t.$$.fragment),n=W(),o=F("div"),k&&k.c(),r=W(),s=F("div"),a=J(i[16]),f=W(),$&&$.c(),u=W(),M&&M.c(),d=W(),z&&z.c(),c=W(),C&&C.c(),m=W(),g=F("div"),q(p.$$.fragment),v=W(),I&&I.c(),y=ne(),this.h()},l(E){e=A(E,"DIV",{class:!0});var N=D(e);l=A(N,"DIV",{class:!0});var P=D(l);O(t.$$.fragment,P),P.forEach(h),n=Q(N),o=A(N,"DIV",{class:!0});var Y=D(o);k&&k.l(Y),Y.forEach(h),r=Q(N),s=A(N,"DIV",{class:!0,title:!0});var G=D(s);a=K(G,i[16]),G.forEach(h),f=Q(N),$&&$.l(N),u=Q(N),M&&M.l(N),d=Q(N),z&&z.l(N),c=Q(N),C&&C.l(N),m=Q(N),g=A(N,"DIV",{});var j=D(g);O(p.$$.fragment,j),j.forEach(h),N.forEach(h),v=Q(E),I&&I.l(E),y=ne(),this.h()},h(){V(l,"class","w-6"),V(o,"class","w-6"),Ue(o,"margin-left",i[2]*24+"px"),V(s,"class","grow truncate whitespace-nowrap pr-2 text-gray-900"),V(s,"title",i[16]),V(e,"class","flex w-full flex-row items-center border-b border-gray-200 px-4 py-2 hover:bg-gray-100"),oe(e,"bg-blue-50",i[18]),oe(e,"hover:bg-blue-100",i[18])},m(E,N){T(E,e,N),w(e,l),L(t,l,null),w(e,n),w(e,o),k&&k.m(o,null),w(e,r),w(e,s),w(s,a),w(e,f),$&&$.m(e,null),w(e,u),M&&M.m(e,null),w(e,d),z&&z.m(e,null),w(e,c),C&&C.m(e,null),w(e,m),w(e,g),L(p,g,null),T(E,v,N),I&&I.m(E,N),T(E,y,N),S=!0},p(E,N){var G;const P={};N[0]&16384&&(P.checked=E[14]),N[0]&1024&&(P.disabled=E[10]),t.$set(P),E[15]?k?(k.p(E,N),N[0]&32768&&_(k,1)):(k=Pn(E),k.c(),_(k,1),k.m(o,null)):k&&(ee(),b(k,1,1,()=>{k=null}),te()),N[0]&4&&Ue(o,"margin-left",E[2]*24+"px"),(!S||N[0]&65536)&&ue(a,E[16]),(!S||N[0]&65536)&&V(s,"title",E[16]),E[13]?$?($.p(E,N),N[0]&8192&&_($,1)):($=Rn(E),$.c(),_($,1),$.m(e,u)):$&&(ee(),b($,1,1,()=>{$=null}),te()),E[11]?M?(M.p(E,N),N[0]&2048&&_(M,1)):(M=qn(E),M.c(),_(M,1),M.m(e,d)):M&&(ee(),b(M,1,1,()=>{M=null}),te()),E[17]?z?(z.p(E,N),N[0]&131072&&_(z,1)):(z=Hn(E),z.c(),_(z,1),z.m(e,c)):z&&(ee(),b(z,1,1,()=>{z=null}),te()),(G=E[1])!=null&&G.dtype?C?C.p(E,N):(C=On(E),C.c(),C.m(e,m)):C&&(C.d(1),C=null);const Y={};N[0]&2&&(Y.field=E[1]),N[0]&1&&(Y.schema=E[0]),p.$set(Y),(!S||N[0]&262144)&&oe(e,"bg-blue-50",E[18]),(!S||N[0]&262144)&&oe(e,"hover:bg-blue-100",E[18]),E[8]?I?(I.p(E,N),N[0]&256&&_(I,1)):(I=jn(E),I.c(),_(I,1),I.m(y.parentNode,y)):I&&(ee(),b(I,1,1,()=>{I=null}),te())},i(E){S||(_(t.$$.fragment,E),_(k),_($),_(M),_(z),_(p.$$.fragment,E),_(I),S=!0)},o(E){b(t.$$.fragment,E),b(k),b($),b(M),b(z),b(p.$$.fragment,E),b(I),S=!1},d(E){E&&h(e),H(t),k&&k.d(),$&&$.d(),M&&M.d(),z&&z.d(),C&&C.d(),H(p),E&&h(v),I&&I.d(E),E&&h(y)}}}function ko(i){let e,l;return e=new tl({props:{field:i[1].repeated_field,indent:i[2],schema:i[0]}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&2&&(o.field=t[1].repeated_field),n[0]&4&&(o.indent=t[2]),n[0]&1&&(o.schema=t[0]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Pn(i){let e,l,t,n,o;return l=new cs({props:{class:"w-3"}}),{c(){e=F("button"),q(l.$$.fragment),this.h()},l(r){e=A(r,"BUTTON",{class:!0});var s=D(e);O(l.$$.fragment,s),s.forEach(h),this.h()},h(){V(e,"class","p-2 transition hover:opacity-60"),oe(e,"rotate-180",!i[8])},m(r,s){T(r,e,s),L(l,e,null),t=!0,n||(o=Ve(e,"click",i[24]),n=!0)},p(r,s){(!t||s[0]&256)&&oe(e,"rotate-180",!r[8])},i(r){t||(_(l.$$.fragment,r),t=!0)},o(r){b(l.$$.fragment,r),t=!1},d(r){r&&h(e),H(l),n=!1,o()}}}function Rn(i){let e,l;return e=new At({props:{interactive:!0,type:"green",$$slots:{default:[yo]},$$scope:{ctx:i}}}),e.$on("click",i[25]),e.$on("remove",i[26]),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&4096|n[1]&8&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function So(i){let e,l;return e=new Ct({}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Eo(i){let e,l;return e=new Tt({}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function yo(i){let e,l,t,n,o;const r=[Eo,So],s=[];function a(f,u){return f[12]=="ASC"?0:1}return l=a(i),t=s[l]=r[l](i),{c(){e=J(`Sorted
        `),t.c(),n=ne()},l(f){e=K(f,`Sorted
        `),t.l(f),n=ne()},m(f,u){T(f,e,u),s[l].m(f,u),T(f,n,u),o=!0},p(f,u){let d=l;l=a(f),l!==d&&(ee(),b(s[d],1,1,()=>{s[d]=null}),te(),t=s[l],t||(t=s[l]=r[l](f),t.c()),_(t,1),t.m(n.parentNode,n))},i(f){o||(_(t),o=!0)},o(f){b(t),o=!1},d(f){f&&h(e),s[l].d(f),f&&h(n)}}}function qn(i){let e,l,t=i[4],n=[];for(let r=0;r<t.length;r+=1)n[r]=Ln(Bn(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);T(r,e,s),l=!0},p(r,s){if(s[0]&16){t=r[4];let a;for(a=0;a<t.length;a+=1){const f=Bn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Ln(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)b(n[s]);l=!1},d(r){Ae(n,r),r&&h(e)}}}function Ln(i){let e,l,t,n;return l=new xt({props:{filter:i[31],hidePath:!0}}),{c(){e=F("div"),q(l.$$.fragment),t=W(),this.h()},l(o){e=A(o,"DIV",{class:!0});var r=D(e);O(l.$$.fragment,r),t=Q(r),r.forEach(h),this.h()},h(){V(e,"class","mx-1")},m(o,r){T(o,e,r),L(l,e,null),w(e,t),n=!0},p(o,r){const s={};r[0]&16&&(s.filter=o[31]),l.$set(s)},i(o){n||(_(l.$$.fragment,o),n=!0)},o(o){b(l.$$.fragment,o),n=!1},d(o){o&&h(e),H(l)}}}function Hn(i){let e,l;return e=new el({props:{isPreview:i[9]}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&512&&(o.isPreview=t[9]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function On(i){let e,l=i[1].dtype+"",t,n=i[6]?"[]":"",o;return{c(){e=F("div"),t=J(l),o=J(n),this.h()},l(r){e=A(r,"DIV",{class:!0});var s=D(e);t=K(s,l),o=K(s,n),s.forEach(h),this.h()},h(){V(e,"class","w-24 px-2 text-right")},m(r,s){T(r,e,s),w(e,t),w(e,o)},p(r,s){s[0]&2&&l!==(l=r[1].dtype+"")&&ue(t,l),s[0]&64&&n!==(n=r[6]?"[]":"")&&ue(o,n)},d(r){r&&h(e)}}}function jn(i){let e,l,t,n=i[5].length&&Un(i);return{c(){e=F("div"),n&&n.c()},l(o){e=A(o,"DIV",{});var r=D(e);n&&n.l(r),r.forEach(h)},m(o,r){T(o,e,r),n&&n.m(e,null),t=!0},p(o,r){o[5].length?n?(n.p(o,r),r[0]&32&&_(n,1)):(n=Un(o),n.c(),_(n,1),n.m(e,null)):n&&(ee(),b(n,1,1,()=>{n=null}),te())},i(o){t||(_(n),o&&kt(()=>{t&&(l||(l=ut(e,mt,{},!0)),l.run(1))}),t=!0)},o(o){b(n),o&&(l||(l=ut(e,mt,{},!1)),l.run(0)),t=!1},d(o){o&&h(e),n&&n.d(),o&&l&&l.end()}}}function Un(i){let e,l,t=i[5],n=[];for(let r=0;r<t.length;r+=1)n[r]=Yn(An(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);T(r,e,s),l=!0},p(r,s){if(s[0]&37){t=r[5];let a;for(a=0;a<t.length;a+=1){const f=An(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Yn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)b(n[s]);l=!1},d(r){Ae(n,r),r&&h(e)}}}function Yn(i){let e,l;return e=new tl({props:{schema:i[0],field:i[28],indent:i[2]+1}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&32&&(o.field=t[28]),n[0]&4&&(o.indent=t[2]+1),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function $o(i){let e,l,t,n;const o=[ko,wo],r=[];function s(a,f){return a[1].repeated_field?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},l(a){l.l(a),t=ne()},m(a,f){r[e].m(a,f),T(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(ee(),b(r[u],1,1,()=>{r[u]=null}),te(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t))},i(a){n||(_(l),n=!0)},o(a){b(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function Do(i,e,l){let t,n,o,r,s,a,f,u,d,c,m,g,p,v,y,S,k,{schema:$}=e,{field:M}=e,{indent:z=0}=e;const C=Re();me(i,C,j=>l(7,k=j));const I=Qe();me(i,I,j=>l(22,S=j));let B=!0;function E(j){return j!=null&&j.fields?Object.values(j.fields).filter(X=>X.path.at(-1)!==pi):[]}const N=()=>{d?C.removeSelectedColumn(t):C.addSelectedColumn(t)},P=()=>l(8,B=!B),Y=()=>m==="ASC"?ft(C,k.query.sort_order="DESC",k):ft(C,k.query.sort_order="ASC",k),G=()=>C.removeSortBy(t);return i.$$set=j=>{"schema"in j&&l(0,$=j.schema),"field"in j&&l(1,M=j.field),"indent"in j&&l(2,z=j.indent)},i.$$.update=()=>{var j,X,Z,le;i.$$.dirty[0]&2&&l(3,t=M.path),i.$$.dirty[0]&3&&l(21,n=Yi($,M.path.slice(0,-1))),i.$$.dirty[0]&3&&l(18,o=xe(M,$)),i.$$.dirty[0]&2&&l(6,s=M.path.at(-1)===Dt),i.$$.dirty[0]&2097218&&l(17,r=s&&n?dt(n):dt(M)),i.$$.dirty[0]&66&&l(16,a=s?M.path.at(-2):M.path.at(-1)),i.$$.dirty[0]&2&&l(5,f=E(M)),i.$$.dirty[0]&32&&l(15,u=f.length>0),i.$$.dirty[0]&4194312&&l(14,d=(j=S.visibleFields)==null?void 0:j.some(he=>qe(he.path,t))),i.$$.dirty[0]&136&&l(13,c=(X=k.query.sort_by)==null?void 0:X.some(he=>qe(he,t))),i.$$.dirty[0]&128&&l(12,m=k.query.sort_order),i.$$.dirty[0]&136&&l(4,g=((Z=k.query.filters)==null?void 0:Z.filter(he=>qe(he.path,t)))||[]),i.$$.dirty[0]&16&&l(11,p=g.length>0),i.$$.dirty[0]&2&&l(10,v=!M.dtype||M.dtype==="embedding"),i.$$.dirty[0]&4194312&&l(9,y=Mt(((le=S.selectRowsSchema)==null?void 0:le.data)||null,t))},[$,M,z,t,g,f,s,k,B,y,v,p,m,c,d,u,a,r,o,C,I,n,S,N,P,Y,G]}class tl extends ge{constructor(e){super(),pe(this,e,Do,$o,_e,{schema:0,field:1,indent:2},null,[-1,-1])}}function Wn(i,e,l){const t=i.slice();return t[3]=e[l],t}function Qn(i,e,l){const t=i.slice();return t[3]=e[l],t}function Io(i){let e,l,t,n,o,r;return e=new Pt({props:{label:"Schema",class:"w-1/3"}}),t=new Pt({props:{label:"Tree View",class:"w-1/3"}}),o=new Pt({props:{label:"Raw Query",class:"w-1/3"}}),{c(){q(e.$$.fragment),l=W(),q(t.$$.fragment),n=W(),q(o.$$.fragment)},l(s){O(e.$$.fragment,s),l=Q(s),O(t.$$.fragment,s),n=Q(s),O(o.$$.fragment,s)},m(s,a){L(e,s,a),T(s,l,a),L(t,s,a),T(s,n,a),L(o,s,a),r=!0},p:x,i(s){r||(_(e.$$.fragment,s),_(t.$$.fragment,s),_(o.$$.fragment,s),r=!0)},o(s){b(e.$$.fragment,s),b(t.$$.fragment,s),b(o.$$.fragment,s),r=!1},d(s){H(e,s),s&&h(l),H(t,s),s&&h(n),H(o,s)}}}function Vo(i){let e=[],l=new Map,t,n,o=Object.keys(i[0].data.schema.fields);const r=s=>s[3];for(let s=0;s<o.length;s+=1){let a=Qn(i,o,s),f=r(a);l.set(f,e[s]=Zn(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=ne()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=ne()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);T(s,t,a),n=!0},p(s,a){a&1&&(o=Object.keys(s[0].data.schema.fields),ee(),e=gt(e,a,r,1,s,o,l,t.parentNode,pt,Zn,t,Qn),te())},i(s){if(!n){for(let a=0;a<o.length;a+=1)_(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)b(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&h(t)}}}function To(i){let e,l;return e=new Le({props:{paragraph:!0,lines:3}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Zn(i,e){let l,t,n;return t=new Ii({props:{schema:e[0].data.schema,field:e[0].data.schema.fields[e[3]]}}),{key:i,first:null,c(){l=ne(),q(t.$$.fragment),this.h()},l(o){l=ne(),O(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){T(o,l,r),L(t,o,r),n=!0},p(o,r){e=o;const s={};r&1&&(s.schema=e[0].data.schema),r&1&&(s.field=e[0].data.schema.fields[e[3]]),t.$set(s)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){b(t.$$.fragment,o),n=!1},d(o){o&&h(l),H(t,o)}}}function Co(i){let e,l,t,n;const o=[To,Vo],r=[];function s(a,f){var u,d;return(u=a[0])!=null&&u.isLoading?0:(d=a[0])!=null&&d.isSuccess&&a[0].data.schema.fields!=null?1:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=ne()},l(a){l&&l.l(a),t=ne()},m(a,f){~e&&r[e].m(a,f),T(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?~e&&r[e].p(a,f):(l&&(ee(),b(r[u],1,1,()=>{r[u]=null}),te()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(_(l),n=!0)},o(a){b(l),n=!1},d(a){~e&&r[e].d(a),a&&h(t)}}}function No(i){let e=[],l=new Map,t,n,o=Object.keys(i[0].data.schema.fields);const r=s=>s[3];for(let s=0;s<o.length;s+=1){let a=Wn(i,o,s),f=r(a);l.set(f,e[s]=Jn(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=ne()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=ne()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);T(s,t,a),n=!0},p(s,a){a&1&&(o=Object.keys(s[0].data.schema.fields),ee(),e=gt(e,a,r,1,s,o,l,t.parentNode,pt,Jn,t,Wn),te())},i(s){if(!n){for(let a=0;a<o.length;a+=1)_(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)b(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&h(t)}}}function Mo(i){let e,l;return e=new Le({props:{paragraph:!0,lines:3}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Jn(i,e){let l,t,n;return t=new tl({props:{schema:e[0].data.schema,field:e[0].data.schema.fields[e[3]]}}),{key:i,first:null,c(){l=ne(),q(t.$$.fragment),this.h()},l(o){l=ne(),O(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){T(o,l,r),L(t,o,r),n=!0},p(o,r){e=o;const s={};r&1&&(s.schema=e[0].data.schema),r&1&&(s.field=e[0].data.schema.fields[e[3]]),t.$set(s)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){b(t.$$.fragment,o),n=!1},d(o){o&&h(l),H(t,o)}}}function zo(i){let e,l,t,n;const o=[Mo,No],r=[];function s(a,f){var u,d;return(u=a[0])!=null&&u.isLoading?0:(d=a[0])!=null&&d.isSuccess&&a[0].data.schema.fields!=null?1:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=ne()},l(a){l&&l.l(a),t=ne()},m(a,f){~e&&r[e].m(a,f),T(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?~e&&r[e].p(a,f):(l&&(ee(),b(r[u],1,1,()=>{r[u]=null}),te()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(_(l),n=!0)},o(a){b(l),n=!1},d(a){~e&&r[e].d(a),a&&h(t)}}}function Fo(i){let e,l;return e=new Za({}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ao(i){let e,l,t,n,o,r,s;return l=new Rt({props:{$$slots:{default:[Co]},$$scope:{ctx:i}}}),n=new Rt({props:{$$slots:{default:[zo]},$$scope:{ctx:i}}}),r=new Rt({props:{$$slots:{default:[Fo]},$$scope:{ctx:i}}}),{c(){e=F("div"),q(l.$$.fragment),t=W(),q(n.$$.fragment),o=W(),q(r.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0,slot:!0});var f=D(e);O(l.$$.fragment,f),t=Q(f),O(n.$$.fragment,f),o=Q(f),O(r.$$.fragment,f),f.forEach(h),this.h()},h(){V(e,"class","h-full overflow-y-auto"),V(e,"slot","content")},m(a,f){T(a,e,f),L(l,e,null),w(e,t),L(n,e,null),w(e,o),L(r,e,null),s=!0},p(a,f){const u={};f&257&&(u.$$scope={dirty:f,ctx:a}),l.$set(u);const d={};f&257&&(d.$$scope={dirty:f,ctx:a}),n.$set(d);const c={};f&256&&(c.$$scope={dirty:f,ctx:a}),r.$set(c)},i(a){s||(_(l.$$.fragment,a),_(n.$$.fragment,a),_(r.$$.fragment,a),s=!0)},o(a){b(l.$$.fragment,a),b(n.$$.fragment,a),b(r.$$.fragment,a),s=!1},d(a){a&&h(e),H(l),H(n),H(r)}}}function Bo(i){let e,l,t;return l=new Xr({props:{class:"overflow-hidden border-b border-gray-200",$$slots:{content:[Ao],default:[Io]},$$scope:{ctx:i}}}),{c(){e=F("div"),q(l.$$.fragment),this.h()},l(n){e=A(n,"DIV",{class:!0});var o=D(e);O(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"class","flex h-full flex-col pt-4")},m(n,o){T(n,e,o),L(l,e,null),t=!0},p(n,[o]){const r={};o&257&&(r.$$scope={dirty:o,ctx:n}),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){b(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function Po(i,e,l){let t,n;const o=Qe();return me(i,o,r=>l(2,n=r)),i.$$.update=()=>{i.$$.dirty&4&&l(0,t=n.selectRowsSchema)},[t,o,n]}class Ro extends ge{constructor(e){super(),pe(this,e,Po,Bo,_e,{})}}function Kn(i,e,l){const t=i.slice();return t[4]=e[l],t}function qo(i){let e,l="{}",t;return{c(){e=F("span"),t=J(l),this.h()},l(n){e=A(n,"SPAN",{class:!0});var o=D(e);t=K(o,l),o.forEach(h),this.h()},h(){V(e,"class","font-mono")},m(n,o){T(n,e,o),w(e,t)},p:x,i:x,o:x,d(n){n&&h(e)}}}function Lo(i){let e,l,t;var n=ht[i[4].dtype];function o(r){return{props:{title:r[4].dtype}}}return n&&(e=ct(n,o(i))),{c(){e&&q(e.$$.fragment),l=ne()},l(r){e&&O(e.$$.fragment,r),l=ne()},m(r,s){e&&L(e,r,s),T(r,l,s),t=!0},p(r,s){const a={};if(s&2&&(a.title=r[4].dtype),s&2&&n!==(n=ht[r[4].dtype])){if(e){ee();const f=e;b(f.$$.fragment,1,0,()=>{H(f,1)}),te()}n?(e=ct(n,o(r)),q(e.$$.fragment),_(e.$$.fragment,1),L(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&_(e.$$.fragment,r),t=!0)},o(r){e&&b(e.$$.fragment,r),t=!1},d(r){r&&h(l),e&&H(e,r)}}}function Gn(i){let e;return{c(){e=J("[]")},l(l){e=K(l,"[]")},m(l,t){T(l,e,t)},d(l){l&&h(e)}}}function Xn(i){let e,l,t,n,o,r,s,a,f,u=i[4].path.indexOf(Dt)>=0,d,c,m=Ie(i[4].path)+"",g,p,v;function y(...z){return i[3](i[4],...z)}t=new Zt({props:{labelText:"Download",hideLabel:!0,checked:i[0].indexOf(i[4])>=0}}),t.$on("change",y);const S=[Lo,qo],k=[];function $(z,C){return z[4].dtype?0:1}s=$(i),a=k[s]=S[s](i);let M=u&&Gn();return{c(){e=F("div"),l=F("div"),q(t.$$.fragment),n=W(),o=F("div"),r=F("div"),a.c(),f=W(),M&&M.c(),d=W(),c=F("div"),g=J(m),p=W(),this.h()},l(z){e=A(z,"DIV",{class:!0});var C=D(e);l=A(C,"DIV",{class:!0});var I=D(l);O(t.$$.fragment,I),I.forEach(h),n=Q(C),o=A(C,"DIV",{class:!0});var B=D(o);r=A(B,"DIV",{class:!0});var E=D(r);a.l(E),f=Q(E),M&&M.l(E),E.forEach(h),B.forEach(h),d=Q(C),c=A(C,"DIV",{class:!0});var N=D(c);g=K(N,m),N.forEach(h),p=Q(C),C.forEach(h),this.h()},h(){V(l,"class","mr-2"),V(r,"class","inline-flex items-center rounded-md bg-blue-200 p-0.5"),V(o,"class","flex w-10"),V(c,"class","flex-grow"),V(e,"class","flex items-center")},m(z,C){T(z,e,C),w(e,l),L(t,l,null),w(e,n),w(e,o),w(o,r),k[s].m(r,null),w(r,f),M&&M.m(r,null),w(e,d),w(e,c),w(c,g),w(e,p),v=!0},p(z,C){i=z;const I={};C&3&&(I.checked=i[0].indexOf(i[4])>=0),t.$set(I);let B=s;s=$(i),s===B?k[s].p(i,C):(ee(),b(k[B],1,1,()=>{k[B]=null}),te(),a=k[s],a?a.p(i,C):(a=k[s]=S[s](i),a.c()),_(a,1),a.m(r,f)),C&2&&(u=i[4].path.indexOf(Dt)>=0),u?M||(M=Gn(),M.c(),M.m(r,null)):M&&(M.d(1),M=null),(!v||C&2)&&m!==(m=Ie(i[4].path)+"")&&ue(g,m)},i(z){v||(_(t.$$.fragment,z),_(a),v=!0)},o(z){b(t.$$.fragment,z),b(a),v=!1},d(z){z&&h(e),H(t),k[s].d(),M&&M.d()}}}function Ho(i){let e,l,t=i[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=Xn(Kn(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);T(r,e,s),l=!0},p(r,[s]){if(s&7){t=r[1];let a;for(a=0;a<t.length;a+=1){const f=Kn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Xn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)b(n[s]);l=!1},d(r){Ae(n,r),r&&h(e)}}}function Oo(i,e,l){let{fields:t}=e,{checkedFields:n}=e;function o(s,a){a.target.checked?(n.push(s),l(0,n)):l(0,n=n.filter(u=>u!==s))}const r=(s,a)=>o(s,a);return i.$$set=s=>{"fields"in s&&l(1,t=s.fields),"checkedFields"in s&&l(0,n=s.checkedFields)},[n,t,o,r]}class Bt extends ge{constructor(e){super(),pe(this,e,Oo,Ho,_e,{fields:1,checkedFields:0})}}function xn(i,e,l){const t=i.slice();return t[21]=e[l],t}function jo(i){let e,l,t,n,o,r,s,a,f,u,d,c,m,g,p,v,y,S,k,$,M,z,C,I,B,E=i[1]!=null&&ei(i);const N=[Wo,Yo],P=[];function Y(j,X){return j[6].isFetching?0:1}S=Y(i),k=P[S]=N[S](i);let G=i[1]!=null&&i[2]!=null&&li(i);return{c(){e=F("div"),l=F("section"),t=F("div"),n=J("Media fields"),o=W(),r=F("div"),s=J("These fields will be presented differently from the rest of the metadata fields."),a=W(),E&&E.c(),f=W(),u=F("section"),d=F("div"),c=J("Preferred embedding"),m=W(),g=F("div"),p=J("This embedding will be used by default when indexing and querying the data."),v=W(),y=F("div"),k.c(),$=W(),M=F("section"),z=F("div"),C=J("Render as markdown"),I=W(),G&&G.c(),this.h()},l(j){e=A(j,"DIV",{class:!0});var X=D(e);l=A(X,"SECTION",{class:!0});var Z=D(l);t=A(Z,"DIV",{class:!0});var le=D(t);n=K(le,"Media fields"),le.forEach(h),o=Q(Z),r=A(Z,"DIV",{class:!0});var he=D(r);s=K(he,"These fields will be presented differently from the rest of the metadata fields."),he.forEach(h),a=Q(Z),E&&E.l(Z),Z.forEach(h),f=Q(X),u=A(X,"SECTION",{class:!0});var re=D(u);d=A(re,"DIV",{class:!0});var se=D(d);c=K(se,"Preferred embedding"),se.forEach(h),m=Q(re),g=A(re,"DIV",{class:!0});var ye=D(g);p=K(ye,"This embedding will be used by default when indexing and querying the data."),ye.forEach(h),v=Q(re),y=A(re,"DIV",{class:!0});var we=D(y);k.l(we),we.forEach(h),re.forEach(h),$=Q(X),M=A(X,"SECTION",{class:!0});var Se=D(M);z=A(Se,"DIV",{class:!0});var fe=D(z);C=K(fe,"Render as markdown"),fe.forEach(h),I=Q(Se),G&&G.l(Se),Se.forEach(h),X.forEach(h),this.h()},h(){V(t,"class","text-lg text-gray-700"),V(r,"class","text-sm text-gray-500"),V(l,"class","flex flex-col gap-y-1"),V(d,"class","text-lg text-gray-700"),V(g,"class","text-sm text-gray-500"),V(y,"class","w-60"),V(u,"class","flex flex-col gap-y-1"),V(z,"class","text-lg text-gray-700"),V(M,"class","flex flex-col gap-y-1"),V(e,"class","flex flex-col gap-y-6")},m(j,X){T(j,e,X),w(e,l),w(l,t),w(t,n),w(l,o),w(l,r),w(r,s),w(l,a),E&&E.m(l,null),w(e,f),w(e,u),w(u,d),w(d,c),w(u,m),w(u,g),w(g,p),w(u,v),w(u,y),P[S].m(y,null),w(e,$),w(e,M),w(M,z),w(z,C),w(M,I),G&&G.m(M,null),B=!0},p(j,X){j[1]!=null?E?(E.p(j,X),X&2&&_(E,1)):(E=ei(j),E.c(),_(E,1),E.m(l,null)):E&&(ee(),b(E,1,1,()=>{E=null}),te());let Z=S;S=Y(j),S===Z?P[S].p(j,X):(ee(),b(P[Z],1,1,()=>{P[Z]=null}),te(),k=P[S],k?k.p(j,X):(k=P[S]=N[S](j),k.c()),_(k,1),k.m(y,null)),j[1]!=null&&j[2]!=null?G?(G.p(j,X),X&6&&_(G,1)):(G=li(j),G.c(),_(G,1),G.m(M,null)):G&&(ee(),b(G,1,1,()=>{G=null}),te())},i(j){B||(_(E),_(k),_(G),B=!0)},o(j){b(E),b(k),b(G),B=!1},d(j){j&&h(e),E&&E.d(),P[S].d(),G&&G.d()}}}function Uo(i){let e,l;return e=new Le({}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ei(i){let e,l,t;function n(r){i[15](r)}let o={fields:i[3]};return i[1]!==void 0&&(o.checkedFields=i[1]),e=new Bt({props:o}),Pe.push(()=>Ge(e,"checkedFields",n)),{c(){q(e.$$.fragment)},l(r){O(e.$$.fragment,r)},m(r,s){L(e,r,s),t=!0},p(r,s){const a={};s&8&&(a.fields=r[3]),!l&&s&2&&(l=!0,a.checkedFields=r[1],Xe(()=>l=!1)),e.$set(a)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function Yo(i){var t;let e,l;return e=new Kt({props:{selected:(t=i[4].data)==null?void 0:t.preferred_embedding,$$slots:{default:[Qo]},$$scope:{ctx:i}}}),e.$on("change",i[11]),{c(){q(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,o){L(e,n,o),l=!0},p(n,o){var s;const r={};o&16&&(r.selected=(s=n[4].data)==null?void 0:s.preferred_embedding),o&16777280&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){b(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function Wo(i){let e,l;return e=new Ar({}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ti(i){let e,l;return e=new zt({props:{value:i[21].name}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&64&&(o.value=t[21].name),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Qo(i){let e,l,t,n;e=new zt({props:{value:void 0,text:"None"}});let o=i[6].data||[],r=[];for(let a=0;a<o.length;a+=1)r[a]=ti(xn(i,o,a));const s=a=>b(r[a],1,1,()=>{r[a]=null});return{c(){q(e.$$.fragment),l=W();for(let a=0;a<r.length;a+=1)r[a].c();t=ne()},l(a){O(e.$$.fragment,a),l=Q(a);for(let f=0;f<r.length;f+=1)r[f].l(a);t=ne()},m(a,f){L(e,a,f),T(a,l,f);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,f);T(a,t,f),n=!0},p(a,f){if(f&64){o=a[6].data||[];let u;for(u=0;u<o.length;u+=1){const d=xn(a,o,u);r[u]?(r[u].p(d,f),_(r[u],1)):(r[u]=ti(d),r[u].c(),_(r[u],1),r[u].m(t.parentNode,t))}for(ee(),u=o.length;u<r.length;u+=1)s(u);te()}},i(a){if(!n){_(e.$$.fragment,a);for(let f=0;f<o.length;f+=1)_(r[f]);n=!0}},o(a){b(e.$$.fragment,a),r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)b(r[f]);n=!1},d(a){H(e,a),a&&h(l),Ae(r,a),a&&h(t)}}}function li(i){let e,l,t;function n(r){i[16](r)}let o={fields:i[1]};return i[2]!==void 0&&(o.checkedFields=i[2]),e=new Bt({props:o}),Pe.push(()=>Ge(e,"checkedFields",n)),{c(){q(e.$$.fragment)},l(r){O(e.$$.fragment,r)},m(r,s){L(e,r,s),t=!0},p(r,s){const a={};s&2&&(a.fields=r[1]),!l&&s&4&&(l=!0,a.checkedFields=r[2],Xe(()=>l=!1)),e.$set(a)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function Zo(i){let e,l,t,n;const o=[Uo,jo],r=[];function s(a,f){return a[4].isFetching?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},l(a){l.l(a),t=ne()},m(a,f){r[e].m(a,f),T(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(ee(),b(r[u],1,1,()=>{r[u]=null}),te(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t))},i(a){n||(_(l),n=!0)},o(a){b(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function Jo(i){let e,l,t,n,o,r;return e=new wi({props:{label:"Changes",title:"Dataset settings"}}),t=new ki({props:{hasForm:!0,$$slots:{default:[Zo]},$$scope:{ctx:i}}}),o=new Si({props:{primaryButtonText:"Save"}}),{c(){q(e.$$.fragment),l=W(),q(t.$$.fragment),n=W(),q(o.$$.fragment)},l(s){O(e.$$.fragment,s),l=Q(s),O(t.$$.fragment,s),n=Q(s),O(o.$$.fragment,s)},m(s,a){L(e,s,a),T(s,l,a),L(t,s,a),T(s,n,a),L(o,s,a),r=!0},p(s,a){const f={};a&16777310&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){r||(_(e.$$.fragment,s),_(t.$$.fragment,s),_(o.$$.fragment,s),r=!0)},o(s){b(e.$$.fragment,s),b(t.$$.fragment,s),b(o.$$.fragment,s),r=!1},d(s){H(e,s),s&&h(l),H(t,s),s&&h(n),H(o,s)}}}function Ko(i){let e,l;return e=new vi({props:{open:i[0],$$slots:{default:[Jo]},$$scope:{ctx:i}}}),e.$on("submit",i[12]),e.$on("close",i[17]),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&16777310&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Go(i,e,l){let t,n,o,r,s,a=x,f=()=>(a(),a=Be(t,E=>l(4,s=E)),t),u,d;i.$$.on_destroy.push(()=>a());let{open:c=!1}=e,{schema:m}=e;const g=Re();me(i,g,E=>l(14,o=E));const p=yi();me(i,p,E=>l(20,u=E));const v=Xt();me(i,v,E=>l(6,d=E));const y=Wi();me(i,y,E=>l(19,r=E));let S=null,k=null,$=u.embedding;function M(E){$=E.target.value,$===""&&($=void 0)}function z(){if(S==null)return;const E={ui:{media_paths:S.map(N=>N.path),markdown_paths:k==null?void 0:k.map(N=>N.path)},preferred_embedding:$};r.mutate([o.namespace,o.datasetName,E],{onSuccess:()=>{l(0,c=!1)}})}function C(E){S=E,l(1,S),l(4,s),l(3,n),l(13,m)}function I(E){k=E,l(2,k),l(4,s),l(3,n),l(13,m)}const B=()=>l(0,c=!1);return i.$$set=E=>{"open"in E&&l(0,c=E.open),"schema"in E&&l(13,m=E.schema)},i.$$.update=()=>{var E,N,P,Y;if(i.$$.dirty&16384&&f(l(5,t=Nt(o.namespace,o.datasetName))),i.$$.dirty&8192&&l(3,n=Ut(m).filter(G=>G.dtype==="string"&&!qe(G.path,[Yt])&&!xe(G,m))),i.$$.dirty&26&&S==null){const G=(N=(E=s.data)==null?void 0:E.ui)==null?void 0:N.media_paths;G!=null&&l(1,S=n.filter(j=>G.some(X=>qe(j.path,X))))}if(i.$$.dirty&28&&k==null){const G=(Y=(P=s.data)==null?void 0:P.ui)==null?void 0:Y.markdown_paths;G!=null&&l(2,k=n.filter(j=>G.some(X=>qe(j.path,X))))}},[c,S,k,n,s,t,d,g,p,v,y,M,z,m,o,C,I,B]}class Xo extends ge{constructor(e){super(),pe(this,e,Go,Ko,_e,{open:0,schema:13})}}function xo(i){let e,l,t;function n(r){i[13](r)}let o={fields:i[6]};return i[1]!==void 0&&(o.checkedFields=i[1]),e=new Bt({props:o}),Pe.push(()=>Ge(e,"checkedFields",n)),{c(){q(e.$$.fragment)},l(r){O(e.$$.fragment,r)},m(r,s){L(e,r,s),t=!0},p(r,s){const a={};s&64&&(a.fields=r[6]),!l&&s&2&&(l=!0,a.checkedFields=r[1],Xe(()=>l=!1)),e.$set(a)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function ef(i){let e,l;return e=new Le({}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ni(i){let e,l,t,n,o,r,s;const a=[lf,tf],f=[];function u(d,c){return d[5]==null?0:1}return o=u(i),r=f[o]=a[o](i),{c(){e=F("section"),l=F("h4"),t=J("Select enriched fields"),n=W(),r.c(),this.h()},l(d){e=A(d,"SECTION",{});var c=D(e);l=A(c,"H4",{class:!0});var m=D(l);t=K(m,"Select enriched fields"),m.forEach(h),n=Q(c),r.l(c),c.forEach(h),this.h()},h(){V(l,"class","svelte-1ge817j")},m(d,c){T(d,e,c),w(e,l),w(l,t),w(e,n),f[o].m(e,null),s=!0},p(d,c){let m=o;o=u(d),o===m?f[o].p(d,c):(ee(),b(f[m],1,1,()=>{f[m]=null}),te(),r=f[o],r?r.p(d,c):(r=f[o]=a[o](d),r.c()),_(r,1),r.m(e,null))},i(d){s||(_(r),s=!0)},o(d){b(r),s=!1},d(d){d&&h(e),f[o].d()}}}function tf(i){let e,l,t;function n(r){i[14](r)}let o={fields:i[5]};return i[2]!==void 0&&(o.checkedFields=i[2]),e=new Bt({props:o}),Pe.push(()=>Ge(e,"checkedFields",n)),{c(){q(e.$$.fragment)},l(r){O(e.$$.fragment,r)},m(r,s){L(e,r,s),t=!0},p(r,s){const a={};s&32&&(a.fields=r[5]),!l&&s&4&&(l=!0,a.checkedFields=r[2],Xe(()=>l=!1)),e.$set(a)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function lf(i){let e,l;return e=new Le({}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ii(i){let e,l;return{c(){e=F("p"),l=J("No fields selected. Please select at least one field to download."),this.h()},l(t){e=A(t,"P",{class:!0});var n=D(e);l=K(n,"No fields selected. Please select at least one field to download."),n.forEach(h),this.h()},h(){V(e,"class","text-gray-600")},m(t,n){T(t,e,n),w(e,l)},d(t){t&&h(e)}}}function nf(i){let e,l;return e=new _r({props:{value:JSON.stringify(i[7].data,null,2),readonly:!0,rows:30,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&128&&(o.value=JSON.stringify(t[7].data,null,2)),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function rf(i){let e,l;return e=new Le({props:{paragraph:!0}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function sf(i){let e,l,t,n,o,r,s,a,f,u,d,c,m,g,p,v,y;const S=[ef,xo],k=[];function $(E,N){return E[6]==null?0:1}o=$(i),r=k[o]=S[o](i);let M=(i[5]==null||i[5].length>0)&&ni(i),z=i[3].length===0&&ii();const C=[rf,nf],I=[];function B(E,N){return E[7]&&E[7].isFetching?0:E[4]&&E[7]?1:-1}return~(p=B(i))&&(v=I[p]=C[p](i)),{c(){e=F("section"),l=F("h4"),t=J("Select source fields"),n=W(),r.c(),s=W(),M&&M.c(),a=W(),f=F("section"),u=F("h4"),d=J("Download preview"),c=W(),z&&z.c(),m=W(),g=F("div"),v&&v.c(),this.h()},l(E){e=A(E,"SECTION",{});var N=D(e);l=A(N,"H4",{class:!0});var P=D(l);t=K(P,"Select source fields"),P.forEach(h),n=Q(N),r.l(N),N.forEach(h),s=Q(E),M&&M.l(E),a=Q(E),f=A(E,"SECTION",{});var Y=D(f);u=A(Y,"H4",{class:!0});var G=D(u);d=K(G,"Download preview"),G.forEach(h),c=Q(Y),z&&z.l(Y),m=Q(Y),g=A(Y,"DIV",{class:!0});var j=D(g);v&&v.l(j),j.forEach(h),Y.forEach(h),this.h()},h(){V(l,"class","svelte-1ge817j"),V(u,"class","svelte-1ge817j"),V(g,"class","preview svelte-1ge817j")},m(E,N){T(E,e,N),w(e,l),w(l,t),w(e,n),k[o].m(e,null),T(E,s,N),M&&M.m(E,N),T(E,a,N),T(E,f,N),w(f,u),w(u,d),w(f,c),z&&z.m(f,null),w(f,m),w(f,g),~p&&I[p].m(g,null),y=!0},p(E,N){let P=o;o=$(E),o===P?k[o].p(E,N):(ee(),b(k[P],1,1,()=>{k[P]=null}),te(),r=k[o],r?r.p(E,N):(r=k[o]=S[o](E),r.c()),_(r,1),r.m(e,null)),E[5]==null||E[5].length>0?M?(M.p(E,N),N&32&&_(M,1)):(M=ni(E),M.c(),_(M,1),M.m(a.parentNode,a)):M&&(ee(),b(M,1,1,()=>{M=null}),te()),E[3].length===0?z||(z=ii(),z.c(),z.m(f,m)):z&&(z.d(1),z=null);let Y=p;p=B(E),p===Y?~p&&I[p].p(E,N):(v&&(ee(),b(I[Y],1,1,()=>{I[Y]=null}),te()),~p?(v=I[p],v?v.p(E,N):(v=I[p]=C[p](E),v.c()),_(v,1),v.m(g,null)):v=null)},i(E){y||(_(r),_(M),_(v),y=!0)},o(E){b(r),b(M),b(v),y=!1},d(E){E&&h(e),k[o].d(),E&&h(s),M&&M.d(E),E&&h(a),E&&h(f),z&&z.d(),~p&&I[p].d()}}}function af(i){let e,l,t,n,o,r;return e=new wi({props:{title:"Download data"}}),t=new ki({props:{hasForm:!0,$$slots:{default:[sf]},$$scope:{ctx:i}}}),o=new Si({props:{primaryButtonText:"Download",primaryButtonDisabled:i[3].length===0,secondaryButtonText:"Cancel"}}),o.$on("click:button--secondary",i[10]),{c(){q(e.$$.fragment),l=W(),q(t.$$.fragment),n=W(),q(o.$$.fragment)},l(s){O(e.$$.fragment,s),l=Q(s),O(t.$$.fragment,s),n=Q(s),O(o.$$.fragment,s)},m(s,a){L(e,s,a),T(s,l,a),L(t,s,a),T(s,n,a),L(o,s,a),r=!0},p(s,a){const f={};a&262398&&(f.$$scope={dirty:a,ctx:s}),t.$set(f);const u={};a&8&&(u.primaryButtonDisabled=s[3].length===0),o.$set(u)},i(s){r||(_(e.$$.fragment,s),_(t.$$.fragment,s),_(o.$$.fragment,s),r=!0)},o(s){b(e.$$.fragment,s),b(t.$$.fragment,s),b(o.$$.fragment,s),r=!1},d(s){H(e,s),s&&h(l),H(t,s),s&&h(n),H(o,s)}}}function of(i){let e,l;return e=new vi({props:{size:"lg",open:i[0],$$slots:{default:[af]},$$scope:{ctx:i}}}),e.$on("submit",i[9]),e.$on("close",i[15]),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&262398&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ff(i,e,l){let t,n,o,r,s,a,f=x,u=()=>(f(),f=Be(r,C=>l(7,a=C)),r);i.$$.on_destroy.push(()=>f());let{open:d=!1}=e,{schema:c}=e;const m=_t(),g=Re();me(i,g,C=>l(12,s=C));let p=[],v=[];function y(C){if(C==null)return{sourceFields:null,enrichedFields:null};const I=Ut(C).filter(N=>["string_span","embedding"].indexOf(N.dtype)===-1),B=I.filter(N=>!xe(N,C)&&N.path.at(-1)!==Yt),E=I.filter(N=>xe(N,C));return{sourceFields:B,enrichedFields:E}}async function S(){const C=s.namespace,I=s.datasetName,B={combine_columns:!1,columns:o.map(P=>P.path)},E=`/api/v1/datasets/${C}/${I}/select_rows_download?url_safe_options=${encodeURIComponent(JSON.stringify(B))}`,N=document.createElement("a");N.download=`${C}_${I}.json`,N.href=E,document.body.appendChild(N),N.click(),N.remove()}function k(){l(0,d=!1),m("close")}function $(C){p=C,l(1,p)}function M(C){v=C,l(2,v)}const z=()=>l(0,d=!1);return i.$$set=C=>{"open"in C&&l(0,d=C.open),"schema"in C&&l(11,c=C.schema)},i.$$.update=()=>{i.$$.dirty&2048&&l(6,{sourceFields:t,enrichedFields:n}=y(c),t,(l(5,n),l(11,c))),i.$$.dirty&6&&l(3,o=[...p,...v]),i.$$.dirty&4104&&u(l(4,r=o.length>0?Qi(s.namespace,s.datasetName,{columns:o.map(C=>C.path),limit:3,combine_columns:!1}):null))},[d,p,v,o,r,n,t,a,g,S,k,c,s,$,M,z]}class uf extends ge{constructor(e){super(),pe(this,e,ff,of,_e,{open:0,schema:11})}}function cf(i){let e,l;return e=new ps({}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function df(i){let e,l;return e=new hs({}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ri(i){let e,l,t,n,o,r;function s(d){i[26](d)}let a={schema:i[4].data};i[5]!==void 0&&(a.open=i[5]),e=new Xo({props:a}),Pe.push(()=>Ge(e,"open",s));function f(d){i[27](d)}let u={schema:i[4].data};return i[6]!==void 0&&(u.open=i[6]),n=new uf({props:u}),Pe.push(()=>Ge(n,"open",f)),{c(){q(e.$$.fragment),t=W(),q(n.$$.fragment)},l(d){O(e.$$.fragment,d),t=Q(d),O(n.$$.fragment,d)},m(d,c){L(e,d,c),T(d,t,c),L(n,d,c),r=!0},p(d,c){const m={};c&16&&(m.schema=d[4].data),!l&&c&32&&(l=!0,m.open=d[5],Xe(()=>l=!1)),e.$set(m);const g={};c&16&&(g.schema=d[4].data),!o&&c&64&&(o=!0,g.open=d[6],Xe(()=>o=!1)),n.$set(g)},i(d){r||(_(e.$$.fragment,d),_(n.$$.fragment,d),r=!0)},o(d){b(e.$$.fragment,d),b(n.$$.fragment,d),r=!1},d(d){H(e,d),d&&h(t),H(n,d)}}}function mf(i){let e,l,t,n,o,r,s,a,f,u,d,c,m,g,p,v,y,S;t=new Ro({});const k=[df,cf],$=[];function M(C,I){return C[13]?1:0}r=M(i),s=$[r]=k[r](i),m=new Ca({});let z=i[4].data&&ri(i);return{c(){e=F("div"),l=F("div"),q(t.$$.fragment),n=W(),o=F("div"),s.c(),d=W(),c=F("div"),q(m.$$.fragment),g=W(),z&&z.c(),p=ne(),this.h()},l(C){e=A(C,"DIV",{class:!0});var I=D(e);l=A(I,"DIV",{class:!0});var B=D(l);O(t.$$.fragment,B),n=Q(B),o=A(B,"DIV",{class:!0});var E=D(o);s.l(E),E.forEach(h),B.forEach(h),d=Q(I),c=A(I,"DIV",{class:!0});var N=D(c);O(m.$$.fragment,N),N.forEach(h),I.forEach(h),g=Q(C),z&&z.l(C),p=ne(),this.h()},h(){V(o,"class",a=St(`absolute right-0 top-1/2 flex
                h-8 w-4 cursor-pointer items-center justify-center
                rounded border
                border-neutral-200 bg-neutral-100
                opacity-60 hover:bg-neutral-200
                hover:opacity-100
                ${i[13]?" translate-x-full":" translate-x-1/2"}`)+" svelte-1nu5kbu"),V(l,"class",u=St(`schema-container relative h-full ${i[13]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1nu5kbu"),V(c,"class","h-full w-2/3 flex-grow"),V(e,"class","flex h-full w-full")},m(C,I){T(C,e,I),w(e,l),L(t,l,null),w(l,n),w(l,o),$[r].m(o,null),w(e,d),w(e,c),L(m,c,null),T(C,g,I),z&&z.m(C,I),T(C,p,I),v=!0,y||(S=[Me(f=ze.call(null,o,{text:i[13]?"Show Schema":"Hide Schema"})),Ve(o,"click",i[14]),Ve(o,"keypress",i[14])],y=!0)},p(C,I){let B=r;r=M(C),r!==B&&(ee(),b($[B],1,1,()=>{$[B]=null}),te(),s=$[r],s||(s=$[r]=k[r](C),s.c()),_(s,1),s.m(o,null)),(!v||I&8192&&a!==(a=St(`absolute right-0 top-1/2 flex
                h-8 w-4 cursor-pointer items-center justify-center
                rounded border
                border-neutral-200 bg-neutral-100
                opacity-60 hover:bg-neutral-200
                hover:opacity-100
                ${C[13]?" translate-x-full":" translate-x-1/2"}`)+" svelte-1nu5kbu"))&&V(o,"class",a),f&&We(f.update)&&I&8192&&f.update.call(null,{text:C[13]?"Show Schema":"Hide Schema"}),(!v||I&8192&&u!==(u=St(`schema-container relative h-full ${C[13]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1nu5kbu"))&&V(l,"class",u),C[4].data?z?(z.p(C,I),I&16&&_(z,1)):(z=ri(C),z.c(),_(z,1),z.m(p.parentNode,p)):z&&(ee(),b(z,1,1,()=>{z=null}),te())},i(C){v||(_(t.$$.fragment,C),_(s),_(m.$$.fragment,C),_(z),v=!0)},o(C){b(t.$$.fragment,C),b(s),b(m.$$.fragment,C),b(z),v=!1},d(C){C&&h(e),H(t),$[r].d(),H(m),C&&h(g),z&&z.d(C),C&&h(p),y=!1,Ze(S)}}}function hf(i){let e=i[3].datasetName+"",l;return{c(){l=J(e)},l(t){l=K(t,e)},m(t,n){T(t,l,n)},p(t,n){n&8&&e!==(e=t[3].datasetName+"")&&ue(l,e)},d(t){t&&h(l)}}}function _f(i){let e,l,t,n,o,r,s;return t=new lt({props:{type:"outline",class:"!cursor-pointer",$$slots:{default:[hf]},$$scope:{ctx:i}}}),t.$on("click",i[25]),{c(){e=F("div"),l=F("div"),q(t.$$.fragment),this.h()},l(a){e=A(a,"DIV",{slot:!0});var f=D(e);l=A(f,"DIV",{});var u=D(l);O(t.$$.fragment,u),u.forEach(h),f.forEach(h),this.h()},h(){V(e,"slot","header-subtext")},m(a,f){T(a,e,f),w(e,l),L(t,l,null),o=!0,r||(s=Me(n=ze.call(null,l,{text:`${i[3].namespace}/${i[3].datasetName}`})),r=!0)},p(a,f){const u={};f&536870920&&(u.$$scope={dirty:f,ctx:a}),t.$set(u),n&&We(n.update)&&f&8&&n.update.call(null,{text:`${a[3].namespace}/${a[3].datasetName}`})},i(a){o||(_(t.$$.fragment,a),o=!0)},o(a){b(t.$$.fragment,a),o=!1},d(a){a&&h(e),H(t),r=!1,s()}}}function gf(i){let e,l,t;return l=new Oa({}),{c(){e=F("div"),q(l.$$.fragment),this.h()},l(n){e=A(n,"DIV",{slot:!0,class:!0});var o=D(e);O(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"slot","header-center"),V(e,"class","flex w-full items-center")},m(n,o){T(n,e,o),L(l,e,null),t=!0},p:x,i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){b(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function si(i){let e,l,t,n;return{c(){e=F("div"),l=J("Copied!"),this.h()},l(o){e=A(o,"DIV",{class:!0});var r=D(e);l=K(r,"Copied!"),r.forEach(h),this.h()},h(){V(e,"class","absolute right-12 z-50 mt-2 rounded border border-neutral-300 bg-neutral-50 px-4 py-1 text-xs")},m(o,r){T(o,e,r),w(e,l),n=!0},i(o){n||(t&&t.end(1),n=!0)},o(o){t=zi(e,Er,{}),n=!1},d(o){o&&h(e),o&&t&&t.end()}}}function pf(i){let e,l,t,n,o,r,s,a,f,u,d,c,m,g,p,v=i[7]&&si();return r=new Ye({props:{size:"field",kind:"ghost",icon:Ns,iconDescription:"Copy the URL"}}),r.$on("click",i[22]),a=new Ye({props:{size:"field",kind:"ghost",icon:ws,iconDescription:"Download data"}}),a.$on("click",i[23]),d=new Ye({props:{disabled:!i[8],size:"field",kind:"ghost",icon:Br,iconDescription:"Dataset settings"}}),d.$on("click",i[24]),{c(){e=F("div"),l=F("div"),t=F("div"),n=F("div"),v&&v.c(),o=W(),q(r.$$.fragment),s=W(),q(a.$$.fragment),f=W(),u=F("div"),q(d.$$.fragment),this.h()},l(y){e=A(y,"DIV",{slot:!0});var S=D(e);l=A(S,"DIV",{class:!0});var k=D(l);t=A(k,"DIV",{class:!0});var $=D(t);n=A($,"DIV",{class:!0});var M=D(n);v&&v.l(M),o=Q(M),O(r.$$.fragment,M),M.forEach(h),s=Q($),O(a.$$.fragment,$),f=Q($),u=A($,"DIV",{});var z=D(u);O(d.$$.fragment,z),z.forEach(h),$.forEach(h),k.forEach(h),S.forEach(h),this.h()},h(){V(n,"class","relative"),oe(u,"opacity-40",!i[8]),V(t,"class","flex"),V(l,"class","flex h-full flex-col"),V(e,"slot","header-right")},m(y,S){T(y,e,S),w(e,l),w(l,t),w(t,n),v&&v.m(n,null),w(n,o),L(r,n,null),w(t,s),L(a,t,null),w(t,f),w(t,u),L(d,u,null),m=!0,g||(p=Me(c=ze.call(null,u,{text:i[8]?"":"User does not have access to update settings of this dataset."})),g=!0)},p(y,S){y[7]?v?S&128&&_(v,1):(v=si(),v.c(),_(v,1),v.m(n,o)):v&&(ee(),b(v,1,1,()=>{v=null}),te());const k={};S&256&&(k.disabled=!y[8]),d.$set(k),c&&We(c.update)&&S&256&&c.update.call(null,{text:y[8]?"":"User does not have access to update settings of this dataset."}),(!m||S&256)&&oe(u,"opacity-40",!y[8])},i(y){m||(_(v),_(r.$$.fragment,y),_(a.$$.fragment,y),_(d.$$.fragment,y),m=!0)},o(y){b(v),b(r.$$.fragment,y),b(a.$$.fragment,y),b(d.$$.fragment,y),m=!1},d(y){y&&h(e),v&&v.d(),H(r),H(a),H(d),g=!1,p()}}}function bf(i){let e,l,t,n;return e=new bi({props:{title:"Datasets",$$slots:{"header-right":[pf],"header-center":[gf],"header-subtext":[_f],default:[mf]},$$scope:{ctx:i}}}),t=new gr({}),{c(){q(e.$$.fragment),l=W(),q(t.$$.fragment)},l(o){O(e.$$.fragment,o),l=Q(o),O(t.$$.fragment,o)},m(o,r){L(e,o,r),T(o,l,r),L(t,o,r),n=!0},p(o,[r]){const s={};r&536879611&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){n||(_(e.$$.fragment,o),_(t.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),b(t.$$.fragment,o),n=!1},d(o){H(e,o),o&&h(l),H(t,o)}}}function vf(i,e,l){let t,n,o,r,s,a,f,u,d,c,m,g=x,p=()=>(g(),g=Be(u,R=>l(19,m=R)),u),v,y=x,S=()=>(y(),y=Be(f,R=>l(20,v=R)),f),k,$=x,M=()=>($(),$=Be(n,R=>l(3,k=R)),n),z,C=x,I=()=>(C(),C=Be(r,R=>l(4,z=R)),r),B,E=x,N=()=>(E(),E=Be(a,R=>l(21,B=R)),a);i.$$.on_destroy.push(()=>g()),i.$$.on_destroy.push(()=>y()),i.$$.on_destroy.push(()=>$()),i.$$.on_destroy.push(()=>C()),i.$$.on_destroy.push(()=>E());let{namespace:P}=e,{datasetName:Y}=e;function G(){ft(n,k.schemaCollapsed=!k.schemaCollapsed,k)}const j=pr(P,Y);br(j);let X=!1,Z=!1;const le=Ft();me(i,le,R=>l(18,c=R));let he=!1;const re=()=>navigator.clipboard.writeText(location.href).then(()=>{l(7,he=!0),setTimeout(()=>l(7,he=!1),2e3)},()=>{throw Error("Error copying link to clipboard.")}),se=()=>l(6,Z=!0),ye=()=>l(5,X=!0),we=()=>{const R=Ht(P,Y);R!=location.pathname+location.hash&&Et(R)};function Se(R){X=R,l(5,X)}function fe(R){Z=R,l(6,Z)}return i.$$set=R=>{"namespace"in R&&l(0,P=R.namespace),"datasetName"in R&&l(1,Y=R.datasetName)},i.$$.update=()=>{var R,U;if(i.$$.dirty&131075&&M(l(2,n=vr(t,P,Y))),i.$$.dirty&4&&wr(n),i.$$.dirty&8&&l(13,o=k.schemaCollapsed),i.$$.dirty&8&&I(l(12,r=_i(k.namespace,k.datasetName))),i.$$.dirty&16&&l(16,s=Zi("string",z.data)),i.$$.dirty&65544&&N(l(11,a=Ji(k.namespace,k.datasetName,s.map(ie=>ie.path)))),i.$$.dirty&8&&S(l(10,f=Ki(k.namespace,k.datasetName,kr(k)))),i.$$.dirty&8&&p(l(9,u=Nt(k.namespace,k.datasetName))),i.$$.dirty&2097168&&z.data!=null&&B.data&&!B.isFetching&&j.setStats(B.data),i.$$.dirty&16&&z.data!=null&&j.setSchema(z.data),i.$$.dirty&1048576&&v!=null&&j.setSelectRowsSchema(v),i.$$.dirty&1048584){const ie=Sr(k.selectedColumns,((R=v==null?void 0:v.data)==null?void 0:R.schema)||null);j.setVisibleFields(ie)}i.$$.dirty&524288&&m.data!=null&&j.setSettings(m.data),i.$$.dirty&262144&&l(8,d=(U=c.data)==null?void 0:U.access.dataset.update_settings)},l(17,t=Ei()),[P,Y,n,k,z,X,Z,he,d,u,f,a,r,o,G,le,s,t,c,m,v,B,re,se,ye,we,Se,fe]}class wf extends ge{constructor(e){super(),pe(this,e,vf,bf,_e,{namespace:0,datasetName:1})}}function ai(i,e,l){const t=i.slice();return t[17]=e[l],t}function kf(i){let e,l,t=i[4].data,n=[];for(let r=0;r<t.length;r+=1)n[r]=fi(ai(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);T(r,e,s),l=!0},p(r,s){if(s&21){t=r[4].data;let a;for(a=0;a<t.length;a+=1){const f=ai(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=fi(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)b(n[s]);l=!1},d(r){Ae(n,r),r&&h(e)}}}function Sf(i){let e,l;return e=new Jt({props:{kind:"error",title:"Error loading datasets",lowContrast:!0,subtitle:i[4].error.message}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&16&&(o.subtitle=t[4].error.message),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ef(i){let e,l;return e=new Le({props:{paragraph:!0,lines:3,width:"30%"}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function oi(i){let e,l=i[17].description+"",t;return{c(){e=F("div"),t=J(l),this.h()},l(n){e=A(n,"DIV",{class:!0});var o=D(e);t=K(o,l),o.forEach(h),this.h()},h(){V(e,"class","my-4")},m(n,o){T(n,e,o),w(e,t)},p(n,o){o&16&&l!==(l=n[17].description+"")&&ue(t,l)},d(n){n&&h(e)}}}function yf(i){let e;return{c(){e=J("Open")},l(l){e=K(l,"Open")},m(l,t){T(l,e,t)},d(l){l&&h(e)}}}function fi(i){let e,l,t=i[17].namespace+"",n,o,r=i[17].dataset_name+"",s,a,f,u,d,c,m,g,p,v,y,S,k,$,M,z=i[17].description&&oi(i);function C(){return i[11](i[17])}d=new Ye({props:{kind:"tertiary",$$slots:{default:[yf]},$$scope:{ctx:i}}}),d.$on("click",C),p=new yr({props:{size:16}});function I(){return i[12](i[17])}function B(){return i[13](i[17])}return{c(){e=F("button"),l=F("div"),n=J(t),o=J(" / "),s=J(r),a=W(),z&&z.c(),f=W(),u=F("div"),q(d.$$.fragment),c=W(),m=F("div"),g=F("button"),q(p.$$.fragment),S=W(),this.h()},l(E){e=A(E,"BUTTON",{class:!0});var N=D(e);l=A(N,"DIV",{class:!0});var P=D(l);n=K(P,t),o=K(P," / "),s=K(P,r),P.forEach(h),a=Q(N),z&&z.l(N),f=Q(N),u=A(N,"DIV",{class:!0});var Y=D(u);O(d.$$.fragment,Y),c=Q(Y),m=A(Y,"DIV",{});var G=D(m);g=A(G,"BUTTON",{title:!0,class:!0});var j=D(g);O(p.$$.fragment,j),j.forEach(h),G.forEach(h),Y.forEach(h),S=Q(N),N.forEach(h),this.h()},h(){V(l,"class","truncate text-xl"),V(g,"title","Delete dataset"),g.disabled=v=!i[2],V(g,"class","h-full w-full rounded border border-gray-300 p-2"),oe(g,"hover:border-red-400",i[2]),oe(g,"hover:text-red-400",i[2]),oe(m,"opacity-40",!i[2]),V(u,"class","mt-4 flex gap-x-2"),V(e,"class","w-80 cursor-pointer rounded-md border border-gray-200 px-3 py-4 text-left hover:border-gray-400")},m(E,N){T(E,e,N),w(e,l),w(l,n),w(l,o),w(l,s),w(e,a),z&&z.m(e,null),w(e,f),w(e,u),L(d,u,null),w(u,c),w(u,m),w(m,g),L(p,g,null),w(e,S),k=!0,$||(M=[Ve(g,"click",Ot(I)),Me(y=ze.call(null,m,{text:i[2]?"":"User does not have access to delete this dataset."})),Ve(e,"click",B)],$=!0)},p(E,N){i=E,(!k||N&16)&&t!==(t=i[17].namespace+"")&&ue(n,t),(!k||N&16)&&r!==(r=i[17].dataset_name+"")&&ue(s,r),i[17].description?z?z.p(i,N):(z=oi(i),z.c(),z.m(e,f)):z&&(z.d(1),z=null);const P={};N&1048576&&(P.$$scope={dirty:N,ctx:i}),d.$set(P),(!k||N&4&&v!==(v=!i[2]))&&(g.disabled=v),(!k||N&4)&&oe(g,"hover:border-red-400",i[2]),(!k||N&4)&&oe(g,"hover:text-red-400",i[2]),y&&We(y.update)&&N&4&&y.update.call(null,{text:i[2]?"":"User does not have access to delete this dataset."}),(!k||N&4)&&oe(m,"opacity-40",!i[2])},i(E){k||(_(d.$$.fragment,E),_(p.$$.fragment,E),k=!0)},o(E){b(d.$$.fragment,E),b(p.$$.fragment,E),k=!1},d(E){E&&h(e),z&&z.d(),H(d),H(p),$=!1,Ze(M)}}}function ui(i){let e,l;return e=new Gt({props:{danger:!0,open:!0,modalHeading:"Delete dataset",primaryButtonText:"Delete",primaryButtonIcon:i[3].isLoading?It:void 0,secondaryButtonText:"Cancel",$$slots:{default:[$f]},$$scope:{ctx:i}}}),e.$on("click:button--secondary",i[14]),e.$on("close",i[15]),e.$on("submit",i[16]),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&8&&(o.primaryButtonIcon=t[3].isLoading?It:void 0),n&1048577&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function $f(i){let e,l,t,n=i[0].namespace+"",o,r,s=i[0].name+"",a,f,u,d,c;return{c(){e=F("p"),l=J("Confirm deleting "),t=F("code"),o=J(n),r=J("/"),a=J(s),f=J(" ?"),u=W(),d=F("p"),c=J("This is a permanent action and cannot be undone."),this.h()},l(m){e=A(m,"P",{class:!0});var g=D(e);l=K(g,"Confirm deleting "),t=A(g,"CODE",{});var p=D(t);o=K(p,n),r=K(p,"/"),a=K(p,s),p.forEach(h),f=K(g," ?"),g.forEach(h),u=Q(m),d=A(m,"P",{class:!0});var v=D(d);c=K(v,"This is a permanent action and cannot be undone."),v.forEach(h),this.h()},h(){V(e,"class","!text-lg"),V(d,"class","mt-2")},m(m,g){T(m,e,g),w(e,l),w(e,t),w(t,o),w(t,r),w(t,a),w(e,f),T(m,u,g),T(m,d,g),w(d,c)},p(m,g){g&1&&n!==(n=m[0].namespace+"")&&ue(o,n),g&1&&s!==(s=m[0].name+"")&&ue(a,s)},d(m){m&&h(e),m&&h(u),m&&h(d)}}}function Df(i){let e,l,t,n,o,r,s;const a=[Ef,Sf,kf],f=[];function u(c,m){return c[4].isLoading?0:c[4].isError?1:c[4].isSuccess?2:-1}~(t=u(i))&&(n=f[t]=a[t](i));let d=i[0]&&ui(i);return{c(){e=F("div"),l=F("div"),n&&n.c(),o=W(),d&&d.c(),r=ne(),this.h()},l(c){e=A(c,"DIV",{class:!0});var m=D(e);l=A(m,"DIV",{class:!0});var g=D(l);n&&n.l(g),g.forEach(h),m.forEach(h),o=Q(c),d&&d.l(c),r=ne(),this.h()},h(){V(l,"class","flex flex-wrap gap-x-4 gap-y-4"),V(e,"class","flex flex-col gap-y-4 p-4")},m(c,m){T(c,e,m),w(e,l),~t&&f[t].m(l,null),T(c,o,m),d&&d.m(c,m),T(c,r,m),s=!0},p(c,m){let g=t;t=u(c),t===g?~t&&f[t].p(c,m):(n&&(ee(),b(f[g],1,1,()=>{f[g]=null}),te()),~t?(n=f[t],n?n.p(c,m):(n=f[t]=a[t](c),n.c()),_(n,1),n.m(l,null)):n=null),c[0]?d?(d.p(c,m),m&1&&_(d,1)):(d=ui(c),d.c(),_(d,1),d.m(r.parentNode,r)):d&&(ee(),b(d,1,1,()=>{d=null}),te())},i(c){s||(_(n),_(d),s=!0)},o(c){b(n),b(d),s=!1},d(c){c&&h(e),~t&&f[t].d(),c&&h(o),d&&d.d(c),c&&h(r)}}}function If(i){let e;return{c(){e=J("+ Add Dataset")},l(l){e=K(l,"+ Add Dataset")},m(l,t){T(l,e,t)},d(l){l&&h(e)}}}function Vf(i){let e,l,t;return l=new Ye({props:{size:"small",disabled:!i[1],$$slots:{default:[If]},$$scope:{ctx:i}}}),l.$on("click",i[10]),{c(){e=F("div"),q(l.$$.fragment),this.h()},l(n){e=A(n,"DIV",{slot:!0});var o=D(e);O(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"slot","header-right")},m(n,o){T(n,e,o),L(l,e,null),t=!0},p(n,o){const r={};o&2&&(r.disabled=!n[1]),o&1048576&&(r.$$scope={dirty:o,ctx:n}),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){b(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function Tf(i){let e,l;return e=new bi({props:{title:"Datasets",$$slots:{"header-right":[Vf],default:[Df]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,[n]){const o={};n&1048607&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Cf(i,e,l){let t,n,o,r,s;const a=Gi();me(i,a,$=>l(4,s=$));const f=Xi();me(i,f,$=>l(3,o=$));const u=Ft();me(i,u,$=>l(9,r=$));let d=null;function c(){if(d==null)return;const{namespace:$,name:M}=d;o.mutate([$,M],{onSuccess:()=>l(0,d=null)})}const m=()=>Et("/datasets/new"),g=$=>Et(Ht($.namespace,$.dataset_name)),p=$=>l(0,d={namespace:$.namespace,name:$.dataset_name}),v=$=>Et(Ht($.namespace,$.dataset_name)),y=()=>l(0,d=null),S=()=>l(0,d=null),k=()=>c();return i.$$.update=()=>{var $,M;i.$$.dirty&512&&l(2,t=($=r.data)==null?void 0:$.access.dataset.delete_dataset),i.$$.dirty&512&&l(1,n=(M=r.data)==null?void 0:M.access.create_dataset)},[d,n,t,o,s,a,f,u,c,r,m,g,p,v,y,S,k]}class Nf extends ge{constructor(e){super(),pe(this,e,Cf,Tf,_e,{})}}function Mf(i){let e,l;return e=new Nf({}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p:x,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function zf(i){let e,l;return e=new wf({props:{namespace:i[0],datasetName:i[1]}}),{c(){q(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){L(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.namespace=t[0]),n&2&&(o.datasetName=t[1]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ff(i){let e,l,t,n;const o=[zf,Mf],r=[];function s(a,f){return a[0]!=null&&a[1]!=null?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},l(a){l.l(a),t=ne()},m(a,f){r[e].m(a,f),T(a,t,f),n=!0},p(a,[f]){let u=e;e=s(a),e===u?r[e].p(a,f):(ee(),b(r[u],1,1,()=>{r[u]=null}),te(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t))},i(a){n||(_(l),n=!0)},o(a){b(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function Af(i,e,l){let t,n,o;const r=Ei();return me(i,r,s=>l(3,t=s)),i.$$.update=()=>{if(i.$$.dirty&11&&t.page==="datasets")if(t.identifier==""||t.identifier==null)l(0,n=void 0),l(1,o=void 0);else{const[s,a]=t.identifier.split("/");(n!=s||o!=a)&&(l(0,n=s),l(1,o=a))}},[n,o,r,t]}class Jf extends ge{constructor(e){super(),pe(this,e,Af,Ff,_e,{})}}export{Jf as component};
