import{S as ge,i as pe,s as _e,E as ce,k as z,a as j,y as R,l as A,m as D,c as U,z as L,h,I as Ze,H as se,b as C,J as v,A as q,K as Ve,O as Ce,g,d as b,B as O,D as ke,C as _t,o as fi,F as ye,q as W,r as Q,n as V,u as ue,e as ne,v as G,f as X,P as Je,w as Pe,X as gt,Y as pt,G as rt,L as st,M as at,N as ot,a9 as Et,aa as qt,R as he,T as ui,t as $i,j as Di,Q as je,ab as ci,_ as be,$ as ve,a0 as $e,a1 as Z,Z as Ii,p as Ue,W as di,a6 as Me,a8 as qe,a3 as Fe,a5 as Be,ac as kt,ad as Vi,U as et,V as tt,ae as Ti,a4 as ft,af as ut,x as ct,ag as St}from"../chunks/index.01827105.js";import{h as ze,f as De,b as Ot,s as Ie,p as Lt,a as Ci,c as wt,i as Ni,e as Qe,g as vt,j as Mi,L as Ke,l as zi,k as dt,m as Ai,n as mi,o as Fi,U as Ht,C as tl,r as hi,q as Bi,t as jt,u as Pi,v as Ge,w as yt,x as Pt,O as Ri,y as bt,z as qi,A as Oi,B as $t,V as _i,D as Li,E as Hi,F as ji,P as gi,G as Ui,H as Yi,I as Wi,J as Qi,K as Ji}from"../chunks/Page.635e2ebb.js";import{e as lt,f as Ki,h as Re,t as Xe,a as xe,E as Ut,i as We,j as Yt,k as Zi,b as Gi,S as Xi,l as xi,m as Ct,n as er,o as tr,p as lr,q as nr,r as ll,s as Rt,u as ir,v as rr,w as sr,g as ar,x as or,y as fr,I as Dt,z as Wt,A as ur,B as mt,D as ht,F as pi,M as bi,G as vi,H as wi,J as cr,C as dr,K as mr,L as hr,N as _r,O as gr,P as pr,Q as br,T as vr}from"../chunks/ConceptView.2f435227.js";import{d as nl,w as it}from"../chunks/index.2213faf5.js";import{C as wr,S as Oe,n as kr,I as Qt,d as il}from"../chunks/utils.9f56da00.js";import{W as Sr,b as Er,C as yr,S as Jt,a as Nt}from"../chunks/SelectItem.978ba842.js";import{L as $r,a as Dr,b as Ir,c as Vr,C as Tr}from"../chunks/ComboBox.07cc2afb.js";import{B as Ye,a as Mt}from"../chunks/taskMonitoringStore.f29f8009.js";import{M as Kt,u as Cr}from"../chunks/urlHashStore.ac1cecd5.js";import{q as Zt,S as Nr}from"../chunks/signalQueries.235d6662.js";import{g as ki}from"../chunks/settingsStore.b6b59745.js";import{S as Mr}from"../chunks/Settings.07bf1197.js";import{g as At}from"../chunks/navigation.ecbff483.js";function rl(i,e,l){const t=i.slice();return t[39]=e[l],t[41]=l,t}const zr=i=>({item:i[0]&8,index:i[0]&8}),sl=i=>({item:i[39],index:i[41]});function al(i){let e,l;return{c(){e=z("label"),l=W(i[10]),this.h()},l(t){e=A(t,"LABEL",{for:!0});var n=D(e);l=Q(n,i[10]),n.forEach(h),this.h()},h(){V(e,"for",i[19]),se(e,"bx--label",!0),se(e,"bx--label--disabled",i[9]),se(e,"bx--visually-hidden",i[17])},m(t,n){C(t,e,n),v(e,l)},p(t,n){n[0]&1024&&ue(l,t[10]),n[0]&524288&&V(e,"for",t[19]),n[0]&512&&se(e,"bx--label--disabled",t[9]),n[0]&131072&&se(e,"bx--visually-hidden",t[17])},d(t){t&&h(e)}}}function ol(i){let e,l;return e=new Sr({props:{class:"bx--list-box__invalid-icon"}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function fl(i){let e,l;return e=new Er({props:{class:"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning"}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ar(i){let e;return{c(){e=W(i[16])},l(l){e=Q(l,i[16])},m(l,t){C(l,e,t)},p(l,t){t[0]&65536&&ue(e,l[16])},d(l){l&&h(e)}}}function Fr(i){let e=i[4](i[22])+"",l;return{c(){l=W(e)},l(t){l=Q(t,e)},m(t,n){C(t,l,n)},p(t,n){n[0]&4194320&&e!==(e=t[4](t[22])+"")&&ue(l,e)},d(t){t&&h(l)}}}function ul(i){let e,l;return e=new Ir({props:{"aria-labelledby":i[19],id:i[19],$$slots:{default:[Rr]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&524288&&(o["aria-labelledby"]=t[19]),n[0]&524288&&(o.id=t[19]),n[0]&2097181|n[1]&64&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Br(i){let e=i[4](i[39])+"",l;return{c(){l=W(e)},l(t){l=Q(t,e)},m(t,n){C(t,l,n)},p(t,n){n[0]&24&&e!==(e=t[4](t[39])+"")&&ue(l,e)},d(t){t&&h(l)}}}function Pr(i){let e,l;const t=i[29].default,n=rt(t,i,i[37],sl),o=n||Br(i);return{c(){o&&o.c(),e=j()},l(r){o&&o.l(r),e=U(r)},m(r,a){o&&o.m(r,a),C(r,e,a),l=!0},p(r,a){n?n.p&&(!l||a[0]&8|a[1]&64)&&st(n,t,r,r[37],l?ot(t,r[37],a,zr):at(r[37]),sl):o&&o.p&&(!l||a[0]&24)&&o.p(r,l?a:[-1,-1])},i(r){l||(g(o,r),l=!0)},o(r){b(o,r),l=!1},d(r){o&&o.d(r),r&&h(e)}}}function cl(i,e){let l,t,n;function o(...a){return e[34](e[39],...a)}function r(){return e[35](e[39],e[41])}return t=new Vr({props:{id:e[39].id,active:e[0]===e[39].id,highlighted:e[21]===e[41],disabled:e[39].disabled,$$slots:{default:[Pr]},$$scope:{ctx:e}}}),t.$on("click",o),t.$on("mouseenter",r),{key:i,first:null,c(){l=ne(),R(t.$$.fragment),this.h()},l(a){l=ne(),L(t.$$.fragment,a),this.h()},h(){this.first=l},m(a,s){C(a,l,s),q(t,a,s),n=!0},p(a,s){e=a;const f={};s[0]&8&&(f.id=e[39].id),s[0]&9&&(f.active=e[0]===e[39].id),s[0]&2097160&&(f.highlighted=e[21]===e[41]),s[0]&8&&(f.disabled=e[39].disabled),s[0]&24|s[1]&64&&(f.$$scope={dirty:s,ctx:e}),t.$set(f)},i(a){n||(g(t.$$.fragment,a),n=!0)},o(a){b(t.$$.fragment,a),n=!1},d(a){a&&h(l),O(t,a)}}}function Rr(i){let e=[],l=new Map,t,n,o=i[3];const r=a=>a[39].id;for(let a=0;a<o.length;a+=1){let s=rl(i,o,a),f=r(s);l.set(f,e[a]=cl(f,s))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=ne()},l(a){for(let s=0;s<e.length;s+=1)e[s].l(a);t=ne()},m(a,s){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(a,s);C(a,t,s),n=!0},p(a,s){s[0]&35651613|s[1]&64&&(o=a[3],G(),e=gt(e,s,r,1,a,o,l,t.parentNode,pt,cl,t,rl),X())},i(a){if(!n){for(let s=0;s<o.length;s+=1)g(e[s]);n=!0}},o(a){for(let s=0;s<e.length;s+=1)b(e[s]);n=!1},d(a){for(let s=0;s<e.length;s+=1)e[s].d(a);a&&h(t)}}}function qr(i){let e,l,t,n,o,r,a,s,f,u,d,c=i[11]&&ol(),m=!i[11]&&i[13]&&fl();function _(S,w){return S[22]?Fr:Ar}let p=_(i),k=p(i);r=new Dr({props:{translateWithId:i[18],open:i[1]}}),r.$on("click",i[30]);let $=i[1]&&ul(i);return{c(){c&&c.c(),e=j(),m&&m.c(),l=j(),t=z("button"),n=z("span"),k.c(),o=j(),R(r.$$.fragment),a=j(),$&&$.c(),s=ne(),this.h()},l(S){c&&c.l(S),e=U(S),m&&m.l(S),l=U(S),t=A(S,"BUTTON",{type:!0,tabindex:!0,"aria-expanded":!0,translatewithid:!0,id:!0});var w=D(t);n=A(w,"SPAN",{});var y=D(n);k.l(y),y.forEach(h),o=U(w),L(r.$$.fragment,w),w.forEach(h),a=U(S),$&&$.l(S),s=ne(),this.h()},h(){se(n,"bx--list-box__label",!0),V(t,"type","button"),V(t,"tabindex","0"),V(t,"aria-expanded",i[1]),t.disabled=i[9],V(t,"translatewithid",i[18]),V(t,"id",i[19]),se(t,"bx--list-box__field",!0)},m(S,w){c&&c.m(S,w),C(S,e,w),m&&m.m(S,w),C(S,l,w),C(S,t,w),v(t,n),k.m(n,null),v(t,o),q(r,t,null),i[31](t),C(S,a,w),$&&$.m(S,w),C(S,s,w),f=!0,u||(d=[Ve(t,"keydown",i[32]),Ve(t,"keyup",i[33])],u=!0)},p(S,w){S[11]?c?w[0]&2048&&g(c,1):(c=ol(),c.c(),g(c,1),c.m(e.parentNode,e)):c&&(G(),b(c,1,1,()=>{c=null}),X()),!S[11]&&S[13]?m?w[0]&10240&&g(m,1):(m=fl(),m.c(),g(m,1),m.m(l.parentNode,l)):m&&(G(),b(m,1,1,()=>{m=null}),X()),p===(p=_(S))&&k?k.p(S,w):(k.d(1),k=p(S),k&&(k.c(),k.m(n,null)));const y={};w[0]&262144&&(y.translateWithId=S[18]),w[0]&2&&(y.open=S[1]),r.$set(y),(!f||w[0]&2)&&V(t,"aria-expanded",S[1]),(!f||w[0]&512)&&(t.disabled=S[9]),(!f||w[0]&262144)&&V(t,"translatewithid",S[18]),(!f||w[0]&524288)&&V(t,"id",S[19]),S[1]?$?($.p(S,w),w[0]&2&&g($,1)):($=ul(S),$.c(),g($,1),$.m(s.parentNode,s)):$&&(G(),b($,1,1,()=>{$=null}),X())},i(S){f||(g(c),g(m),g(r.$$.fragment,S),g($),f=!0)},o(S){b(c),b(m),b(r.$$.fragment,S),b($),f=!1},d(S){c&&c.d(S),S&&h(e),m&&m.d(S),S&&h(l),S&&h(t),k.d(),O(r),i[31](null),S&&h(a),$&&$.d(S),S&&h(s),u=!1,Je(d)}}}function dl(i){let e,l;return{c(){e=z("div"),l=W(i[15]),this.h()},l(t){e=A(t,"DIV",{});var n=D(e);l=Q(n,i[15]),n.forEach(h),this.h()},h(){se(e,"bx--form__helper-text",!0),se(e,"bx--form__helper-text--disabled",i[9])},m(t,n){C(t,e,n),v(e,l)},p(t,n){n[0]&32768&&ue(l,t[15]),n[0]&512&&se(e,"bx--form__helper-text--disabled",t[9])},d(t){t&&h(e)}}}function Or(i){let e,l,t,n,o,r,a,s=i[10]&&al(i);t=new $r({props:{role:void 0,type:i[5],size:i[7],name:i[20],"aria-label":i[28]["aria-label"],class:`bx--dropdown 
      `+(i[6]==="top"&&"bx--list-box--up")+` 
      `+(i[11]&&"bx--dropdown--invalid")+` 
      `+(!i[11]&&i[13]&&"bx--dropdown--warning")+` 
      `+(i[1]&&"bx--dropdown--open")+`
      `+(i[7]==="sm"&&"bx--dropdown--sm")+`
      `+(i[7]==="xl"&&"bx--dropdown--xl")+`
      `+(i[23]&&"bx--dropdown--inline")+`
      `+(i[9]&&"bx--dropdown--disabled")+`
      `+(i[8]&&"bx--dropdown--light"),disabled:i[9],open:i[1],invalid:i[11],invalidText:i[12],light:i[8],warn:i[13],warnText:i[14],$$slots:{default:[qr]},$$scope:{ctx:i}}}),t.$on("click",i[36]);let f=!i[23]&&!i[11]&&!i[13]&&i[15]&&dl(i),u=[i[27]],d={};for(let c=0;c<u.length;c+=1)d=ce(d,u[c]);return{c(){e=z("div"),s&&s.c(),l=j(),R(t.$$.fragment),n=j(),f&&f.c(),this.h()},l(c){e=A(c,"DIV",{});var m=D(e);s&&s.l(m),l=U(m),L(t.$$.fragment,m),n=U(m),f&&f.l(m),m.forEach(h),this.h()},h(){Ze(e,d),se(e,"bx--dropdown__wrapper",!0),se(e,"bx--list-box__wrapper",!0),se(e,"bx--dropdown__wrapper--inline",i[23]),se(e,"bx--list-box__wrapper--inline",i[23]),se(e,"bx--dropdown__wrapper--inline--invalid",i[23]&&i[11])},m(c,m){C(c,e,m),s&&s.m(e,null),v(e,l),q(t,e,null),v(e,n),f&&f.m(e,null),o=!0,r||(a=Ve(window,"click",i[26]),r=!0)},p(c,m){c[10]?s?s.p(c,m):(s=al(c),s.c(),s.m(e,l)):s&&(s.d(1),s=null);const _={};m[0]&32&&(_.type=c[5]),m[0]&128&&(_.size=c[7]),m[0]&1048576&&(_.name=c[20]),m[0]&268435456&&(_["aria-label"]=c[28]["aria-label"]),m[0]&8399810&&(_.class=`bx--dropdown 
      `+(c[6]==="top"&&"bx--list-box--up")+` 
      `+(c[11]&&"bx--dropdown--invalid")+` 
      `+(!c[11]&&c[13]&&"bx--dropdown--warning")+` 
      `+(c[1]&&"bx--dropdown--open")+`
      `+(c[7]==="sm"&&"bx--dropdown--sm")+`
      `+(c[7]==="xl"&&"bx--dropdown--xl")+`
      `+(c[23]&&"bx--dropdown--inline")+`
      `+(c[9]&&"bx--dropdown--disabled")+`
      `+(c[8]&&"bx--dropdown--light")),m[0]&512&&(_.disabled=c[9]),m[0]&2&&(_.open=c[1]),m[0]&2048&&(_.invalid=c[11]),m[0]&4096&&(_.invalidText=c[12]),m[0]&256&&(_.light=c[8]),m[0]&8192&&(_.warn=c[13]),m[0]&16384&&(_.warnText=c[14]),m[0]&7154207|m[1]&64&&(_.$$scope={dirty:m,ctx:c}),t.$set(_),!c[23]&&!c[11]&&!c[13]&&c[15]?f?f.p(c,m):(f=dl(c),f.c(),f.m(e,null)):f&&(f.d(1),f=null),Ze(e,d=Ce(u,[m[0]&134217728&&c[27]])),se(e,"bx--dropdown__wrapper",!0),se(e,"bx--list-box__wrapper",!0),se(e,"bx--dropdown__wrapper--inline",c[23]),se(e,"bx--list-box__wrapper--inline",c[23]),se(e,"bx--dropdown__wrapper--inline--invalid",c[23]&&c[11])},i(c){o||(g(t.$$.fragment,c),o=!0)},o(c){b(t.$$.fragment,c),o=!1},d(c){c&&h(e),s&&s.d(),O(t),f&&f.d(),r=!1,a()}}}function Lr(i,e,l){let t,n;const o=["items","itemToString","selectedId","type","direction","size","open","light","disabled","titleText","invalid","invalidText","warn","warnText","helperText","label","hideLabel","translateWithId","id","name","ref"];let r=ke(e,o),{$$slots:a={},$$scope:s}=e,{items:f=[]}=e,{itemToString:u=Y=>Y.text||Y.id}=e,{selectedId:d}=e,{type:c="default"}=e,{direction:m="bottom"}=e,{size:_=void 0}=e,{open:p=!1}=e,{light:k=!1}=e,{disabled:$=!1}=e,{titleText:S=""}=e,{invalid:w=!1}=e,{invalidText:y=""}=e,{warn:N=!1}=e,{warnText:F=""}=e,{helperText:T=""}=e,{label:E=void 0}=e,{hideLabel:B=!1}=e,{translateWithId:I=void 0}=e,{id:M="ccs-"+Math.random().toString(36)}=e,{name:P=void 0}=e,{ref:K=null}=e;const ee=_t();let J=-1;function le(Y){let H=J+Y;if(f.length===0)return;H<0?H=f.length-1:H>=f.length&&(H=0);let ie=f[H].disabled;for(;ie;)H=H+Y,H<0?H=f.length-1:H>=f.length&&(H=0),ie=f[H].disabled;l(21,J=H)}const x=()=>{ee("select",{selectedId:d,selectedItem:f.find(Y=>Y.id===d)})},te=({target:Y})=>{p&&K&&!K.contains(Y)&&l(1,p=!1)};fi(()=>(parent&&parent.addEventListener("click",te),()=>{parent&&parent.removeEventListener("click",te)}));const we=Y=>{Y.stopPropagation(),!$&&l(1,p=!p)};function oe(Y){Pe[Y?"unshift":"push"](()=>{K=Y,l(2,K)})}const ae=Y=>{const{key:H}=Y;["Enter","ArrowDown","ArrowUp"].includes(H)&&Y.preventDefault(),H==="Enter"?(l(1,p=!p),J>-1&&f[J].id!==d&&(l(0,d=f[J].id),x(),l(1,p=!1))):H==="Tab"?(l(1,p=!1),K.blur()):H==="ArrowDown"?(p||l(1,p=!0),le(1)):H==="ArrowUp"?(p||l(1,p=!0),le(-1)):H==="Escape"&&l(1,p=!1)},me=Y=>{const{key:H}=Y;if([" "].includes(H))Y.preventDefault();else return;l(1,p=!p),J>-1&&f[J].id!==d&&(l(0,d=f[J].id),x(),l(1,p=!1))},Se=(Y,H)=>{if(Y.disabled){H.stopPropagation();return}l(0,d=Y.id),x(),K.focus()},Ee=(Y,H)=>{Y.disabled||l(21,J=H)},fe=({target:Y})=>{$||l(1,p=K.contains(Y)?!p:!1)};return i.$$set=Y=>{l(28,e=ce(ce({},e),ye(Y))),l(27,r=ke(e,o)),"items"in Y&&l(3,f=Y.items),"itemToString"in Y&&l(4,u=Y.itemToString),"selectedId"in Y&&l(0,d=Y.selectedId),"type"in Y&&l(5,c=Y.type),"direction"in Y&&l(6,m=Y.direction),"size"in Y&&l(7,_=Y.size),"open"in Y&&l(1,p=Y.open),"light"in Y&&l(8,k=Y.light),"disabled"in Y&&l(9,$=Y.disabled),"titleText"in Y&&l(10,S=Y.titleText),"invalid"in Y&&l(11,w=Y.invalid),"invalidText"in Y&&l(12,y=Y.invalidText),"warn"in Y&&l(13,N=Y.warn),"warnText"in Y&&l(14,F=Y.warnText),"helperText"in Y&&l(15,T=Y.helperText),"label"in Y&&l(16,E=Y.label),"hideLabel"in Y&&l(17,B=Y.hideLabel),"translateWithId"in Y&&l(18,I=Y.translateWithId),"id"in Y&&l(19,M=Y.id),"name"in Y&&l(20,P=Y.name),"ref"in Y&&l(2,K=Y.ref),"$$scope"in Y&&l(37,s=Y.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&32&&l(23,t=c==="inline"),i.$$.dirty[0]&9&&l(22,n=f.find(Y=>Y.id===d)),i.$$.dirty[0]&2&&(p||l(21,J=-1))},e=ye(e),[d,p,K,f,u,c,m,_,k,$,S,w,y,N,F,T,E,B,I,M,P,J,n,t,le,x,te,r,e,a,we,oe,ae,me,Se,Ee,fe,s]}class Hr extends ge{constructor(e){super(),pe(this,e,Lr,Or,_e,{items:3,itemToString:4,selectedId:0,type:5,direction:6,size:7,open:1,light:8,disabled:9,titleText:10,invalid:11,invalidText:12,warn:13,warnText:14,helperText:15,label:16,hideLabel:17,translateWithId:18,id:19,name:20,ref:2},null,[-1,-1])}}const jr=Hr,Ur=i=>({}),ml=i=>({});function hl(i){let e=i[3].label+"",l;return{c(){l=W(e)},l(t){l=Q(t,e)},m(t,n){C(t,l,n)},p(t,n){n[0]&8&&e!==(e=t[3].label+"")&&ue(l,e)},d(t){t&&h(l)}}}function Yr(i){let e,l,t,n,o,r,a,s,f,u,d,c,m=i[3]&&hl(i);o=new yr({props:{"aria-hidden":"true",title:i[1]}});const _=i[20].default,p=rt(_,i,i[19],null);let k=[{role:"navigation"},i[10]],$={};for(let y=0;y<k.length;y+=1)$=ce($,k[y]);const S=i[20].content,w=rt(S,i,i[19],ml);return{c(){e=z("div"),l=z("div"),t=z("a"),m&&m.c(),n=j(),R(o.$$.fragment),a=j(),s=z("ul"),p&&p.c(),f=j(),w&&w.c(),this.h()},l(y){e=A(y,"DIV",{role:!0});var N=D(e);l=A(N,"DIV",{role:!0,tabindex:!0,"aria-label":!0});var F=D(l);t=A(F,"A",{tabindex:!0,href:!0});var T=D(t);m&&m.l(T),T.forEach(h),n=U(F),L(o.$$.fragment,F),F.forEach(h),a=U(N),s=A(N,"UL",{role:!0});var E=D(s);p&&p.l(E),E.forEach(h),N.forEach(h),f=U(y),w&&w.l(y),this.h()},h(){V(t,"tabindex","-1"),V(t,"href",i[2]),se(t,"bx--tabs-trigger-text",!0),V(l,"role","listbox"),V(l,"tabindex","0"),V(l,"aria-label",r=i[11]["aria-label"]||"listbox"),se(l,"bx--tabs-trigger",!0),V(s,"role","tablist"),se(s,"bx--tabs__nav",!0),se(s,"bx--tabs__nav--hidden",i[5]),Ze(e,$),se(e,"bx--tabs",!0),se(e,"bx--tabs--container",i[0]==="container")},m(y,N){C(y,e,N),v(e,l),v(l,t),m&&m.m(t,null),v(l,n),q(o,l,null),v(e,a),v(e,s),p&&p.m(s,null),i[26](s),C(y,f,N),w&&w.m(y,N),u=!0,d||(c=[Ve(t,"click",Et(i[22])),Ve(t,"click",qt(Et(i[23]))),Ve(l,"click",i[24]),Ve(l,"keypress",i[21]),Ve(l,"keypress",i[25])],d=!0)},p(y,N){y[3]?m?m.p(y,N):(m=hl(y),m.c(),m.m(t,null)):m&&(m.d(1),m=null),(!u||N[0]&4)&&V(t,"href",y[2]);const F={};N[0]&2&&(F.title=y[1]),o.$set(F),(!u||N[0]&2048&&r!==(r=y[11]["aria-label"]||"listbox"))&&V(l,"aria-label",r),p&&p.p&&(!u||N[0]&524288)&&st(p,_,y,y[19],u?ot(_,y[19],N,null):at(y[19]),null),(!u||N[0]&32)&&se(s,"bx--tabs__nav--hidden",y[5]),Ze(e,$=Ce(k,[{role:"navigation"},N[0]&1024&&y[10]])),se(e,"bx--tabs",!0),se(e,"bx--tabs--container",y[0]==="container"),w&&w.p&&(!u||N[0]&524288)&&st(w,S,y,y[19],u?ot(S,y[19],N,Ur):at(y[19]),ml)},i(y){u||(g(o.$$.fragment,y),g(p,y),g(w,y),u=!0)},o(y){b(o.$$.fragment,y),b(p,y),b(w,y),u=!1},d(y){y&&h(e),m&&m.d(),O(o),p&&p.d(y),i[26](null),y&&h(f),w&&w.d(y),d=!1,Je(c)}}}function Wr(i,e,l){let t,n;const o=["selected","type","autoWidth","iconDescription","triggerHref"];let r=ke(e,o),a,s,f,u,{$$slots:d={},$$scope:c}=e,{selected:m=0}=e,{type:_="default"}=e,{autoWidth:p=!1}=e,{iconDescription:k="Show menu options"}=e,{triggerHref:$="#"}=e;const S=_t(),w=it([]);he(i,w,oe=>l(18,f=oe));const y=nl(w,oe=>oe.reduce((ae,me)=>({...ae,[me.id]:me}),{}));he(i,y,oe=>l(28,u=oe));const N=it(p),F=it(void 0);he(i,F,oe=>l(16,a=oe));const T=it([]);he(i,T,oe=>l(17,s=oe));const E=nl(T,oe=>oe.reduce((ae,me)=>({...ae,[me.id]:me}),{})),B=it(void 0);let I=null;ui("Tabs",{tabs:w,contentById:E,selectedTab:F,selectedContent:B,useAutoWidth:N,add:oe=>{w.update(ae=>[...ae,{...oe,index:ae.length}])},addContent:oe=>{T.update(ae=>[...ae,{...oe,index:ae.length}])},update:oe=>{l(14,P=u[oe].index)},change:async oe=>{let ae=P+oe;ae<0?ae=f.length-1:ae>=f.length&&(ae=0);let me=f[ae].disabled;for(;me;)ae=ae+oe,ae<0?ae=f.length-1:ae>=f.length&&(ae=0),me=f[ae].disabled;l(14,P=ae),await $i();const Se=I==null?void 0:I.querySelectorAll("[role='tab']")[P];Se==null||Se.focus()}}),Di(()=>{l(12,m=P),K>-1&&K!==P&&S("change",P),K=P});let M=!0,P=m,K=-1;function ee(oe){je.call(this,i,oe)}function J(oe){je.call(this,i,oe)}const le=()=>{l(5,M=!M)},x=()=>{l(5,M=!M)},te=()=>{l(5,M=!M)};function we(oe){Pe[oe?"unshift":"push"](()=>{I=oe,l(4,I)})}return i.$$set=oe=>{l(11,e=ce(ce({},e),ye(oe))),l(10,r=ke(e,o)),"selected"in oe&&l(12,m=oe.selected),"type"in oe&&l(0,_=oe.type),"autoWidth"in oe&&l(13,p=oe.autoWidth),"iconDescription"in oe&&l(1,k=oe.iconDescription),"triggerHref"in oe&&l(2,$=oe.triggerHref),"$$scope"in oe&&l(19,c=oe.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&4096&&l(14,P=m),i.$$.dirty[0]&278528&&l(3,t=f[P]||void 0),i.$$.dirty[0]&147456&&l(15,n=s[P]||void 0),i.$$.dirty[0]&32776&&(t&&F.set(t.id),n&&B.set(n.id)),i.$$.dirty[0]&65536&&a&&l(5,M=!0),i.$$.dirty[0]&8192&&N.set(p)},e=ye(e),[_,k,$,t,I,M,w,y,F,T,r,e,m,p,P,n,a,s,f,c,d,ee,J,le,x,te,we]}class Qr extends ge{constructor(e){super(),pe(this,e,Wr,Yr,_e,{selected:12,type:0,autoWidth:13,iconDescription:1,triggerHref:2},null,[-1,-1])}}const Jr=Qr;function Kr(i){let e;return{c(){e=W(i[1])},l(l){e=Q(l,i[1])},m(l,t){C(l,e,t)},p(l,t){t&2&&ue(e,l[1])},d(l){l&&h(e)}}}function Zr(i){let e,l,t,n,o,r,a;const s=i[15].default,f=rt(s,i,i[14],null),u=f||Kr(i);let d=[{tabindex:"-1"},{role:"presentation"},i[12]],c={};for(let m=0;m<d.length;m+=1)c=ce(c,d[m]);return{c(){e=z("li"),l=z("a"),u&&u.c(),this.h()},l(m){e=A(m,"LI",{tabindex:!0,role:!0});var _=D(e);l=A(_,"A",{role:!0,tabindex:!0,"aria-selected":!0,"aria-disabled":!0,id:!0,href:!0,style:!0});var p=D(l);u&&u.l(p),p.forEach(h),_.forEach(h),this.h()},h(){V(l,"role","tab"),V(l,"tabindex",t=i[3]?"-1":i[4]),V(l,"aria-selected",i[6]),V(l,"aria-disabled",i[3]),V(l,"id",i[5]),V(l,"href",i[2]),V(l,"style",n=i[7]?"width: auto":void 0),se(l,"bx--tabs__nav-link",!0),Ze(e,c),se(e,"bx--tabs__nav-item",!0),se(e,"bx--tabs__nav-item--disabled",i[3]),se(e,"bx--tabs__nav-item--selected",i[6])},m(m,_){C(m,e,_),v(e,l),u&&u.m(l,null),i[20](l),o=!0,r||(a=[Ve(e,"click",Et(i[16])),Ve(e,"click",Et(i[21])),Ve(e,"mouseover",i[17]),Ve(e,"mouseenter",i[18]),Ve(e,"mouseleave",i[19]),Ve(e,"keydown",i[22])],r=!0)},p(m,[_]){f?f.p&&(!o||_&16384)&&st(f,s,m,m[14],o?ot(s,m[14],_,null):at(m[14]),null):u&&u.p&&(!o||_&2)&&u.p(m,o?_:-1),(!o||_&24&&t!==(t=m[3]?"-1":m[4]))&&V(l,"tabindex",t),(!o||_&64)&&V(l,"aria-selected",m[6]),(!o||_&8)&&V(l,"aria-disabled",m[3]),(!o||_&32)&&V(l,"id",m[5]),(!o||_&4)&&V(l,"href",m[2]),(!o||_&128&&n!==(n=m[7]?"width: auto":void 0))&&V(l,"style",n),Ze(e,c=Ce(d,[{tabindex:"-1"},{role:"presentation"},_&4096&&m[12]])),se(e,"bx--tabs__nav-item",!0),se(e,"bx--tabs__nav-item--disabled",m[3]),se(e,"bx--tabs__nav-item--selected",m[6])},i(m){o||(g(u,m),o=!0)},o(m){b(u,m),o=!1},d(m){m&&h(e),u&&u.d(m),i[20](null),r=!1,Je(a)}}}function Gr(i,e,l){let t;const n=["label","href","disabled","tabindex","id","ref"];let o=ke(e,n),r,a,{$$slots:s={},$$scope:f}=e,{label:u=""}=e,{href:d="#"}=e,{disabled:c=!1}=e,{tabindex:m="0"}=e,{id:_="ccs-"+Math.random().toString(36)}=e,{ref:p=null}=e;const{selectedTab:k,useAutoWidth:$,add:S,update:w,change:y}=ci("Tabs");he(i,k,P=>l(13,r=P)),he(i,$,P=>l(7,a=P)),S({id:_,label:u,disabled:c});function N(P){je.call(this,i,P)}function F(P){je.call(this,i,P)}function T(P){je.call(this,i,P)}function E(P){je.call(this,i,P)}function B(P){Pe[P?"unshift":"push"](()=>{p=P,l(0,p)})}const I=()=>{c||w(_)},M=({key:P})=>{c||(P==="ArrowRight"?y(1):P==="ArrowLeft"?y(-1):(P===" "||P==="Enter")&&w(_))};return i.$$set=P=>{e=ce(ce({},e),ye(P)),l(12,o=ke(e,n)),"label"in P&&l(1,u=P.label),"href"in P&&l(2,d=P.href),"disabled"in P&&l(3,c=P.disabled),"tabindex"in P&&l(4,m=P.tabindex),"id"in P&&l(5,_=P.id),"ref"in P&&l(0,p=P.ref),"$$scope"in P&&l(14,f=P.$$scope)},i.$$.update=()=>{i.$$.dirty&8224&&l(6,t=r===_)},[p,u,d,c,m,_,t,a,k,$,w,y,o,r,f,s,N,F,T,E,B,I,M]}class Xr extends ge{constructor(e){super(),pe(this,e,Gr,Zr,_e,{label:1,href:2,disabled:3,tabindex:4,id:5,ref:0})}}const Ft=Xr;function xr(i){let e,l,t,n;const o=i[12].default,r=rt(o,i,i[11],null);let a=[{role:"tabpanel"},{"aria-labelledby":i[1]},{"aria-hidden":l=!i[2]},{hidden:t=i[2]?void 0:""},{id:i[0]},i[6]],s={};for(let f=0;f<a.length;f+=1)s=ce(s,a[f]);return{c(){e=z("div"),r&&r.c(),this.h()},l(f){e=A(f,"DIV",{role:!0,"aria-labelledby":!0,"aria-hidden":!0,id:!0});var u=D(e);r&&r.l(u),u.forEach(h),this.h()},h(){Ze(e,s),se(e,"bx--tab-content",!0)},m(f,u){C(f,e,u),r&&r.m(e,null),n=!0},p(f,[u]){r&&r.p&&(!n||u&2048)&&st(r,o,f,f[11],n?ot(o,f[11],u,null):at(f[11]),null),Ze(e,s=Ce(a,[{role:"tabpanel"},(!n||u&2)&&{"aria-labelledby":f[1]},(!n||u&4&&l!==(l=!f[2]))&&{"aria-hidden":l},(!n||u&4&&t!==(t=f[2]?void 0:""))&&{hidden:t},(!n||u&1)&&{id:f[0]},u&64&&f[6]])),se(e,"bx--tab-content",!0)},i(f){n||(g(r,f),n=!0)},o(f){b(r,f),n=!1},d(f){f&&h(e),r&&r.d(f)}}}function es(i,e,l){let t,n,o;const r=["id"];let a=ke(e,r),s,f,u,{$$slots:d={},$$scope:c}=e,{id:m="ccs-"+Math.random().toString(36)}=e;const{selectedContent:_,addContent:p,tabs:k,contentById:$}=ci("Tabs");return he(i,_,S=>l(10,u=S)),he(i,k,S=>l(8,s=S)),he(i,$,S=>l(9,f=S)),p({id:m}),i.$$set=S=>{e=ce(ce({},e),ye(S)),l(6,a=ke(e,r)),"id"in S&&l(0,m=S.id),"$$scope"in S&&l(11,c=S.$$scope)},i.$$.update=()=>{i.$$.dirty&1025&&l(2,t=u===m),i.$$.dirty&513&&l(7,n=f[m].index),i.$$.dirty&384&&l(1,o=s[n].id)},[m,o,t,_,k,$,a,n,s,f,u,c,d]}class ts extends ge{constructor(e){super(),pe(this,e,es,xr,_e,{id:0})}}const Bt=ts;function _l(i){let e,l;return{c(){e=be("title"),l=W(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=Q(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ls(i){let e,l,t=i[1]&&_l(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=D(e);t&&t.l(a),l=ve(a,"path",{d:!0}),D(l).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),$e(e,o)},m(r,a){C(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=_l(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:Z,o:Z,d(r){r&&h(e),t&&t.d()}}}function ns(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[a,s,n,r,t]}class is extends ge{constructor(e){super(),pe(this,e,ns,ls,_e,{size:0,title:1})}}function gl(i){let e,l;return{c(){e=be("title"),l=W(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=Q(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function rs(i){let e,l,t=i[1]&&gl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=D(e);t&&t.l(a),l=ve(a,"path",{d:!0}),D(l).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M24 12L16 22 8 12z"),$e(e,o)},m(r,a){C(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=gl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:Z,o:Z,d(r){r&&h(e),t&&t.d()}}}function ss(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[a,s,n,r,t]}class as extends ge{constructor(e){super(),pe(this,e,ss,rs,_e,{size:0,title:1})}}function pl(i){let e,l;return{c(){e=be("title"),l=W(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=Q(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function os(i){let e,l,t=i[1]&&pl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=D(e);t&&t.l(a),l=ve(a,"path",{d:!0}),D(l).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M10 16L20 6 21.4 7.4 12.8 16 21.4 24.6 20 26z"),$e(e,o)},m(r,a){C(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=pl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:Z,o:Z,d(r){r&&h(e),t&&t.d()}}}function fs(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[a,s,n,r,t]}class us extends ge{constructor(e){super(),pe(this,e,fs,os,_e,{size:0,title:1})}}function bl(i){let e,l;return{c(){e=be("title"),l=W(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=Q(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function cs(i){let e,l,t=i[1]&&bl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=D(e);t&&t.l(a),l=ve(a,"path",{d:!0}),D(l).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"),$e(e,o)},m(r,a){C(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=bl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:Z,o:Z,d(r){r&&h(e),t&&t.d()}}}function ds(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[a,s,n,r,t]}class ms extends ge{constructor(e){super(),pe(this,e,ds,cs,_e,{size:0,title:1})}}function vl(i){let e,l;return{c(){e=be("title"),l=W(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=Q(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function hs(i){let e,l,t=i[1]&&vl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=D(e);t&&t.l(a),l=ve(a,"path",{d:!0}),D(l).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M26 24v4H6V24H4v4H4a2 2 0 002 2H26a2 2 0 002-2h0V24zM26 14L24.59 12.59 17 20.17 17 2 15 2 15 20.17 7.41 12.59 6 14 16 24 26 14z"),$e(e,o)},m(r,a){C(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=vl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:Z,o:Z,d(r){r&&h(e),t&&t.d()}}}function _s(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[a,s,n,r,t]}class gs extends ge{constructor(e){super(),pe(this,e,_s,hs,_e,{size:0,title:1})}}function wl(i){let e,l;return{c(){e=be("title"),l=W(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=Q(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ps(i){let e,l,t=i[1]&&wl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=D(e);t&&t.l(a),l=ve(a,"path",{d:!0}),D(l).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M16 7a3 3 0 113-3A3.0033 3.0033 0 0116 7zm0-4a1 1 0 101 1A1.001 1.001 0 0016 3zM11 30a3 3 0 113-3A3.0033 3.0033 0 0111 30zm0-4a1 1 0 101 1A1.001 1.001 0 0011 26zM7 11a3 3 0 113-3A3.0033 3.0033 0 017 11zM7 7A1 1 0 108 8 1.001 1.001 0 007 7zM21 30a3 3 0 113-3A3.0033 3.0033 0 0121 30zm0-4a1 1 0 101 1A1.001 1.001 0 0021 26zM25 11a3 3 0 113-3A3.0033 3.0033 0 0125 11zm0-4a1 1 0 101 1A1.001 1.001 0 0025 7zM4 21a3 3 0 113-3A3.0033 3.0033 0 014 21zm0-4a1 1 0 101 1A1.001 1.001 0 004 17zM28 21a3 3 0 113-3A3.0033 3.0033 0 0128 21zm0-4a1 1 0 101 1A1.001 1.001 0 0028 17zM16 22a6 6 0 116-6A6.0069 6.0069 0 0116 22zm0-10a4 4 0 104 4A4.0045 4.0045 0 0016 12z"),$e(e,o)},m(r,a){C(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=wl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:Z,o:Z,d(r){r&&h(e),t&&t.d()}}}function bs(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[a,s,n,r,t]}class vs extends ge{constructor(e){super(),pe(this,e,bs,ps,_e,{size:0,title:1})}}function kl(i){let e,l;return{c(){e=be("title"),l=W(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=Q(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ws(i){let e,l,t,n=i[1]&&kl(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let a=0;a<o.length;a+=1)r=ce(r,o[a]);return{c(){e=be("svg"),n&&n.c(),l=be("path"),t=be("path"),this.h()},l(a){e=ve(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=D(e);n&&n.l(s),l=ve(s,"path",{d:!0}),D(l).forEach(h),t=ve(s,"path",{d:!0}),D(t).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M17 22L17 14 13 14 13 16 15 16 15 22 12 22 12 24 20 24 20 22 17 22zM16 8a1.5 1.5 0 101.5 1.5A1.5 1.5 0 0016 8z"),V(t,"d","M16,30A14,14,0,1,1,30,16,14,14,0,0,1,16,30ZM16,4A12,12,0,1,0,28,16,12,12,0,0,0,16,4Z"),$e(e,r)},m(a,s){C(a,e,s),n&&n.m(e,null),v(e,l),v(e,t)},p(a,[s]){a[1]?n?n.p(a,s):(n=kl(a),n.c(),n.m(e,l)):n&&(n.d(1),n=null),$e(e,r=Ce(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:a[0]},s&1&&{height:a[0]},s&4&&a[2],s&8&&a[3]]))},i:Z,o:Z,d(a){a&&h(e),n&&n.d()}}}function ks(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[a,s,n,r,t]}class It extends ge{constructor(e){super(),pe(this,e,ks,ws,_e,{size:0,title:1})}}function Sl(i){let e,l;return{c(){e=be("title"),l=W(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=Q(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Ss(i){let e,l,t=i[1]&&Sl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=D(e);t&&t.l(a),l=ve(a,"path",{d:!0}),D(l).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M18,28A12,12,0,1,0,6,16v6.2L2.4,18.6,1,20l6,6,6-6-1.4-1.4L8,22.2V16H8A10,10,0,1,1,18,26Z"),$e(e,o)},m(r,a){C(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=Sl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:Z,o:Z,d(r){r&&h(e),t&&t.d()}}}function Es(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[a,s,n,r,t]}class ys extends ge{constructor(e){super(),pe(this,e,Es,Ss,_e,{size:0,title:1})}}function El(i){let e,l;return{c(){e=be("title"),l=W(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=Q(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function $s(i){let e,l,t=i[1]&&El(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=D(e);t&&t.l(a),l=ve(a,"path",{d:!0}),D(l).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M30 6L26 6 26 2 24 2 24 6 20 6 20 8 24 8 24 12 26 12 26 8 30 8 30 6zM24 28.5859l-5.9751-5.9751a9.0234 9.0234 0 10-1.4141 1.4141L22.5859 30zM4 17a7 7 0 117 7A7.0078 7.0078 0 014 17z"),$e(e,o)},m(r,a){C(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=El(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:Z,o:Z,d(r){r&&h(e),t&&t.d()}}}function Ds(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[a,s,n,r,t]}class Is extends ge{constructor(e){super(),pe(this,e,Ds,$s,_e,{size:0,title:1})}}function yl(i){let e,l;return{c(){e=be("title"),l=W(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=Q(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Vs(i){let e,l,t=i[1]&&yl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=D(e);t&&t.l(a),l=ve(a,"path",{d:!0}),D(l).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 18H16V20H2zM6 12H16V14H6zM10 6H16V8H10z"),$e(e,o)},m(r,a){C(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=yl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:Z,o:Z,d(r){r&&h(e),t&&t.d()}}}function Ts(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[a,s,n,r,t]}class Vt extends ge{constructor(e){super(),pe(this,e,Ts,Vs,_e,{size:0,title:1})}}function $l(i){let e,l;return{c(){e=be("title"),l=W(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=Q(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Cs(i){let e,l,t=i[1]&&$l(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=D(e);t&&t.l(a),l=ve(a,"path",{d:!0}),D(l).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 6H16V8H2zM6 12H16V14H6zM10 18H16V20H10z"),$e(e,o)},m(r,a){C(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=$l(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:Z,o:Z,d(r){r&&h(e),t&&t.d()}}}function Ns(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[a,s,n,r,t]}class Tt extends ge{constructor(e){super(),pe(this,e,Ns,Cs,_e,{size:0,title:1})}}function Dl(i){let e,l;return{c(){e=be("title"),l=W(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=Q(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Ms(i){let e,l,t=i[1]&&Dl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=D(e);t&&t.l(a),l=ve(a,"path",{d:!0}),D(l).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M30 19.415L28.586 18 25 21.587 21.414 18 20 19.415 23.586 23 20 26.586 21.414 28 25 24.414 28.586 28 30 26.586 26.414 23 30 19.415zM10 18H16V20H10zM2 6H16V8H2zM6 12H16V14H6z"),$e(e,o)},m(r,a){C(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=Dl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),$e(e,o=Ce(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:Z,o:Z,d(r){r&&h(e),t&&t.d()}}}function zs(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[a,s,n,r,t]}class Il extends ge{constructor(e){super(),pe(this,e,zs,Ms,_e,{size:0,title:1})}}function Vl(i){let e,l;return{c(){e=be("title"),l=W(i[1])},l(t){e=ve(t,"title",{});var n=D(e);l=Q(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function As(i){let e,l,t,n=i[1]&&Vl(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let a=0;a<o.length;a+=1)r=ce(r,o[a]);return{c(){e=be("svg"),n&&n.c(),l=be("path"),t=be("path"),this.h()},l(a){e=ve(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=D(e);n&&n.l(s),l=ve(s,"path",{d:!0}),D(l).forEach(h),t=ve(s,"path",{d:!0}),D(t).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M30.94,15.66A16.69,16.69,0,0,0,16,5,16.69,16.69,0,0,0,1.06,15.66a1,1,0,0,0,0,.68A16.69,16.69,0,0,0,16,27,16.69,16.69,0,0,0,30.94,16.34,1,1,0,0,0,30.94,15.66ZM16,25c-5.3,0-10.9-3.93-12.93-9C5.1,10.93,10.7,7,16,7s10.9,3.93,12.93,9C26.9,21.07,21.3,25,16,25Z"),V(t,"d","M16,10a6,6,0,1,0,6,6A6,6,0,0,0,16,10Zm0,10a4,4,0,1,1,4-4A4,4,0,0,1,16,20Z"),$e(e,r)},m(a,s){C(a,e,s),n&&n.m(e,null),v(e,l),v(e,t)},p(a,[s]){a[1]?n?n.p(a,s):(n=Vl(a),n.c(),n.m(e,l)):n&&(n.d(1),n=null),$e(e,r=Ce(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:a[0]},s&1&&{height:a[0]},s&4&&a[2],s&8&&a[3]]))},i:Z,o:Z,d(a){a&&h(e),n&&n.d()}}}function Fs(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),ye(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ye(e),[a,s,n,r,t]}class Bs extends ge{constructor(e){super(),pe(this,e,Fs,As,_e,{size:0,title:1})}}function Tl(i){let e;return{c(){e=z("div"),this.h()},l(l){e=A(l,"DIV",{id:!0,style:!0}),D(e).forEach(h),this.h()},h(){V(e,"id","svelte-infinite-scroll"),Ue(e,"width","0")},m(l,t){C(l,e,t),i[11](e)},p:Z,d(l){l&&h(e),i[11](null)}}}function Ps(i){let e,l=!i[1]&&!i[0]&&Tl(i);return{c(){l&&l.c(),e=ne()},l(t){l&&l.l(t),e=ne()},m(t,n){l&&l.m(t,n),C(t,e,n)},p(t,[n]){!t[1]&&!t[0]?l?l.p(t,n):(l=Tl(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:Z,o:Z,d(t){l&&l.d(t),t&&h(e)}}}function Rs(i,e,l){let{threshold:t=0}=e,{horizontal:n=!1}=e,{elementScroll:o=null}=e,{hasMore:r=!0}=e,{reverse:a=!1}=e,{window:s=!1}=e;const f=_t();let u=!1,d,c,m,_;const p=S=>{if(!r)return;const w=S.target;k(w,a,n)<=t?(!u&&r&&(f("loadMore"),l(8,c=w.scrollHeight),l(9,m=w.scrollTop)),l(7,u=!0)):l(7,u=!1)},k=(S,w,y)=>{const N=S.documentElement?S.documentElement:S;return w?y?N.scrollLeft:N.scrollTop:y?N.scrollWidth-N.clientWidth-N.scrollLeft:N.scrollHeight-N.clientHeight-N.scrollTop};fi(()=>{s?l(10,_=document):o?l(10,_=o):l(10,_=d.parentNode)}),Ii(()=>{_&&(_.removeEventListener("scroll",p),_.removeEventListener("resize",p))});function $(S){Pe[S?"unshift":"push"](()=>{d=S,l(2,d)})}return i.$$set=S=>{"threshold"in S&&l(3,t=S.threshold),"horizontal"in S&&l(4,n=S.horizontal),"elementScroll"in S&&l(0,o=S.elementScroll),"hasMore"in S&&l(5,r=S.hasMore),"reverse"in S&&l(6,a=S.reverse),"window"in S&&l(1,s=S.window)},i.$$.update=()=>{i.$$.dirty&1088&&_&&(a&&l(10,_.scrollTop=_.scrollHeight,_),_.addEventListener("scroll",p),_.addEventListener("resize",p)),i.$$.dirty&1984&&u&&a&&l(10,_.scrollTop=_.scrollHeight-c+m,_)},[o,s,d,t,n,r,a,u,c,m,_,$]}class qs extends ge{constructor(e){super(),pe(this,e,Rs,Ps,_e,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function Os(i){let e,l,t,n,o,r,a,s;t=new Ki({});const f=i[3].default,u=rt(f,i,i[6],null);return{c(){e=z("div"),l=z("button"),R(t.$$.fragment),n=j(),o=z("span"),u&&u.c(),this.h()},l(d){e=A(d,"DIV",{class:!0});var c=D(e);l=A(c,"BUTTON",{class:!0});var m=D(l);L(t.$$.fragment,m),m.forEach(h),n=U(c),o=A(c,"SPAN",{class:!0});var _=D(o);u&&u.l(_),_.forEach(h),c.forEach(h),this.h()},h(){V(l,"class","opacity-50 hover:opacity-100"),V(o,"class","truncate"),V(e,"class","removable-tag flex items-center gap-x-1")},m(d,c){C(d,e,c),v(e,l),q(t,l,null),v(e,n),v(e,o),u&&u.m(o,null),r=!0,a||(s=Ve(l,"click",qt(i[4])),a=!0)},p(d,c){u&&u.p&&(!r||c&64)&&st(u,f,d,d[6],r?ot(f,d[6],c,null):at(d[6]),null)},i(d){r||(g(t.$$.fragment,d),g(u,d),r=!0)},o(d){b(t.$$.fragment,d),b(u,d),r=!1},d(d){d&&h(e),O(t),u&&u.d(d),a=!1,s()}}}function Ls(i){let e,l;const t=[{type:i[0]},i[2]];let n={$$slots:{default:[Os]},$$scope:{ctx:i}};for(let o=0;o<t.length;o+=1)n=ce(n,t[o]);return e=new lt({props:n}),e.$on("click",i[5]),{c(){R(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,r){q(e,o,r),l=!0},p(o,[r]){const a=r&5?Ce(t,[r&1&&{type:o[0]},r&4&&di(o[2])]):{};r&64&&(a.$$scope={dirty:r,ctx:o}),e.$set(a)},i(o){l||(g(e.$$.fragment,o),l=!0)},o(o){b(e.$$.fragment,o),l=!1},d(o){O(e,o)}}}function Hs(i,e,l){const t=["type"];let n=ke(e,t),{$$slots:o={},$$scope:r}=e;const a=_t();let{type:s}=e;const f=()=>a("remove");function u(d){je.call(this,i,d)}return i.$$set=d=>{e=ce(ce({},e),ye(d)),l(2,n=ke(e,t)),"type"in d&&l(0,s=d.type),"$$scope"in d&&l(6,r=d.$$scope)},[s,a,n,o,f,u,r]}class zt extends ge{constructor(e){super(),pe(this,e,Hs,Ls,_e,{type:0})}}function js(i){let e=(i[2]?"":i[5])+"",l,t,n=i[0][i[1].op]+"",o,r,a;return{c(){l=W(e),t=j(),o=W(n),r=j(),a=W(i[4])},l(s){l=Q(s,e),t=U(s),o=Q(s,n),r=U(s),a=Q(s,i[4])},m(s,f){C(s,l,f),C(s,t,f),C(s,o,f),C(s,r,f),C(s,a,f)},p(s,f){f&36&&e!==(e=(s[2]?"":s[5])+"")&&ue(l,e),f&2&&n!==(n=s[0][s[1].op]+"")&&ue(o,n),f&16&&ue(a,s[4])},d(s){s&&h(l),s&&h(t),s&&h(o),s&&h(r),s&&h(a)}}}function Us(i){let e,l,t,n,o,r;return l=new zt({props:{interactive:!0,type:"magenta",$$slots:{default:[js]},$$scope:{ctx:i}}}),l.$on("click",i[9]),l.$on("remove",i[10]),{c(){e=z("div"),R(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=D(e);L(l.$$.fragment,s),s.forEach(h),this.h()},h(){V(e,"class","filter-pill items-center")},m(a,s){C(a,e,s),q(l,e,null),n=!0,o||(r=Me(t=ze.call(null,e,{text:i[6]})),o=!0)},p(a,[s]){const f={};s&2102&&(f.$$scope={dirty:s,ctx:a}),l.$set(f),t&&qe(t.update)&&s&64&&t.update.call(null,{text:a[6]})},i(a){n||(g(l.$$.fragment,a),n=!0)},o(a){b(l.$$.fragment,a),n=!1},d(a){a&&h(e),O(l),o=!1,r()}}}function Ys(i,e,l){let t,n,o,r,a;const s={equals:"=",not_equal:"≠",less:"<",less_equal:"≤",greater:">",greater_equal:"≥",in:"in",exists:"exists"};let{filter:f}=e,{hidePath:u=!1}=e;const d=Re();he(i,d,_=>l(7,a=_));const c=()=>Xe({command:xe.EditFilter,namespace:a.namespace,datasetName:a.datasetName,path:n}),m=()=>d.removeFilter(f);return i.$$set=_=>{"filter"in _&&l(1,f=_.filter),"hidePath"in _&&l(2,u=_.hidePath)},i.$$.update=()=>{i.$$.dirty&2&&l(4,t=De(f.value||"false")),i.$$.dirty&2&&l(3,n=Ot(f.path)),i.$$.dirty&18&&l(6,o=`${Ie(f.path)} ${s[f.op]} ${t}`),i.$$.dirty&8&&l(5,r=n.at(-1))},[s,f,u,n,t,r,o,a,d,c,m]}class Gt extends ge{constructor(e){super(),pe(this,e,Ys,Us,_e,{FILTER_SHORTHANDS:0,filter:1,hidePath:2})}get FILTER_SHORTHANDS(){return this.$$.ctx[0]}}function Cl(i){let e,l=i[0].query.concept_namespace+"",t,n,o=i[0].query.concept_name+"",r;return{c(){e=z("div"),t=W(l),n=W(" / "),r=W(o),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=D(e);t=Q(s,l),n=Q(s," / "),r=Q(s,o),s.forEach(h),this.h()},h(){V(e,"class","mb-2 w-full text-center text-xs")},m(a,s){C(a,e,s),v(e,t),v(e,n),v(e,r)},p(a,s){s&1&&l!==(l=a[0].query.concept_namespace+"")&&ue(t,l),s&1&&o!==(o=a[0].query.concept_name+"")&&ue(r,o)},d(a){a&&h(e)}}}function Ws(i){let e=Ie(i[0].path)+"",l,t,n=i[0].query.type+"",o;return{c(){l=W(e),t=W(": "),o=W(n)},l(r){l=Q(r,e),t=Q(r,": "),o=Q(r,n)},m(r,a){C(r,l,a),C(r,t,a),C(r,o,a)},p(r,a){a&1&&e!==(e=Ie(r[0].path)+"")&&ue(l,e),a&1&&n!==(n=r[0].query.type+"")&&ue(o,n)},d(r){r&&h(l),r&&h(t),r&&h(o)}}}function Nl(i){let e,l,t;return l=new Ut({props:{embedding:i[0].query.embedding}}),{c(){e=z("div"),R(l.$$.fragment),this.h()},l(n){e=A(n,"DIV",{class:!0});var o=D(e);L(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"class","ml-2")},m(n,o){C(n,e,o),q(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.embedding=n[0].query.embedding),l.$set(r)},i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){b(l.$$.fragment,n),t=!1},d(n){n&&h(e),O(l)}}}function Ml(i){let e,l;return{c(){e=z("div"),l=W(i[2]),this.h()},l(t){e=A(t,"DIV",{class:!0});var n=D(e);l=Q(n,i[2]),n.forEach(h),this.h()},h(){V(e,"class","mt-2 whitespace-pre-wrap text-left")},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&4&&ue(l,t[2])},d(t){t&&h(e)}}}function Qs(i){let e,l,t,n,o,r,a,s,f=i[0].query.type==="concept"&&Cl(i);n=new lt({props:{type:i[1],$$slots:{default:[Ws]},$$scope:{ctx:i}}});let u=(i[0].query.type==="semantic"||i[0].query.type==="concept")&&Nl(i),d=i[2]&&Ml(i);return{c(){f&&f.c(),e=j(),l=z("div"),t=z("div"),R(n.$$.fragment),o=j(),u&&u.c(),r=j(),d&&d.c(),a=ne(),this.h()},l(c){f&&f.l(c),e=U(c),l=A(c,"DIV",{class:!0});var m=D(l);t=A(m,"DIV",{class:!0});var _=D(t);L(n.$$.fragment,_),_.forEach(h),o=U(m),u&&u.l(m),m.forEach(h),r=U(c),d&&d.l(c),a=ne(),this.h()},h(){V(t,"class","whitespace-nowrap"),V(l,"class","flex items-center justify-items-center")},m(c,m){f&&f.m(c,m),C(c,e,m),C(c,l,m),v(l,t),q(n,t,null),v(l,o),u&&u.m(l,null),C(c,r,m),d&&d.m(c,m),C(c,a,m),s=!0},p(c,[m]){c[0].query.type==="concept"?f?f.p(c,m):(f=Cl(c),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null);const _={};m&2&&(_.type=c[1]),m&9&&(_.$$scope={dirty:m,ctx:c}),n.$set(_),c[0].query.type==="semantic"||c[0].query.type==="concept"?u?(u.p(c,m),m&1&&g(u,1)):(u=Nl(c),u.c(),g(u,1),u.m(l,null)):u&&(G(),b(u,1,1,()=>{u=null}),X()),c[2]?d?d.p(c,m):(d=Ml(c),d.c(),d.m(a.parentNode,a)):d&&(d.d(1),d=null)},i(c){s||(g(n.$$.fragment,c),g(u),s=!0)},o(c){b(n.$$.fragment,c),b(u),s=!1},d(c){f&&f.d(c),c&&h(e),c&&h(l),O(n),u&&u.d(),c&&h(r),d&&d.d(c),c&&h(a)}}}function Js(i,e,l){let t,{search:n}=e,{tagType:o="outline"}=e;return i.$$set=r=>{"search"in r&&l(0,n=r.search),"tagType"in r&&l(1,o=r.tagType)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=n.query.type==="concept"?"":n.query.search)},[n,o,t]}class zl extends ge{constructor(e){super(),pe(this,e,Js,Qs,_e,{search:0,tagType:1})}}function Ks(i){let e;return{c(){e=W(i[2])},l(l){e=Q(l,i[2])},m(l,t){C(l,e,t)},p(l,t){t&4&&ue(e,l[2])},d(l){l&&h(e)}}}function Zs(i){let e,l,t,n,o,r;return l=new zt({props:{title:"query",interactive:!0,type:i[1],$$slots:{default:[Ks]},$$scope:{ctx:i}}}),l.$on("remove",i[7]),{c(){e=z("button"),R(l.$$.fragment),this.h()},l(a){e=A(a,"BUTTON",{class:!0});var s=D(e);L(l.$$.fragment,s),s.forEach(h),this.h()},h(){V(e,"class","search-pill items-center text-left")},m(a,s){C(a,e,s),q(l,e,null),n=!0,o||(r=[Me(t=ze.call(null,e,{component:zl,props:{search:i[0],tagType:i[1]}})),Ve(e,"click",i[6])],o=!0)},p(a,[s]){const f={};s&2&&(f.type=a[1]),s&516&&(f.$$scope={dirty:s,ctx:a}),l.$set(f),t&&qe(t.update)&&s&3&&t.update.call(null,{component:zl,props:{search:a[0],tagType:a[1]}})},i(a){n||(g(l.$$.fragment,a),n=!0)},o(a){b(l.$$.fragment,a),n=!1},d(a){a&&h(e),O(l),o=!1,Je(r)}}}function Gs(i,e,l){let t,n,o,{search:r}=e;const a={keyword:"outline",semantic:"teal",concept:"green"},s=Re(),f=We();he(i,f,c=>l(3,o=c));function u(c){je.call(this,i,c)}const d=()=>{var c;return s.removeSearch(r,((c=o.selectRowsSchema)==null?void 0:c.data)||null)};return i.$$set=c=>{"search"in c&&l(0,r=c.search)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=r.query.type==="concept"?r.query.concept_name:r.query.search),i.$$.dirty&1&&l(1,n=r.query.type!=null?a[r.query.type]:"outline")},[r,n,t,o,s,f,u,d]}class Si extends ge{constructor(e){super(),pe(this,e,Gs,Zs,_e,{search:0})}}function Al(i,e,l){const t=i.slice();return t[25]=e[l],t}function Fl(i,e,l){const t=i.slice();return t[28]=e[l],t}function Bl(i,e,l){const t=i.slice();return t[31]=e[l],t}function Xs(i){let e,l,t,n=i[13],o=[];for(let s=0;s<n.length;s+=1)o[s]=ql(Fl(i,n,s));const r=s=>b(o[s],1,1,()=>{o[s]=null});let a=i[8]!=null&&i[8].length>0&&Ol(i);return{c(){e=z("div");for(let s=0;s<o.length;s+=1)o[s].c();l=j(),a&&a.c(),this.h()},l(s){e=A(s,"DIV",{class:!0});var f=D(e);for(let u=0;u<o.length;u+=1)o[u].l(f);l=U(f),a&&a.l(f),f.forEach(h),this.h()},h(){V(e,"class","flex w-full flex-row gap-x-4")},m(s,f){C(s,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);v(e,l),a&&a.m(e,null),t=!0},p(s,f){if(f[0]&57352){n=s[13];let u;for(u=0;u<n.length;u+=1){const d=Fl(s,n,u);o[u]?(o[u].p(d,f),g(o[u],1)):(o[u]=ql(d),o[u].c(),g(o[u],1),o[u].m(e,l))}for(G(),u=n.length;u<o.length;u+=1)r(u);X()}s[8]!=null&&s[8].length>0?a?(a.p(s,f),f[0]&256&&g(a,1)):(a=Ol(s),a.c(),g(a,1),a.m(e,null)):a&&(G(),b(a,1,1,()=>{a=null}),X())},i(s){if(!t){for(let f=0;f<n.length;f+=1)g(o[f]);g(a),t=!0}},o(s){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)b(o[f]);b(a),t=!1},d(s){s&&h(e),Fe(o,s),a&&a.d()}}}function Pl(i){let e,l,t=i[14][i[28]]+"",n,o,r,a,s,f=i[3][i[28]],u=[];for(let c=0;c<f.length;c+=1)u[c]=Rl(Bl(i,f,c));const d=c=>b(u[c],1,1,()=>{u[c]=null});return{c(){e=z("div"),l=z("div"),n=W(t),o=j(),r=z("div");for(let c=0;c<u.length;c+=1)u[c].c();a=j(),this.h()},l(c){e=A(c,"DIV",{class:!0});var m=D(e);l=A(m,"DIV",{class:!0});var _=D(l);n=Q(_,t),_.forEach(h),o=U(m),r=A(m,"DIV",{class:!0});var p=D(r);for(let k=0;k<u.length;k+=1)u[k].l(p);p.forEach(h),a=U(m),m.forEach(h),this.h()},h(){V(l,"class","text-xs font-light"),V(r,"class","flex flex-row gap-x-1"),V(e,"class","filter-group items-center rounded bg-slate-50 px-2 py-1 shadow-sm svelte-fyw6pu")},m(c,m){C(c,e,m),v(e,l),v(l,n),v(e,o),v(e,r);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(r,null);v(e,a),s=!0},p(c,m){if(m[0]&40968){f=c[3][c[28]];let _;for(_=0;_<f.length;_+=1){const p=Bl(c,f,_);u[_]?(u[_].p(p,m),g(u[_],1)):(u[_]=Rl(p),u[_].c(),g(u[_],1),u[_].m(r,null))}for(G(),_=f.length;_<u.length;_+=1)d(_);X()}},i(c){if(!s){for(let m=0;m<f.length;m+=1)g(u[m]);s=!0}},o(c){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)b(u[m]);s=!1},d(c){c&&h(e),Fe(u,c)}}}function Rl(i){let e,l;function t(){return i[22](i[31])}return e=new Si({props:{search:i[31]}}),e.$on("click",t),{c(){R(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){i=n;const r={};o[0]&8&&(r.search=i[31]),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){b(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function ql(i){let e,l,t=i[3][i[28]]&&Pl(i);return{c(){t&&t.c(),e=ne()},l(n){t&&t.l(n),e=ne()},m(n,o){t&&t.m(n,o),C(n,e,o),l=!0},p(n,o){n[3][n[28]]?t?(t.p(n,o),o[0]&8&&g(t,1)):(t=Pl(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),X())},i(n){l||(g(t),l=!0)},o(n){b(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Ol(i){let e,l,t,n,o,r,a=i[8],s=[];for(let u=0;u<a.length;u+=1)s[u]=Ll(Al(i,a,u));const f=u=>b(s[u],1,1,()=>{s[u]=null});return{c(){e=z("div"),l=z("div"),t=W("Filters"),n=j(),o=z("div");for(let u=0;u<s.length;u+=1)s[u].c();this.h()},l(u){e=A(u,"DIV",{class:!0});var d=D(e);l=A(d,"DIV",{class:!0});var c=D(l);t=Q(c,"Filters"),c.forEach(h),n=U(d),o=A(d,"DIV",{class:!0});var m=D(o);for(let _=0;_<s.length;_+=1)s[_].l(m);m.forEach(h),d.forEach(h),this.h()},h(){V(l,"class","text-xs font-light"),V(o,"class","flex flex-row gap-x-1"),V(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-fyw6pu")},m(u,d){C(u,e,d),v(e,l),v(l,t),v(e,n),v(e,o);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(o,null);r=!0},p(u,d){if(d[0]&256){a=u[8];let c;for(c=0;c<a.length;c+=1){const m=Al(u,a,c);s[c]?(s[c].p(m,d),g(s[c],1)):(s[c]=Ll(m),s[c].c(),g(s[c],1),s[c].m(o,null))}for(G(),c=a.length;c<s.length;c+=1)f(c);X()}},i(u){if(!r){for(let d=0;d<a.length;d+=1)g(s[d]);r=!0}},o(u){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)b(s[d]);r=!1},d(u){u&&h(e),Fe(s,u)}}}function Ll(i){let e,l;return e=new Gt({props:{filter:i[25]}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&256&&(o.filter=t[25]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Hl(i){let e=De(i[0])+"",l,t,n=De(i[1].dataset_manifest.num_items)+"",o,r;return{c(){l=W(e),t=W(" of "),o=W(n),r=W(" rows")},l(a){l=Q(a,e),t=Q(a," of "),o=Q(a,n),r=Q(a," rows")},m(a,s){C(a,l,s),C(a,t,s),C(a,o,s),C(a,r,s)},p(a,s){s[0]&1&&e!==(e=De(a[0])+"")&&ue(l,e),s[0]&2&&n!==(n=De(a[1].dataset_manifest.num_items)+"")&&ue(o,n)},d(a){a&&h(l),a&&h(t),a&&h(o),a&&h(r)}}}function jl(i){let e,l;return e=new Ye({props:{class:"top-2",kind:"ghost",expressive:!0,icon:wr,disabled:i[4]==null,iconDescription:"Clear sort"}}),e.$on("click",i[18]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&16&&(o.disabled=t[4]==null),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ul(i){let e,l;return e=new Kt({props:{open:!0,modalHeading:"Concept",passiveModal:!0,size:"lg",$$slots:{default:[la]},$$scope:{ctx:i}}}),e.$on("close",i[23]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1024|n[1]&8&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function xs(i){let e,l;return e=new Gi({props:{concept:i[10].data}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1024&&(o.concept=t[10].data),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ea(i){let e,l=i[10].error.message+"",t;return{c(){e=z("p"),t=W(l)},l(n){e=A(n,"P",{});var o=D(e);t=Q(o,l),o.forEach(h)},m(n,o){C(n,e,o),v(e,t)},p(n,o){o[0]&1024&&l!==(l=n[10].error.message+"")&&ue(t,l)},i:Z,o:Z,d(n){n&&h(e)}}}function ta(i){let e,l;return e=new Oe({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function la(i){let e,l,t,n;const o=[ta,ea,xs],r=[];function a(s,f){var u,d,c;return(u=s[10])!=null&&u.isLoading?0:(d=s[10])!=null&&d.isError?1:(c=s[10])!=null&&c.isSuccess?2:-1}return~(e=a(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=ne()},l(s){l&&l.l(s),t=ne()},m(s,f){~e&&r[e].m(s,f),C(s,t,f),n=!0},p(s,f){let u=e;e=a(s),e===u?~e&&r[e].p(s,f):(l&&(G(),b(r[u],1,1,()=>{r[u]=null}),X()),~e?(l=r[e],l?l.p(s,f):(l=r[e]=o[e](s),l.c()),g(l,1),l.m(t.parentNode,t)):l=null)},i(s){n||(g(l),n=!0)},o(s){b(l),n=!1},d(s){~e&&r[e].d(s),s&&h(t)}}}function na(i){var N,F,T;let e,l,t,n,o,r,a,s,f,u,d,c,m,_,p,k,$=i[13].length>0&&Xs(i),S=i[0]&&i[1]&&Hl(i),w=i[6]!=null&&jl(i);u=new jr({props:{size:"sm",titleText:"Sort by",class:"w-36",selectedId:i[5],items:i[7]}}),u.$on("select",i[16]),m=new Ye({props:{class:"top-2",kind:"ghost",expressive:!0,icon:((N=i[4])==null?void 0:N.order)==null?Il:((F=i[4])==null?void 0:F.order)==="ASC"?Vt:Tt,disabled:i[4]==null,tooltipPosition:"bottom",tooltipAlignment:"end",iconDescription:((T=i[4])==null?void 0:T.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."}}),m.$on("click",i[17]);let y=i[2]&&Ul(i);return{c(){e=z("div"),l=z("div"),$&&$.c(),t=j(),n=z("div"),o=z("div"),S&&S.c(),r=j(),a=z("div"),s=z("div"),w&&w.c(),f=j(),R(u.$$.fragment),d=j(),c=z("div"),R(m.$$.fragment),_=j(),y&&y.c(),p=ne(),this.h()},l(E){e=A(E,"DIV",{class:!0});var B=D(e);l=A(B,"DIV",{class:!0});var I=D(l);$&&$.l(I),t=U(I),n=A(I,"DIV",{class:!0});var M=D(n);o=A(M,"DIV",{class:!0});var P=D(o);S&&S.l(P),P.forEach(h),r=U(M),a=A(M,"DIV",{class:!0});var K=D(a);s=A(K,"DIV",{class:!0});var ee=D(s);w&&w.l(ee),ee.forEach(h),f=U(K),L(u.$$.fragment,K),d=U(K),c=A(K,"DIV",{class:!0});var J=D(c);L(m.$$.fragment,J),J.forEach(h),K.forEach(h),M.forEach(h),I.forEach(h),B.forEach(h),_=U(E),y&&y.l(E),p=ne(),this.h()},h(){V(o,"class","self-end py-1"),V(s,"class","ml-1 w-8"),V(c,"class","ml-1"),V(a,"class","sort-container flex flex-row items-center"),V(n,"class","flex w-full flex-row items-end justify-between"),V(l,"class","flex w-full flex-col"),V(e,"class","mx-5 my-2 flex items-center justify-between")},m(E,B){C(E,e,B),v(e,l),$&&$.m(l,null),v(l,t),v(l,n),v(n,o),S&&S.m(o,null),v(n,r),v(n,a),v(a,s),w&&w.m(s,null),v(a,f),q(u,a,null),v(a,d),v(a,c),q(m,c,null),C(E,_,B),y&&y.m(E,B),C(E,p,B),k=!0},p(E,B){var P,K,ee;E[13].length>0&&$.p(E,B),E[0]&&E[1]?S?S.p(E,B):(S=Hl(E),S.c(),S.m(o,null)):S&&(S.d(1),S=null),E[6]!=null?w?(w.p(E,B),B[0]&64&&g(w,1)):(w=jl(E),w.c(),g(w,1),w.m(s,null)):w&&(G(),b(w,1,1,()=>{w=null}),X());const I={};B[0]&32&&(I.selectedId=E[5]),B[0]&128&&(I.items=E[7]),u.$set(I);const M={};B[0]&16&&(M.icon=((P=E[4])==null?void 0:P.order)==null?Il:((K=E[4])==null?void 0:K.order)==="ASC"?Vt:Tt),B[0]&16&&(M.disabled=E[4]==null),B[0]&16&&(M.iconDescription=((ee=E[4])==null?void 0:ee.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."),m.$set(M),E[2]?y?(y.p(E,B),B[0]&4&&g(y,1)):(y=Ul(E),y.c(),g(y,1),y.m(p.parentNode,p)):y&&(G(),b(y,1,1,()=>{y=null}),X())},i(E){k||(g($),g(w),g(u.$$.fragment,E),g(m.$$.fragment,E),g(y),k=!0)},o(E){b($),b(w),b(u.$$.fragment,E),b(m.$$.fragment,E),b(y),k=!1},d(E){E&&h(e),$&&$.d(),S&&S.d(),w&&w.d(),O(u),O(m),E&&h(_),y&&y.d(E),E&&h(p)}}}function ia(i,e,l){let t,n,o,r,a,s,f,u,d,c,m=Z,_=()=>(m(),m=Be(t,ee=>l(10,c=ee)),t);i.$$.on_destroy.push(()=>m());let{totalNumRows:p}=e,{manifest:k}=e,$=Re();he(i,$,ee=>l(21,d=ee));let S=We();he(i,S,ee=>l(20,u=ee));let w=null;const y=["keyword","semantic","concept"],N={keyword:"Keyword",semantic:"Semantic",concept:"Concepts"};let F={};function T(ee){if(ee.query.type==="concept"){const J=ee.query;l(2,w={namespace:J.concept_namespace,name:J.concept_name})}}let E={};const B=ee=>{if(ee.detail.selectedId==null){$.setSortBy(null);return}$.setSortBy(Ot(ee.detail.selectedId))},I=()=>{r!=null&&$.setSortBy(r.path),$.setSortOrder((r==null?void 0:r.order)==="ASC"?"DESC":"ASC")},M=()=>{$.clearSorts()},P=ee=>T(ee),K=()=>l(2,w=null);return i.$$set=ee=>{"totalNumRows"in ee&&l(0,p=ee.totalNumRows),"manifest"in ee&&l(1,k=ee.manifest)},i.$$.update=()=>{var ee,J,le,x;if(i.$$.dirty[0]&4&&_(l(9,t=w?Ci(w.namespace,w.name):void 0)),i.$$.dirty[0]&2097152&&l(19,n=Yt(d)),i.$$.dirty[0]&2097152&&l(8,o=d.queryOptions.filters),i.$$.dirty[0]&524296){l(3,F={});for(const te of n)te.query.type&&(te.query.type in F||l(3,F[te.query.type]=[],F),F[te.query.type].push(te))}if(i.$$.dirty[0]&1048576&&l(4,r=Zi(u)),i.$$.dirty[0]&1048576)for(const te of((J=(ee=u.selectRowsSchema)==null?void 0:ee.data)==null?void 0:J.search_results)||[])E[Ie(te.result_path)]=te;i.$$.dirty[0]&16&&l(5,a=r!=null&&r.path?Ie(r.path):null),i.$$.dirty[0]&2097152&&l(6,s=d.queryOptions.sort_by),i.$$.dirty[0]&1048672&&l(7,f=((x=(le=u.selectRowsSchema)==null?void 0:le.data)==null?void 0:x.schema)!=null?[{id:null,text:"None",disabled:s==null&&a!=null},...Lt(u.selectRowsSchema.data.schema).map(te=>{const we=Ie(te.path);return{id:we,text:we}})]:[])},[p,k,w,F,r,a,s,f,o,t,c,$,S,y,N,T,B,I,M,n,u,d,P,K]}class ra extends ge{constructor(e){super(),pe(this,e,ia,na,_e,{totalNumRows:0,manifest:1},null,[-1,-1])}}function Yl(i,e,l){const t=i.slice();t[16]=e[l],t[19]=l;const n=t[2].length>1?`[${t[19]}]`:"";return t[17]=n,t}function Wl(i){let e,l,t,n=i[0].join(".")+i[17]+"",o,r,a,s,f,u;return s=new Xi({props:{text:De(i[16]),row:i[1],spanPaths:i[3],valuePaths:i[5],datasetViewStore:i[6],datasetStore:i[4]}}),{c(){e=z("div"),l=z("div"),t=z("div"),o=W(n),r=j(),a=z("div"),R(s.$$.fragment),f=j(),this.h()},l(d){e=A(d,"DIV",{class:!0});var c=D(e);l=A(c,"DIV",{class:!0});var m=D(l);t=A(m,"DIV",{class:!0});var _=D(t);o=Q(_,n),_.forEach(h),r=U(m),a=A(m,"DIV",{class:!0});var p=D(a);L(s.$$.fragment,p),p.forEach(h),m.forEach(h),f=U(c),c.forEach(h),this.h()},h(){V(t,"class","sticky top-0 z-10 w-full self-start border-t border-neutral-200 bg-neutral-100 px-2 py-2 pb-2 font-mono font-medium text-neutral-500"),V(a,"class","font-normal"),V(l,"class","flex w-full flex-col"),V(e,"class","flex flex-row")},m(d,c){C(d,e,c),v(e,l),v(l,t),v(t,o),v(l,r),v(l,a),q(s,a,null),v(e,f),u=!0},p(d,c){(!u||c&5)&&n!==(n=d[0].join(".")+d[17]+"")&&ue(o,n);const m={};c&4&&(m.text=De(d[16])),c&2&&(m.row=d[1]),c&8&&(m.spanPaths=d[3]),c&16&&(m.datasetStore=d[4]),s.$set(m)},i(d){u||(g(s.$$.fragment,d),u=!0)},o(d){b(s.$$.fragment,d),u=!1},d(d){d&&h(e),O(s)}}}function sa(i){let e,l,t=i[2],n=[];for(let r=0;r<t.length;r+=1)n[r]=Wl(Yl(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);C(r,e,a),l=!0},p(r,[a]){if(a&127){t=r[2];let s;for(s=0;s<t.length;s+=1){const f=Yl(r,t,s);n[s]?(n[s].p(f,a),g(n[s],1)):(n[s]=Wl(f),n[s].c(),g(n[s],1),n[s].m(e.parentNode,e))}for(G(),s=t.length;s<n.length;s+=1)o(s);X()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)g(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)b(n[a]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function aa(i,e,l){let t,n,o,r,a,s,f,u,d,{path:c}=e,{row:m}=e,{field:_}=e,p=[];const k=Re(),$=We();he(i,$,w=>l(4,d=w));const S=d.visibleFields||[];return i.$$set=w=>{"path"in w&&l(0,c=w.path),"row"in w&&l(1,m=w.row),"field"in w&&l(8,_=w.field)},i.$$.update=()=>{if(i.$$.dirty&256&&l(14,t=wt(_)),i.$$.dirty&16384&&l(11,n=t.filter(w=>Ni(w.signal))),i.$$.dirty&16384&&l(10,o=t.filter(w=>{var y;return((y=w.signal)==null?void 0:y.signal_name)==="concept_labels"})),i.$$.dirty&16384&&l(9,r=t.filter(w=>{var y;return((y=w.signal)==null?void 0:y.signal_name)==="semantic_similarity"})),i.$$.dirty&16384&&l(12,a=t.filter(w=>{var y;return((y=w.signal)==null?void 0:y.signal_name)==="substring_search"})),i.$$.dirty&16384&&l(13,s=t.filter(w=>w.dtype==="string_span")),i.$$.dirty&8192&&l(3,f=s.map(w=>w.path)),i.$$.dirty&15872)for(const w of s){const N=wt(w).filter(E=>E.dtype!="string_span").filter(E=>S==null?void 0:S.some(B=>Qe(B.path,E.path))).filter(E=>E.dtype!=null&&E.dtype!="embedding"),F=w.path,T=a.find(E=>vt(w.path,E.path));if(T!=null){const E=T.signal;p.push({path:w.path,spanPath:F,type:"keyword",name:E.query,dtype:w.dtype,signal:E})}for(const E of N){const B=n.find(P=>vt(E.path,P.path)),I=o.find(P=>vt(E.path,P.path)),M=r.find(P=>vt(E.path,P.path));if(B!=null){const P=B.signal;p.push({path:E.path,spanPath:F,type:"concept_score",name:`${P.namespace}/${P.concept_name}`,dtype:E.dtype,signal:P})}else if(I!=null){const P=I.signal;p.push({path:E.path,spanPath:F,type:"label",name:`${P.namespace}/${P.concept_name} label`,dtype:E.dtype,signal:P})}else if(M!=null){const P=M.signal;p.push({path:E.path,spanPath:F,type:"semantic_similarity",name:`similarity: ${P.query}`,dtype:E.dtype,signal:P})}else p.push({path:E.path,spanPath:F,type:"metadata",name:E.path[E.path.length-1],dtype:E.dtype})}}i.$$.dirty&3&&l(2,u=Mi(m,c).map(w=>Ke.value(w)).filter(kr))},[c,m,u,f,d,p,k,$,_,r,o,n,a,s,t]}class oa extends ge{constructor(e){super(),pe(this,e,aa,sa,_e,{path:0,row:1,field:8})}}function fa(i){let e,l,t,n,o;const r=[i[3],{type:i[0]?"green":"blue"},{icon:i[2]}];let a={};for(let s=0;s<r.length;s+=1)a=ce(a,r[s]);return l=new lt({props:a}),{c(){e=z("div"),R(l.$$.fragment),this.h()},l(s){e=A(s,"DIV",{class:!0});var f=D(e);L(l.$$.fragment,f),f.forEach(h),this.h()},h(){V(e,"class","signal-badge")},m(s,f){C(s,e,f),q(l,e,null),t=!0,n||(o=Me(ze.call(null,e,{text:i[1]})),n=!0)},p(s,[f]){const u=f&13?Ce(r,[f&8&&di(s[3]),f&1&&{type:s[0]?"green":"blue"},f&4&&{icon:s[2]}]):{};l.$set(u)},i(s){t||(g(l.$$.fragment,s),t=!0)},o(s){b(l.$$.fragment,s),t=!1},d(s){s&&h(e),O(l),n=!1,o()}}}function ua(i,e,l){const t=["isPreview"];let n=ke(e,t),{isPreview:o=!1}=e;const r=o?"Signal is in preview mode and has not been computed for the whole dataset.":"This field was generated by a signal.",a=o?Bs:vs;return i.$$set=s=>{e=ce(ce({},e),ye(s)),l(3,n=ke(e,t)),"isPreview"in s&&l(0,o=s.isPreview)},[o,r,a,n]}class Xt extends ge{constructor(e){super(),pe(this,e,ua,fa,_e,{isPreview:0})}}function Ql(i,e,l){const t=i.slice();return t[0]=e[l],t}function Jl(i){let e,l,t=[],n=new Map,o,r=i[1];const a=s=>Ie(s[0].path);for(let s=0;s<r.length;s+=1){let f=Ql(i,r,s),u=a(f);n.set(u,t[s]=Kl(u,f))}return{c(){e=z("div"),l=z("table");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=A(s,"DIV",{class:!0});var f=D(e);l=A(f,"TABLE",{class:!0});var u=D(l);for(let d=0;d<t.length;d+=1)t[d].l(u);u.forEach(h),f.forEach(h),this.h()},h(){V(l,"class","table w-full table-fixed border-collapse px-2 pt-1"),V(e,"class","border-t border-neutral-200 px-2 py-4")},m(s,f){C(s,e,f),v(e,l);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(l,null);o=!0},p(s,f){f&2&&(r=s[1],G(),t=gt(t,f,a,1,s,r,n,l,pt,Kl,null,Ql),X())},i(s){if(!o){for(let f=0;f<r.length;f+=1)g(t[f]);o=!0}},o(s){for(let f=0;f<t.length;f+=1)b(t[f]);o=!1},d(s){s&&h(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function ca(i){let e,l;return e=new Xt({props:{isPreview:i[0].isPreviewSignal}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&2&&(o.isPreview=t[0].isPreviewSignal),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function da(i){var t;let e,l;return e=new Ut({props:{hideEmbeddingName:!0,embedding:(t=i[0].field.signal)==null?void 0:t.signal_name}}),{c(){R(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){var a;const r={};o&2&&(r.embedding=(a=n[0].field.signal)==null?void 0:a.signal_name),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){b(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Kl(i,e){let l,t,n,o=e[0].fieldName+"",r,a,s,f,u,d,c,m,_,p=e[0].formattedValue+"",k,$,S,w;const y=[da,ca],N=[];function F(T,E){return T[0].isEmbeddingSignal?0:T[0].isSignal?1:-1}return~(u=F(e))&&(d=N[u]=y[u](e)),{key:i,first:null,c(){l=z("tr"),t=z("td"),n=z("span"),r=W(o),s=j(),f=z("td"),d&&d.c(),c=j(),m=z("td"),_=z("div"),k=W(p),S=j(),this.h()},l(T){l=A(T,"TR",{class:!0});var E=D(l);t=A(E,"TD",{class:!0});var B=D(t);n=A(B,"SPAN",{title:!0});var I=D(n);r=Q(I,o),I.forEach(h),B.forEach(h),s=U(E),f=A(E,"TD",{class:!0});var M=D(f);d&&d.l(M),M.forEach(h),c=U(E),m=A(E,"TD",{class:!0});var P=D(m);_=A(P,"DIV",{title:!0,class:!0});var K=D(_);k=Q(K,p),K.forEach(h),P.forEach(h),S=U(E),E.forEach(h),this.h()},h(){V(n,"title",a=e[0].fieldName),Ue(n,"padding-left",`${e[0].indentLevel*12}px`),V(t,"class","truncate p-2 font-mono text-xs font-medium text-neutral-500"),V(f,"class","w-10"),V(_,"title",$=`${e[0].value}`),V(_,"class","truncate pr-2 text-xs"),se(_,"italic",e[0].formattedValue===null),V(m,"class","p-2"),V(l,"class","border-gray-300"),this.first=l},m(T,E){C(T,l,E),v(l,t),v(t,n),v(n,r),v(l,s),v(l,f),~u&&N[u].m(f,null),v(l,c),v(l,m),v(m,_),v(_,k),v(l,S),w=!0},p(T,E){e=T,(!w||E&2)&&o!==(o=e[0].fieldName+"")&&ue(r,o),(!w||E&2&&a!==(a=e[0].fieldName))&&V(n,"title",a),E&2&&Ue(n,"padding-left",`${e[0].indentLevel*12}px`);let B=u;u=F(e),u===B?~u&&N[u].p(e,E):(d&&(G(),b(N[B],1,1,()=>{N[B]=null}),X()),~u?(d=N[u],d?d.p(e,E):(d=N[u]=y[u](e),d.c()),g(d,1),d.m(f,null)):d=null),(!w||E&2)&&p!==(p=e[0].formattedValue+"")&&ue(k,p),(!w||E&2&&$!==($=`${e[0].value}`))&&V(_,"title",$),(!w||E&2)&&se(_,"italic",e[0].formattedValue===null)},i(T){w||(g(d),w=!0)},o(T){b(d),w=!1},d(T){T&&h(l),~u&&N[u].d()}}}function ma(i){let e,l,t=i[1].length>0&&Jl(i);return{c(){t&&t.c(),e=ne()},l(n){t&&t.l(n),e=ne()},m(n,o){t&&t.m(n,o),C(n,e,o),l=!0},p(n,[o]){n[1].length>0?t?(t.p(n,o),o&2&&g(t,1)):(t=Jl(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(G(),b(t,1,1,()=>{t=null}),X())},i(n){l||(g(t),l=!0)},o(n){b(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function ha(i,e,l){let t,n,o,{row:r}=e,{visibleFields:a}=e;const s=We();he(i,s,d=>l(5,n=d));const f=Zt();he(i,f,d=>l(6,o=d));function u(d){const c=zi(d).filter(_=>xi(_,a)),m=c.filter(_=>{var p;return((p=Ke.field(_))==null?void 0:p.dtype)==="string_span"}).map(_=>Ke.path(_));return c.filter(_=>!m.some(p=>vt(Ke.path(_),p))).map(_=>{var N,F;const p=Ke.field(_),k=Ke.path(_);let $=Ke.value(_);if(p.dtype==="string_span")return null;const S=((N=o.data)==null?void 0:N.some(T=>{var E;return T.name===((E=p.signal)==null?void 0:E.signal_name)}))||!1,w=dt(p);let y;return S||w&&p.dtype==null||p.dtype==="embedding"||p.repeated_field!=null?y="":$==null?y=null:y=De($),{indentLevel:k.length-1,fieldName:k[k.length-1],field:p,path:k,isSignal:w,isPreviewSignal:Ct(((F=n.selectRowsSchema)==null?void 0:F.data)||null,k),isEmbeddingSignal:S,value:$,formattedValue:y}}).filter(_=>_!=null)}return i.$$set=d=>{"row"in d&&l(0,r=d.row),"visibleFields"in d&&l(4,a=d.visibleFields)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=u(r))},[r,t,s,f,a]}class _a extends ge{constructor(e){super(),pe(this,e,ha,ma,_e,{row:0,visibleFields:4})}}function Zl(i,e,l){const t=i.slice();return t[5]=e[l],t[7]=l,t}function Gl(i){let e,l=[],t=new Map,n,o,r=i[1];const a=s=>Ie(s[5].path);for(let s=0;s<r.length;s+=1){let f=Zl(i,r,s),u=a(f);t.set(u,l[s]=Xl(u,f))}return{c(){e=z("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=A(s,"DIV",{class:!0});var f=D(e);for(let u=0;u<l.length;u+=1)l[u].l(f);f.forEach(h),this.h()},h(){V(e,"class","w-2/3 overflow-hidden"),kt(()=>i[4].call(e))},m(s,f){C(s,e,f);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);n=Vi(e,i[4].bind(e)),o=!0},p(s,f){f&3&&(r=s[1],G(),l=gt(l,f,a,1,s,r,t,e,pt,Xl,null,Zl),X())},i(s){if(!o){for(let f=0;f<r.length;f+=1)g(l[f]);o=!0}},o(s){for(let f=0;f<l.length;f+=1)b(l[f]);o=!1},d(s){s&&h(e);for(let f=0;f<l.length;f+=1)l[f].d();n()}}}function Xl(i,e){let l,t,n,o;return t=new oa({props:{row:e[0],path:e[5].path,field:e[5]}}),{key:i,first:null,c(){l=z("div"),R(t.$$.fragment),n=j(),this.h()},l(r){l=A(r,"DIV",{class:!0});var a=D(l);L(t.$$.fragment,a),n=U(a),a.forEach(h),this.h()},h(){V(l,"class","border-gray-100"),se(l,"border-b",e[7]<e[1].length-1),this.first=l},m(r,a){C(r,l,a),q(t,l,null),v(l,n),o=!0},p(r,a){e=r;const s={};a&1&&(s.row=e[0]),a&2&&(s.path=e[5].path),a&2&&(s.field=e[5]),t.$set(s),(!o||a&2)&&se(l,"border-b",e[7]<e[1].length-1)},i(r){o||(g(t.$$.fragment,r),o=!0)},o(r){b(t.$$.fragment,r),o=!1},d(r){r&&h(l),O(t)}}}function ga(i){let e,l,t,n,o,r,a,s,f,u=i[1].length>0&&Gl(i);return a=new _a({props:{row:i[0],visibleFields:i[2]}}),{c(){e=z("div"),l=z("div"),u&&u.c(),t=j(),n=z("div"),o=z("div"),r=z("div"),R(a.$$.fragment),this.h()},l(d){e=A(d,"DIV",{class:!0});var c=D(e);l=A(c,"DIV",{class:!0});var m=D(l);u&&u.l(m),t=U(m),n=A(m,"DIV",{class:!0});var _=D(n);o=A(_,"DIV",{class:!0});var p=D(o);r=A(p,"DIV",{style:!0,class:!0});var k=D(r);L(a.$$.fragment,k),k.forEach(h),p.forEach(h),_.forEach(h),m.forEach(h),c.forEach(h),this.h()},h(){V(r,"style",s=`max-height: ${Math.max(xl,i[3])}px`),V(r,"class","overflow-y-auto"),V(o,"class","sticky top-0 self-start"),V(n,"class","flex h-full w-1/3 bg-neutral-100"),V(l,"class","flex h-full w-full flex-row"),V(e,"class","mx-5 mb-10 rounded border-x border-b border-neutral-200 shadow-md")},m(d,c){C(d,e,c),v(e,l),u&&u.m(l,null),v(l,t),v(l,n),v(n,o),v(o,r),q(a,r,null),f=!0},p(d,[c]){d[1].length>0?u?(u.p(d,c),c&2&&g(u,1)):(u=Gl(d),u.c(),g(u,1),u.m(l,t)):u&&(G(),b(u,1,1,()=>{u=null}),X());const m={};c&1&&(m.row=d[0]),c&4&&(m.visibleFields=d[2]),a.$set(m),(!f||c&8&&s!==(s=`max-height: ${Math.max(xl,d[3])}px`))&&V(r,"style",s)},i(d){f||(g(u),g(a.$$.fragment,d),f=!0)},o(d){b(u),b(a.$$.fragment,d),f=!1},d(d){d&&h(e),u&&u.d(),O(a)}}}const xl=320;function pa(i,e,l){let{row:t}=e,{mediaFields:n}=e,{visibleFields:o}=e,r=0;function a(){r=this.clientHeight,l(3,r)}return i.$$set=s=>{"row"in s&&l(0,t=s.row),"mediaFields"in s&&l(1,n=s.mediaFields),"visibleFields"in s&&l(2,o=s.visibleFields)},[t,n,o,r,a]}class ba extends ge{constructor(e){super(),pe(this,e,pa,ga,_e,{row:0,mediaFields:1,visibleFields:2})}}function en(i,e,l){const t=i.slice();return t[21]=e[l],t}function va(i){let e,l;return{c(){e=z("div"),l=W("No results."),this.h()},l(t){e=A(t,"DIV",{class:!0});var n=D(e);l=Q(n,"No results."),n.forEach(h),this.h()},h(){V(e,"class","mx-4 mt-8 w-full text-gray-600")},m(t,n){C(t,e,n),v(e,l)},p:Z,i:Z,o:Z,d(t){t&&h(e)}}}function wa(i){let e,l;return{c(){e=z("div"),l=W("Select fields to display"),this.h()},l(t){e=A(t,"DIV",{class:!0});var n=D(e);l=Q(n,"Select fields to display"),n.forEach(h),this.h()},h(){V(e,"class","mt-12 w-full text-center text-gray-600")},m(t,n){C(t,e,n),v(e,l)},p:Z,i:Z,o:Z,d(t){t&&h(e)}}}function ka(i){let e,l;return e=new Oe({props:{paragraph:!0,lines:3}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Sa(i){var t,n;let e,l;return e=new Qt({props:{lowContrast:!0,title:"Could not fetch schema:",subtitle:((t=i[2].error.body)==null?void 0:t.detail)||((n=i[2])==null?void 0:n.error.message)}}),{c(){R(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,r){q(e,o,r),l=!0},p(o,r){var s,f;const a={};r&4&&(a.subtitle=((s=o[2].error.body)==null?void 0:s.detail)||((f=o[2])==null?void 0:f.error.message)),e.$set(a)},i(o){l||(g(e.$$.fragment,o),l=!0)},o(o){b(e.$$.fragment,o),l=!1},d(o){O(e,o)}}}function Ea(i){var t;let e,l;return e=new Qt({props:{lowContrast:!0,title:"Could not fetch rows:",subtitle:((t=i[3].error.body)==null?void 0:t.detail)||i[3].error.message}}),{c(){R(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){var a;const r={};o&8&&(r.subtitle=((a=n[3].error.body)==null?void 0:a.detail)||n[3].error.message),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){b(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function tn(i){let e,l=[],t=new Map,n,o,r=i[6];const a=f=>Ke.value(f[21][Ht]);for(let f=0;f<r.length;f+=1){let u=en(i,r,f),d=a(u);t.set(d,l[f]=ln(d,u))}let s=i[6].length>0&&nn(i);return{c(){e=z("div");for(let f=0;f<l.length;f+=1)l[f].c();n=j(),s&&s.c(),this.h()},l(f){e=A(f,"DIV",{class:!0});var u=D(e);for(let d=0;d<l.length;d+=1)l[d].l(u);n=U(u),s&&s.l(u),u.forEach(h),this.h()},h(){V(e,"class","flex h-full w-full flex-col overflow-y-scroll")},m(f,u){C(f,e,u);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(e,null);v(e,n),s&&s.m(e,null),i[19](e),o=!0},p(f,u){u&98&&(r=f[6],G(),l=gt(l,u,a,1,f,r,t,e,pt,ln,n,en),X()),f[6].length>0?s?(s.p(f,u),u&64&&g(s,1)):(s=nn(f),s.c(),g(s,1),s.m(e,null)):s&&(G(),b(s,1,1,()=>{s=null}),X())},i(f){if(!o){for(let u=0;u<r.length;u+=1)g(l[u]);g(s),o=!0}},o(f){for(let u=0;u<l.length;u+=1)b(l[u]);b(s),o=!1},d(f){f&&h(e);for(let u=0;u<l.length;u+=1)l[u].d();s&&s.d(),i[19](null)}}}function ln(i,e){let l,t,n;return t=new ba({props:{visibleFields:e[1],row:e[21],mediaFields:e[5]}}),{key:i,first:null,c(){l=ne(),R(t.$$.fragment),this.h()},l(o){l=ne(),L(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){C(o,l,r),q(t,o,r),n=!0},p(o,r){e=o;const a={};r&2&&(a.visibleFields=e[1]),r&64&&(a.row=e[21]),r&32&&(a.mediaFields=e[5]),t.$set(a)},i(o){n||(g(t.$$.fragment,o),n=!0)},o(o){b(t.$$.fragment,o),n=!1},d(o){o&&h(l),O(t,o)}}}function nn(i){let e,l;return e=new qs({props:{threshold:100}}),e.$on("loadMore",i[18]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ya(i){let e,l,t,n,o,r,a;e=new ra({props:{totalNumRows:i[7],manifest:i[10].data}});const s=[Ea,Sa,ka,wa,va],f=[];function u(c,m){var _,p,k,$;return c[3].isError?0:(_=c[2])!=null&&_.isError?1:(p=c[3])!=null&&p.isLoading||c[4].isLoading||(k=c[2])!=null&&k.isLoading?2:c[1].length===0?3:($=c[3])!=null&&$.isSuccess&&c[6]&&c[6].length===0?4:-1}~(t=u(i))&&(n=f[t]=s[t](i));let d=i[6]&&i[1].length>0&&i[4].isSuccess&&i[5]!=null&&tn(i);return{c(){R(e.$$.fragment),l=j(),n&&n.c(),o=j(),d&&d.c(),r=ne()},l(c){L(e.$$.fragment,c),l=U(c),n&&n.l(c),o=U(c),d&&d.l(c),r=ne()},m(c,m){q(e,c,m),C(c,l,m),~t&&f[t].m(c,m),C(c,o,m),d&&d.m(c,m),C(c,r,m),a=!0},p(c,[m]){const _={};m&128&&(_.totalNumRows=c[7]),m&1024&&(_.manifest=c[10].data),e.$set(_);let p=t;t=u(c),t===p?~t&&f[t].p(c,m):(n&&(G(),b(f[p],1,1,()=>{f[p]=null}),X()),~t?(n=f[t],n?n.p(c,m):(n=f[t]=s[t](c),n.c()),g(n,1),n.m(o.parentNode,o)):n=null),c[6]&&c[1].length>0&&c[4].isSuccess&&c[5]!=null?d?(d.p(c,m),m&114&&g(d,1)):(d=tn(c),d.c(),g(d,1),d.m(r.parentNode,r)):d&&(G(),b(d,1,1,()=>{d=null}),X())},i(c){a||(g(e.$$.fragment,c),g(n),g(d),a=!0)},o(c){b(e.$$.fragment,c),b(n),b(d),a=!1},d(c){O(e,c),c&&h(l),~t&&f[t].d(c),c&&h(o),d&&d.d(c),c&&h(r)}}}function $a(i,e,l){let t,n,o,r,a,s,f,u,d,c,m,_=Z,p=()=>(_(),_=Be(r,P=>l(3,m=P)),r),k,$,S=Z,w=()=>(S(),S=Be(t,P=>l(4,$=P)),t),y;i.$$.on_destroy.push(()=>_()),i.$$.on_destroy.push(()=>S());let N=Re();he(i,N,P=>l(17,k=P));let F=We();he(i,F,P=>l(16,c=P));const T=Ai(k.namespace,k.datasetName);he(i,T,P=>l(10,y=P));let E=null;const B=it(E),I=()=>m==null?void 0:m.fetchNextPage();function M(P){Pe[P?"unshift":"push"](()=>{E=P,l(0,E)})}return i.$$.update=()=>{var P,K,ee,J;i.$$.dirty&131072&&w(l(9,t=mi(k.namespace,k.datasetName))),i.$$.dirty&131088&&l(15,n=$.isSuccess?er(k):void 0),i.$$.dirty&65536&&l(2,o=c.selectRowsSchema),i.$$.dirty&163844&&p(l(8,r=Fi(k.namespace,k.datasetName,n||{},o!=null&&o.isSuccess?o.data.schema:void 0))),i.$$.dirty&8&&l(7,a=(P=m.data)==null?void 0:P.pages[0].total_num_rows),i.$$.dirty&8&&l(6,s=(K=m.data)==null?void 0:K.pages.flatMap(le=>le.rows)),i.$$.dirty&65536&&l(1,f=(c.visibleFields||[]).sort((le,x)=>Ie(le.path)>Ie(x.path)?1:-1)),i.$$.dirty&6&&l(14,u=((ee=o==null?void 0:o.data)==null?void 0:ee.schema)!=null?tr((J=o==null?void 0:o.data)==null?void 0:J.schema,f):null),i.$$.dirty&81920&&l(5,d=lr(u,c.settings)),i.$$.dirty&1&&B.set(E)},ui(nr,B),[E,f,o,m,$,d,s,a,r,t,y,N,F,T,u,n,c,k,I,M]}class Da extends ge{constructor(e){super(),pe(this,e,$a,ya,_e,{})}}function rn(i,e,l){const t=i.slice();return t[43]=e[l],t}function sn(i,e,l){const t=i.slice();return t[46]=e[l],t}function Ia(i){let e,l=i[49].text+"",t;return{c(){e=z("div"),t=W(l)},l(n){e=A(n,"DIV",{});var o=D(e);t=Q(o,l),o.forEach(h)},m(n,o){C(n,e,o),v(e,t)},p(n,o){o[1]&262144&&l!==(l=n[49].text+"")&&ue(t,l)},i:Z,o:Z,d(n){n&&h(e)}}}function Va(i){let e,l,t,n,o,r,a;return l=new lt({props:{$$slots:{default:[Ca]},$$scope:{ctx:i}}}),{c(){e=z("div"),R(l.$$.fragment),t=j(),n=z("div"),o=W(`Keyword search:
                    `),r=W(i[0]),this.h()},l(s){e=A(s,"DIV",{class:!0});var f=D(e);L(l.$$.fragment,f),t=U(f),n=A(f,"DIV",{class:!0});var u=D(n);o=Q(u,`Keyword search:
                    `),r=Q(u,i[0]),u.forEach(h),f.forEach(h),this.h()},h(){V(n,"class","ml-2"),V(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(s,f){C(s,e,f),q(l,e,null),v(e,t),v(e,n),v(n,o),v(n,r),a=!0},p(s,f){const u={};f[1]&524288&&(u.$$scope={dirty:f,ctx:s}),l.$set(u),(!a||f[0]&1)&&ue(r,s[0])},i(s){a||(g(l.$$.fragment,s),a=!0)},o(s){b(l.$$.fragment,s),a=!1},d(s){s&&h(e),O(l)}}}function Ta(i){let e,l,t,n,o,r=i[0]!=""?":":"",a,s,f,u;return l=new lt({props:{$$slots:{default:[Na]},$$scope:{ctx:i}}}),{c(){e=z("div"),R(l.$$.fragment),t=j(),n=z("div"),o=W("New concept"),a=W(r),s=j(),f=W(i[0]),this.h()},l(d){e=A(d,"DIV",{class:!0});var c=D(e);L(l.$$.fragment,c),t=U(c),n=A(c,"DIV",{class:!0});var m=D(n);o=Q(m,"New concept"),a=Q(m,r),s=U(m),f=Q(m,i[0]),m.forEach(h),c.forEach(h),this.h()},h(){V(n,"class","ml-2"),V(e,"class","new-concept flex flex-row items-center justify-items-center")},m(d,c){C(d,e,c),q(l,e,null),v(e,t),v(e,n),v(n,o),v(n,a),v(n,s),v(n,f),u=!0},p(d,c){const m={};c[1]&524288&&(m.$$scope={dirty:c,ctx:d}),l.$set(m),(!u||c[0]&1)&&r!==(r=d[0]!=""?":":"")&&ue(a,r),(!u||c[0]&1)&&ue(f,d[0])},i(d){u||(g(l.$$.fragment,d),u=!0)},o(d){b(l.$$.fragment,d),u=!1},d(d){d&&h(e),O(l)}}}function Ca(i){let e,l;return e=new Is({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Na(i){let e,l;return e=new is({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ma(i){let e,l,t,n;const o=[Ta,Va,Ia],r=[];function a(s,f){return s[49].id==="new-concept"?0:s[49].id==="keyword-search"?1:2}return e=a(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},l(s){l.l(s),t=ne()},m(s,f){r[e].m(s,f),C(s,t,f),n=!0},p(s,f){let u=e;e=a(s),e===u?r[e].p(s,f):(G(),b(r[u],1,1,()=>{r[u]=null}),X(),l=r[e],l?l.p(s,f):(l=r[e]=o[e](s),l.c()),g(l,1),l.m(t.parentNode,t))},i(s){n||(g(l),n=!0)},o(s){b(l),n=!1},d(s){r[e].d(s),s&&h(t)}}}function an(i){let e,l;return e=new Nt({props:{value:Ie(i[46]),text:Ie(i[46])}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&512&&(o.value=Ie(t[46])),n[0]&512&&(o.text=Ie(t[46])),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function za(i){let e,l,t=i[9],n=[];for(let r=0;r<t.length;r+=1)n[r]=an(sn(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);C(r,e,a),l=!0},p(r,a){if(a[0]&512){t=r[9];let s;for(s=0;s<t.length;s+=1){const f=sn(r,t,s);n[s]?(n[s].p(f,a),g(n[s],1)):(n[s]=an(f),n[s].c(),g(n[s],1),n[s].m(e.parentNode,e))}for(G(),s=t.length;s<n.length;s+=1)o(s);X()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)g(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)b(n[a]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function on(i){let e,l;return e=new Jt({props:{size:"xl",class:"field-select w-28",selected:i[1]?Ie(i[1]):"",disabled:i[9].length===0,warn:i[9].length===0,$$slots:{default:[za]},$$scope:{ctx:i}}}),e.$on("change",i[21]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&2&&(o.selected=t[1]?Ie(t[1]):""),n[0]&512&&(o.disabled=t[9].length===0),n[0]&512&&(o.warn=t[9].length===0),n[0]&512|n[1]&524288&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function fn(i){let e,l;return e=new Nt({props:{value:i[43].name,text:i[43].name}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&16&&(o.value=t[43].name),n[0]&16&&(o.text=t[43].name),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Aa(i){let e,l,t=i[4].data||[],n=[];for(let r=0;r<t.length;r+=1)n[r]=fn(rn(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);C(r,e,a),l=!0},p(r,a){if(a[0]&16){t=r[4].data||[];let s;for(s=0;s<t.length;s+=1){const f=rn(r,t,s);n[s]?(n[s].p(f,a),g(n[s],1)):(n[s]=fn(f),n[s].c(),g(n[s],1),n[s].m(e.parentNode,e))}for(G(),s=t.length;s<n.length;s+=1)o(s);X()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)g(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)b(n[a]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function Fa(i){let e,l,t,n,o,r,a,s,f,u,d,c,m,_=i[9],p,k,$,S,w,y,N;t=new Ye({props:{disabled:i[3]||i[8],iconDescription:"Compute embedding index. This may be expensive.",icon:i[3]?tl:i[8]?ll:Rt}}),t.$on("click",i[35]);function F(B){i[37](B)}let T={size:"xl",items:i[5],shouldFilterItem:Ba,placeholder:i[7],$$slots:{default:[Ma,({item:B})=>({49:B}),({item:B})=>[0,B?262144:0]]},$$scope:{ctx:i}};i[0]!==void 0&&(T.value=i[0]),u=new Tr({props:T}),i[36](u),Pe.push(()=>et(u,"value",F)),u.$on("select",i[20]);let E=on(i);return S=new Jt({props:{size:"xl",selected:i[2]||"",name:i[2]||"",$$slots:{default:[Aa]},$$scope:{ctx:i}}}),S.$on("change",i[18]),{c(){e=z("div"),l=z("div"),R(t.$$.fragment),n=j(),o=z("div"),r=z("div"),a=z("div"),s=z("div"),f=z("div"),R(u.$$.fragment),c=j(),m=z("div"),E.c(),p=j(),k=z("div"),$=z("div"),R(S.$$.fragment),this.h()},l(B){e=A(B,"DIV",{class:!0});var I=D(e);l=A(I,"DIV",{class:!0});var M=D(l);L(t.$$.fragment,M),M.forEach(h),n=U(I),o=A(I,"DIV",{class:!0});var P=D(o);r=A(P,"DIV",{class:!0});var K=D(r);a=A(K,"DIV",{class:!0});var ee=D(a);s=A(ee,"DIV",{class:!0});var J=D(s);f=A(J,"DIV",{class:!0});var le=D(f);L(u.$$.fragment,le),le.forEach(h),J.forEach(h),ee.forEach(h),K.forEach(h),P.forEach(h),c=U(I),m=A(I,"DIV",{class:!0});var x=D(m);E.l(x),x.forEach(h),p=U(I),k=A(I,"DIV",{class:!0});var te=D(k);$=A(te,"DIV",{class:!0});var we=D($);L(S.$$.fragment,we),we.forEach(h),te.forEach(h),I.forEach(h),this.h()},h(){V(l,"class","compute-embedding mr-1"),se(l,"compute-embedding-indexing",i[8]),V(f,"class","flex-grow"),V(s,"class","flex w-full flex-row items-start justify-items-start"),V(a,"class","flex flex-row"),V(r,"class","w-full"),V(o,"class","search-container flex w-full flex-grow flex-row"),V(m,"class","mx-1"),V($,"class","w-28"),V(k,"class","embedding-select mr-8 flex flex-row"),V(e,"class","border-1 flex w-full flex-row items-center px-4")},m(B,I){C(B,e,I),v(e,l),q(t,l,null),v(e,n),v(e,o),v(o,r),v(r,a),v(a,s),v(s,f),q(u,f,null),v(e,c),v(e,m),E.m(m,null),v(e,p),v(e,k),v(k,$),q(S,$,null),w=!0,y||(N=[Me(ze.call(null,m,{text:"Select the field to search over."})),Me(ze.call(null,$,{text:"Select the embedding to use."}))],y=!0)},p(B,I){const M={};I[0]&264&&(M.disabled=B[3]||B[8]),I[0]&264&&(M.icon=B[3]?tl:B[8]?ll:Rt),t.$set(M),(!w||I[0]&256)&&se(l,"compute-embedding-indexing",B[8]);const P={};I[0]&32&&(P.items=B[5]),I[0]&128&&(P.placeholder=B[7]),I[0]&1|I[1]&786432&&(P.$$scope={dirty:I,ctx:B}),!d&&I[0]&1&&(d=!0,P.value=B[0],tt(()=>d=!1)),u.$set(P),I[0]&512&&_e(_,_=B[9])?(G(),b(E,1,1,Z),X(),E=on(B),E.c(),g(E,1),E.m(m,null)):E.p(B,I);const K={};I[0]&4&&(K.selected=B[2]||""),I[0]&4&&(K.name=B[2]||""),I[0]&16|I[1]&524288&&(K.$$scope={dirty:I,ctx:B}),S.$set(K)},i(B){w||(g(t.$$.fragment,B),g(u.$$.fragment,B),g(E),g(S.$$.fragment,B),w=!0)},o(B){b(t.$$.fragment,B),b(u.$$.fragment,B),b(E),b(S.$$.fragment,B),w=!1},d(B){B&&h(e),O(t),i[36](null),O(u),E.d(B),O(S),y=!1,Je(N)}}}const Ba=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-concept";function Pa(i,e,l){let t,n,o,r,a,s,f,u,d,c,m,_,p,k,$,S,w,y,N,F,T,E=Z,B=()=>(E(),E=Be(t,re=>l(33,T=re)),t),I;i.$$.on_destroy.push(()=>E());const M=Re();he(i,M,re=>l(32,F=re));const P=We();he(i,P,re=>l(31,y=re));const K=ki();he(i,K,re=>l(34,I=re));const ee=hi();he(i,ee,re=>l(40,$=re));const J=Zt();he(i,J,re=>l(4,N=re));const le=(re,Te)=>`${Ie(re||"")}_${Te}`;let x={};const te=Bi();he(i,te,re=>l(30,w=re));const we=Mt();he(i,we,re=>l(29,S=re));let oe=[],ae="",me;const Se=re=>{l(2,f=re.target.value),M.setSearchEmbedding(re.target.value)},Ee=()=>{f!=null&&(l(22,x[le(r,f)]=!0,x),$.mutate([n,o,{leaf_path:Ot(r||[]),signal:{signal_name:f}}]))};let fe;const Y=(re,Te)=>{r==null||f==null||(M.addSearch({path:[Ie(r)],query:{type:"concept",concept_namespace:re,concept_name:Te,embedding:f}}),fe.clear())},H=re=>{if(!(r==null||f==null)){if(re.detail.selectedId==="new-concept"){ae===me.id&&l(0,ae="");const Te=ae.split("/",2);let Ne="",He="";Te.length===2?[Ne,He]=Te:[He]=Te,Xe({command:xe.CreateConcept,namespace:Ne,conceptName:He,onCreate:nt=>Y(nt.detail.namespace,nt.detail.name)}),fe.clear();return}else if(re.detail.selectedId==="keyword-search"){if(ae=="")return;M.addSearch({path:[Ie(r)],query:{type:"keyword",search:ae}});return}Y(re.detail.selectedId.namespace,re.detail.selectedId.name)}},ie=re=>{M.setSearchPath(re.target.value)},de=()=>{Ee()};function Ae(re){Pe[re?"unshift":"push"](()=>{fe=re,l(6,fe)})}function Le(re){ae=re,l(0,ae)}return i.$$.update=()=>{var re,Te;i.$$.dirty[1]&2&&B(l(10,t=jt(F.namespace,F.datasetName))),i.$$.dirty[1]&2&&(n=F.namespace),i.$$.dirty[1]&2&&(o=F.datasetName),i.$$.dirty[1]&3&&l(1,r=ir(F,y)),i.$$.dirty[0]&2|i.$$.dirty[1]&2&&l(24,a=Yt(F,r)),i.$$.dirty[1]&1&&l(9,s=(y.visibleFields||[]).filter(Ne=>Ne.dtype==="string").map(Ne=>Ie(Ne.path))),i.$$.dirty[0]&18|i.$$.dirty[1]&15&&l(2,f=rr(I,T.data,F,y,r,(N.data||[]).map(Ne=>Ne.name))),i.$$.dirty[0]&2|i.$$.dirty[1]&1&&l(28,u=sr(y,r)),i.$$.dirty[0]&268435460&&l(3,d=u!=null&&!!u.includes(f||"")),i.$$.dirty[0]&4194318&&l(8,c=!d&&x[le(r,f)]),i.$$.dirty[0]&8&&l(7,m=d?"Search by concept or keyword.":'Search by keyword. Click "compute embedding" to search by concept.'),i.$$.dirty[0]&536870912&&l(27,_=(Te=(re=S.data)==null?void 0:re.user)==null?void 0:Te.id),i.$$.dirty[0]&1207959552&&l(25,p=ar(w.data||[],_)),i.$$.dirty[0]&9&&l(23,me={id:"new-concept",text:ae,disabled:!d}),i.$$.dirty[0]&1&&l(26,k={id:"keyword-search",text:ae}),i.$$.dirty[0]&1736441865&&l(5,oe=w!=null&&w.data?[me,...ae!=""?[k]:[],...p.flatMap(Ne=>Ne.concepts.map(He=>({id:{namespace:He.namespace,name:He.name},text:or(He.namespace,He.name,S.data),disabled:!d||a.some(nt=>nt.query.type==="concept"&&nt.query.concept_namespace===He.namespace&&nt.query.concept_name===He.name)})))]:[])},[ae,r,f,d,N,oe,fe,m,c,s,t,M,P,K,ee,J,te,we,Se,Ee,H,ie,x,me,a,p,k,_,u,S,w,y,F,T,I,de,Ae,Le]}class Ra extends ge{constructor(e){super(),pe(this,e,Pa,Fa,_e,{},null,[-1,-1])}}function qa(i){let e,l;return e=new Ye({props:{$$slots:{default:[La]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&512&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Oa(i){let e,l;return{c(){e=z("span"),l=W("Invalid query"),this.h()},l(t){e=A(t,"SPAN",{class:!0});var n=D(e);l=Q(n,"Invalid query"),n.forEach(h),this.h()},h(){V(e,"class","text-red-500")},m(t,n){C(t,e,n),v(e,l)},p:Z,i:Z,o:Z,d(t){t&&h(e)}}}function La(i){let e;return{c(){e=W("Apply")},l(l){e=Q(l,"Apply")},m(l,t){C(l,e,t)},d(l){l&&h(e)}}}function Ha(i){let e,l,t,n,o,r,a,s,f,u,d;const c=[Oa,qa],m=[];function _(p,k){return p[0]?p[3]?1:-1:0}return~(r=_(i))&&(a=m[r]=c[r](i)),{c(){e=z("pre"),l=W(""),t=W(i[2]),n=W(`
`),o=j(),a&&a.c(),s=ne(),this.h()},l(p){e=A(p,"PRE",{class:!0,contenteditable:!0});var k=D(e);l=Q(k,""),t=Q(k,i[2]),n=Q(k,`
`),k.forEach(h),o=U(p),a&&a.l(p),s=ne(),this.h()},h(){V(e,"class","whitespace-pre bg-gray-50 p-4 font-mono"),V(e,"contenteditable",""),i[1]===void 0&&kt(()=>i[8].call(e)),se(e,"outline-red-500",!i[0])},m(p,k){C(p,e,k),v(e,l),v(e,t),v(e,n),i[1]!==void 0&&(e.innerText=i[1]),C(p,o,k),~r&&m[r].m(p,k),C(p,s,k),f=!0,u||(d=Ve(e,"input",i[8]),u=!0)},p(p,[k]){(!f||k&4)&&Ti(t,p[2]),k&2&&p[1]!==e.innerText&&(e.innerText=p[1]),(!f||k&1)&&se(e,"outline-red-500",!p[0]);let $=r;r=_(p),r===$?~r&&m[r].p(p,k):(a&&(G(),b(m[$],1,1,()=>{m[$]=null}),X()),~r?(a=m[r],a?a.p(p,k):(a=m[r]=c[r](p),a.c()),g(a,1),a.m(s.parentNode,s)):a=null)},i(p){f||(g(a),f=!0)},o(p){b(a),f=!1},d(p){p&&h(e),p&&h(o),~r&&m[r].d(p),p&&h(s),u=!1,d()}}}function ja(i,e,l){let t,n,o,r,a;const s=Re();he(i,s,c=>l(7,a=c));let f=!0;function u(){ft(s,a.queryOptions=JSON.parse(o),a)}function d(){o=this.innerText,l(1,o),l(2,n),l(6,t),l(7,a)}return i.$$.update=()=>{if(i.$$.dirty&128&&l(6,t=a.queryOptions),i.$$.dirty&64&&l(2,n=t?JSON.stringify(t,null,2):""),i.$$.dirty&4&&l(1,o=n),i.$$.dirty&2)try{JSON.parse(o),l(0,f=!0)}catch{l(0,f=!1)}i.$$.dirty&67&&l(3,r=f&&!fr(JSON.parse(o),t))},[f,o,n,r,s,u,t,a,d]}class Ua extends ge{constructor(e){super(),pe(this,e,ja,Ha,_e,{})}}function un(i){let e,l;return e=new Ri({props:{light:!0,flipped:!0,$$slots:{default:[Ya]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&1073742079&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function cn(i){let e,l;return e=new bt({props:{text:"Sort by"}}),e.$on("click",i[20]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function dn(i){let e,l;return e=new bt({props:{text:"Filter"}}),e.$on("click",i[21]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function mn(i){let e,l,t,n,o,r;return l=new bt({props:{disabled:!i[7],text:"Compute embedding"}}),l.$on("click",i[22]),{c(){e=z("div"),R(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=D(e);L(l.$$.fragment,s),s.forEach(h),this.h()},h(){V(e,"class","w-full")},m(a,s){C(a,e,s),q(l,e,null),n=!0,o||(r=Me(t=ze.call(null,e,{text:i[7]?"":"User does not have access to compute embeddings over this dataset."})),o=!0)},p(a,s){const f={};s&128&&(f.disabled=!a[7]),l.$set(f),t&&qe(t.update)&&s&128&&t.update.call(null,{text:a[7]?"":"User does not have access to compute embeddings over this dataset."})},i(a){n||(g(l.$$.fragment,a),n=!0)},o(a){b(l.$$.fragment,a),n=!1},d(a){a&&h(e),O(l),o=!1,r()}}}function hn(i){let e,l;return e=new bt({props:{text:"Preview signal"}}),e.$on("click",i[23]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function _n(i){let e,l,t,n,o,r;return l=new bt({props:{text:"Compute signal",disabled:!i[7]}}),l.$on("click",i[24]),{c(){e=z("div"),R(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=D(e);L(l.$$.fragment,s),s.forEach(h),this.h()},h(){V(e,"class","w-full")},m(a,s){C(a,e,s),q(l,e,null),n=!0,o||(r=Me(t=ze.call(null,e,{text:i[7]?"":"User does not have access to compute signals over this dataset."})),o=!0)},p(a,s){const f={};s&128&&(f.disabled=!a[7]),l.$set(f),t&&qe(t.update)&&s&128&&t.update.call(null,{text:a[7]?"":"User does not have access to compute signals over this dataset."})},i(a){n||(g(l.$$.fragment,a),n=!0)},o(a){b(l.$$.fragment,a),n=!1},d(a){a&&h(e),O(l),o=!1,r()}}}function gn(i){let e,l,t,n,o,r;return l=new bt({props:{disabled:!i[6],text:"Delete signal"}}),l.$on("click",i[25]),{c(){e=z("div"),R(l.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=D(e);L(l.$$.fragment,s),s.forEach(h),this.h()},h(){V(e,"class","w-full")},m(a,s){C(a,e,s),q(l,e,null),n=!0,o||(r=Me(t=ze.call(null,e,{text:i[6]?"":"User does not have access to delete signals for this dataset."})),o=!0)},p(a,s){const f={};s&64&&(f.disabled=!a[6]),l.$set(f),t&&qe(t.update)&&s&64&&t.update.call(null,{text:a[6]?"":"User does not have access to delete signals for this dataset."})},i(a){n||(g(l.$$.fragment,a),n=!0)},o(a){b(l.$$.fragment,a),n=!1},d(a){a&&h(e),O(l),o=!1,r()}}}function Ya(i){let e=yt(i[0]),l,t=Pt(i[0]),n,o,r,a,s,f,u=e&&cn(i),d=t&&dn(i),c=!i[2]&&mn(i),m=!i[2]&&hn(i),_=!i[2]&&_n(i),p=i[1]&&gn(i);return{c(){u&&u.c(),l=j(),d&&d.c(),n=j(),c&&c.c(),o=j(),m&&m.c(),r=j(),_&&_.c(),a=j(),p&&p.c(),s=ne()},l(k){u&&u.l(k),l=U(k),d&&d.l(k),n=U(k),c&&c.l(k),o=U(k),m&&m.l(k),r=U(k),_&&_.l(k),a=U(k),p&&p.l(k),s=ne()},m(k,$){u&&u.m(k,$),C(k,l,$),d&&d.m(k,$),C(k,n,$),c&&c.m(k,$),C(k,o,$),m&&m.m(k,$),C(k,r,$),_&&_.m(k,$),C(k,a,$),p&&p.m(k,$),C(k,s,$),f=!0},p(k,$){$&1&&(e=yt(k[0])),e?u?(u.p(k,$),$&1&&g(u,1)):(u=cn(k),u.c(),g(u,1),u.m(l.parentNode,l)):u&&(G(),b(u,1,1,()=>{u=null}),X()),$&1&&(t=Pt(k[0])),t?d?(d.p(k,$),$&1&&g(d,1)):(d=dn(k),d.c(),g(d,1),d.m(n.parentNode,n)):d&&(G(),b(d,1,1,()=>{d=null}),X()),k[2]?c&&(G(),b(c,1,1,()=>{c=null}),X()):c?(c.p(k,$),$&4&&g(c,1)):(c=mn(k),c.c(),g(c,1),c.m(o.parentNode,o)),k[2]?m&&(G(),b(m,1,1,()=>{m=null}),X()):m?(m.p(k,$),$&4&&g(m,1)):(m=hn(k),m.c(),g(m,1),m.m(r.parentNode,r)),k[2]?_&&(G(),b(_,1,1,()=>{_=null}),X()):_?(_.p(k,$),$&4&&g(_,1)):(_=_n(k),_.c(),g(_,1),_.m(a.parentNode,a)),k[1]?p?(p.p(k,$),$&2&&g(p,1)):(p=gn(k),p.c(),g(p,1),p.m(s.parentNode,s)):p&&(G(),b(p,1,1,()=>{p=null}),X())},i(k){f||(g(u),g(d),g(c),g(m),g(_),g(p),f=!0)},o(k){b(u),b(d),b(c),b(m),b(_),b(p),f=!1},d(k){u&&u.d(k),k&&h(l),d&&d.d(k),k&&h(n),c&&c.d(k),k&&h(o),m&&m.d(k),k&&h(r),_&&_.d(k),k&&h(a),p&&p.d(k),k&&h(s)}}}function Wa(i){let e,l,t,n=Ie(i[0].path)+"",o,r,a,s,f;return{c(){e=z("p"),l=W("Confirm deleting "),t=z("code"),o=W(n),r=W(" ?"),a=j(),s=z("p"),f=W("This is a permanent action and cannot be undone."),this.h()},l(u){e=A(u,"P",{class:!0});var d=D(e);l=Q(d,"Confirm deleting "),t=A(d,"CODE",{});var c=D(t);o=Q(c,n),c.forEach(h),r=Q(d," ?"),d.forEach(h),a=U(u),s=A(u,"P",{class:!0});var m=D(s);f=Q(m,"This is a permanent action and cannot be undone."),m.forEach(h),this.h()},h(){V(e,"class","!text-lg"),V(s,"class","mt-2")},m(u,d){C(u,e,d),v(e,l),v(e,t),v(t,o),v(e,r),C(u,a,d),C(u,s,d),v(s,f)},p(u,d){d&1&&n!==(n=Ie(u[0].path)+"")&&ue(o,n)},d(u){u&&h(e),u&&h(a),u&&h(s)}}}function Qa(i){let e,l,t,n,o=i[8]&&un(i);function r(s){i[26](s)}let a={danger:!0,modalHeading:"Delete signal",primaryButtonText:"Delete",primaryButtonIcon:i[9].isLoading?Dt:void 0,secondaryButtonText:"Cancel",$$slots:{default:[Wa]},$$scope:{ctx:i}};return i[3]!==void 0&&(a.open=i[3]),l=new Kt({props:a}),Pe.push(()=>et(l,"open",r)),l.$on("click:button--secondary",i[27]),l.$on("open",i[28]),l.$on("close",i[29]),l.$on("submit",i[14]),{c(){o&&o.c(),e=j(),R(l.$$.fragment)},l(s){o&&o.l(s),e=U(s),L(l.$$.fragment,s)},m(s,f){o&&o.m(s,f),C(s,e,f),q(l,s,f),n=!0},p(s,[f]){s[8]?o?(o.p(s,f),f&256&&g(o,1)):(o=un(s),o.c(),g(o,1),o.m(e.parentNode,e)):o&&(G(),b(o,1,1,()=>{o=null}),X());const u={};f&512&&(u.primaryButtonIcon=s[9].isLoading?Dt:void 0),f&1073741825&&(u.$$scope={dirty:f,ctx:s}),!t&&f&8&&(t=!0,u.open=s[3],tt(()=>t=!1)),l.$set(u)},i(s){n||(g(o),g(l.$$.fragment,s),n=!0)},o(s){b(o),b(l.$$.fragment,s),n=!1},d(s){o&&o.d(s),s&&h(e),O(l,s)}}}function Ja(i,e,l){let t,n,o,r,a,s,f,u,d,c,m,_,{field:p}=e,{schema:k}=e,$=!1;const S=Re();he(i,S,x=>l(19,_=x));const w=We();he(i,w,x=>l(18,m=x));const y=Pi();he(i,y,x=>l(9,d=x));const N=Mt();he(i,N,x=>l(17,c=x));function F(){d.mutate([t,n,{signal_path:p.path}],{onSuccess:()=>{l(3,$=!1),S.deleteSignal(p.path)}})}const T=()=>S.addSortBy(p.path),E=()=>Xe({command:xe.EditFilter,namespace:t,datasetName:n,path:p.path}),B=()=>Xe({command:xe.ComputeEmbedding,namespace:t,datasetName:n,path:p==null?void 0:p.path}),I=()=>Xe({command:xe.PreviewConcept,namespace:t,datasetName:n,path:p==null?void 0:p.path}),M=()=>Xe({command:xe.ComputeSignal,namespace:t,datasetName:n,path:p==null?void 0:p.path}),P=()=>l(3,$=!0);function K(x){$=x,l(3,$)}const ee=()=>l(3,$=!1);function J(x){je.call(this,i,x)}function le(x){je.call(this,i,x)}return i.$$set=x=>{"field"in x&&l(0,p=x.field),"schema"in x&&l(15,k=x.schema)},i.$$.update=()=>{var x,te,we;i.$$.dirty&524288&&l(5,t=_.namespace),i.$$.dirty&524288&&l(4,n=_.datasetName),i.$$.dirty&32769&&l(2,o=Ge(p,k)),i.$$.dirty&1&&l(1,r=dt(p)),i.$$.dirty&262145&&l(16,a=Ct(((x=m.selectRowsSchema)==null?void 0:x.data)||null,p.path)),i.$$.dirty&65543&&l(8,s=(yt(p)||Pt(p)||!o||r)&&!a),i.$$.dirty&131072&&l(7,f=(te=c.data)==null?void 0:te.access.dataset.compute_signals),i.$$.dirty&131072&&l(6,u=(we=c.data)==null?void 0:we.access.dataset.delete_signals)},[p,r,o,$,n,t,u,f,s,d,S,w,y,N,F,k,a,c,m,_,T,E,B,I,M,P,K,ee,J,le]}class Ei extends ge{constructor(e){super(),pe(this,e,Ja,Qa,_e,{field:0,schema:15})}}function pn(i,e,l){const t=i.slice();t[7]=e[l][0],t[8]=e[l][1];const n=t[2](t[7]);t[9]=n;const o=`${t[8]/t[1]*100}%`;t[10]=o;const r=De(t[8]);return t[11]=r,t}function bn(i){let e,l,t=i[9]+"",n,o,r,a,s,f=i[11]+"",u,d,c,m,_;function p(){return i[6](i[7])}return{c(){e=z("button"),l=z("div"),n=W(t),r=j(),a=z("div"),s=z("div"),u=W(f),c=j(),this.h()},l(k){e=A(k,"BUTTON",{class:!0});var $=D(e);l=A($,"DIV",{title:!0,class:!0});var S=D(l);n=Q(S,t),S.forEach(h),r=U($),a=A($,"DIV",{class:!0});var w=D(a);s=A(w,"DIV",{title:!0,class:!0});var y=D(s);u=Q(y,f),y.forEach(h),w.forEach(h),c=U($),$.forEach(h),this.h()},h(){V(l,"title",o=i[9]),V(l,"class","w-48 flex-none truncate px-2"),V(s,"title",d=i[11]),V(s,"class","histogram-bar my-px bg-indigo-200 pl-2 text-xs leading-5"),Ue(s,"width",i[10]),V(a,"class","w-36 border-l border-gray-300 pl-2"),V(e,"class","flex items-center text-left text-xs text-black hover:bg-gray-200")},m(k,$){C(k,e,$),v(e,l),v(l,n),v(e,r),v(e,a),v(a,s),v(s,u),v(e,c),m||(_=Ve(e,"click",p),m=!0)},p(k,$){i=k,$&1&&t!==(t=i[9]+"")&&ue(n,t),$&1&&o!==(o=i[9])&&V(l,"title",o),$&1&&f!==(f=i[11]+"")&&ue(u,f),$&1&&d!==(d=i[11])&&V(s,"title",d),$&3&&Ue(s,"width",i[10])},d(k){k&&h(e),m=!1,_()}}}function Ka(i){let e,l=i[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=bn(pn(i,l,n));return{c(){e=z("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=A(n,"DIV",{class:!0});var o=D(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(h),this.h()},h(){V(e,"class","histogram")},m(n,o){C(n,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(n,[o]){if(o&15){l=n[0];let r;for(r=0;r<l.length;r+=1){const a=pn(n,l,r);t[r]?t[r].p(a,o):(t[r]=bn(a),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},i:Z,o:Z,d(n){n&&h(e),Fe(t,n)}}}function Za(i,e,l){let t,{field:n}=e,{counts:o}=e,{bins:r}=e;function a(u){if(u==null)return De(u);if(r==null||n.bins!=null)return De(u);const[d,c]=r[u.toString()];return d==null?`< ${De(c)}`:c==null?`≥ ${De(d)}`:`${De(d)} .. ${De(c)}`}const s=_t(),f=u=>s("row-click",{value:u});return i.$$set=u=>{"field"in u&&l(4,n=u.field),"counts"in u&&l(0,o=u.counts),"bins"in u&&l(5,r=u.bins)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=Math.max(...o.map(([u,d])=>d)))},[o,t,a,s,n,r,f]}class Ga extends ge{constructor(e){super(),pe(this,e,Za,Ka,_e,{field:4,counts:0,bins:5})}}function Xa(i){let e,l,t,n,o,r,a,s,f,u,d,c=De(i[4].total_count)+"",m,_,p,k,$,S,w,y,N,F,T,E,B=De(i[4].approx_count_distinct)+"",I,M,P,K,ee,J;r=new It({props:{class:"inline"}}),S=new It({props:{class:"inline"}});let le=i[4].avg_text_length&&vn(i),x=i[4].min_val&&i[4].max_val&&wn(i);return{c(){e=z("table"),l=z("tbody"),t=z("tr"),n=z("td"),o=z("span"),R(r.$$.fragment),a=j(),s=z("span"),f=W("Total count"),u=j(),d=z("td"),m=W(c),_=j(),p=z("tr"),k=z("td"),$=z("span"),R(S.$$.fragment),w=j(),y=z("span"),N=W("Unique values"),F=j(),T=z("td"),E=W("~"),I=W(B),M=j(),le&&le.c(),P=j(),x&&x.c(),this.h()},l(te){e=A(te,"TABLE",{class:!0});var we=D(e);l=A(we,"TBODY",{});var oe=D(l);t=A(oe,"TR",{});var ae=D(t);n=A(ae,"TD",{class:!0});var me=D(n);o=A(me,"SPAN",{});var Se=D(o);L(r.$$.fragment,Se),Se.forEach(h),a=U(me),s=A(me,"SPAN",{});var Ee=D(s);f=Q(Ee,"Total count"),Ee.forEach(h),me.forEach(h),u=U(ae),d=A(ae,"TD",{class:!0});var fe=D(d);m=Q(fe,c),fe.forEach(h),ae.forEach(h),_=U(oe),p=A(oe,"TR",{});var Y=D(p);k=A(Y,"TD",{class:!0});var H=D(k);$=A(H,"SPAN",{});var ie=D($);L(S.$$.fragment,ie),ie.forEach(h),w=U(H),y=A(H,"SPAN",{});var de=D(y);N=Q(de,"Unique values"),de.forEach(h),H.forEach(h),F=U(Y),T=A(Y,"TD",{class:!0});var Ae=D(T);E=Q(Ae,"~"),I=Q(Ae,B),Ae.forEach(h),Y.forEach(h),M=U(oe),le&&le.l(oe),P=U(oe),x&&x.l(oe),oe.forEach(h),we.forEach(h),this.h()},h(){V(n,"class","svelte-1tctrjz"),V(d,"class","svelte-1tctrjz"),V(k,"class","svelte-1tctrjz"),V(T,"class","svelte-1tctrjz"),V(e,"class","stats-table w-full svelte-1tctrjz")},m(te,we){C(te,e,we),v(e,l),v(l,t),v(t,n),v(n,o),q(r,o,null),v(n,a),v(n,s),v(s,f),v(t,u),v(t,d),v(d,m),v(l,_),v(l,p),v(p,k),v(k,$),q(S,$,null),v(k,w),v(k,y),v(y,N),v(p,F),v(p,T),v(T,E),v(T,I),v(l,M),le&&le.m(l,null),v(l,P),x&&x.m(l,null),K=!0,ee||(J=[Me(ze.call(null,o,{text:"Total number of rows where the value is defined."})),Me(ze.call(null,$,{text:"An approximation of the total number of unique values."}))],ee=!0)},p(te,we){(!K||we&16)&&c!==(c=De(te[4].total_count)+"")&&ue(m,c),(!K||we&16)&&B!==(B=De(te[4].approx_count_distinct)+"")&&ue(I,B),te[4].avg_text_length?le?(le.p(te,we),we&16&&g(le,1)):(le=vn(te),le.c(),g(le,1),le.m(l,P)):le&&(G(),b(le,1,1,()=>{le=null}),X()),te[4].min_val&&te[4].max_val?x?(x.p(te,we),we&16&&g(x,1)):(x=wn(te),x.c(),g(x,1),x.m(l,null)):x&&(G(),b(x,1,1,()=>{x=null}),X())},i(te){K||(g(r.$$.fragment,te),g(S.$$.fragment,te),g(le),g(x),K=!0)},o(te){b(r.$$.fragment,te),b(S.$$.fragment,te),b(le),b(x),K=!1},d(te){te&&h(e),O(r),O(S),le&&le.d(),x&&x.d(),ee=!1,Je(J)}}}function xa(i){let e,l;return e=new Oe({props:{paragraph:!0,width:"50%"}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function eo(i){let e,l,t=i[2].error.message+"",n;return{c(){e=z("p"),l=W("Error: "),n=W(t)},l(o){e=A(o,"P",{});var r=D(e);l=Q(r,"Error: "),n=Q(r,t),r.forEach(h)},m(o,r){C(o,e,r),v(e,l),v(e,n)},p(o,r){r&4&&t!==(t=o[2].error.message+"")&&ue(n,t)},i:Z,o:Z,d(o){o&&h(e)}}}function vn(i){let e,l,t,n,o,r,a,s,f,u=De(i[4].avg_text_length)+"",d,c,m,_;return n=new It({props:{class:"inline"}}),{c(){e=z("tr"),l=z("td"),t=z("span"),R(n.$$.fragment),o=j(),r=z("span"),a=W("Average text length"),s=j(),f=z("td"),d=W(u),this.h()},l(p){e=A(p,"TR",{});var k=D(e);l=A(k,"TD",{class:!0});var $=D(l);t=A($,"SPAN",{});var S=D(t);L(n.$$.fragment,S),S.forEach(h),o=U($),r=A($,"SPAN",{});var w=D(r);a=Q(w,"Average text length"),w.forEach(h),$.forEach(h),s=U(k),f=A(k,"TD",{class:!0});var y=D(f);d=Q(y,u),y.forEach(h),k.forEach(h),this.h()},h(){V(l,"class","svelte-1tctrjz"),V(f,"class","svelte-1tctrjz")},m(p,k){C(p,e,k),v(e,l),v(l,t),q(n,t,null),v(l,o),v(l,r),v(r,a),v(e,s),v(e,f),v(f,d),c=!0,m||(_=Me(ze.call(null,t,{text:"The average length of the text in characters."})),m=!0)},p(p,k){(!c||k&16)&&u!==(u=De(p[4].avg_text_length)+"")&&ue(d,u)},i(p){c||(g(n.$$.fragment,p),c=!0)},o(p){b(n.$$.fragment,p),c=!1},d(p){p&&h(e),O(n),m=!1,_()}}}function wn(i){let e,l,t,n,o,r,a,s,f,u=De(i[4].min_val)+"",d,c,m=De(i[4].max_val)+"",_,p,k,$;return n=new It({props:{class:"inline"}}),{c(){e=z("tr"),l=z("td"),t=z("span"),R(n.$$.fragment),o=j(),r=z("span"),a=W("Range"),s=j(),f=z("td"),d=W(u),c=W(" .. "),_=W(m),this.h()},l(S){e=A(S,"TR",{});var w=D(e);l=A(w,"TD",{class:!0});var y=D(l);t=A(y,"SPAN",{});var N=D(t);L(n.$$.fragment,N),N.forEach(h),o=U(y),r=A(y,"SPAN",{});var F=D(r);a=Q(F,"Range"),F.forEach(h),y.forEach(h),s=U(w),f=A(w,"TD",{class:!0});var T=D(f);d=Q(T,u),c=Q(T," .. "),_=Q(T,m),T.forEach(h),w.forEach(h),this.h()},h(){V(l,"class","svelte-1tctrjz"),V(f,"class","svelte-1tctrjz")},m(S,w){C(S,e,w),v(e,l),v(l,t),q(n,t,null),v(l,o),v(l,r),v(r,a),v(e,s),v(e,f),v(f,d),v(f,c),v(f,_),p=!0,k||($=Me(ze.call(null,t,{text:"The minimum and maximum value across the dataset"})),k=!0)},p(S,w){(!p||w&16)&&u!==(u=De(S[4].min_val)+"")&&ue(d,u),(!p||w&16)&&m!==(m=De(S[4].max_val)+"")&&ue(_,m)},i(S){p||(g(n.$$.fragment,S),p=!0)},o(S){b(n.$$.fragment,S),p=!1},d(S){S&&h(e),O(n),k=!1,$()}}}function to(i){let e,l,t;return l=new Ga({props:{counts:i[5],bins:i[3],field:i[0]}}),l.$on("row-click",i[11]),{c(){e=z("div"),R(l.$$.fragment),this.h()},l(n){e=A(n,"DIV",{class:!0});var o=D(e);L(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"class","mt-4")},m(n,o){C(n,e,o),q(l,e,null),t=!0},p(n,o){const r={};o&32&&(r.counts=n[5]),o&8&&(r.bins=n[3]),o&1&&(r.field=n[0]),l.$set(r)},i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){b(l.$$.fragment,n),t=!1},d(n){n&&h(e),O(l)}}}function lo(i){let e,l;return e=new Oe({props:{paragraph:!0,width:"50%"}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function no(i){let e,l,t=i[1].error.message+"",n;return{c(){e=z("p"),l=W("Error: "),n=W(t)},l(o){e=A(o,"P",{});var r=D(e);l=Q(r,"Error: "),n=Q(r,t),r.forEach(h)},m(o,r){C(o,e,r),v(e,l),v(e,n)},p(o,r){r&2&&t!==(t=o[1].error.message+"")&&ue(n,t)},i:Z,o:Z,d(o){o&&h(e)}}}function io(i){let e,l,t,n,o,r,a;const s=[eo,xa,Xa],f=[];function u(_,p){return _[2].error?0:_[4]==null?1:2}l=u(i),t=f[l]=s[l](i);const d=[no,lo,to],c=[];function m(_,p){return _[1].error?0:_[5]==null?1:_[5].length>0?2:-1}return~(o=m(i))&&(r=c[o]=d[o](i)),{c(){e=z("div"),t.c(),n=j(),r&&r.c(),this.h()},l(_){e=A(_,"DIV",{class:!0});var p=D(e);t.l(p),n=U(p),r&&r.l(p),p.forEach(h),this.h()},h(){V(e,"class","p-4")},m(_,p){C(_,e,p),f[l].m(e,null),v(e,n),~o&&c[o].m(e,null),a=!0},p(_,[p]){let k=l;l=u(_),l===k?f[l].p(_,p):(G(),b(f[k],1,1,()=>{f[k]=null}),X(),t=f[l],t?t.p(_,p):(t=f[l]=s[l](_),t.c()),g(t,1),t.m(e,n));let $=o;o=m(_),o===$?~o&&c[o].p(_,p):(r&&(G(),b(c[$],1,1,()=>{c[$]=null}),X()),~o?(r=c[o],r?r.p(_,p):(r=c[o]=d[o](_),r.c()),g(r,1),r.m(e,null)):r=null)},i(_){a||(g(t),g(r),a=!0)},o(_){b(t),b(r),a=!1},d(_){_&&h(e),f[l].d(),~o&&c[o].d()}}}function ro(i,e,l){let t,n,o,r,a,s=Z,f=()=>(s(),s=Be(n,w=>l(1,a=w)),n),u,d=Z,c=()=>(d(),d=Be(t,w=>l(2,u=w)),t),m;i.$$.on_destroy.push(()=>s()),i.$$.on_destroy.push(()=>d());let{field:_}=e;const p=Re();he(i,p,w=>l(10,m=w));let k=null;function $(w){if(w==null)return;if(k!=null){const[N,F]=k[w.toString()];if(N!=null){const T={path:_.path,op:"greater_equal",value:N};p.addFilter(T)}if(F!=null){const T={path:_.path,op:"less",value:F};p.addFilter(T)}return}const y={path:_.path,op:"equals",value:w};p.addFilter(y)}const S=w=>$(w.detail.value);return i.$$set=w=>{"field"in w&&l(0,_=w.field)},i.$$.update=()=>{var w;if(i.$$.dirty&1025&&c(l(7,t=qi(m.namespace,m.datasetName,{leaf_path:_.path}))),i.$$.dirty&1025&&f(l(6,n=Oi(m.namespace,m.datasetName,{leaf_path:_.path,filters:m.queryOptions.filters}))),i.$$.dirty&2&&l(5,o=a.data!=null?a.data.counts:null),i.$$.dirty&4&&l(4,r=u.data!=null?u.data:null),i.$$.dirty&2)if(((w=a.data)==null?void 0:w.bins)!=null){l(3,k={});for(const[y,N,F]of Object.values(a.data.bins))l(3,k[y]=[N,F],k)}else l(3,k=null)},[_,a,u,k,r,o,n,t,p,$,m,S]}class so extends ge{constructor(e){super(),pe(this,e,ro,io,_e,{field:0})}}function kn(i,e,l){const t=i.slice();return t[38]=e[l],t}function Sn(i,e,l){const t=i.slice();return t[41]=e[l],t}function En(i,e,l){const t=i.slice();return t[44]=e[l],t}function yn(i,e,l){const t=i.slice();return t[47]=e[l],t}function ao(i){let e,l="{}",t;return{c(){e=z("span"),t=W(l),this.h()},l(n){e=A(n,"SPAN",{class:!0});var o=D(e);t=Q(o,l),o.forEach(h),this.h()},h(){V(e,"class","font-mono")},m(n,o){C(n,e,o),v(e,t)},p:Z,i:Z,o:Z,d(n){n&&h(e)}}}function oo(i){let e,l,t,n;var o=ht[i[1].repeated_field.dtype];function r(a){return{props:{title:a[1].dtype}}}return o&&(l=ct(o,r(i))),{c(){e=z("div"),l&&R(l.$$.fragment),t=W("[]"),this.h()},l(a){e=A(a,"DIV",{class:!0});var s=D(e);l&&L(l.$$.fragment,s),t=Q(s,"[]"),s.forEach(h),this.h()},h(){V(e,"class","flex")},m(a,s){C(a,e,s),l&&q(l,e,null),v(e,t),n=!0},p(a,s){const f={};if(s[0]&2&&(f.title=a[1].dtype),s[0]&2&&o!==(o=ht[a[1].repeated_field.dtype])){if(l){G();const u=l;b(u.$$.fragment,1,0,()=>{O(u,1)}),X()}o?(l=ct(o,r(a)),R(l.$$.fragment),g(l.$$.fragment,1),q(l,e,t)):l=null}else o&&l.$set(f)},i(a){n||(l&&g(l.$$.fragment,a),n=!0)},o(a){l&&b(l.$$.fragment,a),n=!1},d(a){a&&h(e),l&&O(l)}}}function fo(i){let e,l,t;var n=ht[i[1].dtype];function o(r){return{props:{title:r[1].dtype}}}return n&&(e=ct(n,o(i))),{c(){e&&R(e.$$.fragment),l=ne()},l(r){e&&L(e.$$.fragment,r),l=ne()},m(r,a){e&&q(e,r,a),C(r,l,a),t=!0},p(r,a){const s={};if(a[0]&2&&(s.title=r[1].dtype),a[0]&2&&n!==(n=ht[r[1].dtype])){if(e){G();const f=e;b(f.$$.fragment,1,0,()=>{O(f,1)}),X()}n?(e=ct(n,o(r)),R(e.$$.fragment),g(e.$$.fragment,1),q(e,l.parentNode,l)):e=null}else n&&e.$set(s)},i(r){t||(e&&g(e.$$.fragment,r),t=!0)},o(r){e&&b(e.$$.fragment,r),t=!1},d(r){r&&h(l),e&&O(e,r)}}}function $n(i){let e,l;return e=new zt({props:{interactive:!0,type:"green",$$slots:{default:[mo]},$$scope:{ctx:i}}}),e.$on("click",i[32]),e.$on("remove",i[33]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&16384|n[1]&524288&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function uo(i){let e,l;return e=new Tt({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function co(i){let e,l;return e=new Vt({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function mo(i){let e,l,t,n,o,r,a,s;const f=[co,uo],u=[];function d(c,m){return c[14]=="ASC"?0:1}return r=d(i),a=u[r]=f[r](i),{c(){e=z("div"),l=z("div"),t=W("Sorted"),n=j(),o=z("span"),a.c(),this.h()},l(c){e=A(c,"DIV",{class:!0});var m=D(e);l=A(m,"DIV",{class:!0});var _=D(l);t=Q(_,"Sorted"),_.forEach(h),n=U(m),o=A(m,"SPAN",{});var p=D(o);a.l(p),p.forEach(h),m.forEach(h),this.h()},h(){V(l,"class","mr-1"),V(e,"class","flex flex-row")},m(c,m){C(c,e,m),v(e,l),v(l,t),v(e,n),v(e,o),u[r].m(o,null),s=!0},p(c,m){let _=r;r=d(c),r!==_&&(G(),b(u[_],1,1,()=>{u[_]=null}),X(),a=u[r],a||(a=u[r]=f[r](c),a.c()),g(a,1),a.m(o,null))},i(c){s||(g(a),s=!0)},o(c){b(a),s=!1},d(c){c&&h(e),u[r].d()}}}function Dn(i){let e,l,t=i[7],n=[];for(let r=0;r<t.length;r+=1)n[r]=In(yn(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);C(r,e,a),l=!0},p(r,a){if(a[0]&128){t=r[7];let s;for(s=0;s<t.length;s+=1){const f=yn(r,t,s);n[s]?(n[s].p(f,a),g(n[s],1)):(n[s]=In(f),n[s].c(),g(n[s],1),n[s].m(e.parentNode,e))}for(G(),s=t.length;s<n.length;s+=1)o(s);X()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)g(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)b(n[a]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function In(i){let e,l;return e=new Gt({props:{filter:i[47],hidePath:!0}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.filter=t[47]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Vn(i){let e,l;return e=new Si({props:{search:i[44]}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&4096&&(o.search=t[44]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Tn(i){var t;let e,l;return e=new Ut({props:{embedding:(t=i[41].signal)==null?void 0:t.signal_name}}),{c(){R(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){var a;const r={};o[0]&65536&&(r.embedding=(a=n[41].signal)==null?void 0:a.signal_name),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){b(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Cn(i){let e,l,t,n,o,r,a;return l=new lt({props:{type:"cyan",icon:Rt}}),l.$on("click",i[34]),n=new Xt({props:{isPreview:!0}}),n.$on("click",i[35]),{c(){e=z("div"),R(l.$$.fragment),t=j(),R(n.$$.fragment),this.h()},l(s){e=A(s,"DIV",{class:!0});var f=D(e);L(l.$$.fragment,f),f.forEach(h),t=U(s),L(n.$$.fragment,s),this.h()},h(){V(e,"class","compute-signal-preview pointer-events-auto mr-2")},m(s,f){C(s,e,f),q(l,e,null),C(s,t,f),q(n,s,f),o=!0,r||(a=Me(ze.call(null,e,{text:`Compute signal over the column and save the result.

This may be expensive.`})),r=!0)},p:Z,i(s){o||(g(l.$$.fragment,s),g(n.$$.fragment,s),o=!0)},o(s){b(l.$$.fragment,s),b(n.$$.fragment,s),o=!1},d(s){s&&h(e),O(l),s&&h(t),O(n,s),r=!1,a()}}}function Nn(i){let e,l,t;return l=new Ye({props:{isSelected:i[20],kind:"ghost",size:"field",iconDescription:i[20]?"Close statistics":"See statistics",icon:ur}}),l.$on("click",i[36]),{c(){e=z("div"),R(l.$$.fragment),this.h()},l(n){e=A(n,"DIV",{class:!0});var o=D(e);L(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"class","stats-button flex")},m(n,o){C(n,e,o),q(l,e,null),t=!0},p(n,o){const r={};o[0]&1048576&&(r.isSelected=n[20]),o[0]&1048576&&(r.iconDescription=n[20]?"Close statistics":"See statistics"),l.$set(r)},i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){b(l.$$.fragment,n),t=!1},d(n){n&&h(e),O(l)}}}function Mn(i){let e,l,t,n;return l=new so({props:{field:i[1]}}),{c(){e=z("div"),R(l.$$.fragment),this.h()},l(o){e=A(o,"DIV",{class:!0});var r=D(e);L(l.$$.fragment,r),r.forEach(h),this.h()},h(){V(e,"class","px-2")},m(o,r){C(o,e,r),q(l,e,null),n=!0},p(o,r){const a={};r[0]&2&&(a.field=o[1]),l.$set(a)},i(o){n||(g(l.$$.fragment,o),o&&kt(()=>{n&&(t||(t=ut(e,mt,{},!0)),t.run(1))}),n=!0)},o(o){b(l.$$.fragment,o),o&&(t||(t=ut(e,mt,{},!1)),t.run(0)),n=!1},d(o){o&&h(e),O(l),o&&t&&t.end()}}}function zn(i){let e,l,t=i[18],n=[];for(let r=0;r<t.length;r+=1)n[r]=An(kn(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);C(r,e,a),l=!0},p(r,a){if(a[0]&262415){t=r[18];let s;for(s=0;s<t.length;s+=1){const f=kn(r,t,s);n[s]?(n[s].p(f,a),g(n[s],1)):(n[s]=An(f),n[s].c(),g(n[s],1),n[s].m(e.parentNode,e))}for(G(),s=t.length;s<n.length;s+=1)o(s);X()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)g(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)b(n[a]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function An(i){let e,l;return e=new yi({props:{schema:i[0],field:i[38],indent:i[3]+1,sourceField:i[8]&&Ge(i[38],i[0])?i[1]:i[2]}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&262144&&(o.field=t[38]),n[0]&8&&(o.indent=t[3]+1),n[0]&262407&&(o.sourceField=t[8]&&Ge(t[38],t[0])?t[1]:t[2]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ho(i){let e,l,t,n,o,r,a,s,f,u,d,c,m,_,p,k,$,S,w,y,N,F,T,E,B,I,M;n=new Wt({props:{labelText:"Show",hideLabel:!0,checked:i[17]}}),n.$on("change",i[30]);const P=[fo,oo,ao],K=[];function ee(H,ie){return H[1].dtype?0:H[1].repeated_field&&H[1].repeated_field.dtype?1:2}a=ee(i),s=K[a]=P[a](i);let J=i[15]&&$n(i),le=i[13]&&Dn(i),x=i[12],te=[];for(let H=0;H<x.length;H+=1)te[H]=Vn(En(i,x,H));const we=H=>b(te[H],1,1,()=>{te[H]=null});let oe=i[16],ae=[];for(let H=0;H<oe.length;H+=1)ae[H]=Tn(Sn(i,oe,H));const me=H=>b(ae[H],1,1,()=>{ae[H]=null});let Se=i[4]&&i[21]&&Cn(i),Ee=i[10]&&Nn(i);y=new Ei({props:{field:i[1],schema:i[0]}});let fe=i[20]&&Mn(i),Y=i[18].length&&zn(i);return{c(){e=z("div"),l=z("div"),t=z("div"),R(n.$$.fragment),o=j(),r=z("div"),s.c(),u=j(),d=z("button"),c=W(i[19]),m=j(),J&&J.c(),_=j(),le&&le.c(),p=j();for(let H=0;H<te.length;H+=1)te[H].c();k=j();for(let H=0;H<ae.length;H+=1)ae[H].c();$=j(),Se&&Se.c(),S=j(),Ee&&Ee.c(),w=j(),R(y.$$.fragment),N=j(),fe&&fe.c(),F=j(),T=z("div"),Y&&Y.c(),this.h()},l(H){e=A(H,"DIV",{class:!0});var ie=D(e);l=A(ie,"DIV",{class:!0});var de=D(l);t=A(de,"DIV",{});var Ae=D(t);L(n.$$.fragment,Ae),Ae.forEach(h),o=U(de),r=A(de,"DIV",{class:!0});var Le=D(r);s.l(Le),Le.forEach(h),u=U(de),d=A(de,"BUTTON",{class:!0});var re=D(d);c=Q(re,i[19]),re.forEach(h),m=U(de),J&&J.l(de),_=U(de),le&&le.l(de),p=U(de);for(let Ne=0;Ne<te.length;Ne+=1)te[Ne].l(de);k=U(de);for(let Ne=0;Ne<ae.length;Ne+=1)ae[Ne].l(de);$=U(de),Se&&Se.l(de),S=U(de),Ee&&Ee.l(de),w=U(de),L(y.$$.fragment,de),de.forEach(h),N=U(ie),fe&&fe.l(ie),F=U(ie),T=A(ie,"DIV",{});var Te=D(T);Y&&Y.l(Te),Te.forEach(h),ie.forEach(h),this.h()},h(){Ue(t,"margin-left",i[3]*1.5+"rem"),V(r,"class","rounded-md bg-blue-200 p-0.5"),se(r,"bg-blue-200",i[5]),V(d,"class","ml-2 grow cursor-pointer truncate whitespace-nowrap text-left text-gray-900"),se(d,"cursor-default",!i[10]),Ue(d,"line-height","3rem"),V(l,"class","flex w-full flex-row items-center gap-x-2 border-gray-300 px-4 hover:bg-gray-100"),se(l,"bg-blue-50",i[5]),se(l,"bg-emerald-100",i[4]),se(l,"hover:bg-blue-100",i[5]),V(e,"class","border-gray-300"),se(e,"border-b",!i[5])},m(H,ie){C(H,e,ie),v(e,l),v(l,t),q(n,t,null),v(l,o),v(l,r),K[a].m(r,null),v(l,u),v(l,d),v(d,c),v(l,m),J&&J.m(l,null),v(l,_),le&&le.m(l,null),v(l,p);for(let de=0;de<te.length;de+=1)te[de]&&te[de].m(l,null);v(l,k);for(let de=0;de<ae.length;de+=1)ae[de]&&ae[de].m(l,null);v(l,$),Se&&Se.m(l,null),v(l,S),Ee&&Ee.m(l,null),v(l,w),q(y,l,null),v(e,N),fe&&fe.m(e,null),v(e,F),v(e,T),Y&&Y.m(T,null),B=!0,I||(M=[Me(f=ze.call(null,r,{text:i[11]})),Ve(d,"click",i[31])],I=!0)},p(H,ie){const de={};ie[0]&131072&&(de.checked=H[17]),n.$set(de),ie[0]&8&&Ue(t,"margin-left",H[3]*1.5+"rem");let Ae=a;if(a=ee(H),a===Ae?K[a].p(H,ie):(G(),b(K[Ae],1,1,()=>{K[Ae]=null}),X(),s=K[a],s?s.p(H,ie):(s=K[a]=P[a](H),s.c()),g(s,1),s.m(r,null)),f&&qe(f.update)&&ie[0]&2048&&f.update.call(null,{text:H[11]}),(!B||ie[0]&32)&&se(r,"bg-blue-200",H[5]),(!B||ie[0]&524288)&&ue(c,H[19]),(!B||ie[0]&1024)&&se(d,"cursor-default",!H[10]),H[15]?J?(J.p(H,ie),ie[0]&32768&&g(J,1)):(J=$n(H),J.c(),g(J,1),J.m(l,_)):J&&(G(),b(J,1,1,()=>{J=null}),X()),H[13]?le?(le.p(H,ie),ie[0]&8192&&g(le,1)):(le=Dn(H),le.c(),g(le,1),le.m(l,p)):le&&(G(),b(le,1,1,()=>{le=null}),X()),ie[0]&4096){x=H[12];let re;for(re=0;re<x.length;re+=1){const Te=En(H,x,re);te[re]?(te[re].p(Te,ie),g(te[re],1)):(te[re]=Vn(Te),te[re].c(),g(te[re],1),te[re].m(l,k))}for(G(),re=x.length;re<te.length;re+=1)we(re);X()}if(ie[0]&65536){oe=H[16];let re;for(re=0;re<oe.length;re+=1){const Te=Sn(H,oe,re);ae[re]?(ae[re].p(Te,ie),g(ae[re],1)):(ae[re]=Tn(Te),ae[re].c(),g(ae[re],1),ae[re].m(l,$))}for(G(),re=oe.length;re<ae.length;re+=1)me(re);X()}H[4]&&H[21]?Se?(Se.p(H,ie),ie[0]&2097168&&g(Se,1)):(Se=Cn(H),Se.c(),g(Se,1),Se.m(l,S)):Se&&(G(),b(Se,1,1,()=>{Se=null}),X()),H[10]?Ee?(Ee.p(H,ie),ie[0]&1024&&g(Ee,1)):(Ee=Nn(H),Ee.c(),g(Ee,1),Ee.m(l,w)):Ee&&(G(),b(Ee,1,1,()=>{Ee=null}),X());const Le={};ie[0]&2&&(Le.field=H[1]),ie[0]&1&&(Le.schema=H[0]),y.$set(Le),(!B||ie[0]&32)&&se(l,"bg-blue-50",H[5]),(!B||ie[0]&16)&&se(l,"bg-emerald-100",H[4]),(!B||ie[0]&32)&&se(l,"hover:bg-blue-100",H[5]),H[20]?fe?(fe.p(H,ie),ie[0]&1048576&&g(fe,1)):(fe=Mn(H),fe.c(),g(fe,1),fe.m(e,F)):fe&&(G(),b(fe,1,1,()=>{fe=null}),X()),H[18].length?Y?(Y.p(H,ie),ie[0]&262144&&g(Y,1)):(Y=zn(H),Y.c(),g(Y,1),Y.m(T,null)):Y&&(G(),b(Y,1,1,()=>{Y=null}),X()),(!B||ie[0]&32)&&se(e,"border-b",!H[5])},i(H){if(!B){g(n.$$.fragment,H),g(s),g(J),g(le);for(let ie=0;ie<x.length;ie+=1)g(te[ie]);for(let ie=0;ie<oe.length;ie+=1)g(ae[ie]);g(Se),g(Ee),g(y.$$.fragment,H),g(fe),g(Y),H&&kt(()=>{B&&(E||(E=ut(T,mt,{},!0)),E.run(1))}),B=!0}},o(H){b(n.$$.fragment,H),b(s),b(J),b(le),te=te.filter(Boolean);for(let ie=0;ie<te.length;ie+=1)b(te[ie]);ae=ae.filter(Boolean);for(let ie=0;ie<ae.length;ie+=1)b(ae[ie]);b(Se),b(Ee),b(y.$$.fragment,H),b(fe),b(Y),H&&(E||(E=ut(T,mt,{},!1)),E.run(0)),B=!1},d(H){H&&h(e),O(n),K[a].d(),J&&J.d(),le&&le.d(),Fe(te,H),Fe(ae,H),Se&&Se.d(),Ee&&Ee.d(),O(y),fe&&fe.d(),Y&&Y.d(),H&&E&&E.end(),I=!1,Je(M)}}}function _o(i,e,l){let t,n,o,r,a,s,f,u,d,c,m,_,p,k,$,S,w,y,N,F,T,E,B,{schema:I}=e,{field:M}=e,{sourceField:P=void 0}=e,{indent:K=0}=e;const ee=hi();he(i,ee,fe=>l(22,B=fe));const J=Re();he(i,J,fe=>l(9,T=fe));const le=We();he(i,le,fe=>l(29,E=fe));function x(fe){return fe!=null&&fe.repeated_field?x(fe.repeated_field):fe!=null&&fe.fields?[...Object.values(fe.fields).filter(Y=>Y.path.at(-1)!==_i)].flatMap(Y=>{const H=x(Y);return H.some(ie=>dt(ie))?H:[Y]}).filter(Y=>{var H,ie,de,Ae;return!(Y.dtype==="embedding"||Y.signal!=null&&wt(Y).some(Le=>Le.dtype==="embedding")||((H=Y.signal)==null?void 0:H.signal_name)==="sentences"||((ie=Y.signal)==null?void 0:ie.signal_name)==="substring_search"||((de=Y.signal)==null?void 0:de.signal_name)==="semantic_similarity"||((Ae=Y.signal)==null?void 0:Ae.signal_name)==="concept_labels")}):[]}const te=()=>{d?J.removeSelectedColumn(r):J.addSelectedColumn(r)},we=()=>{F&&(a?J.removeExpandedColumn(r):J.addExpandedColumn(r))},oe=()=>_==="ASC"?ft(J,T.queryOptions.sort_order="DESC",T):ft(J,T.queryOptions.sort_order="ASC",T),ae=()=>J.removeSortBy(r),me=()=>M.signal&&$&&P&&B.mutate([T.namespace,T.datasetName,{leaf_path:P.path,signal:M.signal}]),Se=()=>{var fe;return M.signal&&$&&Xe({command:xe.EditPreviewConcept,namespace:T.namespace,datasetName:T.datasetName,path:P==null?void 0:P.path,signalName:(fe=M.signal)==null?void 0:fe.signal_name,value:M.signal})},Ee=()=>{a?J.removeExpandedColumn(r):J.addExpandedColumn(r)};return i.$$set=fe=>{"schema"in fe&&l(0,I=fe.schema),"field"in fe&&l(1,M=fe.field),"sourceField"in fe&&l(2,P=fe.sourceField),"indent"in fe&&l(3,K=fe.indent)},i.$$.update=()=>{var fe,Y,H,ie;i.$$.dirty[0]&3&&l(5,t=Ge(M,I)),i.$$.dirty[0]&2&&l(21,n=dt(M)),i.$$.dirty[0]&32&&l(8,o=!t),i.$$.dirty[0]&2&&l(6,r=M.path),i.$$.dirty[0]&576&&l(20,a=T.expandedColumns[Ie(r)]||!1),i.$$.dirty[0]&64&&l(28,s=r.at(-1)===$t),i.$$.dirty[0]&268435520&&l(19,f=s?r.at(-2):r.at(-1)),i.$$.dirty[0]&2&&l(18,u=x(M)),i.$$.dirty[0]&536870976&&l(17,d=(fe=E.visibleFields)==null?void 0:fe.some(de=>Qe(de.path,r))),i.$$.dirty[0]&258&&l(16,c=o?wt(M).filter(de=>de.signal!=null&&wt(de).some(Ae=>Ae.dtype==="embedding")):[]),i.$$.dirty[0]&576&&l(15,m=(Y=T.queryOptions.sort_by)==null?void 0:Y.some(de=>Qe(de,r))),i.$$.dirty[0]&512&&l(14,_=T.queryOptions.sort_order),i.$$.dirty[0]&576&&l(7,p=((H=T.queryOptions.filters)==null?void 0:H.filter(de=>Qe(de.path,r)))||[]),i.$$.dirty[0]&128&&l(13,k=p.length>0),i.$$.dirty[0]&536870976&&l(4,$=Ct(((ie=E.selectRowsSchema)==null?void 0:ie.data)||null,r)),i.$$.dirty[0]&576&&l(12,S=Yt(T,r)),i.$$.dirty[0]&32&&l(26,w=t?". This field was generated by a signal":""),i.$$.dirty[0]&2&&l(27,y=M.dtype??(M.repeated_field&&M.repeated_field.dtype?`${M.repeated_field.dtype}[]`:"object")),i.$$.dirty[0]&201326592&&l(11,N=`Data type: ${y}${w}`),i.$$.dirty[0]&18&&l(10,F=yt(M)&&!$)},[I,M,P,K,$,t,r,p,o,T,F,N,S,k,_,m,c,d,u,f,a,n,B,ee,J,le,w,y,s,E,te,we,oe,ae,me,Se,Ee]}class yi extends ge{constructor(e){super(),pe(this,e,_o,ho,_e,{schema:0,field:1,sourceField:2,indent:3},null,[-1,-1])}}function Fn(i,e,l){const t=i.slice();return t[28]=e[l],t}function Bn(i,e,l){const t=i.slice();return t[31]=e[l],t}function go(i){var B;let e,l,t,n,o,r,a,s,f,u,d,c,m,_,p,k,$,S;t=new Wt({props:{labelText:"Show",hideLabel:!0,checked:i[14],disabled:i[10]}}),t.$on("change",i[23]);let w=i[15]&&Pn(i),y=i[13]&&Rn(i),N=i[11]&&qn(i),F=i[17]&&Ln(i),T=((B=i[1])==null?void 0:B.dtype)&&Hn(i);p=new Ei({props:{field:i[1],schema:i[0]}});let E=i[8]&&jn(i);return{c(){e=z("div"),l=z("div"),R(t.$$.fragment),n=j(),o=z("div"),w&&w.c(),r=j(),a=z("div"),s=W(i[16]),f=j(),y&&y.c(),u=j(),N&&N.c(),d=j(),F&&F.c(),c=j(),T&&T.c(),m=j(),_=z("div"),R(p.$$.fragment),k=j(),E&&E.c(),$=ne(),this.h()},l(I){e=A(I,"DIV",{class:!0});var M=D(e);l=A(M,"DIV",{class:!0});var P=D(l);L(t.$$.fragment,P),P.forEach(h),n=U(M),o=A(M,"DIV",{class:!0});var K=D(o);w&&w.l(K),K.forEach(h),r=U(M),a=A(M,"DIV",{class:!0,title:!0});var ee=D(a);s=Q(ee,i[16]),ee.forEach(h),f=U(M),y&&y.l(M),u=U(M),N&&N.l(M),d=U(M),F&&F.l(M),c=U(M),T&&T.l(M),m=U(M),_=A(M,"DIV",{});var J=D(_);L(p.$$.fragment,J),J.forEach(h),M.forEach(h),k=U(I),E&&E.l(I),$=ne(),this.h()},h(){V(l,"class","w-6"),V(o,"class","w-6"),Ue(o,"margin-left",i[2]*24+"px"),V(a,"class","grow truncate whitespace-nowrap pr-2 text-gray-900"),V(a,"title",i[16]),V(e,"class","flex w-full flex-row items-center border-b border-gray-200 px-4 py-2 hover:bg-gray-100"),se(e,"bg-blue-50",i[18]),se(e,"hover:bg-blue-100",i[18])},m(I,M){C(I,e,M),v(e,l),q(t,l,null),v(e,n),v(e,o),w&&w.m(o,null),v(e,r),v(e,a),v(a,s),v(e,f),y&&y.m(e,null),v(e,u),N&&N.m(e,null),v(e,d),F&&F.m(e,null),v(e,c),T&&T.m(e,null),v(e,m),v(e,_),q(p,_,null),C(I,k,M),E&&E.m(I,M),C(I,$,M),S=!0},p(I,M){var ee;const P={};M[0]&16384&&(P.checked=I[14]),M[0]&1024&&(P.disabled=I[10]),t.$set(P),I[15]?w?(w.p(I,M),M[0]&32768&&g(w,1)):(w=Pn(I),w.c(),g(w,1),w.m(o,null)):w&&(G(),b(w,1,1,()=>{w=null}),X()),M[0]&4&&Ue(o,"margin-left",I[2]*24+"px"),(!S||M[0]&65536)&&ue(s,I[16]),(!S||M[0]&65536)&&V(a,"title",I[16]),I[13]?y?(y.p(I,M),M[0]&8192&&g(y,1)):(y=Rn(I),y.c(),g(y,1),y.m(e,u)):y&&(G(),b(y,1,1,()=>{y=null}),X()),I[11]?N?(N.p(I,M),M[0]&2048&&g(N,1)):(N=qn(I),N.c(),g(N,1),N.m(e,d)):N&&(G(),b(N,1,1,()=>{N=null}),X()),I[17]?F?(F.p(I,M),M[0]&131072&&g(F,1)):(F=Ln(I),F.c(),g(F,1),F.m(e,c)):F&&(G(),b(F,1,1,()=>{F=null}),X()),(ee=I[1])!=null&&ee.dtype?T?T.p(I,M):(T=Hn(I),T.c(),T.m(e,m)):T&&(T.d(1),T=null);const K={};M[0]&2&&(K.field=I[1]),M[0]&1&&(K.schema=I[0]),p.$set(K),(!S||M[0]&262144)&&se(e,"bg-blue-50",I[18]),(!S||M[0]&262144)&&se(e,"hover:bg-blue-100",I[18]),I[8]?E?(E.p(I,M),M[0]&256&&g(E,1)):(E=jn(I),E.c(),g(E,1),E.m($.parentNode,$)):E&&(G(),b(E,1,1,()=>{E=null}),X())},i(I){S||(g(t.$$.fragment,I),g(w),g(y),g(N),g(F),g(p.$$.fragment,I),g(E),S=!0)},o(I){b(t.$$.fragment,I),b(w),b(y),b(N),b(F),b(p.$$.fragment,I),b(E),S=!1},d(I){I&&h(e),O(t),w&&w.d(),y&&y.d(),N&&N.d(),F&&F.d(),T&&T.d(),O(p),I&&h(k),E&&E.d(I),I&&h($)}}}function po(i){let e,l;return e=new xt({props:{field:i[1].repeated_field,indent:i[2],schema:i[0]}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&2&&(o.field=t[1].repeated_field),n[0]&4&&(o.indent=t[2]),n[0]&1&&(o.schema=t[0]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Pn(i){let e,l,t,n,o;return l=new as({props:{class:"w-3"}}),{c(){e=z("button"),R(l.$$.fragment),this.h()},l(r){e=A(r,"BUTTON",{class:!0});var a=D(e);L(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","p-2 transition hover:opacity-60"),se(e,"rotate-180",!i[8])},m(r,a){C(r,e,a),q(l,e,null),t=!0,n||(o=Ve(e,"click",i[24]),n=!0)},p(r,a){(!t||a[0]&256)&&se(e,"rotate-180",!r[8])},i(r){t||(g(l.$$.fragment,r),t=!0)},o(r){b(l.$$.fragment,r),t=!1},d(r){r&&h(e),O(l),n=!1,o()}}}function Rn(i){let e,l;return e=new zt({props:{interactive:!0,type:"green",$$slots:{default:[wo]},$$scope:{ctx:i}}}),e.$on("click",i[25]),e.$on("remove",i[26]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&4096|n[1]&8&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function bo(i){let e,l;return e=new Tt({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function vo(i){let e,l;return e=new Vt({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function wo(i){let e,l,t,n,o;const r=[vo,bo],a=[];function s(f,u){return f[12]=="ASC"?0:1}return l=s(i),t=a[l]=r[l](i),{c(){e=W(`Sorted
        `),t.c(),n=ne()},l(f){e=Q(f,`Sorted
        `),t.l(f),n=ne()},m(f,u){C(f,e,u),a[l].m(f,u),C(f,n,u),o=!0},p(f,u){let d=l;l=s(f),l!==d&&(G(),b(a[d],1,1,()=>{a[d]=null}),X(),t=a[l],t||(t=a[l]=r[l](f),t.c()),g(t,1),t.m(n.parentNode,n))},i(f){o||(g(t),o=!0)},o(f){b(t),o=!1},d(f){f&&h(e),a[l].d(f),f&&h(n)}}}function qn(i){let e,l,t=i[4],n=[];for(let r=0;r<t.length;r+=1)n[r]=On(Bn(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);C(r,e,a),l=!0},p(r,a){if(a[0]&16){t=r[4];let s;for(s=0;s<t.length;s+=1){const f=Bn(r,t,s);n[s]?(n[s].p(f,a),g(n[s],1)):(n[s]=On(f),n[s].c(),g(n[s],1),n[s].m(e.parentNode,e))}for(G(),s=t.length;s<n.length;s+=1)o(s);X()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)g(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)b(n[a]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function On(i){let e,l,t,n;return l=new Gt({props:{filter:i[31],hidePath:!0}}),{c(){e=z("div"),R(l.$$.fragment),t=j(),this.h()},l(o){e=A(o,"DIV",{class:!0});var r=D(e);L(l.$$.fragment,r),t=U(r),r.forEach(h),this.h()},h(){V(e,"class","mx-1")},m(o,r){C(o,e,r),q(l,e,null),v(e,t),n=!0},p(o,r){const a={};r[0]&16&&(a.filter=o[31]),l.$set(a)},i(o){n||(g(l.$$.fragment,o),n=!0)},o(o){b(l.$$.fragment,o),n=!1},d(o){o&&h(e),O(l)}}}function Ln(i){let e,l;return e=new Xt({props:{isPreview:i[9]}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&512&&(o.isPreview=t[9]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Hn(i){let e,l=i[1].dtype+"",t,n=i[6]?"[]":"",o;return{c(){e=z("div"),t=W(l),o=W(n),this.h()},l(r){e=A(r,"DIV",{class:!0});var a=D(e);t=Q(a,l),o=Q(a,n),a.forEach(h),this.h()},h(){V(e,"class","w-24 px-2 text-right")},m(r,a){C(r,e,a),v(e,t),v(e,o)},p(r,a){a[0]&2&&l!==(l=r[1].dtype+"")&&ue(t,l),a[0]&64&&n!==(n=r[6]?"[]":"")&&ue(o,n)},d(r){r&&h(e)}}}function jn(i){let e,l,t,n=i[5].length&&Un(i);return{c(){e=z("div"),n&&n.c()},l(o){e=A(o,"DIV",{});var r=D(e);n&&n.l(r),r.forEach(h)},m(o,r){C(o,e,r),n&&n.m(e,null),t=!0},p(o,r){o[5].length?n?(n.p(o,r),r[0]&32&&g(n,1)):(n=Un(o),n.c(),g(n,1),n.m(e,null)):n&&(G(),b(n,1,1,()=>{n=null}),X())},i(o){t||(g(n),o&&kt(()=>{t&&(l||(l=ut(e,mt,{},!0)),l.run(1))}),t=!0)},o(o){b(n),o&&(l||(l=ut(e,mt,{},!1)),l.run(0)),t=!1},d(o){o&&h(e),n&&n.d(),o&&l&&l.end()}}}function Un(i){let e,l,t=i[5],n=[];for(let r=0;r<t.length;r+=1)n[r]=Yn(Fn(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);C(r,e,a),l=!0},p(r,a){if(a[0]&37){t=r[5];let s;for(s=0;s<t.length;s+=1){const f=Fn(r,t,s);n[s]?(n[s].p(f,a),g(n[s],1)):(n[s]=Yn(f),n[s].c(),g(n[s],1),n[s].m(e.parentNode,e))}for(G(),s=t.length;s<n.length;s+=1)o(s);X()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)g(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)b(n[a]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function Yn(i){let e,l;return e=new xt({props:{schema:i[0],field:i[28],indent:i[2]+1}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&32&&(o.field=t[28]),n[0]&4&&(o.indent=t[2]+1),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ko(i){let e,l,t,n;const o=[po,go],r=[];function a(s,f){return s[1].repeated_field?0:1}return e=a(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},l(s){l.l(s),t=ne()},m(s,f){r[e].m(s,f),C(s,t,f),n=!0},p(s,f){let u=e;e=a(s),e===u?r[e].p(s,f):(G(),b(r[u],1,1,()=>{r[u]=null}),X(),l=r[e],l?l.p(s,f):(l=r[e]=o[e](s),l.c()),g(l,1),l.m(t.parentNode,t))},i(s){n||(g(l),n=!0)},o(s){b(l),n=!1},d(s){r[e].d(s),s&&h(t)}}}function So(i,e,l){let t,n,o,r,a,s,f,u,d,c,m,_,p,k,$,S,w,{schema:y}=e,{field:N}=e,{indent:F=0}=e;const T=Re();he(i,T,J=>l(7,w=J));const E=We();he(i,E,J=>l(22,S=J));let B=!0;function I(J){return J!=null&&J.fields?Object.values(J.fields).filter(le=>le.path.at(-1)!==_i):[]}const M=()=>{d?T.removeSelectedColumn(t):T.addSelectedColumn(t)},P=()=>l(8,B=!B),K=()=>m==="ASC"?ft(T,w.queryOptions.sort_order="DESC",w):ft(T,w.queryOptions.sort_order="ASC",w),ee=()=>T.removeSortBy(t);return i.$$set=J=>{"schema"in J&&l(0,y=J.schema),"field"in J&&l(1,N=J.field),"indent"in J&&l(2,F=J.indent)},i.$$.update=()=>{var J,le,x,te;i.$$.dirty[0]&2&&l(3,t=N.path),i.$$.dirty[0]&3&&l(21,n=Li(y,N.path.slice(0,-1))),i.$$.dirty[0]&3&&l(18,o=Ge(N,y)),i.$$.dirty[0]&2&&l(6,a=N.path.at(-1)===$t),i.$$.dirty[0]&2097218&&l(17,r=a&&n?dt(n):dt(N)),i.$$.dirty[0]&66&&l(16,s=a?N.path.at(-2):N.path.at(-1)),i.$$.dirty[0]&2&&l(5,f=I(N)),i.$$.dirty[0]&32&&l(15,u=f.length>0),i.$$.dirty[0]&4194312&&l(14,d=(J=S.visibleFields)==null?void 0:J.some(we=>Qe(we.path,t))),i.$$.dirty[0]&136&&l(13,c=(le=w.queryOptions.sort_by)==null?void 0:le.some(we=>Qe(we,t))),i.$$.dirty[0]&128&&l(12,m=w.queryOptions.sort_order),i.$$.dirty[0]&136&&l(4,_=((x=w.queryOptions.filters)==null?void 0:x.filter(we=>Qe(we.path,t)))||[]),i.$$.dirty[0]&16&&l(11,p=_.length>0),i.$$.dirty[0]&2&&l(10,k=!N.dtype||N.dtype==="embedding"),i.$$.dirty[0]&4194312&&l(9,$=Ct(((te=S.selectRowsSchema)==null?void 0:te.data)||null,t))},[y,N,F,t,_,f,a,w,B,$,k,p,m,c,d,u,s,r,o,T,E,n,S,M,P,K,ee]}class xt extends ge{constructor(e){super(),pe(this,e,So,ko,_e,{schema:0,field:1,indent:2},null,[-1,-1])}}function Wn(i,e,l){const t=i.slice();return t[3]=e[l],t}function Qn(i,e,l){const t=i.slice();return t[3]=e[l],t}function Eo(i){let e,l,t,n,o,r;return e=new Ft({props:{label:"Schema",class:"w-1/3"}}),t=new Ft({props:{label:"Tree View",class:"w-1/3"}}),o=new Ft({props:{label:"Raw Query",class:"w-1/3"}}),{c(){R(e.$$.fragment),l=j(),R(t.$$.fragment),n=j(),R(o.$$.fragment)},l(a){L(e.$$.fragment,a),l=U(a),L(t.$$.fragment,a),n=U(a),L(o.$$.fragment,a)},m(a,s){q(e,a,s),C(a,l,s),q(t,a,s),C(a,n,s),q(o,a,s),r=!0},p:Z,i(a){r||(g(e.$$.fragment,a),g(t.$$.fragment,a),g(o.$$.fragment,a),r=!0)},o(a){b(e.$$.fragment,a),b(t.$$.fragment,a),b(o.$$.fragment,a),r=!1},d(a){O(e,a),a&&h(l),O(t,a),a&&h(n),O(o,a)}}}function yo(i){let e=[],l=new Map,t,n,o=Object.keys(i[0].data.schema.fields);const r=a=>a[3];for(let a=0;a<o.length;a+=1){let s=Qn(i,o,a),f=r(s);l.set(f,e[a]=Jn(f,s))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=ne()},l(a){for(let s=0;s<e.length;s+=1)e[s].l(a);t=ne()},m(a,s){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(a,s);C(a,t,s),n=!0},p(a,s){s&1&&(o=Object.keys(a[0].data.schema.fields),G(),e=gt(e,s,r,1,a,o,l,t.parentNode,pt,Jn,t,Qn),X())},i(a){if(!n){for(let s=0;s<o.length;s+=1)g(e[s]);n=!0}},o(a){for(let s=0;s<e.length;s+=1)b(e[s]);n=!1},d(a){for(let s=0;s<e.length;s+=1)e[s].d(a);a&&h(t)}}}function $o(i){let e,l;return e=new Oe({props:{paragraph:!0,lines:3}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Jn(i,e){let l,t,n;return t=new yi({props:{schema:e[0].data.schema,field:e[0].data.schema.fields[e[3]]}}),{key:i,first:null,c(){l=ne(),R(t.$$.fragment),this.h()},l(o){l=ne(),L(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){C(o,l,r),q(t,o,r),n=!0},p(o,r){e=o;const a={};r&1&&(a.schema=e[0].data.schema),r&1&&(a.field=e[0].data.schema.fields[e[3]]),t.$set(a)},i(o){n||(g(t.$$.fragment,o),n=!0)},o(o){b(t.$$.fragment,o),n=!1},d(o){o&&h(l),O(t,o)}}}function Do(i){let e,l,t,n;const o=[$o,yo],r=[];function a(s,f){var u,d;return(u=s[0])!=null&&u.isLoading?0:(d=s[0])!=null&&d.isSuccess&&s[0].data.schema.fields!=null?1:-1}return~(e=a(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=ne()},l(s){l&&l.l(s),t=ne()},m(s,f){~e&&r[e].m(s,f),C(s,t,f),n=!0},p(s,f){let u=e;e=a(s),e===u?~e&&r[e].p(s,f):(l&&(G(),b(r[u],1,1,()=>{r[u]=null}),X()),~e?(l=r[e],l?l.p(s,f):(l=r[e]=o[e](s),l.c()),g(l,1),l.m(t.parentNode,t)):l=null)},i(s){n||(g(l),n=!0)},o(s){b(l),n=!1},d(s){~e&&r[e].d(s),s&&h(t)}}}function Io(i){let e=[],l=new Map,t,n,o=Object.keys(i[0].data.schema.fields);const r=a=>a[3];for(let a=0;a<o.length;a+=1){let s=Wn(i,o,a),f=r(s);l.set(f,e[a]=Kn(f,s))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=ne()},l(a){for(let s=0;s<e.length;s+=1)e[s].l(a);t=ne()},m(a,s){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(a,s);C(a,t,s),n=!0},p(a,s){s&1&&(o=Object.keys(a[0].data.schema.fields),G(),e=gt(e,s,r,1,a,o,l,t.parentNode,pt,Kn,t,Wn),X())},i(a){if(!n){for(let s=0;s<o.length;s+=1)g(e[s]);n=!0}},o(a){for(let s=0;s<e.length;s+=1)b(e[s]);n=!1},d(a){for(let s=0;s<e.length;s+=1)e[s].d(a);a&&h(t)}}}function Vo(i){let e,l;return e=new Oe({props:{paragraph:!0,lines:3}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Kn(i,e){let l,t,n;return t=new xt({props:{schema:e[0].data.schema,field:e[0].data.schema.fields[e[3]]}}),{key:i,first:null,c(){l=ne(),R(t.$$.fragment),this.h()},l(o){l=ne(),L(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){C(o,l,r),q(t,o,r),n=!0},p(o,r){e=o;const a={};r&1&&(a.schema=e[0].data.schema),r&1&&(a.field=e[0].data.schema.fields[e[3]]),t.$set(a)},i(o){n||(g(t.$$.fragment,o),n=!0)},o(o){b(t.$$.fragment,o),n=!1},d(o){o&&h(l),O(t,o)}}}function To(i){let e,l,t,n;const o=[Vo,Io],r=[];function a(s,f){var u,d;return(u=s[0])!=null&&u.isLoading?0:(d=s[0])!=null&&d.isSuccess&&s[0].data.schema.fields!=null?1:-1}return~(e=a(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=ne()},l(s){l&&l.l(s),t=ne()},m(s,f){~e&&r[e].m(s,f),C(s,t,f),n=!0},p(s,f){let u=e;e=a(s),e===u?~e&&r[e].p(s,f):(l&&(G(),b(r[u],1,1,()=>{r[u]=null}),X()),~e?(l=r[e],l?l.p(s,f):(l=r[e]=o[e](s),l.c()),g(l,1),l.m(t.parentNode,t)):l=null)},i(s){n||(g(l),n=!0)},o(s){b(l),n=!1},d(s){~e&&r[e].d(s),s&&h(t)}}}function Co(i){let e,l;return e=new Ua({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function No(i){let e,l,t,n,o,r,a;return l=new Bt({props:{$$slots:{default:[Do]},$$scope:{ctx:i}}}),n=new Bt({props:{$$slots:{default:[To]},$$scope:{ctx:i}}}),r=new Bt({props:{$$slots:{default:[Co]},$$scope:{ctx:i}}}),{c(){e=z("div"),R(l.$$.fragment),t=j(),R(n.$$.fragment),o=j(),R(r.$$.fragment),this.h()},l(s){e=A(s,"DIV",{class:!0,slot:!0});var f=D(e);L(l.$$.fragment,f),t=U(f),L(n.$$.fragment,f),o=U(f),L(r.$$.fragment,f),f.forEach(h),this.h()},h(){V(e,"class","h-full overflow-y-auto"),V(e,"slot","content")},m(s,f){C(s,e,f),q(l,e,null),v(e,t),q(n,e,null),v(e,o),q(r,e,null),a=!0},p(s,f){const u={};f&257&&(u.$$scope={dirty:f,ctx:s}),l.$set(u);const d={};f&257&&(d.$$scope={dirty:f,ctx:s}),n.$set(d);const c={};f&256&&(c.$$scope={dirty:f,ctx:s}),r.$set(c)},i(s){a||(g(l.$$.fragment,s),g(n.$$.fragment,s),g(r.$$.fragment,s),a=!0)},o(s){b(l.$$.fragment,s),b(n.$$.fragment,s),b(r.$$.fragment,s),a=!1},d(s){s&&h(e),O(l),O(n),O(r)}}}function Mo(i){let e,l,t;return l=new Jr({props:{class:"overflow-hidden border-b border-gray-200",$$slots:{content:[No],default:[Eo]},$$scope:{ctx:i}}}),{c(){e=z("div"),R(l.$$.fragment),this.h()},l(n){e=A(n,"DIV",{class:!0});var o=D(e);L(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"class","flex h-full flex-col pt-4")},m(n,o){C(n,e,o),q(l,e,null),t=!0},p(n,[o]){const r={};o&257&&(r.$$scope={dirty:o,ctx:n}),l.$set(r)},i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){b(l.$$.fragment,n),t=!1},d(n){n&&h(e),O(l)}}}function zo(i,e,l){let t,n;const o=We();return he(i,o,r=>l(2,n=r)),i.$$.update=()=>{i.$$.dirty&4&&l(0,t=n.selectRowsSchema)},[t,o,n]}class Ao extends ge{constructor(e){super(),pe(this,e,zo,Mo,_e,{})}}function Zn(i,e,l){const t=i.slice();return t[4]=e[l],t}function Fo(i){let e,l="{}",t;return{c(){e=z("span"),t=W(l),this.h()},l(n){e=A(n,"SPAN",{class:!0});var o=D(e);t=Q(o,l),o.forEach(h),this.h()},h(){V(e,"class","font-mono")},m(n,o){C(n,e,o),v(e,t)},p:Z,i:Z,o:Z,d(n){n&&h(e)}}}function Bo(i){let e,l,t;var n=ht[i[4].dtype];function o(r){return{props:{title:r[4].dtype}}}return n&&(e=ct(n,o(i))),{c(){e&&R(e.$$.fragment),l=ne()},l(r){e&&L(e.$$.fragment,r),l=ne()},m(r,a){e&&q(e,r,a),C(r,l,a),t=!0},p(r,a){const s={};if(a&2&&(s.title=r[4].dtype),a&2&&n!==(n=ht[r[4].dtype])){if(e){G();const f=e;b(f.$$.fragment,1,0,()=>{O(f,1)}),X()}n?(e=ct(n,o(r)),R(e.$$.fragment),g(e.$$.fragment,1),q(e,l.parentNode,l)):e=null}else n&&e.$set(s)},i(r){t||(e&&g(e.$$.fragment,r),t=!0)},o(r){e&&b(e.$$.fragment,r),t=!1},d(r){r&&h(l),e&&O(e,r)}}}function Gn(i){let e;return{c(){e=W("[]")},l(l){e=Q(l,"[]")},m(l,t){C(l,e,t)},d(l){l&&h(e)}}}function Xn(i){let e,l,t,n,o,r,a,s,f,u=i[4].path.indexOf($t)>=0,d,c,m=Ie(i[4].path)+"",_,p,k;function $(...F){return i[3](i[4],...F)}t=new Wt({props:{labelText:"Download",hideLabel:!0,checked:i[0].indexOf(i[4])>=0}}),t.$on("change",$);const S=[Bo,Fo],w=[];function y(F,T){return F[4].dtype?0:1}a=y(i),s=w[a]=S[a](i);let N=u&&Gn();return{c(){e=z("div"),l=z("div"),R(t.$$.fragment),n=j(),o=z("div"),r=z("div"),s.c(),f=j(),N&&N.c(),d=j(),c=z("div"),_=W(m),p=j(),this.h()},l(F){e=A(F,"DIV",{class:!0});var T=D(e);l=A(T,"DIV",{class:!0});var E=D(l);L(t.$$.fragment,E),E.forEach(h),n=U(T),o=A(T,"DIV",{class:!0});var B=D(o);r=A(B,"DIV",{class:!0});var I=D(r);s.l(I),f=U(I),N&&N.l(I),I.forEach(h),B.forEach(h),d=U(T),c=A(T,"DIV",{class:!0});var M=D(c);_=Q(M,m),M.forEach(h),p=U(T),T.forEach(h),this.h()},h(){V(l,"class","mr-2"),V(r,"class","inline-flex items-center rounded-md bg-blue-200 p-0.5"),V(o,"class","flex w-10"),V(c,"class","flex-grow"),V(e,"class","flex items-center")},m(F,T){C(F,e,T),v(e,l),q(t,l,null),v(e,n),v(e,o),v(o,r),w[a].m(r,null),v(r,f),N&&N.m(r,null),v(e,d),v(e,c),v(c,_),v(e,p),k=!0},p(F,T){i=F;const E={};T&3&&(E.checked=i[0].indexOf(i[4])>=0),t.$set(E);let B=a;a=y(i),a===B?w[a].p(i,T):(G(),b(w[B],1,1,()=>{w[B]=null}),X(),s=w[a],s?s.p(i,T):(s=w[a]=S[a](i),s.c()),g(s,1),s.m(r,f)),T&2&&(u=i[4].path.indexOf($t)>=0),u?N||(N=Gn(),N.c(),N.m(r,null)):N&&(N.d(1),N=null),(!k||T&2)&&m!==(m=Ie(i[4].path)+"")&&ue(_,m)},i(F){k||(g(t.$$.fragment,F),g(s),k=!0)},o(F){b(t.$$.fragment,F),b(s),k=!1},d(F){F&&h(e),O(t),w[a].d(),N&&N.d()}}}function Po(i){let e,l,t=i[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=Xn(Zn(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);C(r,e,a),l=!0},p(r,[a]){if(a&7){t=r[1];let s;for(s=0;s<t.length;s+=1){const f=Zn(r,t,s);n[s]?(n[s].p(f,a),g(n[s],1)):(n[s]=Xn(f),n[s].c(),g(n[s],1),n[s].m(e.parentNode,e))}for(G(),s=t.length;s<n.length;s+=1)o(s);X()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)g(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)b(n[a]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function Ro(i,e,l){let{fields:t}=e,{checkedFields:n}=e;function o(a,s){s.target.checked?(n.push(a),l(0,n)):l(0,n=n.filter(u=>u!==a))}const r=(a,s)=>o(a,s);return i.$$set=a=>{"fields"in a&&l(1,t=a.fields),"checkedFields"in a&&l(0,n=a.checkedFields)},[n,t,o,r]}class el extends ge{constructor(e){super(),pe(this,e,Ro,Po,_e,{fields:1,checkedFields:0})}}function xn(i,e,l){const t=i.slice();return t[19]=e[l],t}function qo(i){let e,l,t,n,o,r,a,s,f,u,d,c,m,_,p,k,$,S,w,y,N=i[1]!=null&&ei(i);const F=[Ho,Lo],T=[];function E(B,I){return B[5].isFetching?0:1}return S=E(i),w=T[S]=F[S](i),{c(){e=z("div"),l=z("section"),t=z("div"),n=W("Media fields"),o=j(),r=z("div"),a=W("These fields will be presented differently from the rest of the metadata fields."),s=j(),N&&N.c(),f=j(),u=z("section"),d=z("div"),c=W("Preferred embedding"),m=j(),_=z("div"),p=W("This embedding will be used by default when indexing and querying the data."),k=j(),$=z("div"),w.c(),this.h()},l(B){e=A(B,"DIV",{class:!0});var I=D(e);l=A(I,"SECTION",{class:!0});var M=D(l);t=A(M,"DIV",{class:!0});var P=D(t);n=Q(P,"Media fields"),P.forEach(h),o=U(M),r=A(M,"DIV",{class:!0});var K=D(r);a=Q(K,"These fields will be presented differently from the rest of the metadata fields."),K.forEach(h),s=U(M),N&&N.l(M),M.forEach(h),f=U(I),u=A(I,"SECTION",{class:!0});var ee=D(u);d=A(ee,"DIV",{class:!0});var J=D(d);c=Q(J,"Preferred embedding"),J.forEach(h),m=U(ee),_=A(ee,"DIV",{class:!0});var le=D(_);p=Q(le,"This embedding will be used by default when indexing and querying the data."),le.forEach(h),k=U(ee),$=A(ee,"DIV",{class:!0});var x=D($);w.l(x),x.forEach(h),ee.forEach(h),I.forEach(h),this.h()},h(){V(t,"class","text-lg text-gray-700"),V(r,"class","text-sm text-gray-500"),V(l,"class","flex flex-col gap-y-1"),V(d,"class","text-lg text-gray-700"),V(_,"class","text-sm text-gray-500"),V($,"class","w-60"),V(u,"class","flex flex-col gap-y-1"),V(e,"class","flex flex-col gap-y-6")},m(B,I){C(B,e,I),v(e,l),v(l,t),v(t,n),v(l,o),v(l,r),v(r,a),v(l,s),N&&N.m(l,null),v(e,f),v(e,u),v(u,d),v(d,c),v(u,m),v(u,_),v(_,p),v(u,k),v(u,$),T[S].m($,null),y=!0},p(B,I){B[1]!=null?N?(N.p(B,I),I&2&&g(N,1)):(N=ei(B),N.c(),g(N,1),N.m(l,null)):N&&(G(),b(N,1,1,()=>{N=null}),X());let M=S;S=E(B),S===M?T[S].p(B,I):(G(),b(T[M],1,1,()=>{T[M]=null}),X(),w=T[S],w?w.p(B,I):(w=T[S]=F[S](B),w.c()),g(w,1),w.m($,null))},i(B){y||(g(N),g(w),y=!0)},o(B){b(N),b(w),y=!1},d(B){B&&h(e),N&&N.d(),T[S].d()}}}function Oo(i){let e,l;return e=new Oe({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ei(i){let e,l,t;function n(r){i[14](r)}let o={fields:i[2]};return i[1]!==void 0&&(o.checkedFields=i[1]),e=new el({props:o}),Pe.push(()=>et(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,a){q(e,r,a),t=!0},p(r,a){const s={};a&4&&(s.fields=r[2]),!l&&a&2&&(l=!0,s.checkedFields=r[1],tt(()=>l=!1)),e.$set(s)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function Lo(i){var t;let e,l;return e=new Jt({props:{selected:(t=i[3].data)==null?void 0:t.preferred_embedding,$$slots:{default:[jo]},$$scope:{ctx:i}}}),e.$on("change",i[10]),{c(){R(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){var a;const r={};o&8&&(r.selected=(a=n[3].data)==null?void 0:a.preferred_embedding),o&4194336&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){b(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Ho(i){let e,l;return e=new Nr({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ti(i){let e,l;return e=new Nt({props:{value:i[19].name}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&32&&(o.value=t[19].name),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function jo(i){let e,l,t,n;e=new Nt({props:{value:void 0,text:"None"}});let o=i[5].data||[],r=[];for(let s=0;s<o.length;s+=1)r[s]=ti(xn(i,o,s));const a=s=>b(r[s],1,1,()=>{r[s]=null});return{c(){R(e.$$.fragment),l=j();for(let s=0;s<r.length;s+=1)r[s].c();t=ne()},l(s){L(e.$$.fragment,s),l=U(s);for(let f=0;f<r.length;f+=1)r[f].l(s);t=ne()},m(s,f){q(e,s,f),C(s,l,f);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(s,f);C(s,t,f),n=!0},p(s,f){if(f&32){o=s[5].data||[];let u;for(u=0;u<o.length;u+=1){const d=xn(s,o,u);r[u]?(r[u].p(d,f),g(r[u],1)):(r[u]=ti(d),r[u].c(),g(r[u],1),r[u].m(t.parentNode,t))}for(G(),u=o.length;u<r.length;u+=1)a(u);X()}},i(s){if(!n){g(e.$$.fragment,s);for(let f=0;f<o.length;f+=1)g(r[f]);n=!0}},o(s){b(e.$$.fragment,s),r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)b(r[f]);n=!1},d(s){O(e,s),s&&h(l),Fe(r,s),s&&h(t)}}}function Uo(i){let e,l,t,n;const o=[Oo,qo],r=[];function a(s,f){return s[3].isFetching?0:1}return e=a(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},l(s){l.l(s),t=ne()},m(s,f){r[e].m(s,f),C(s,t,f),n=!0},p(s,f){let u=e;e=a(s),e===u?r[e].p(s,f):(G(),b(r[u],1,1,()=>{r[u]=null}),X(),l=r[e],l?l.p(s,f):(l=r[e]=o[e](s),l.c()),g(l,1),l.m(t.parentNode,t))},i(s){n||(g(l),n=!0)},o(s){b(l),n=!1},d(s){r[e].d(s),s&&h(t)}}}function Yo(i){let e,l,t,n,o,r;return e=new bi({props:{label:"Changes",title:"Dataset settings"}}),t=new vi({props:{hasForm:!0,$$slots:{default:[Uo]},$$scope:{ctx:i}}}),o=new wi({props:{primaryButtonText:"Save"}}),{c(){R(e.$$.fragment),l=j(),R(t.$$.fragment),n=j(),R(o.$$.fragment)},l(a){L(e.$$.fragment,a),l=U(a),L(t.$$.fragment,a),n=U(a),L(o.$$.fragment,a)},m(a,s){q(e,a,s),C(a,l,s),q(t,a,s),C(a,n,s),q(o,a,s),r=!0},p(a,s){const f={};s&4194350&&(f.$$scope={dirty:s,ctx:a}),t.$set(f)},i(a){r||(g(e.$$.fragment,a),g(t.$$.fragment,a),g(o.$$.fragment,a),r=!0)},o(a){b(e.$$.fragment,a),b(t.$$.fragment,a),b(o.$$.fragment,a),r=!1},d(a){O(e,a),a&&h(l),O(t,a),a&&h(n),O(o,a)}}}function Wo(i){let e,l;return e=new pi({props:{open:i[0],$$slots:{default:[Yo]},$$scope:{ctx:i}}}),e.$on("submit",i[11]),e.$on("close",i[15]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&4194350&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Qo(i,e,l){let t,n,o,r,a,s=Z,f=()=>(s(),s=Be(t,E=>l(3,a=E)),t),u,d;i.$$.on_destroy.push(()=>s());let{open:c=!1}=e,{schema:m}=e;const _=Re();he(i,_,E=>l(13,o=E));const p=ki();he(i,p,E=>l(18,u=E));const k=Zt();he(i,k,E=>l(5,d=E));const $=Hi();he(i,$,E=>l(17,r=E));let S=null,w=u.embedding;function y(E){w=E.target.value,w===""&&(w=void 0)}function N(){if(S==null)return;const E={ui:{media_paths:S.map(B=>B.path)},preferred_embedding:w};r.mutate([o.namespace,o.datasetName,E],{onSuccess:()=>{l(0,c=!1)}})}function F(E){S=E,l(1,S),l(3,a),l(2,n),l(12,m)}const T=()=>l(0,c=!1);return i.$$set=E=>{"open"in E&&l(0,c=E.open),"schema"in E&&l(12,m=E.schema)},i.$$.update=()=>{var E,B;if(i.$$.dirty&8192&&f(l(4,t=jt(o.namespace,o.datasetName))),i.$$.dirty&4096&&l(2,n=Lt(m).filter(I=>I.dtype==="string"&&!Qe(I.path,[Ht])&&!Ge(I,m))),i.$$.dirty&14&&S==null){const I=((B=(E=a.data)==null?void 0:E.ui)==null?void 0:B.media_paths)||[];l(1,S=n.filter(M=>I.some(P=>Qe(M.path,P))))}},[c,S,n,a,t,d,_,p,k,$,y,N,m,o,F,T]}class Jo extends ge{constructor(e){super(),pe(this,e,Qo,Wo,_e,{open:0,schema:12})}}function Ko(i){let e,l,t;function n(r){i[13](r)}let o={fields:i[6]};return i[1]!==void 0&&(o.checkedFields=i[1]),e=new el({props:o}),Pe.push(()=>et(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,a){q(e,r,a),t=!0},p(r,a){const s={};a&64&&(s.fields=r[6]),!l&&a&2&&(l=!0,s.checkedFields=r[1],tt(()=>l=!1)),e.$set(s)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function Zo(i){let e,l;return e=new Oe({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function li(i){let e,l,t,n,o,r,a;const s=[Xo,Go],f=[];function u(d,c){return d[5]==null?0:1}return o=u(i),r=f[o]=s[o](i),{c(){e=z("section"),l=z("h4"),t=W("Select enriched fields"),n=j(),r.c(),this.h()},l(d){e=A(d,"SECTION",{});var c=D(e);l=A(c,"H4",{class:!0});var m=D(l);t=Q(m,"Select enriched fields"),m.forEach(h),n=U(c),r.l(c),c.forEach(h),this.h()},h(){V(l,"class","svelte-1ge817j")},m(d,c){C(d,e,c),v(e,l),v(l,t),v(e,n),f[o].m(e,null),a=!0},p(d,c){let m=o;o=u(d),o===m?f[o].p(d,c):(G(),b(f[m],1,1,()=>{f[m]=null}),X(),r=f[o],r?r.p(d,c):(r=f[o]=s[o](d),r.c()),g(r,1),r.m(e,null))},i(d){a||(g(r),a=!0)},o(d){b(r),a=!1},d(d){d&&h(e),f[o].d()}}}function Go(i){let e,l,t;function n(r){i[14](r)}let o={fields:i[5]};return i[2]!==void 0&&(o.checkedFields=i[2]),e=new el({props:o}),Pe.push(()=>et(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,a){q(e,r,a),t=!0},p(r,a){const s={};a&32&&(s.fields=r[5]),!l&&a&4&&(l=!0,s.checkedFields=r[2],tt(()=>l=!1)),e.$set(s)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){b(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function Xo(i){let e,l;return e=new Oe({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ni(i){let e,l;return{c(){e=z("p"),l=W("No fields selected. Please select at least one field to download."),this.h()},l(t){e=A(t,"P",{class:!0});var n=D(e);l=Q(n,"No fields selected. Please select at least one field to download."),n.forEach(h),this.h()},h(){V(e,"class","text-gray-600")},m(t,n){C(t,e,n),v(e,l)},d(t){t&&h(e)}}}function xo(i){let e,l;return e=new cr({props:{value:JSON.stringify(i[7].data,null,2),readonly:!0,rows:30,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&128&&(o.value=JSON.stringify(t[7].data,null,2)),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ef(i){let e,l;return e=new Oe({props:{paragraph:!0}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function tf(i){let e,l,t,n,o,r,a,s,f,u,d,c,m,_,p,k,$;const S=[Zo,Ko],w=[];function y(I,M){return I[6]==null?0:1}o=y(i),r=w[o]=S[o](i);let N=(i[5]==null||i[5].length>0)&&li(i),F=i[3].length===0&&ni();const T=[ef,xo],E=[];function B(I,M){return I[7]&&I[7].isFetching?0:I[4]&&I[7]?1:-1}return~(p=B(i))&&(k=E[p]=T[p](i)),{c(){e=z("section"),l=z("h4"),t=W("Select source fields"),n=j(),r.c(),a=j(),N&&N.c(),s=j(),f=z("section"),u=z("h4"),d=W("Download preview"),c=j(),F&&F.c(),m=j(),_=z("div"),k&&k.c(),this.h()},l(I){e=A(I,"SECTION",{});var M=D(e);l=A(M,"H4",{class:!0});var P=D(l);t=Q(P,"Select source fields"),P.forEach(h),n=U(M),r.l(M),M.forEach(h),a=U(I),N&&N.l(I),s=U(I),f=A(I,"SECTION",{});var K=D(f);u=A(K,"H4",{class:!0});var ee=D(u);d=Q(ee,"Download preview"),ee.forEach(h),c=U(K),F&&F.l(K),m=U(K),_=A(K,"DIV",{class:!0});var J=D(_);k&&k.l(J),J.forEach(h),K.forEach(h),this.h()},h(){V(l,"class","svelte-1ge817j"),V(u,"class","svelte-1ge817j"),V(_,"class","preview svelte-1ge817j")},m(I,M){C(I,e,M),v(e,l),v(l,t),v(e,n),w[o].m(e,null),C(I,a,M),N&&N.m(I,M),C(I,s,M),C(I,f,M),v(f,u),v(u,d),v(f,c),F&&F.m(f,null),v(f,m),v(f,_),~p&&E[p].m(_,null),$=!0},p(I,M){let P=o;o=y(I),o===P?w[o].p(I,M):(G(),b(w[P],1,1,()=>{w[P]=null}),X(),r=w[o],r?r.p(I,M):(r=w[o]=S[o](I),r.c()),g(r,1),r.m(e,null)),I[5]==null||I[5].length>0?N?(N.p(I,M),M&32&&g(N,1)):(N=li(I),N.c(),g(N,1),N.m(s.parentNode,s)):N&&(G(),b(N,1,1,()=>{N=null}),X()),I[3].length===0?F||(F=ni(),F.c(),F.m(f,m)):F&&(F.d(1),F=null);let K=p;p=B(I),p===K?~p&&E[p].p(I,M):(k&&(G(),b(E[K],1,1,()=>{E[K]=null}),X()),~p?(k=E[p],k?k.p(I,M):(k=E[p]=T[p](I),k.c()),g(k,1),k.m(_,null)):k=null)},i(I){$||(g(r),g(N),g(k),$=!0)},o(I){b(r),b(N),b(k),$=!1},d(I){I&&h(e),w[o].d(),I&&h(a),N&&N.d(I),I&&h(s),I&&h(f),F&&F.d(),~p&&E[p].d()}}}function lf(i){let e,l,t,n,o,r;return e=new bi({props:{title:"Download data"}}),t=new vi({props:{hasForm:!0,$$slots:{default:[tf]},$$scope:{ctx:i}}}),o=new wi({props:{primaryButtonText:"Download",primaryButtonDisabled:i[3].length===0,secondaryButtonText:"Cancel"}}),o.$on("click:button--secondary",i[10]),{c(){R(e.$$.fragment),l=j(),R(t.$$.fragment),n=j(),R(o.$$.fragment)},l(a){L(e.$$.fragment,a),l=U(a),L(t.$$.fragment,a),n=U(a),L(o.$$.fragment,a)},m(a,s){q(e,a,s),C(a,l,s),q(t,a,s),C(a,n,s),q(o,a,s),r=!0},p(a,s){const f={};s&262398&&(f.$$scope={dirty:s,ctx:a}),t.$set(f);const u={};s&8&&(u.primaryButtonDisabled=a[3].length===0),o.$set(u)},i(a){r||(g(e.$$.fragment,a),g(t.$$.fragment,a),g(o.$$.fragment,a),r=!0)},o(a){b(e.$$.fragment,a),b(t.$$.fragment,a),b(o.$$.fragment,a),r=!1},d(a){O(e,a),a&&h(l),O(t,a),a&&h(n),O(o,a)}}}function nf(i){let e,l;return e=new pi({props:{size:"lg",open:i[0],$$slots:{default:[lf]},$$scope:{ctx:i}}}),e.$on("submit",i[9]),e.$on("close",i[15]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&262398&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function rf(i,e,l){let t,n,o,r,a,s,f=Z,u=()=>(f(),f=Be(r,T=>l(7,s=T)),r);i.$$.on_destroy.push(()=>f());let{open:d=!1}=e,{schema:c}=e;const m=_t(),_=Re();he(i,_,T=>l(12,a=T));let p=[],k=[];function $(T){if(T==null)return{sourceFields:null,enrichedFields:null};const E=Lt(T).filter(M=>["string_span","embedding"].indexOf(M.dtype)===-1),B=E.filter(M=>!Ge(M,T)&&M.path.at(-1)!==Ht),I=E.filter(M=>Ge(M,T));return{sourceFields:B,enrichedFields:I}}async function S(){const T=a.namespace,E=a.datasetName,B={combine_columns:!1,columns:o.map(P=>P.path)},I=`/api/v1/datasets/${T}/${E}/select_rows_download?url_safe_options=${encodeURIComponent(JSON.stringify(B))}`,M=document.createElement("a");M.download=`${T}_${E}.json`,M.href=I,document.body.appendChild(M),M.click(),M.remove()}function w(){l(0,d=!1),m("close")}function y(T){p=T,l(1,p)}function N(T){k=T,l(2,k)}const F=()=>l(0,d=!1);return i.$$set=T=>{"open"in T&&l(0,d=T.open),"schema"in T&&l(11,c=T.schema)},i.$$.update=()=>{i.$$.dirty&2048&&l(6,{sourceFields:t,enrichedFields:n}=$(c),t,(l(5,n),l(11,c))),i.$$.dirty&6&&l(3,o=[...p,...k]),i.$$.dirty&4104&&u(l(4,r=o.length>0?ji(a.namespace,a.datasetName,{columns:o.map(T=>T.path),limit:3,combine_columns:!1}):null))},[d,p,k,o,r,n,t,s,_,S,w,c,a,y,N,F]}class sf extends ge{constructor(e){super(),pe(this,e,rf,nf,_e,{open:0,schema:11})}}function af(i){let e,l;return e=new ms({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function of(i){let e,l;return e=new us({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ii(i){let e,l,t,n,o,r;function a(d){i[22](d)}let s={schema:i[2].data};i[3]!==void 0&&(s.open=i[3]),e=new Jo({props:s}),Pe.push(()=>et(e,"open",a));function f(d){i[23](d)}let u={schema:i[2].data};return i[4]!==void 0&&(u.open=i[4]),n=new sf({props:u}),Pe.push(()=>et(n,"open",f)),{c(){R(e.$$.fragment),t=j(),R(n.$$.fragment)},l(d){L(e.$$.fragment,d),t=U(d),L(n.$$.fragment,d)},m(d,c){q(e,d,c),C(d,t,c),q(n,d,c),r=!0},p(d,c){const m={};c&4&&(m.schema=d[2].data),!l&&c&8&&(l=!0,m.open=d[3],tt(()=>l=!1)),e.$set(m);const _={};c&4&&(_.schema=d[2].data),!o&&c&16&&(o=!0,_.open=d[4],tt(()=>o=!1)),n.$set(_)},i(d){r||(g(e.$$.fragment,d),g(n.$$.fragment,d),r=!0)},o(d){b(e.$$.fragment,d),b(n.$$.fragment,d),r=!1},d(d){O(e,d),d&&h(t),O(n,d)}}}function ff(i){let e,l,t,n,o,r,a,s,f,u,d,c,m,_,p,k,$,S;t=new Ao({});const w=[of,af],y=[];function N(T,E){return T[10]?1:0}r=N(i),a=y[r]=w[r](i),m=new Da({});let F=i[2].data&&ii(i);return{c(){e=z("div"),l=z("div"),R(t.$$.fragment),n=j(),o=z("div"),a.c(),d=j(),c=z("div"),R(m.$$.fragment),_=j(),F&&F.c(),p=ne(),this.h()},l(T){e=A(T,"DIV",{class:!0});var E=D(e);l=A(E,"DIV",{class:!0});var B=D(l);L(t.$$.fragment,B),n=U(B),o=A(B,"DIV",{class:!0});var I=D(o);a.l(I),I.forEach(h),B.forEach(h),d=U(E),c=A(E,"DIV",{class:!0});var M=D(c);L(m.$$.fragment,M),M.forEach(h),E.forEach(h),_=U(T),F&&F.l(T),p=ne(),this.h()},h(){V(o,"class",s=St(`absolute right-0 top-1/2 flex
                h-8 w-4 cursor-pointer items-center justify-center
                rounded border
                border-neutral-200 bg-neutral-100
                opacity-60 hover:bg-neutral-200
                hover:opacity-100
                ${i[10]?" translate-x-full":" translate-x-1/2"}`)+" svelte-1nu5kbu"),V(l,"class",u=St(`schema-container relative h-full ${i[10]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1nu5kbu"),V(c,"class","h-full w-2/3 flex-grow"),V(e,"class","flex h-full w-full")},m(T,E){C(T,e,E),v(e,l),q(t,l,null),v(l,n),v(l,o),y[r].m(o,null),v(e,d),v(e,c),q(m,c,null),C(T,_,E),F&&F.m(T,E),C(T,p,E),k=!0,$||(S=[Me(f=ze.call(null,o,{text:i[10]?"Show Schema":"Hide Schema"})),Ve(o,"click",i[11]),Ve(o,"keypress",i[11])],$=!0)},p(T,E){let B=r;r=N(T),r!==B&&(G(),b(y[B],1,1,()=>{y[B]=null}),X(),a=y[r],a||(a=y[r]=w[r](T),a.c()),g(a,1),a.m(o,null)),(!k||E&1024&&s!==(s=St(`absolute right-0 top-1/2 flex
                h-8 w-4 cursor-pointer items-center justify-center
                rounded border
                border-neutral-200 bg-neutral-100
                opacity-60 hover:bg-neutral-200
                hover:opacity-100
                ${T[10]?" translate-x-full":" translate-x-1/2"}`)+" svelte-1nu5kbu"))&&V(o,"class",s),f&&qe(f.update)&&E&1024&&f.update.call(null,{text:T[10]?"Show Schema":"Hide Schema"}),(!k||E&1024&&u!==(u=St(`schema-container relative h-full ${T[10]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1nu5kbu"))&&V(l,"class",u),T[2].data?F?(F.p(T,E),E&4&&g(F,1)):(F=ii(T),F.c(),g(F,1),F.m(p.parentNode,p)):F&&(G(),b(F,1,1,()=>{F=null}),X())},i(T){k||(g(t.$$.fragment,T),g(a),g(m.$$.fragment,T),g(F),k=!0)},o(T){b(t.$$.fragment,T),b(a),b(m.$$.fragment,T),b(F),k=!1},d(T){T&&h(e),O(t),y[r].d(),O(m),T&&h(_),F&&F.d(T),T&&h(p),$=!1,Je(S)}}}function uf(i){let e=i[1].datasetName+"",l;return{c(){l=W(e)},l(t){l=Q(t,e)},m(t,n){C(t,l,n)},p(t,n){n&2&&e!==(e=t[1].datasetName+"")&&ue(l,e)},d(t){t&&h(l)}}}function cf(i){let e,l,t,n,o,r,a;return t=new lt({props:{type:"outline",$$slots:{default:[uf]},$$scope:{ctx:i}}}),{c(){e=z("div"),l=z("div"),R(t.$$.fragment),this.h()},l(s){e=A(s,"DIV",{slot:!0});var f=D(e);l=A(f,"DIV",{});var u=D(l);L(t.$$.fragment,u),u.forEach(h),f.forEach(h),this.h()},h(){V(e,"slot","header-subtext")},m(s,f){C(s,e,f),v(e,l),q(t,l,null),o=!0,r||(a=Me(n=ze.call(null,l,{text:`${i[1].namespace}/${i[1].datasetName}`})),r=!0)},p(s,f){const u={};f&33554434&&(u.$$scope={dirty:f,ctx:s}),t.$set(u),n&&qe(n.update)&&f&2&&n.update.call(null,{text:`${s[1].namespace}/${s[1].datasetName}`})},i(s){o||(g(t.$$.fragment,s),o=!0)},o(s){b(t.$$.fragment,s),o=!1},d(s){s&&h(e),O(t),r=!1,a()}}}function df(i){let e,l,t;return l=new Ra({}),{c(){e=z("div"),R(l.$$.fragment),this.h()},l(n){e=A(n,"DIV",{slot:!0,class:!0});var o=D(e);L(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"slot","header-center"),V(e,"class","flex w-full items-center")},m(n,o){C(n,e,o),q(l,e,null),t=!0},p:Z,i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){b(l.$$.fragment,n),t=!1},d(n){n&&h(e),O(l)}}}function mf(i){let e,l,t,n,o,r,a,s,f,u,d,c,m;return n=new Ye({props:{size:"field",kind:"ghost",icon:ys,iconDescription:"Reset View"}}),n.$on("click",function(){qe(i[0].reset)&&i[0].reset.apply(this,arguments)}),r=new Ye({props:{size:"field",kind:"ghost",icon:gs,iconDescription:"Download data"}}),r.$on("click",i[20]),f=new Ye({props:{disabled:!i[5],size:"field",kind:"ghost",icon:Mr,iconDescription:"Dataset settings"}}),f.$on("click",i[21]),{c(){e=z("div"),l=z("div"),t=z("div"),R(n.$$.fragment),o=j(),R(r.$$.fragment),a=j(),s=z("div"),R(f.$$.fragment),this.h()},l(_){e=A(_,"DIV",{slot:!0});var p=D(e);l=A(p,"DIV",{class:!0});var k=D(l);t=A(k,"DIV",{class:!0});var $=D(t);L(n.$$.fragment,$),o=U($),L(r.$$.fragment,$),a=U($),s=A($,"DIV",{});var S=D(s);L(f.$$.fragment,S),S.forEach(h),$.forEach(h),k.forEach(h),p.forEach(h),this.h()},h(){se(s,"opacity-40",!i[5]),V(t,"class","flex"),V(l,"class","flex h-full flex-col"),V(e,"slot","header-right")},m(_,p){C(_,e,p),v(e,l),v(l,t),q(n,t,null),v(t,o),q(r,t,null),v(t,a),v(t,s),q(f,s,null),d=!0,c||(m=Me(u=ze.call(null,s,{text:i[5]?"":"User does not have access to update settings of this dataset."})),c=!0)},p(_,p){i=_;const k={};p&32&&(k.disabled=!i[5]),f.$set(k),u&&qe(u.update)&&p&32&&u.update.call(null,{text:i[5]?"":"User does not have access to update settings of this dataset."}),(!d||p&32)&&se(s,"opacity-40",!i[5])},i(_){d||(g(n.$$.fragment,_),g(r.$$.fragment,_),g(f.$$.fragment,_),d=!0)},o(_){b(n.$$.fragment,_),b(r.$$.fragment,_),b(f.$$.fragment,_),d=!1},d(_){_&&h(e),O(n),O(r),O(f),c=!1,m()}}}function hf(i){let e,l,t,n;return e=new gi({props:{title:"Datasets",$$slots:{"header-right":[mf],"header-center":[df],"header-subtext":[cf],default:[ff]},$$scope:{ctx:i}}}),t=new dr({}),{c(){R(e.$$.fragment),l=j(),R(t.$$.fragment)},l(o){L(e.$$.fragment,o),l=U(o),L(t.$$.fragment,o)},m(o,r){q(e,o,r),C(o,l,r),q(t,o,r),n=!0},p(o,[r]){const a={};r&33555519&&(a.$$scope={dirty:r,ctx:o}),e.$set(a)},i(o){n||(g(e.$$.fragment,o),g(t.$$.fragment,o),n=!0)},o(o){b(e.$$.fragment,o),b(t.$$.fragment,o),n=!1},d(o){O(e,o),o&&h(l),O(t,o)}}}function _f(i,e,l){let t,n,o,r,a,s,f,u,d,c,m=Z,_=()=>(m(),m=Be(f,me=>l(17,c=me)),f),p,k=Z,$=()=>(k(),k=Be(s,me=>l(18,p=me)),s),S,w=Z,y=()=>(w(),w=Be(t,me=>l(1,S=me)),t),N,F=Z,T=()=>(F(),F=Be(o,me=>l(2,N=me)),o),E,B=Z,I=()=>(B(),B=Be(a,me=>l(19,E=me)),a);i.$$.on_destroy.push(()=>m()),i.$$.on_destroy.push(()=>k()),i.$$.on_destroy.push(()=>w()),i.$$.on_destroy.push(()=>F()),i.$$.on_destroy.push(()=>B());let{namespace:M}=e,{datasetName:P}=e;function K(){ft(t,S.schemaCollapsed=!S.schemaCollapsed,S)}const ee=mr(M,P);hr(ee);let J=!1,le=!1;const x=Mt();he(i,x,me=>l(16,d=me));const te=()=>l(4,le=!0),we=()=>l(3,J=!0);function oe(me){J=me,l(3,J)}function ae(me){le=me,l(4,le)}return i.$$set=me=>{"namespace"in me&&l(13,M=me.namespace),"datasetName"in me&&l(14,P=me.datasetName)},i.$$.update=()=>{var me,Se;if(i.$$.dirty&24576&&y(l(0,t=_r(M,P))),i.$$.dirty&1&&gr(t),i.$$.dirty&2&&l(10,n=S.schemaCollapsed),i.$$.dirty&2&&T(l(9,o=mi(S.namespace,S.datasetName))),i.$$.dirty&4&&l(15,r=Ui("string",N.data)),i.$$.dirty&32770&&I(l(8,a=Yi(S.namespace,S.datasetName,r.map(Ee=>Ee.path)))),i.$$.dirty&2&&$(l(7,s=Wi(S.namespace,S.datasetName,pr(S)))),i.$$.dirty&2&&_(l(6,f=jt(S.namespace,S.datasetName))),i.$$.dirty&524292&&N.data!=null&&E.data&&!E.isFetching&&ee.setStats(E.data),i.$$.dirty&4&&N.data!=null&&ee.setSchema(N.data),i.$$.dirty&262144&&p!=null&&ee.setSelectRowsSchema(p),i.$$.dirty&262146){const Ee=br(S.selectedColumns,((me=p==null?void 0:p.data)==null?void 0:me.schema)||null);ee.setVisibleFields(Ee)}i.$$.dirty&131072&&c.data!=null&&ee.setSettings(c.data),i.$$.dirty&65536&&l(5,u=(Se=d.data)==null?void 0:Se.access.dataset.update_settings)},[t,S,N,J,le,u,f,s,a,o,n,K,x,M,P,r,d,c,p,E,te,we,oe,ae]}class gf extends ge{constructor(e){super(),pe(this,e,_f,hf,_e,{namespace:13,datasetName:14})}}function ri(i,e,l){const t=i.slice();return t[17]=e[l],t}function pf(i){let e,l,t=i[4].data,n=[];for(let r=0;r<t.length;r+=1)n[r]=ai(ri(i,t,r));const o=r=>b(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);C(r,e,a),l=!0},p(r,a){if(a&21){t=r[4].data;let s;for(s=0;s<t.length;s+=1){const f=ri(r,t,s);n[s]?(n[s].p(f,a),g(n[s],1)):(n[s]=ai(f),n[s].c(),g(n[s],1),n[s].m(e.parentNode,e))}for(G(),s=t.length;s<n.length;s+=1)o(s);X()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)g(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)b(n[a]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function bf(i){let e,l;return e=new Qt({props:{kind:"error",title:"Error loading datasets",lowContrast:!0,subtitle:i[4].error.message}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&16&&(o.subtitle=t[4].error.message),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function vf(i){let e,l;return e=new Oe({props:{paragraph:!0,lines:3,width:"30%"}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function si(i){let e,l=i[17].description+"",t;return{c(){e=z("div"),t=W(l),this.h()},l(n){e=A(n,"DIV",{class:!0});var o=D(e);t=Q(o,l),o.forEach(h),this.h()},h(){V(e,"class","my-4")},m(n,o){C(n,e,o),v(e,t)},p(n,o){o&16&&l!==(l=n[17].description+"")&&ue(t,l)},d(n){n&&h(e)}}}function wf(i){let e;return{c(){e=W("Open")},l(l){e=Q(l,"Open")},m(l,t){C(l,e,t)},d(l){l&&h(e)}}}function ai(i){let e,l,t=i[17].namespace+"",n,o,r=i[17].dataset_name+"",a,s,f,u,d,c,m,_,p,k,$,S,w,y,N,F=i[17].description&&si(i);function T(){return i[11](i[17])}d=new Ye({props:{kind:"tertiary",$$slots:{default:[wf]},$$scope:{ctx:i}}}),d.$on("click",T),p=new vr({props:{size:16}});function E(){return i[12](i[17])}function B(){return i[13](i[17])}return{c(){e=z("button"),l=z("div"),n=W(t),o=W(" / "),a=W(r),s=j(),F&&F.c(),f=j(),u=z("div"),R(d.$$.fragment),c=j(),m=z("div"),_=z("button"),R(p.$$.fragment),S=j(),this.h()},l(I){e=A(I,"BUTTON",{class:!0});var M=D(e);l=A(M,"DIV",{class:!0});var P=D(l);n=Q(P,t),o=Q(P," / "),a=Q(P,r),P.forEach(h),s=U(M),F&&F.l(M),f=U(M),u=A(M,"DIV",{class:!0});var K=D(u);L(d.$$.fragment,K),c=U(K),m=A(K,"DIV",{});var ee=D(m);_=A(ee,"BUTTON",{title:!0,class:!0});var J=D(_);L(p.$$.fragment,J),J.forEach(h),ee.forEach(h),K.forEach(h),S=U(M),M.forEach(h),this.h()},h(){V(l,"class","truncate text-xl"),V(_,"title","Delete dataset"),_.disabled=k=!i[2],V(_,"class","h-full w-full rounded border border-gray-300 p-2"),se(_,"hover:border-red-400",i[2]),se(_,"hover:text-red-400",i[2]),se(m,"opacity-40",!i[2]),V(u,"class","mt-4 flex gap-x-2"),V(e,"class","w-80 cursor-pointer rounded-md border border-gray-200 px-3 py-4 text-left hover:border-gray-400")},m(I,M){C(I,e,M),v(e,l),v(l,n),v(l,o),v(l,a),v(e,s),F&&F.m(e,null),v(e,f),v(e,u),q(d,u,null),v(u,c),v(u,m),v(m,_),q(p,_,null),v(e,S),w=!0,y||(N=[Ve(_,"click",qt(E)),Me($=ze.call(null,m,{text:i[2]?"":"User does not have access to delete this dataset."})),Ve(e,"click",B)],y=!0)},p(I,M){i=I,(!w||M&16)&&t!==(t=i[17].namespace+"")&&ue(n,t),(!w||M&16)&&r!==(r=i[17].dataset_name+"")&&ue(a,r),i[17].description?F?F.p(i,M):(F=si(i),F.c(),F.m(e,f)):F&&(F.d(1),F=null);const P={};M&1048576&&(P.$$scope={dirty:M,ctx:i}),d.$set(P),(!w||M&4&&k!==(k=!i[2]))&&(_.disabled=k),(!w||M&4)&&se(_,"hover:border-red-400",i[2]),(!w||M&4)&&se(_,"hover:text-red-400",i[2]),$&&qe($.update)&&M&4&&$.update.call(null,{text:i[2]?"":"User does not have access to delete this dataset."}),(!w||M&4)&&se(m,"opacity-40",!i[2])},i(I){w||(g(d.$$.fragment,I),g(p.$$.fragment,I),w=!0)},o(I){b(d.$$.fragment,I),b(p.$$.fragment,I),w=!1},d(I){I&&h(e),F&&F.d(),O(d),O(p),y=!1,Je(N)}}}function oi(i){let e,l;return e=new Kt({props:{danger:!0,open:!0,modalHeading:"Delete dataset",primaryButtonText:"Delete",primaryButtonIcon:i[3].isLoading?Dt:void 0,secondaryButtonText:"Cancel",$$slots:{default:[kf]},$$scope:{ctx:i}}}),e.$on("click:button--secondary",i[14]),e.$on("close",i[15]),e.$on("submit",i[16]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&8&&(o.primaryButtonIcon=t[3].isLoading?Dt:void 0),n&1048577&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function kf(i){let e,l,t,n=i[0].namespace+"",o,r,a=i[0].name+"",s,f,u,d,c;return{c(){e=z("p"),l=W("Confirm deleting "),t=z("code"),o=W(n),r=W("/"),s=W(a),f=W(" ?"),u=j(),d=z("p"),c=W("This is a permanent action and cannot be undone."),this.h()},l(m){e=A(m,"P",{class:!0});var _=D(e);l=Q(_,"Confirm deleting "),t=A(_,"CODE",{});var p=D(t);o=Q(p,n),r=Q(p,"/"),s=Q(p,a),p.forEach(h),f=Q(_," ?"),_.forEach(h),u=U(m),d=A(m,"P",{class:!0});var k=D(d);c=Q(k,"This is a permanent action and cannot be undone."),k.forEach(h),this.h()},h(){V(e,"class","!text-lg"),V(d,"class","mt-2")},m(m,_){C(m,e,_),v(e,l),v(e,t),v(t,o),v(t,r),v(t,s),v(e,f),C(m,u,_),C(m,d,_),v(d,c)},p(m,_){_&1&&n!==(n=m[0].namespace+"")&&ue(o,n),_&1&&a!==(a=m[0].name+"")&&ue(s,a)},d(m){m&&h(e),m&&h(u),m&&h(d)}}}function Sf(i){let e,l,t,n,o,r,a;const s=[vf,bf,pf],f=[];function u(c,m){return c[4].isLoading?0:c[4].isError?1:c[4].isSuccess?2:-1}~(t=u(i))&&(n=f[t]=s[t](i));let d=i[0]&&oi(i);return{c(){e=z("div"),l=z("div"),n&&n.c(),o=j(),d&&d.c(),r=ne(),this.h()},l(c){e=A(c,"DIV",{class:!0});var m=D(e);l=A(m,"DIV",{class:!0});var _=D(l);n&&n.l(_),_.forEach(h),m.forEach(h),o=U(c),d&&d.l(c),r=ne(),this.h()},h(){V(l,"class","flex flex-wrap gap-x-4 gap-y-4"),V(e,"class","flex flex-col gap-y-4 p-4")},m(c,m){C(c,e,m),v(e,l),~t&&f[t].m(l,null),C(c,o,m),d&&d.m(c,m),C(c,r,m),a=!0},p(c,m){let _=t;t=u(c),t===_?~t&&f[t].p(c,m):(n&&(G(),b(f[_],1,1,()=>{f[_]=null}),X()),~t?(n=f[t],n?n.p(c,m):(n=f[t]=s[t](c),n.c()),g(n,1),n.m(l,null)):n=null),c[0]?d?(d.p(c,m),m&1&&g(d,1)):(d=oi(c),d.c(),g(d,1),d.m(r.parentNode,r)):d&&(G(),b(d,1,1,()=>{d=null}),X())},i(c){a||(g(n),g(d),a=!0)},o(c){b(n),b(d),a=!1},d(c){c&&h(e),~t&&f[t].d(),c&&h(o),d&&d.d(c),c&&h(r)}}}function Ef(i){let e;return{c(){e=W("+ Add Dataset")},l(l){e=Q(l,"+ Add Dataset")},m(l,t){C(l,e,t)},d(l){l&&h(e)}}}function yf(i){let e,l,t;return l=new Ye({props:{size:"small",disabled:!i[1],$$slots:{default:[Ef]},$$scope:{ctx:i}}}),l.$on("click",i[10]),{c(){e=z("div"),R(l.$$.fragment),this.h()},l(n){e=A(n,"DIV",{slot:!0});var o=D(e);L(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"slot","header-right")},m(n,o){C(n,e,o),q(l,e,null),t=!0},p(n,o){const r={};o&2&&(r.disabled=!n[1]),o&1048576&&(r.$$scope={dirty:o,ctx:n}),l.$set(r)},i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){b(l.$$.fragment,n),t=!1},d(n){n&&h(e),O(l)}}}function $f(i){let e,l;return e=new gi({props:{title:"Datasets",$$slots:{"header-right":[yf],default:[Sf]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,[n]){const o={};n&1048607&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Df(i,e,l){let t,n,o,r,a;const s=Qi();he(i,s,y=>l(4,a=y));const f=Ji();he(i,f,y=>l(3,o=y));const u=Mt();he(i,u,y=>l(9,r=y));let d=null;function c(){if(d==null)return;const{namespace:y,name:N}=d;o.mutate([y,N],{onSuccess:()=>l(0,d=null)})}const m=()=>At("/datasets/new"),_=y=>At(il(y.namespace,y.dataset_name)),p=y=>l(0,d={namespace:y.namespace,name:y.dataset_name}),k=y=>At(il(y.namespace,y.dataset_name)),$=()=>l(0,d=null),S=()=>l(0,d=null),w=()=>c();return i.$$.update=()=>{var y,N;i.$$.dirty&512&&l(2,t=(y=r.data)==null?void 0:y.access.dataset.delete_dataset),i.$$.dirty&512&&l(1,n=(N=r.data)==null?void 0:N.access.create_dataset)},[d,n,t,o,a,s,f,u,c,r,m,_,p,k,$,S,w]}class If extends ge{constructor(e){super(),pe(this,e,Df,$f,_e,{})}}function Vf(i){let e,l;return e=new If({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Z,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Tf(i){let e,l;return e=new gf({props:{namespace:i[0],datasetName:i[1]}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.namespace=t[0]),n&2&&(o.datasetName=t[1]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Cf(i){let e,l,t,n;const o=[Tf,Vf],r=[];function a(s,f){return s[0]&&s[1]?0:1}return e=a(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},l(s){l.l(s),t=ne()},m(s,f){r[e].m(s,f),C(s,t,f),n=!0},p(s,[f]){let u=e;e=a(s),e===u?r[e].p(s,f):(G(),b(r[u],1,1,()=>{r[u]=null}),X(),l=r[e],l?l.p(s,f):(l=r[e]=o[e](s),l.c()),g(l,1),l.m(t.parentNode,t))},i(s){n||(g(l),n=!0)},o(s){b(l),n=!1},d(s){r[e].d(s),s&&h(t)}}}function Nf(i,e,l){let t;he(i,Cr,r=>l(2,t=r));let n,o;return i.$$.update=()=>{i.$$.dirty&4&&t.onHashChange("",()=>{l(0,n=void 0),l(1,o=void 0)}),i.$$.dirty&4&&t.onHashChange("/(?<namespace>.+)/(?<datasetName>.+)",r=>{l(0,n=r.namespace),l(1,o=r.datasetName)})},[n,o,t]}class Yf extends ge{constructor(e){super(),pe(this,e,Nf,Cf,_e,{})}}export{Yf as component};
