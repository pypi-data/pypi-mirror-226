import{S as be,i as ve,s as _e,G as mt,E as ce,k as M,a as j,y as R,l as z,m as E,h,c as U,z as O,n as C,H as de,I as st,b as T,J as v,A as q,K as Ve,a9 as Et,aa as jt,L as _t,M as gt,N as pt,O as Fe,g as _,d as p,B as H,P as Ge,D as ke,C as bt,R as me,T as ar,t as Sr,j as yr,F as Se,q as W,r as Z,u as ue,Q as je,w as Pe,ab as or,_ as ge,$ as pe,a0 as De,a1 as G,e as ne,o as Er,Z as Dr,p as Ue,W as fr,a6 as Te,a8 as Qe,v as X,f as x,a3 as Me,a5 as Be,X as vt,Y as wt,ac as kt,ad as Ir,U as Je,V as Ke,ae as Vr,a4 as at,af as ot,x as ft,ag as St,ah as Cr}from"../chunks/index.0caa4e13.js";import{g as yt}from"../chunks/navigation.f983b688.js";import{h as ze,f as Ie,b as Ut,s as Ee,p as Yt,a as Nr,c as et,i as Tr,e as qe,g as ht,j as Mt,k as Mr,L as Ze,l as zr,m as tt,n as Fr,o as ur,r as Ar,U as Qt,C as ll,t as cr,q as Br,u as Pr,v as lt,w as Dt,x as Ht,O as Rr,y as dt,z as qr,A as Hr,B as It,V as dr,D as Or,E as Lr,F as jr,P as hr,G as Ur,H as Yr,I as Qr,J as Wr,K as Zr}from"../chunks/Page.3f43a8d8.js";import{e as nt,f as Jr,h as Re,t as Xe,a as xe,E as Wt,i as We,j as Zt,k as Kr,S as Gr,b as Xr,l as xr,m as ei,n as zt,o as ti,p as li,q as ni,r as ri,s as nl,u as Ot,v as ii,w as si,x as ai,g as oi,y as fi,z as ui,I as Vt,A as Jt,B as ci,D as ut,F as ct,G as mr,M as _r,H as gr,J as pr,K as di,C as hi,L as mi,N as _i,O as gi,P as pi,Q as bi,R as vi,U as wi,T as ki}from"../chunks/ConceptView.ef0b2365.js";import{d as rl,w as it}from"../chunks/index.5c606f22.js";import{C as $i,S as He,n as Si,I as Kt,d as Lt}from"../chunks/utils.a9faa7e6.js";import{C as yi,S as Ft,a as $t}from"../chunks/SelectItem.6bf0ffa0.js";import{B as Ye,a as At}from"../chunks/taskMonitoringStore.01ae9028.js";import{M as Gt,g as br}from"../chunks/urlHashStore.38baadd2.js";import{q as Xt,S as Ei}from"../chunks/signalQueries.15decf75.js";import{g as vr}from"../chunks/settingsStore.cc81ce84.js";import{C as Di}from"../chunks/ComboBox.cc704ae8.js";import{S as Ii}from"../chunks/Settings.9cb8d7a6.js";const Vi=i=>({}),il=i=>({});function sl(i){let e=i[3].label+"",l;return{c(){l=W(e)},l(t){l=Z(t,e)},m(t,n){T(t,l,n)},p(t,n){n[0]&8&&e!==(e=t[3].label+"")&&ue(l,e)},d(t){t&&h(l)}}}function Ci(i){let e,l,t,n,o,r,a,s,f,u,c,d,m=i[3]&&sl(i);o=new yi({props:{"aria-hidden":"true",title:i[1]}});const g=i[20].default,b=mt(g,i,i[19],null);let w=[{role:"navigation"},i[10]],D={};for(let S=0;S<w.length;S+=1)D=ce(D,w[S]);const V=i[20].content,$=mt(V,i,i[19],il);return{c(){e=M("div"),l=M("div"),t=M("a"),m&&m.c(),n=j(),R(o.$$.fragment),a=j(),s=M("ul"),b&&b.c(),f=j(),$&&$.c(),this.h()},l(S){e=z(S,"DIV",{role:!0});var A=E(e);l=z(A,"DIV",{role:!0,tabindex:!0,"aria-label":!0});var F=E(l);t=z(F,"A",{tabindex:!0,href:!0});var I=E(t);m&&m.l(I),I.forEach(h),n=U(F),O(o.$$.fragment,F),F.forEach(h),a=U(A),s=z(A,"UL",{role:!0});var y=E(s);b&&b.l(y),y.forEach(h),A.forEach(h),f=U(S),$&&$.l(S),this.h()},h(){C(t,"tabindex","-1"),C(t,"href",i[2]),de(t,"bx--tabs-trigger-text",!0),C(l,"role","listbox"),C(l,"tabindex","0"),C(l,"aria-label",r=i[11]["aria-label"]||"listbox"),de(l,"bx--tabs-trigger",!0),C(s,"role","tablist"),de(s,"bx--tabs__nav",!0),de(s,"bx--tabs__nav--hidden",i[5]),st(e,D),de(e,"bx--tabs",!0),de(e,"bx--tabs--container",i[0]==="container")},m(S,A){T(S,e,A),v(e,l),v(l,t),m&&m.m(t,null),v(l,n),q(o,l,null),v(e,a),v(e,s),b&&b.m(s,null),i[26](s),T(S,f,A),$&&$.m(S,A),u=!0,c||(d=[Ve(t,"click",Et(i[22])),Ve(t,"click",jt(Et(i[23]))),Ve(l,"click",i[24]),Ve(l,"keypress",i[21]),Ve(l,"keypress",i[25])],c=!0)},p(S,A){S[3]?m?m.p(S,A):(m=sl(S),m.c(),m.m(t,null)):m&&(m.d(1),m=null),(!u||A[0]&4)&&C(t,"href",S[2]);const F={};A[0]&2&&(F.title=S[1]),o.$set(F),(!u||A[0]&2048&&r!==(r=S[11]["aria-label"]||"listbox"))&&C(l,"aria-label",r),b&&b.p&&(!u||A[0]&524288)&&_t(b,g,S,S[19],u?pt(g,S[19],A,null):gt(S[19]),null),(!u||A[0]&32)&&de(s,"bx--tabs__nav--hidden",S[5]),st(e,D=Fe(w,[{role:"navigation"},A[0]&1024&&S[10]])),de(e,"bx--tabs",!0),de(e,"bx--tabs--container",S[0]==="container"),$&&$.p&&(!u||A[0]&524288)&&_t($,V,S,S[19],u?pt(V,S[19],A,Vi):gt(S[19]),il)},i(S){u||(_(o.$$.fragment,S),_(b,S),_($,S),u=!0)},o(S){p(o.$$.fragment,S),p(b,S),p($,S),u=!1},d(S){S&&h(e),m&&m.d(),H(o),b&&b.d(S),i[26](null),S&&h(f),$&&$.d(S),c=!1,Ge(d)}}}function Ni(i,e,l){let t,n;const o=["selected","type","autoWidth","iconDescription","triggerHref"];let r=ke(e,o),a,s,f,u,{$$slots:c={},$$scope:d}=e,{selected:m=0}=e,{type:g="default"}=e,{autoWidth:b=!1}=e,{iconDescription:w="Show menu options"}=e,{triggerHref:D="#"}=e;const V=bt(),$=it([]);me(i,$,te=>l(18,f=te));const S=rl($,te=>te.reduce((le,ye)=>({...le,[ye.id]:ye}),{}));me(i,S,te=>l(28,u=te));const A=it(b),F=it(void 0);me(i,F,te=>l(16,a=te));const I=it([]);me(i,I,te=>l(17,s=te));const y=rl(I,te=>te.reduce((le,ye)=>({...le,[ye.id]:ye}),{})),P=it(void 0);let k=null;ar("Tabs",{tabs:$,contentById:y,selectedTab:F,selectedContent:P,useAutoWidth:A,add:te=>{$.update(le=>[...le,{...te,index:le.length}])},addContent:te=>{I.update(le=>[...le,{...te,index:le.length}])},update:te=>{l(14,B=u[te].index)},change:async te=>{let le=B+te;le<0?le=f.length-1:le>=f.length&&(le=0);let ye=f[le].disabled;for(;ye;)le=le+te,le<0?le=f.length-1:le>=f.length&&(le=0),ye=f[le].disabled;l(14,B=le),await Sr();const we=k==null?void 0:k.querySelectorAll("[role='tab']")[B];we==null||we.focus()}}),yr(()=>{l(12,m=B),Y>-1&&Y!==B&&V("change",B),Y=B});let N=!0,B=m,Y=-1;function ee(te){je.call(this,i,te)}function L(te){je.call(this,i,te)}const K=()=>{l(5,N=!N)},Q=()=>{l(5,N=!N)},se=()=>{l(5,N=!N)};function fe(te){Pe[te?"unshift":"push"](()=>{k=te,l(4,k)})}return i.$$set=te=>{l(11,e=ce(ce({},e),Se(te))),l(10,r=ke(e,o)),"selected"in te&&l(12,m=te.selected),"type"in te&&l(0,g=te.type),"autoWidth"in te&&l(13,b=te.autoWidth),"iconDescription"in te&&l(1,w=te.iconDescription),"triggerHref"in te&&l(2,D=te.triggerHref),"$$scope"in te&&l(19,d=te.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&4096&&l(14,B=m),i.$$.dirty[0]&278528&&l(3,t=f[B]||void 0),i.$$.dirty[0]&147456&&l(15,n=s[B]||void 0),i.$$.dirty[0]&32776&&(t&&F.set(t.id),n&&P.set(n.id)),i.$$.dirty[0]&65536&&a&&l(5,N=!0),i.$$.dirty[0]&8192&&A.set(b)},e=Se(e),[g,w,D,t,k,N,$,S,F,I,r,e,m,b,B,n,a,s,f,d,c,ee,L,K,Q,se,fe]}class Ti extends be{constructor(e){super(),ve(this,e,Ni,Ci,_e,{selected:12,type:0,autoWidth:13,iconDescription:1,triggerHref:2},null,[-1,-1])}}const Mi=Ti;function zi(i){let e;return{c(){e=W(i[1])},l(l){e=Z(l,i[1])},m(l,t){T(l,e,t)},p(l,t){t&2&&ue(e,l[1])},d(l){l&&h(e)}}}function Fi(i){let e,l,t,n,o,r,a;const s=i[15].default,f=mt(s,i,i[14],null),u=f||zi(i);let c=[{tabindex:"-1"},{role:"presentation"},i[12]],d={};for(let m=0;m<c.length;m+=1)d=ce(d,c[m]);return{c(){e=M("li"),l=M("a"),u&&u.c(),this.h()},l(m){e=z(m,"LI",{tabindex:!0,role:!0});var g=E(e);l=z(g,"A",{role:!0,tabindex:!0,"aria-selected":!0,"aria-disabled":!0,id:!0,href:!0,style:!0});var b=E(l);u&&u.l(b),b.forEach(h),g.forEach(h),this.h()},h(){C(l,"role","tab"),C(l,"tabindex",t=i[3]?"-1":i[4]),C(l,"aria-selected",i[6]),C(l,"aria-disabled",i[3]),C(l,"id",i[5]),C(l,"href",i[2]),C(l,"style",n=i[7]?"width: auto":void 0),de(l,"bx--tabs__nav-link",!0),st(e,d),de(e,"bx--tabs__nav-item",!0),de(e,"bx--tabs__nav-item--disabled",i[3]),de(e,"bx--tabs__nav-item--selected",i[6])},m(m,g){T(m,e,g),v(e,l),u&&u.m(l,null),i[20](l),o=!0,r||(a=[Ve(e,"click",Et(i[16])),Ve(e,"click",Et(i[21])),Ve(e,"mouseover",i[17]),Ve(e,"mouseenter",i[18]),Ve(e,"mouseleave",i[19]),Ve(e,"keydown",i[22])],r=!0)},p(m,[g]){f?f.p&&(!o||g&16384)&&_t(f,s,m,m[14],o?pt(s,m[14],g,null):gt(m[14]),null):u&&u.p&&(!o||g&2)&&u.p(m,o?g:-1),(!o||g&24&&t!==(t=m[3]?"-1":m[4]))&&C(l,"tabindex",t),(!o||g&64)&&C(l,"aria-selected",m[6]),(!o||g&8)&&C(l,"aria-disabled",m[3]),(!o||g&32)&&C(l,"id",m[5]),(!o||g&4)&&C(l,"href",m[2]),(!o||g&128&&n!==(n=m[7]?"width: auto":void 0))&&C(l,"style",n),st(e,d=Fe(c,[{tabindex:"-1"},{role:"presentation"},g&4096&&m[12]])),de(e,"bx--tabs__nav-item",!0),de(e,"bx--tabs__nav-item--disabled",m[3]),de(e,"bx--tabs__nav-item--selected",m[6])},i(m){o||(_(u,m),o=!0)},o(m){p(u,m),o=!1},d(m){m&&h(e),u&&u.d(m),i[20](null),r=!1,Ge(a)}}}function Ai(i,e,l){let t;const n=["label","href","disabled","tabindex","id","ref"];let o=ke(e,n),r,a,{$$slots:s={},$$scope:f}=e,{label:u=""}=e,{href:c="#"}=e,{disabled:d=!1}=e,{tabindex:m="0"}=e,{id:g="ccs-"+Math.random().toString(36)}=e,{ref:b=null}=e;const{selectedTab:w,useAutoWidth:D,add:V,update:$,change:S}=or("Tabs");me(i,w,B=>l(13,r=B)),me(i,D,B=>l(7,a=B)),V({id:g,label:u,disabled:d});function A(B){je.call(this,i,B)}function F(B){je.call(this,i,B)}function I(B){je.call(this,i,B)}function y(B){je.call(this,i,B)}function P(B){Pe[B?"unshift":"push"](()=>{b=B,l(0,b)})}const k=()=>{d||$(g)},N=({key:B})=>{d||(B==="ArrowRight"?S(1):B==="ArrowLeft"?S(-1):(B===" "||B==="Enter")&&$(g))};return i.$$set=B=>{e=ce(ce({},e),Se(B)),l(12,o=ke(e,n)),"label"in B&&l(1,u=B.label),"href"in B&&l(2,c=B.href),"disabled"in B&&l(3,d=B.disabled),"tabindex"in B&&l(4,m=B.tabindex),"id"in B&&l(5,g=B.id),"ref"in B&&l(0,b=B.ref),"$$scope"in B&&l(14,f=B.$$scope)},i.$$.update=()=>{i.$$.dirty&8224&&l(6,t=r===g)},[b,u,c,d,m,g,t,a,w,D,$,S,o,r,f,s,A,F,I,y,P,k,N]}class Bi extends be{constructor(e){super(),ve(this,e,Ai,Fi,_e,{label:1,href:2,disabled:3,tabindex:4,id:5,ref:0})}}const Rt=Bi;function Pi(i){let e,l,t,n;const o=i[12].default,r=mt(o,i,i[11],null);let a=[{role:"tabpanel"},{"aria-labelledby":i[1]},{"aria-hidden":l=!i[2]},{hidden:t=i[2]?void 0:""},{id:i[0]},i[6]],s={};for(let f=0;f<a.length;f+=1)s=ce(s,a[f]);return{c(){e=M("div"),r&&r.c(),this.h()},l(f){e=z(f,"DIV",{role:!0,"aria-labelledby":!0,"aria-hidden":!0,id:!0});var u=E(e);r&&r.l(u),u.forEach(h),this.h()},h(){st(e,s),de(e,"bx--tab-content",!0)},m(f,u){T(f,e,u),r&&r.m(e,null),n=!0},p(f,[u]){r&&r.p&&(!n||u&2048)&&_t(r,o,f,f[11],n?pt(o,f[11],u,null):gt(f[11]),null),st(e,s=Fe(a,[{role:"tabpanel"},(!n||u&2)&&{"aria-labelledby":f[1]},(!n||u&4&&l!==(l=!f[2]))&&{"aria-hidden":l},(!n||u&4&&t!==(t=f[2]?void 0:""))&&{hidden:t},(!n||u&1)&&{id:f[0]},u&64&&f[6]])),de(e,"bx--tab-content",!0)},i(f){n||(_(r,f),n=!0)},o(f){p(r,f),n=!1},d(f){f&&h(e),r&&r.d(f)}}}function Ri(i,e,l){let t,n,o;const r=["id"];let a=ke(e,r),s,f,u,{$$slots:c={},$$scope:d}=e,{id:m="ccs-"+Math.random().toString(36)}=e;const{selectedContent:g,addContent:b,tabs:w,contentById:D}=or("Tabs");return me(i,g,V=>l(10,u=V)),me(i,w,V=>l(8,s=V)),me(i,D,V=>l(9,f=V)),b({id:m}),i.$$set=V=>{e=ce(ce({},e),Se(V)),l(6,a=ke(e,r)),"id"in V&&l(0,m=V.id),"$$scope"in V&&l(11,d=V.$$scope)},i.$$.update=()=>{i.$$.dirty&1025&&l(2,t=u===m),i.$$.dirty&513&&l(7,n=f[m].index),i.$$.dirty&384&&l(1,o=s[n].id)},[m,o,t,g,w,D,a,n,s,f,u,d,c]}class qi extends be{constructor(e){super(),ve(this,e,Ri,Pi,_e,{id:0})}}const qt=qi;function al(i){let e,l;return{c(){e=ge("title"),l=W(i[1])},l(t){e=pe(t,"title",{});var n=E(e);l=Z(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Hi(i){let e,l,t=i[1]&&al(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=E(e);t&&t.l(a),l=pe(a,"path",{d:!0}),E(l).forEach(h),a.forEach(h),this.h()},h(){C(l,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),De(e,o)},m(r,a){T(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=al(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:G,o:G,d(r){r&&h(e),t&&t.d()}}}function Oi(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[a,s,n,r,t]}class Li extends be{constructor(e){super(),ve(this,e,Oi,Hi,_e,{size:0,title:1})}}function ol(i){let e,l;return{c(){e=ge("title"),l=W(i[1])},l(t){e=pe(t,"title",{});var n=E(e);l=Z(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ji(i){let e,l,t=i[1]&&ol(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=E(e);t&&t.l(a),l=pe(a,"path",{d:!0}),E(l).forEach(h),a.forEach(h),this.h()},h(){C(l,"d","M24 12L16 22 8 12z"),De(e,o)},m(r,a){T(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=ol(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:G,o:G,d(r){r&&h(e),t&&t.d()}}}function Ui(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[a,s,n,r,t]}class Yi extends be{constructor(e){super(),ve(this,e,Ui,ji,_e,{size:0,title:1})}}function fl(i){let e,l;return{c(){e=ge("title"),l=W(i[1])},l(t){e=pe(t,"title",{});var n=E(e);l=Z(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Qi(i){let e,l,t=i[1]&&fl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=E(e);t&&t.l(a),l=pe(a,"path",{d:!0}),E(l).forEach(h),a.forEach(h),this.h()},h(){C(l,"d","M10 16L20 6 21.4 7.4 12.8 16 21.4 24.6 20 26z"),De(e,o)},m(r,a){T(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=fl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:G,o:G,d(r){r&&h(e),t&&t.d()}}}function Wi(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[a,s,n,r,t]}class Zi extends be{constructor(e){super(),ve(this,e,Wi,Qi,_e,{size:0,title:1})}}function ul(i){let e,l;return{c(){e=ge("title"),l=W(i[1])},l(t){e=pe(t,"title",{});var n=E(e);l=Z(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Ji(i){let e,l,t=i[1]&&ul(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=E(e);t&&t.l(a),l=pe(a,"path",{d:!0}),E(l).forEach(h),a.forEach(h),this.h()},h(){C(l,"d","M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"),De(e,o)},m(r,a){T(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=ul(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:G,o:G,d(r){r&&h(e),t&&t.d()}}}function Ki(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[a,s,n,r,t]}class Gi extends be{constructor(e){super(),ve(this,e,Ki,Ji,_e,{size:0,title:1})}}function cl(i){let e,l;return{c(){e=ge("title"),l=W(i[1])},l(t){e=pe(t,"title",{});var n=E(e);l=Z(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Xi(i){let e,l,t=i[1]&&cl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=E(e);t&&t.l(a),l=pe(a,"path",{d:!0}),E(l).forEach(h),a.forEach(h),this.h()},h(){C(l,"d","M26 24v4H6V24H4v4H4a2 2 0 002 2H26a2 2 0 002-2h0V24zM26 14L24.59 12.59 17 20.17 17 2 15 2 15 20.17 7.41 12.59 6 14 16 24 26 14z"),De(e,o)},m(r,a){T(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=cl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:G,o:G,d(r){r&&h(e),t&&t.d()}}}function xi(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[a,s,n,r,t]}class es extends be{constructor(e){super(),ve(this,e,xi,Xi,_e,{size:0,title:1})}}function dl(i){let e,l;return{c(){e=ge("title"),l=W(i[1])},l(t){e=pe(t,"title",{});var n=E(e);l=Z(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ts(i){let e,l,t=i[1]&&dl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=E(e);t&&t.l(a),l=pe(a,"path",{d:!0}),E(l).forEach(h),a.forEach(h),this.h()},h(){C(l,"d","M16 7a3 3 0 113-3A3.0033 3.0033 0 0116 7zm0-4a1 1 0 101 1A1.001 1.001 0 0016 3zM11 30a3 3 0 113-3A3.0033 3.0033 0 0111 30zm0-4a1 1 0 101 1A1.001 1.001 0 0011 26zM7 11a3 3 0 113-3A3.0033 3.0033 0 017 11zM7 7A1 1 0 108 8 1.001 1.001 0 007 7zM21 30a3 3 0 113-3A3.0033 3.0033 0 0121 30zm0-4a1 1 0 101 1A1.001 1.001 0 0021 26zM25 11a3 3 0 113-3A3.0033 3.0033 0 0125 11zm0-4a1 1 0 101 1A1.001 1.001 0 0025 7zM4 21a3 3 0 113-3A3.0033 3.0033 0 014 21zm0-4a1 1 0 101 1A1.001 1.001 0 004 17zM28 21a3 3 0 113-3A3.0033 3.0033 0 0128 21zm0-4a1 1 0 101 1A1.001 1.001 0 0028 17zM16 22a6 6 0 116-6A6.0069 6.0069 0 0116 22zm0-10a4 4 0 104 4A4.0045 4.0045 0 0016 12z"),De(e,o)},m(r,a){T(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=dl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:G,o:G,d(r){r&&h(e),t&&t.d()}}}function ls(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[a,s,n,r,t]}class ns extends be{constructor(e){super(),ve(this,e,ls,ts,_e,{size:0,title:1})}}function hl(i){let e,l;return{c(){e=ge("title"),l=W(i[1])},l(t){e=pe(t,"title",{});var n=E(e);l=Z(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function rs(i){let e,l,t,n=i[1]&&hl(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let a=0;a<o.length;a+=1)r=ce(r,o[a]);return{c(){e=ge("svg"),n&&n.c(),l=ge("path"),t=ge("path"),this.h()},l(a){e=pe(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);n&&n.l(s),l=pe(s,"path",{d:!0}),E(l).forEach(h),t=pe(s,"path",{d:!0}),E(t).forEach(h),s.forEach(h),this.h()},h(){C(l,"d","M17 22L17 14 13 14 13 16 15 16 15 22 12 22 12 24 20 24 20 22 17 22zM16 8a1.5 1.5 0 101.5 1.5A1.5 1.5 0 0016 8z"),C(t,"d","M16,30A14,14,0,1,1,30,16,14,14,0,0,1,16,30ZM16,4A12,12,0,1,0,28,16,12,12,0,0,0,16,4Z"),De(e,r)},m(a,s){T(a,e,s),n&&n.m(e,null),v(e,l),v(e,t)},p(a,[s]){a[1]?n?n.p(a,s):(n=hl(a),n.c(),n.m(e,l)):n&&(n.d(1),n=null),De(e,r=Fe(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:a[0]},s&1&&{height:a[0]},s&4&&a[2],s&8&&a[3]]))},i:G,o:G,d(a){a&&h(e),n&&n.d()}}}function is(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[a,s,n,r,t]}class Ct extends be{constructor(e){super(),ve(this,e,is,rs,_e,{size:0,title:1})}}function ml(i){let e,l;return{c(){e=ge("title"),l=W(i[1])},l(t){e=pe(t,"title",{});var n=E(e);l=Z(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ss(i){let e,l,t=i[1]&&ml(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=E(e);t&&t.l(a),l=pe(a,"path",{d:!0}),E(l).forEach(h),a.forEach(h),this.h()},h(){C(l,"d","M30 6L26 6 26 2 24 2 24 6 20 6 20 8 24 8 24 12 26 12 26 8 30 8 30 6zM24 28.5859l-5.9751-5.9751a9.0234 9.0234 0 10-1.4141 1.4141L22.5859 30zM4 17a7 7 0 117 7A7.0078 7.0078 0 014 17z"),De(e,o)},m(r,a){T(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=ml(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:G,o:G,d(r){r&&h(e),t&&t.d()}}}function as(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[a,s,n,r,t]}class os extends be{constructor(e){super(),ve(this,e,as,ss,_e,{size:0,title:1})}}function _l(i){let e,l;return{c(){e=ge("title"),l=W(i[1])},l(t){e=pe(t,"title",{});var n=E(e);l=Z(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function fs(i){let e,l,t=i[1]&&_l(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=E(e);t&&t.l(a),l=pe(a,"path",{d:!0}),E(l).forEach(h),a.forEach(h),this.h()},h(){C(l,"d","M23,20a5,5,0,0,0-3.89,1.89L11.8,17.32a4.46,4.46,0,0,0,0-2.64l7.31-4.57A5,5,0,1,0,18,7a4.79,4.79,0,0,0,.2,1.32l-7.31,4.57a5,5,0,1,0,0,6.22l7.31,4.57A4.79,4.79,0,0,0,18,25a5,5,0,1,0,5-5ZM23,4a3,3,0,1,1-3,3A3,3,0,0,1,23,4ZM7,19a3,3,0,1,1,3-3A3,3,0,0,1,7,19Zm16,9a3,3,0,1,1,3-3A3,3,0,0,1,23,28Z"),De(e,o)},m(r,a){T(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=_l(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:G,o:G,d(r){r&&h(e),t&&t.d()}}}function us(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[a,s,n,r,t]}class cs extends be{constructor(e){super(),ve(this,e,us,fs,_e,{size:0,title:1})}}function gl(i){let e,l;return{c(){e=ge("title"),l=W(i[1])},l(t){e=pe(t,"title",{});var n=E(e);l=Z(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ds(i){let e,l,t=i[1]&&gl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=E(e);t&&t.l(a),l=pe(a,"path",{d:!0}),E(l).forEach(h),a.forEach(h),this.h()},h(){C(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 18H16V20H2zM6 12H16V14H6zM10 6H16V8H10z"),De(e,o)},m(r,a){T(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=gl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:G,o:G,d(r){r&&h(e),t&&t.d()}}}function hs(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[a,s,n,r,t]}class Nt extends be{constructor(e){super(),ve(this,e,hs,ds,_e,{size:0,title:1})}}function pl(i){let e,l;return{c(){e=ge("title"),l=W(i[1])},l(t){e=pe(t,"title",{});var n=E(e);l=Z(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ms(i){let e,l,t=i[1]&&pl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=E(e);t&&t.l(a),l=pe(a,"path",{d:!0}),E(l).forEach(h),a.forEach(h),this.h()},h(){C(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 6H16V8H2zM6 12H16V14H6zM10 18H16V20H10z"),De(e,o)},m(r,a){T(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=pl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:G,o:G,d(r){r&&h(e),t&&t.d()}}}function _s(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[a,s,n,r,t]}class Tt extends be{constructor(e){super(),ve(this,e,_s,ms,_e,{size:0,title:1})}}function bl(i){let e,l;return{c(){e=ge("title"),l=W(i[1])},l(t){e=pe(t,"title",{});var n=E(e);l=Z(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function gs(i){let e,l,t=i[1]&&bl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=E(e);t&&t.l(a),l=pe(a,"path",{d:!0}),E(l).forEach(h),a.forEach(h),this.h()},h(){C(l,"d","M30 19.415L28.586 18 25 21.587 21.414 18 20 19.415 23.586 23 20 26.586 21.414 28 25 24.414 28.586 28 30 26.586 26.414 23 30 19.415zM10 18H16V20H10zM2 6H16V8H2zM6 12H16V14H6z"),De(e,o)},m(r,a){T(r,e,a),t&&t.m(e,null),v(e,l)},p(r,[a]){r[1]?t?t.p(r,a):(t=bl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:r[0]},a&1&&{height:r[0]},a&4&&r[2],a&8&&r[3]]))},i:G,o:G,d(r){r&&h(e),t&&t.d()}}}function ps(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[a,s,n,r,t]}class vl extends be{constructor(e){super(),ve(this,e,ps,gs,_e,{size:0,title:1})}}function wl(i){let e,l;return{c(){e=ge("title"),l=W(i[1])},l(t){e=pe(t,"title",{});var n=E(e);l=Z(n,i[1]),n.forEach(h)},m(t,n){T(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function bs(i){let e,l,t,n=i[1]&&wl(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let a=0;a<o.length;a+=1)r=ce(r,o[a]);return{c(){e=ge("svg"),n&&n.c(),l=ge("path"),t=ge("path"),this.h()},l(a){e=pe(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=E(e);n&&n.l(s),l=pe(s,"path",{d:!0}),E(l).forEach(h),t=pe(s,"path",{d:!0}),E(t).forEach(h),s.forEach(h),this.h()},h(){C(l,"d","M30.94,15.66A16.69,16.69,0,0,0,16,5,16.69,16.69,0,0,0,1.06,15.66a1,1,0,0,0,0,.68A16.69,16.69,0,0,0,16,27,16.69,16.69,0,0,0,30.94,16.34,1,1,0,0,0,30.94,15.66ZM16,25c-5.3,0-10.9-3.93-12.93-9C5.1,10.93,10.7,7,16,7s10.9,3.93,12.93,9C26.9,21.07,21.3,25,16,25Z"),C(t,"d","M16,10a6,6,0,1,0,6,6A6,6,0,0,0,16,10Zm0,10a4,4,0,1,1,4-4A4,4,0,0,1,16,20Z"),De(e,r)},m(a,s){T(a,e,s),n&&n.m(e,null),v(e,l),v(e,t)},p(a,[s]){a[1]?n?n.p(a,s):(n=wl(a),n.c(),n.m(e,l)):n&&(n.d(1),n=null),De(e,r=Fe(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:a[0]},s&1&&{height:a[0]},s&4&&a[2],s&8&&a[3]]))},i:G,o:G,d(a){a&&h(e),n&&n.d()}}}function vs(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:a=16}=e,{title:s=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,a=f.size),"title"in f&&l(1,s=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[a,s,n,r,t]}class ws extends be{constructor(e){super(),ve(this,e,vs,bs,_e,{size:0,title:1})}}function kl(i){let e;return{c(){e=M("div"),this.h()},l(l){e=z(l,"DIV",{id:!0,style:!0}),E(e).forEach(h),this.h()},h(){C(e,"id","svelte-infinite-scroll"),Ue(e,"width","0")},m(l,t){T(l,e,t),i[11](e)},p:G,d(l){l&&h(e),i[11](null)}}}function ks(i){let e,l=!i[1]&&!i[0]&&kl(i);return{c(){l&&l.c(),e=ne()},l(t){l&&l.l(t),e=ne()},m(t,n){l&&l.m(t,n),T(t,e,n)},p(t,[n]){!t[1]&&!t[0]?l?l.p(t,n):(l=kl(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:G,o:G,d(t){l&&l.d(t),t&&h(e)}}}function $s(i,e,l){let{threshold:t=0}=e,{horizontal:n=!1}=e,{elementScroll:o=null}=e,{hasMore:r=!0}=e,{reverse:a=!1}=e,{window:s=!1}=e;const f=bt();let u=!1,c,d,m,g;const b=V=>{if(!r)return;const $=V.target;w($,a,n)<=t?(!u&&r&&(f("loadMore"),l(8,d=$.scrollHeight),l(9,m=$.scrollTop)),l(7,u=!0)):l(7,u=!1)},w=(V,$,S)=>{const A=V.documentElement?V.documentElement:V;return $?S?A.scrollLeft:A.scrollTop:S?A.scrollWidth-A.clientWidth-A.scrollLeft:A.scrollHeight-A.clientHeight-A.scrollTop};Er(()=>{s?l(10,g=document):o?l(10,g=o):l(10,g=c.parentNode)}),Dr(()=>{g&&(g.removeEventListener("scroll",b),g.removeEventListener("resize",b))});function D(V){Pe[V?"unshift":"push"](()=>{c=V,l(2,c)})}return i.$$set=V=>{"threshold"in V&&l(3,t=V.threshold),"horizontal"in V&&l(4,n=V.horizontal),"elementScroll"in V&&l(0,o=V.elementScroll),"hasMore"in V&&l(5,r=V.hasMore),"reverse"in V&&l(6,a=V.reverse),"window"in V&&l(1,s=V.window)},i.$$.update=()=>{i.$$.dirty&1088&&g&&(a&&l(10,g.scrollTop=g.scrollHeight,g),g.addEventListener("scroll",b),g.addEventListener("resize",b)),i.$$.dirty&1984&&u&&a&&l(10,g.scrollTop=g.scrollHeight-d+m,g)},[o,s,c,t,n,r,a,u,d,m,g,D]}class Ss extends be{constructor(e){super(),ve(this,e,$s,ks,_e,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function ys(i){let e,l,t,n,o,r,a,s;t=new Jr({});const f=i[3].default,u=mt(f,i,i[6],null);return{c(){e=M("div"),l=M("button"),R(t.$$.fragment),n=j(),o=M("span"),u&&u.c(),this.h()},l(c){e=z(c,"DIV",{class:!0});var d=E(e);l=z(d,"BUTTON",{class:!0});var m=E(l);O(t.$$.fragment,m),m.forEach(h),n=U(d),o=z(d,"SPAN",{class:!0});var g=E(o);u&&u.l(g),g.forEach(h),d.forEach(h),this.h()},h(){C(l,"class","opacity-50 hover:opacity-100"),C(o,"class","truncate"),C(e,"class","removable-tag flex items-center gap-x-1")},m(c,d){T(c,e,d),v(e,l),q(t,l,null),v(e,n),v(e,o),u&&u.m(o,null),r=!0,a||(s=Ve(l,"click",jt(i[4])),a=!0)},p(c,d){u&&u.p&&(!r||d&64)&&_t(u,f,c,c[6],r?pt(f,c[6],d,null):gt(c[6]),null)},i(c){r||(_(t.$$.fragment,c),_(u,c),r=!0)},o(c){p(t.$$.fragment,c),p(u,c),r=!1},d(c){c&&h(e),H(t),u&&u.d(c),a=!1,s()}}}function Es(i){let e,l;const t=[{type:i[0]},i[2]];let n={$$slots:{default:[ys]},$$scope:{ctx:i}};for(let o=0;o<t.length;o+=1)n=ce(n,t[o]);return e=new nt({props:n}),e.$on("click",i[5]),{c(){R(e.$$.fragment)},l(o){O(e.$$.fragment,o)},m(o,r){q(e,o,r),l=!0},p(o,[r]){const a=r&5?Fe(t,[r&1&&{type:o[0]},r&4&&fr(o[2])]):{};r&64&&(a.$$scope={dirty:r,ctx:o}),e.$set(a)},i(o){l||(_(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){H(e,o)}}}function Ds(i,e,l){const t=["type"];let n=ke(e,t),{$$slots:o={},$$scope:r}=e;const a=bt();let{type:s}=e;const f=()=>a("remove");function u(c){je.call(this,i,c)}return i.$$set=c=>{e=ce(ce({},e),Se(c)),l(2,n=ke(e,t)),"type"in c&&l(0,s=c.type),"$$scope"in c&&l(6,r=c.$$scope)},[s,a,n,o,f,u,r]}class Bt extends be{constructor(e){super(),ve(this,e,Ds,Es,_e,{type:0})}}function Is(i){let e=(i[2]?"":i[5])+"",l,t,n=i[0][i[1].op]+"",o,r,a;return{c(){l=W(e),t=j(),o=W(n),r=j(),a=W(i[4])},l(s){l=Z(s,e),t=U(s),o=Z(s,n),r=U(s),a=Z(s,i[4])},m(s,f){T(s,l,f),T(s,t,f),T(s,o,f),T(s,r,f),T(s,a,f)},p(s,f){f&36&&e!==(e=(s[2]?"":s[5])+"")&&ue(l,e),f&2&&n!==(n=s[0][s[1].op]+"")&&ue(o,n),f&16&&ue(a,s[4])},d(s){s&&h(l),s&&h(t),s&&h(o),s&&h(r),s&&h(a)}}}function Vs(i){let e,l,t,n,o,r;return l=new Bt({props:{interactive:!0,type:"magenta",$$slots:{default:[Is]},$$scope:{ctx:i}}}),l.$on("click",i[9]),l.$on("remove",i[10]),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(a){e=z(a,"DIV",{class:!0});var s=E(e);O(l.$$.fragment,s),s.forEach(h),this.h()},h(){C(e,"class","filter-pill items-center")},m(a,s){T(a,e,s),q(l,e,null),n=!0,o||(r=Te(t=ze.call(null,e,{text:i[6]})),o=!0)},p(a,[s]){const f={};s&2102&&(f.$$scope={dirty:s,ctx:a}),l.$set(f),t&&Qe(t.update)&&s&64&&t.update.call(null,{text:a[6]})},i(a){n||(_(l.$$.fragment,a),n=!0)},o(a){p(l.$$.fragment,a),n=!1},d(a){a&&h(e),H(l),o=!1,r()}}}function Cs(i,e,l){let t,n,o,r,a;const s={equals:"=",not_equal:"≠",less:"<",less_equal:"≤",greater:">",greater_equal:"≥",in:"in",exists:"exists"};let{filter:f}=e,{hidePath:u=!1}=e;const c=Re();me(i,c,g=>l(7,a=g));const d=()=>Xe({command:xe.EditFilter,namespace:a.namespace,datasetName:a.datasetName,path:n}),m=()=>c.removeFilter(f);return i.$$set=g=>{"filter"in g&&l(1,f=g.filter),"hidePath"in g&&l(2,u=g.hidePath)},i.$$.update=()=>{i.$$.dirty&2&&l(4,t=Ie(f.value||"false")),i.$$.dirty&2&&l(3,n=Ut(f.path)),i.$$.dirty&18&&l(6,o=`${Ee(f.path)} ${s[f.op]} ${t}`),i.$$.dirty&8&&l(5,r=n.at(-1))},[s,f,u,n,t,r,o,a,c,d,m]}class xt extends be{constructor(e){super(),ve(this,e,Cs,Vs,_e,{FILTER_SHORTHANDS:0,filter:1,hidePath:2})}get FILTER_SHORTHANDS(){return this.$$.ctx[0]}}function $l(i){let e,l=i[0].query.concept_namespace+"",t,n,o=i[0].query.concept_name+"",r;return{c(){e=M("div"),t=W(l),n=W(" / "),r=W(o),this.h()},l(a){e=z(a,"DIV",{class:!0});var s=E(e);t=Z(s,l),n=Z(s," / "),r=Z(s,o),s.forEach(h),this.h()},h(){C(e,"class","mb-2 w-full text-center text-xs")},m(a,s){T(a,e,s),v(e,t),v(e,n),v(e,r)},p(a,s){s&1&&l!==(l=a[0].query.concept_namespace+"")&&ue(t,l),s&1&&o!==(o=a[0].query.concept_name+"")&&ue(r,o)},d(a){a&&h(e)}}}function Ns(i){let e=Ee(i[0].path)+"",l,t,n=i[0].query.type+"",o;return{c(){l=W(e),t=W(": "),o=W(n)},l(r){l=Z(r,e),t=Z(r,": "),o=Z(r,n)},m(r,a){T(r,l,a),T(r,t,a),T(r,o,a)},p(r,a){a&1&&e!==(e=Ee(r[0].path)+"")&&ue(l,e),a&1&&n!==(n=r[0].query.type+"")&&ue(o,n)},d(r){r&&h(l),r&&h(t),r&&h(o)}}}function Sl(i){let e,l,t;return l=new Wt({props:{embedding:i[0].query.embedding}}),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{class:!0});var o=E(e);O(l.$$.fragment,o),o.forEach(h),this.h()},h(){C(e,"class","ml-2")},m(n,o){T(n,e,o),q(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.embedding=n[0].query.embedding),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){p(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function yl(i){let e,l;return{c(){e=M("div"),l=W(i[2]),this.h()},l(t){e=z(t,"DIV",{class:!0});var n=E(e);l=Z(n,i[2]),n.forEach(h),this.h()},h(){C(e,"class","mt-2 whitespace-pre-wrap text-left")},m(t,n){T(t,e,n),v(e,l)},p(t,n){n&4&&ue(l,t[2])},d(t){t&&h(e)}}}function Ts(i){let e,l,t,n,o,r,a,s,f=i[0].query.type==="concept"&&$l(i);n=new nt({props:{type:i[1],$$slots:{default:[Ns]},$$scope:{ctx:i}}});let u=(i[0].query.type==="semantic"||i[0].query.type==="concept")&&Sl(i),c=i[2]&&yl(i);return{c(){f&&f.c(),e=j(),l=M("div"),t=M("div"),R(n.$$.fragment),o=j(),u&&u.c(),r=j(),c&&c.c(),a=ne(),this.h()},l(d){f&&f.l(d),e=U(d),l=z(d,"DIV",{class:!0});var m=E(l);t=z(m,"DIV",{class:!0});var g=E(t);O(n.$$.fragment,g),g.forEach(h),o=U(m),u&&u.l(m),m.forEach(h),r=U(d),c&&c.l(d),a=ne(),this.h()},h(){C(t,"class","whitespace-nowrap"),C(l,"class","flex items-center justify-items-center")},m(d,m){f&&f.m(d,m),T(d,e,m),T(d,l,m),v(l,t),q(n,t,null),v(l,o),u&&u.m(l,null),T(d,r,m),c&&c.m(d,m),T(d,a,m),s=!0},p(d,[m]){d[0].query.type==="concept"?f?f.p(d,m):(f=$l(d),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null);const g={};m&2&&(g.type=d[1]),m&9&&(g.$$scope={dirty:m,ctx:d}),n.$set(g),d[0].query.type==="semantic"||d[0].query.type==="concept"?u?(u.p(d,m),m&1&&_(u,1)):(u=Sl(d),u.c(),_(u,1),u.m(l,null)):u&&(X(),p(u,1,1,()=>{u=null}),x()),d[2]?c?c.p(d,m):(c=yl(d),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},i(d){s||(_(n.$$.fragment,d),_(u),s=!0)},o(d){p(n.$$.fragment,d),p(u),s=!1},d(d){f&&f.d(d),d&&h(e),d&&h(l),H(n),u&&u.d(),d&&h(r),c&&c.d(d),d&&h(a)}}}function Ms(i,e,l){let t,{search:n}=e,{tagType:o="outline"}=e;return i.$$set=r=>{"search"in r&&l(0,n=r.search),"tagType"in r&&l(1,o=r.tagType)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=n.query.type==="concept"?"":n.query.search)},[n,o,t]}class El extends be{constructor(e){super(),ve(this,e,Ms,Ts,_e,{search:0,tagType:1})}}function zs(i){let e;return{c(){e=W(i[2])},l(l){e=Z(l,i[2])},m(l,t){T(l,e,t)},p(l,t){t&4&&ue(e,l[2])},d(l){l&&h(e)}}}function Fs(i){let e,l,t,n,o,r;return l=new Bt({props:{title:"query",interactive:!0,type:i[1],$$slots:{default:[zs]},$$scope:{ctx:i}}}),l.$on("remove",i[7]),{c(){e=M("button"),R(l.$$.fragment),this.h()},l(a){e=z(a,"BUTTON",{class:!0});var s=E(e);O(l.$$.fragment,s),s.forEach(h),this.h()},h(){C(e,"class","search-pill items-center text-left")},m(a,s){T(a,e,s),q(l,e,null),n=!0,o||(r=[Te(t=ze.call(null,e,{component:El,props:{search:i[0],tagType:i[1]}})),Ve(e,"click",i[6])],o=!0)},p(a,[s]){const f={};s&2&&(f.type=a[1]),s&516&&(f.$$scope={dirty:s,ctx:a}),l.$set(f),t&&Qe(t.update)&&s&3&&t.update.call(null,{component:El,props:{search:a[0],tagType:a[1]}})},i(a){n||(_(l.$$.fragment,a),n=!0)},o(a){p(l.$$.fragment,a),n=!1},d(a){a&&h(e),H(l),o=!1,Ge(r)}}}function As(i,e,l){let t,n,o,{search:r}=e;const a={keyword:"outline",semantic:"teal",concept:"green"},s=Re(),f=We();me(i,f,d=>l(3,o=d));function u(d){je.call(this,i,d)}const c=()=>{var d;return s.removeSearch(r,((d=o.selectRowsSchema)==null?void 0:d.data)||null)};return i.$$set=d=>{"search"in d&&l(0,r=d.search)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=r.query.type==="concept"?r.query.concept_name:r.query.search),i.$$.dirty&1&&l(1,n=r.query.type!=null?a[r.query.type]:"outline")},[r,n,t,o,s,f,u,c]}class wr extends be{constructor(e){super(),ve(this,e,As,Fs,_e,{search:0})}}function Dl(i,e,l){const t=i.slice();return t[26]=e[l][0],t[27]=e[l][1],t}function Il(i,e,l){const t=i.slice();return t[30]=e[l],t}function Vl(i,e,l){const t=i.slice();return t[33]=e[l],t}function Cl(i,e,l){const t=i.slice();return t[36]=e[l],t}function Nl(i,e,l){const t=i.slice();return t[39]=e[l],t}function Bs(i){let e,l,t,n=i[13],o=[];for(let s=0;s<n.length;s+=1)o[s]=zl(Cl(i,n,s));const r=s=>p(o[s],1,1,()=>{o[s]=null});let a=i[8]!=null&&i[8].length>0&&Fl(i);return{c(){e=M("div");for(let s=0;s<o.length;s+=1)o[s].c();l=j(),a&&a.c(),this.h()},l(s){e=z(s,"DIV",{class:!0});var f=E(e);for(let u=0;u<o.length;u+=1)o[u].l(f);l=U(f),a&&a.l(f),f.forEach(h),this.h()},h(){C(e,"class","flex w-full flex-row gap-x-4")},m(s,f){T(s,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);v(e,l),a&&a.m(e,null),t=!0},p(s,f){if(f[0]&57352){n=s[13];let u;for(u=0;u<n.length;u+=1){const c=Cl(s,n,u);o[u]?(o[u].p(c,f),_(o[u],1)):(o[u]=zl(c),o[u].c(),_(o[u],1),o[u].m(e,l))}for(X(),u=n.length;u<o.length;u+=1)r(u);x()}s[8]!=null&&s[8].length>0?a?(a.p(s,f),f[0]&256&&_(a,1)):(a=Fl(s),a.c(),_(a,1),a.m(e,null)):a&&(X(),p(a,1,1,()=>{a=null}),x())},i(s){if(!t){for(let f=0;f<n.length;f+=1)_(o[f]);_(a),t=!0}},o(s){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)p(o[f]);p(a),t=!1},d(s){s&&h(e),Me(o,s),a&&a.d()}}}function Tl(i){let e,l,t=i[14][i[36]]+"",n,o,r,a,s,f=i[3][i[36]],u=[];for(let d=0;d<f.length;d+=1)u[d]=Ml(Nl(i,f,d));const c=d=>p(u[d],1,1,()=>{u[d]=null});return{c(){e=M("div"),l=M("div"),n=W(t),o=j(),r=M("div");for(let d=0;d<u.length;d+=1)u[d].c();a=j(),this.h()},l(d){e=z(d,"DIV",{class:!0});var m=E(e);l=z(m,"DIV",{class:!0});var g=E(l);n=Z(g,t),g.forEach(h),o=U(m),r=z(m,"DIV",{class:!0});var b=E(r);for(let w=0;w<u.length;w+=1)u[w].l(b);b.forEach(h),a=U(m),m.forEach(h),this.h()},h(){C(l,"class","text-xs font-light"),C(r,"class","flex flex-row gap-x-1"),C(e,"class","filter-group items-center rounded bg-slate-50 px-2 py-1 shadow-sm svelte-fyw6pu")},m(d,m){T(d,e,m),v(e,l),v(l,n),v(e,o),v(e,r);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(r,null);v(e,a),s=!0},p(d,m){if(m[0]&40968){f=d[3][d[36]];let g;for(g=0;g<f.length;g+=1){const b=Nl(d,f,g);u[g]?(u[g].p(b,m),_(u[g],1)):(u[g]=Ml(b),u[g].c(),_(u[g],1),u[g].m(r,null))}for(X(),g=f.length;g<u.length;g+=1)c(g);x()}},i(d){if(!s){for(let m=0;m<f.length;m+=1)_(u[m]);s=!0}},o(d){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)p(u[m]);s=!1},d(d){d&&h(e),Me(u,d)}}}function Ml(i){let e,l;function t(){return i[23](i[39])}return e=new wr({props:{search:i[39]}}),e.$on("click",t),{c(){R(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){i=n;const r={};o[0]&8&&(r.search=i[39]),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function zl(i){let e,l,t=i[3][i[36]]&&Tl(i);return{c(){t&&t.c(),e=ne()},l(n){t&&t.l(n),e=ne()},m(n,o){t&&t.m(n,o),T(n,e,o),l=!0},p(n,o){n[3][n[36]]?t?(t.p(n,o),o[0]&8&&_(t,1)):(t=Tl(n),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),x())},i(n){l||(_(t),l=!0)},o(n){p(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function Fl(i){let e,l,t,n,o,r,a=i[8],s=[];for(let u=0;u<a.length;u+=1)s[u]=Al(Vl(i,a,u));const f=u=>p(s[u],1,1,()=>{s[u]=null});return{c(){e=M("div"),l=M("div"),t=W("Filters"),n=j(),o=M("div");for(let u=0;u<s.length;u+=1)s[u].c();this.h()},l(u){e=z(u,"DIV",{class:!0});var c=E(e);l=z(c,"DIV",{class:!0});var d=E(l);t=Z(d,"Filters"),d.forEach(h),n=U(c),o=z(c,"DIV",{class:!0});var m=E(o);for(let g=0;g<s.length;g+=1)s[g].l(m);m.forEach(h),c.forEach(h),this.h()},h(){C(l,"class","text-xs font-light"),C(o,"class","flex flex-row gap-x-1"),C(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-fyw6pu")},m(u,c){T(u,e,c),v(e,l),v(l,t),v(e,n),v(e,o);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(o,null);r=!0},p(u,c){if(c[0]&256){a=u[8];let d;for(d=0;d<a.length;d+=1){const m=Vl(u,a,d);s[d]?(s[d].p(m,c),_(s[d],1)):(s[d]=Al(m),s[d].c(),_(s[d],1),s[d].m(o,null))}for(X(),d=a.length;d<s.length;d+=1)f(d);x()}},i(u){if(!r){for(let c=0;c<a.length;c+=1)_(s[c]);r=!0}},o(u){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)p(s[c]);r=!1},d(u){u&&h(e),Me(s,u)}}}function Al(i){let e,l;return e=new xt({props:{filter:i[33]}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&256&&(o.filter=t[33]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Bl(i){let e=Ie(i[0])+"",l,t,n=Ie(i[1].dataset_manifest.num_items)+"",o,r;return{c(){l=W(e),t=W(" of "),o=W(n),r=W(" rows")},l(a){l=Z(a,e),t=Z(a," of "),o=Z(a,n),r=Z(a," rows")},m(a,s){T(a,l,s),T(a,t,s),T(a,o,s),T(a,r,s)},p(a,s){s[0]&1&&e!==(e=Ie(a[0])+"")&&ue(l,e),s[0]&2&&n!==(n=Ie(a[1].dataset_manifest.num_items)+"")&&ue(o,n)},d(a){a&&h(l),a&&h(t),a&&h(o),a&&h(r)}}}function Pl(i){let e,l;return e=new Ye({props:{class:"top-2",kind:"ghost",expressive:!0,icon:$i,disabled:i[4]==null,iconDescription:"Clear sort"}}),e.$on("click",i[18]),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&16&&(o.disabled=t[4]==null),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Rl(i){let e,l;return e=new $t({props:{value:i[30].path!=null?Ee(i[30].path):void 0,text:i[30].text,disabled:i[30].disabled}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.value=t[30].path!=null?Ee(t[30].path):void 0),n[0]&128&&(o.text=t[30].text),n[0]&128&&(o.disabled=t[30].disabled),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ps(i){let e,l,t=i[27],n=[];for(let r=0;r<t.length;r+=1)n[r]=Rl(Il(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=j()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=U(r)},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);T(r,e,a),l=!0},p(r,a){if(a[0]&128){t=r[27];let s;for(s=0;s<t.length;s+=1){const f=Il(r,t,s);n[s]?(n[s].p(f,a),_(n[s],1)):(n[s]=Rl(f),n[s].c(),_(n[s],1),n[s].m(e.parentNode,e))}for(X(),s=t.length;s<n.length;s+=1)o(s);x()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)_(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(r){Me(n,r),r&&h(e)}}}function ql(i){let e,l;return e=new Gr({props:{label:i[26],$$slots:{default:[Ps]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.label=t[26]),n[0]&128|n[1]&2048&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Rs(i){let e,l,t=Object.entries(i[7]),n=[];for(let r=0;r<t.length;r+=1)n[r]=ql(Dl(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);T(r,e,a),l=!0},p(r,a){if(a[0]&128){t=Object.entries(r[7]);let s;for(s=0;s<t.length;s+=1){const f=Dl(r,t,s);n[s]?(n[s].p(f,a),_(n[s],1)):(n[s]=ql(f),n[s].c(),_(n[s],1),n[s].m(e.parentNode,e))}for(X(),s=t.length;s<n.length;s+=1)o(s);x()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)_(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(r){Me(n,r),r&&h(e)}}}function Hl(i){let e,l;return e=new Gt({props:{open:!0,modalHeading:"Concept",passiveModal:!0,size:"lg",$$slots:{default:[Ls]},$$scope:{ctx:i}}}),e.$on("close",i[24]),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1024|n[1]&2048&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function qs(i){let e,l;return e=new Xr({props:{concept:i[10].data}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1024&&(o.concept=t[10].data),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Hs(i){let e,l=i[10].error.message+"",t;return{c(){e=M("p"),t=W(l)},l(n){e=z(n,"P",{});var o=E(e);t=Z(o,l),o.forEach(h)},m(n,o){T(n,e,o),v(e,t)},p(n,o){o[0]&1024&&l!==(l=n[10].error.message+"")&&ue(t,l)},i:G,o:G,d(n){n&&h(e)}}}function Os(i){let e,l;return e=new He({}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ls(i){let e,l,t,n;const o=[Os,Hs,qs],r=[];function a(s,f){var u,c,d;return(u=s[10])!=null&&u.isLoading?0:(c=s[10])!=null&&c.isError?1:(d=s[10])!=null&&d.isSuccess?2:-1}return~(e=a(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=ne()},l(s){l&&l.l(s),t=ne()},m(s,f){~e&&r[e].m(s,f),T(s,t,f),n=!0},p(s,f){let u=e;e=a(s),e===u?~e&&r[e].p(s,f):(l&&(X(),p(r[u],1,1,()=>{r[u]=null}),x()),~e?(l=r[e],l?l.p(s,f):(l=r[e]=o[e](s),l.c()),_(l,1),l.m(t.parentNode,t)):l=null)},i(s){n||(_(l),n=!0)},o(s){p(l),n=!1},d(s){~e&&r[e].d(s),s&&h(t)}}}function js(i){var A,F,I;let e,l,t,n,o,r,a,s,f,u,c,d,m,g,b,w,D=i[13].length>0&&Bs(i),V=i[0]&&i[1]&&Bl(i),$=i[6]!=null&&Pl(i);u=new Ft({props:{size:"sm",labelText:"Sort by",class:"w-60",selected:i[5],$$slots:{default:[Rs]},$$scope:{ctx:i}}}),u.$on("update",i[16]),m=new Ye({props:{class:"top-2",kind:"ghost",expressive:!0,icon:((A=i[4])==null?void 0:A.order)==null?vl:((F=i[4])==null?void 0:F.order)==="ASC"?Nt:Tt,disabled:i[4]==null,tooltipPosition:"bottom",tooltipAlignment:"end",iconDescription:((I=i[4])==null?void 0:I.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."}}),m.$on("click",i[17]);let S=i[2]&&Hl(i);return{c(){e=M("div"),l=M("div"),D&&D.c(),t=j(),n=M("div"),o=M("div"),V&&V.c(),r=j(),a=M("div"),s=M("div"),$&&$.c(),f=j(),R(u.$$.fragment),c=j(),d=M("div"),R(m.$$.fragment),g=j(),S&&S.c(),b=ne(),this.h()},l(y){e=z(y,"DIV",{class:!0});var P=E(e);l=z(P,"DIV",{class:!0});var k=E(l);D&&D.l(k),t=U(k),n=z(k,"DIV",{class:!0});var N=E(n);o=z(N,"DIV",{class:!0});var B=E(o);V&&V.l(B),B.forEach(h),r=U(N),a=z(N,"DIV",{class:!0});var Y=E(a);s=z(Y,"DIV",{class:!0});var ee=E(s);$&&$.l(ee),ee.forEach(h),f=U(Y),O(u.$$.fragment,Y),c=U(Y),d=z(Y,"DIV",{class:!0});var L=E(d);O(m.$$.fragment,L),L.forEach(h),Y.forEach(h),N.forEach(h),k.forEach(h),P.forEach(h),g=U(y),S&&S.l(y),b=ne(),this.h()},h(){C(o,"class","self-end py-1"),C(s,"class","ml-1 w-8"),C(d,"class","ml-1"),C(a,"class","sort-container flex flex-row items-center"),C(n,"class","flex w-full flex-row items-end justify-between"),C(l,"class","flex w-full flex-col"),C(e,"class","mx-5 my-2 flex items-center justify-between")},m(y,P){T(y,e,P),v(e,l),D&&D.m(l,null),v(l,t),v(l,n),v(n,o),V&&V.m(o,null),v(n,r),v(n,a),v(a,s),$&&$.m(s,null),v(a,f),q(u,a,null),v(a,c),v(a,d),q(m,d,null),T(y,g,P),S&&S.m(y,P),T(y,b,P),w=!0},p(y,P){var B,Y,ee;y[13].length>0&&D.p(y,P),y[0]&&y[1]?V?V.p(y,P):(V=Bl(y),V.c(),V.m(o,null)):V&&(V.d(1),V=null),y[6]!=null?$?($.p(y,P),P[0]&64&&_($,1)):($=Pl(y),$.c(),_($,1),$.m(s,null)):$&&(X(),p($,1,1,()=>{$=null}),x());const k={};P[0]&32&&(k.selected=y[5]),P[0]&128|P[1]&2048&&(k.$$scope={dirty:P,ctx:y}),u.$set(k);const N={};P[0]&16&&(N.icon=((B=y[4])==null?void 0:B.order)==null?vl:((Y=y[4])==null?void 0:Y.order)==="ASC"?Nt:Tt),P[0]&16&&(N.disabled=y[4]==null),P[0]&16&&(N.iconDescription=((ee=y[4])==null?void 0:ee.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."),m.$set(N),y[2]?S?(S.p(y,P),P[0]&4&&_(S,1)):(S=Hl(y),S.c(),_(S,1),S.m(b.parentNode,b)):S&&(X(),p(S,1,1,()=>{S=null}),x())},i(y){w||(_(D),_($),_(u.$$.fragment,y),_(m.$$.fragment,y),_(S),w=!0)},o(y){p(D),p($),p(u.$$.fragment,y),p(m.$$.fragment,y),p(S),w=!1},d(y){y&&h(e),D&&D.d(),V&&V.d(),$&&$.d(),H(u),H(m),y&&h(g),S&&S.d(y),y&&h(b)}}}function Us(i,e,l){let t,n,o,r,a,s,f,u,c,d,m,g=G,b=()=>(g(),g=Be(t,L=>l(10,m=L)),t);i.$$.on_destroy.push(()=>g());let{totalNumRows:w}=e,{manifest:D}=e,V=Re();me(i,V,L=>l(22,d=L));let $=We();me(i,$,L=>l(21,c=L));let S=null;const A=["keyword","semantic","concept"],F={keyword:"Keyword",semantic:"Semantic",concept:"Concepts"};let I={};function y(L){if(L.query.type==="concept"){const K=L.query;l(2,S={namespace:K.concept_namespace,name:K.concept_name})}}let P={};const k=L=>{const K=L.detail;if(K===""){V.setSortBy(null);return}V.setSortBy(Ut(K))},N=()=>{r!=null&&V.setSortBy(r.path),V.setSortOrder((r==null?void 0:r.order)==="ASC"?"DESC":"ASC")},B=()=>{V.clearSorts()},Y=L=>y(L),ee=()=>l(2,S=null);return i.$$set=L=>{"totalNumRows"in L&&l(0,w=L.totalNumRows),"manifest"in L&&l(1,D=L.manifest)},i.$$.update=()=>{var L,K,Q,se;if(i.$$.dirty[0]&4&&b(l(9,t=S?Nr(S.namespace,S.name):void 0)),i.$$.dirty[0]&4194304&&l(20,n=Zt(d)),i.$$.dirty[0]&4194304&&l(8,o=d.query.filters),i.$$.dirty[0]&1048584){l(3,I={});for(const fe of n)fe.query.type&&(fe.query.type in I||l(3,I[fe.query.type]=[],I),I[fe.query.type].push(fe))}if(i.$$.dirty[0]&2097152&&l(4,r=Kr(c)),i.$$.dirty[0]&2097152)for(const fe of((K=(L=c.selectRowsSchema)==null?void 0:L.data)==null?void 0:K.search_results)||[])P[Ee(fe.result_path)]=fe;i.$$.dirty[0]&16&&l(5,a=r!=null&&r.path?Ee(r.path):""),i.$$.dirty[0]&4194304&&l(6,s=d.query.sort_by),i.$$.dirty[0]&2097248&&l(19,f=((se=(Q=c.selectRowsSchema)==null?void 0:Q.data)==null?void 0:se.schema)!=null?[{path:[""],text:"None",disabled:s==null&&a!==""},...Yt(c.selectRowsSchema.data.schema).filter(fe=>fe.dtype!="embedding"&&fe.dtype!="string_span").map(fe=>({path:fe.path,text:Ee(fe.path.slice(1)),disabled:!1}))]:[]),i.$$.dirty[0]&524288&&l(7,u=f.reduce((fe,te)=>{const le=te.path[0];return(fe[le]=fe[le]||[]).push(te),fe},{}))},[w,D,S,I,r,a,s,u,o,t,m,V,$,A,F,y,k,N,B,f,n,c,d,Y,ee]}class Ys extends be{constructor(e){super(),ve(this,e,Us,js,_e,{totalNumRows:0,manifest:1},null,[-1,-1])}}function Ol(i,e,l){var r,a,s;const t=i.slice();t[19]=e[l],t[23]=l;const n=t[2].length>1?`[${t[23]}]`:"";t[20]=n;const o=((s=(a=(r=t[6].data)==null?void 0:r.ui)==null?void 0:a.markdown_paths)==null?void 0:s.find(f=>qe(f,t[0])))!=null;return t[21]=o,t}function Ll(i){let e,l,t,n=i[0].join(".")+i[20]+"",o,r,a,s,f,u;return s=new xr({props:{text:Ie(i[19]),row:i[1],markdown:i[21],spanPaths:i[4],valuePaths:i[7],datasetViewStore:i[8],datasetStore:i[5]}}),{c(){e=M("div"),l=M("div"),t=M("div"),o=W(n),r=j(),a=M("div"),R(s.$$.fragment),f=j(),this.h()},l(c){e=z(c,"DIV",{class:!0});var d=E(e);l=z(d,"DIV",{class:!0});var m=E(l);t=z(m,"DIV",{class:!0});var g=E(t);o=Z(g,n),g.forEach(h),r=U(m),a=z(m,"DIV",{class:!0});var b=E(a);O(s.$$.fragment,b),b.forEach(h),m.forEach(h),f=U(d),d.forEach(h),this.h()},h(){C(t,"class","sticky top-0 z-10 w-full self-start border-t border-neutral-200 bg-neutral-100 px-2 py-2 pb-2 font-mono font-medium text-neutral-500"),C(a,"class","font-normal"),C(l,"class","flex w-full flex-col"),C(e,"class","flex flex-row")},m(c,d){T(c,e,d),v(e,l),v(l,t),v(t,o),v(l,r),v(l,a),q(s,a,null),v(e,f),u=!0},p(c,d){(!u||d&5)&&n!==(n=c[0].join(".")+c[20]+"")&&ue(o,n);const m={};d&4&&(m.text=Ie(c[19])),d&2&&(m.row=c[1]),d&65&&(m.markdown=c[21]),d&16&&(m.spanPaths=c[4]),d&32&&(m.datasetStore=c[5]),s.$set(m)},i(c){u||(_(s.$$.fragment,c),u=!0)},o(c){p(s.$$.fragment,c),u=!1},d(c){c&&h(e),H(s)}}}function Qs(i){let e,l,t=i[2],n=[];for(let r=0;r<t.length;r+=1)n[r]=Ll(Ol(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);T(r,e,a),l=!0},p(r,[a]){if(a&503){t=r[2];let s;for(s=0;s<t.length;s+=1){const f=Ol(r,t,s);n[s]?(n[s].p(f,a),_(n[s],1)):(n[s]=Ll(f),n[s].c(),_(n[s],1),n[s].m(e.parentNode,e))}for(X(),s=t.length;s<n.length;s+=1)o(s);x()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)_(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(r){Me(n,r),r&&h(e)}}}function Ws(i,e,l){let t,n,o,r,a,s,f,u,c,d,m,g,b=G,w=()=>(b(),b=Be(u,y=>l(6,g=y)),u);i.$$.on_destroy.push(()=>b());let{path:D}=e,{row:V}=e,{field:$}=e,S=[];const A=Re();me(i,A,y=>l(17,d=y));const F=We();me(i,F,y=>l(5,m=y));const I=m.visibleFields||[];return i.$$set=y=>{"path"in y&&l(0,D=y.path),"row"in y&&l(1,V=y.row),"field"in y&&l(10,$=y.field)},i.$$.update=()=>{if(i.$$.dirty&1024&&l(16,t=et($)),i.$$.dirty&65536&&l(13,n=t.filter(y=>Tr(y.signal))),i.$$.dirty&65536&&l(12,o=t.filter(y=>{var P;return((P=y.signal)==null?void 0:P.signal_name)==="concept_labels"})),i.$$.dirty&65536&&l(11,r=t.filter(y=>{var P;return((P=y.signal)==null?void 0:P.signal_name)==="semantic_similarity"})),i.$$.dirty&65536&&l(14,a=t.filter(y=>{var P;return((P=y.signal)==null?void 0:P.signal_name)==="substring_search"})),i.$$.dirty&65536&&l(15,s=t.filter(y=>y.dtype==="string_span")),i.$$.dirty&32768&&l(4,f=s.map(y=>y.path)),i.$$.dirty&63488)for(const y of s){const k=et(y).filter(Y=>Y.dtype!="string_span").filter(Y=>I==null?void 0:I.some(ee=>qe(ee.path,Y.path))).filter(Y=>Y.dtype!=null&&Y.dtype!="embedding"),N=y.path,B=a.find(Y=>ht(y.path,Y.path));if(B!=null){const Y=B.signal;S.push({path:y.path,spanPath:N,type:"keyword",name:Y.query,dtype:y.dtype,signal:Y})}for(const Y of k){const ee=n.find(Q=>ht(Y.path,Q.path)),L=o.find(Q=>ht(Y.path,Q.path)),K=r.find(Q=>ht(Y.path,Q.path));if(ee!=null){const Q=ee.signal;S.push({path:Y.path,spanPath:N,type:"concept_score",name:`${Q.namespace}/${Q.concept_name}`,dtype:Y.dtype,signal:Q})}else if(L!=null){const Q=L.signal;S.push({path:Y.path,spanPath:N,type:"label",name:`${Q.namespace}/${Q.concept_name} label`,dtype:Y.dtype,signal:Q})}else if(K!=null){const Q=K.signal;S.push({path:Y.path,spanPath:N,type:"semantic_similarity",name:`similarity: ${Q.query}`,dtype:Y.dtype,signal:Q})}else S.push({path:Y.path,spanPath:N,type:"metadata",name:Y.path[Y.path.length-1],dtype:Y.dtype})}}i.$$.dirty&131072&&w(l(3,u=Mt(d.namespace,d.datasetName))),i.$$.dirty&3&&l(2,c=Mr(V,D).map(y=>Ze.value(y)).filter(Si))},[D,V,c,u,f,m,g,S,A,F,$,r,o,n,a,s,t,d]}class Zs extends be{constructor(e){super(),ve(this,e,Ws,Qs,_e,{path:0,row:1,field:10})}}function Js(i){let e,l,t,n,o;const r=[i[3],{type:i[0]?"green":"blue"},{icon:i[2]}];let a={};for(let s=0;s<r.length;s+=1)a=ce(a,r[s]);return l=new nt({props:a}),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(s){e=z(s,"DIV",{class:!0});var f=E(e);O(l.$$.fragment,f),f.forEach(h),this.h()},h(){C(e,"class","signal-badge")},m(s,f){T(s,e,f),q(l,e,null),t=!0,n||(o=Te(ze.call(null,e,{text:i[1]})),n=!0)},p(s,[f]){const u=f&13?Fe(r,[f&8&&fr(s[3]),f&1&&{type:s[0]?"green":"blue"},f&4&&{icon:s[2]}]):{};l.$set(u)},i(s){t||(_(l.$$.fragment,s),t=!0)},o(s){p(l.$$.fragment,s),t=!1},d(s){s&&h(e),H(l),n=!1,o()}}}function Ks(i,e,l){const t=["isPreview"];let n=ke(e,t),{isPreview:o=!1}=e;const r=o?"Signal is in preview mode and has not been computed for the whole dataset.":"This field was generated by a signal.",a=o?ws:ns;return i.$$set=s=>{e=ce(ce({},e),Se(s)),l(3,n=ke(e,t)),"isPreview"in s&&l(0,o=s.isPreview)},[o,r,a,n]}class el extends be{constructor(e){super(),ve(this,e,Ks,Js,_e,{isPreview:0})}}function jl(i,e,l){const t=i.slice();return t[0]=e[l],t}function Ul(i){let e,l,t=[],n=new Map,o,r=i[1];const a=s=>Ee(s[0].path);for(let s=0;s<r.length;s+=1){let f=jl(i,r,s),u=a(f);n.set(u,t[s]=Yl(u,f))}return{c(){e=M("div"),l=M("table");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=z(s,"DIV",{class:!0});var f=E(e);l=z(f,"TABLE",{class:!0});var u=E(l);for(let c=0;c<t.length;c+=1)t[c].l(u);u.forEach(h),f.forEach(h),this.h()},h(){C(l,"class","table w-full table-fixed border-collapse px-2 pt-1"),C(e,"class","border-t border-neutral-200 px-2 py-4")},m(s,f){T(s,e,f),v(e,l);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(l,null);o=!0},p(s,f){f&2&&(r=s[1],X(),t=vt(t,f,a,1,s,r,n,l,wt,Yl,null,jl),x())},i(s){if(!o){for(let f=0;f<r.length;f+=1)_(t[f]);o=!0}},o(s){for(let f=0;f<t.length;f+=1)p(t[f]);o=!1},d(s){s&&h(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function Gs(i){let e,l;return e=new el({props:{isPreview:i[0].isPreviewSignal}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&2&&(o.isPreview=t[0].isPreviewSignal),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Xs(i){var t;let e,l;return e=new Wt({props:{hideEmbeddingName:!0,embedding:(t=i[0].field.signal)==null?void 0:t.signal_name}}),{c(){R(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){var a;const r={};o&2&&(r.embedding=(a=n[0].field.signal)==null?void 0:a.signal_name),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function Yl(i,e){let l,t,n,o=e[0].fieldName+"",r,a,s,f,u,c,d,m,g,b=e[0].formattedValue+"",w,D,V,$;const S=[Xs,Gs],A=[];function F(I,y){return I[0].isEmbeddingSignal?0:I[0].isSignal?1:-1}return~(u=F(e))&&(c=A[u]=S[u](e)),{key:i,first:null,c(){l=M("tr"),t=M("td"),n=M("span"),r=W(o),s=j(),f=M("td"),c&&c.c(),d=j(),m=M("td"),g=M("div"),w=W(b),V=j(),this.h()},l(I){l=z(I,"TR",{class:!0});var y=E(l);t=z(y,"TD",{class:!0});var P=E(t);n=z(P,"SPAN",{title:!0});var k=E(n);r=Z(k,o),k.forEach(h),P.forEach(h),s=U(y),f=z(y,"TD",{class:!0});var N=E(f);c&&c.l(N),N.forEach(h),d=U(y),m=z(y,"TD",{class:!0});var B=E(m);g=z(B,"DIV",{title:!0,class:!0});var Y=E(g);w=Z(Y,b),Y.forEach(h),B.forEach(h),V=U(y),y.forEach(h),this.h()},h(){C(n,"title",a=e[0].fieldName),Ue(n,"padding-left",`${e[0].indentLevel*12}px`),C(t,"class","truncate p-2 font-mono text-xs font-medium text-neutral-500"),C(f,"class","w-10"),C(g,"title",D=`${e[0].value}`),C(g,"class","truncate pr-2 text-xs"),de(g,"italic",e[0].formattedValue===null),C(m,"class","p-2"),C(l,"class","border-gray-300"),this.first=l},m(I,y){T(I,l,y),v(l,t),v(t,n),v(n,r),v(l,s),v(l,f),~u&&A[u].m(f,null),v(l,d),v(l,m),v(m,g),v(g,w),v(l,V),$=!0},p(I,y){e=I,(!$||y&2)&&o!==(o=e[0].fieldName+"")&&ue(r,o),(!$||y&2&&a!==(a=e[0].fieldName))&&C(n,"title",a),y&2&&Ue(n,"padding-left",`${e[0].indentLevel*12}px`);let P=u;u=F(e),u===P?~u&&A[u].p(e,y):(c&&(X(),p(A[P],1,1,()=>{A[P]=null}),x()),~u?(c=A[u],c?c.p(e,y):(c=A[u]=S[u](e),c.c()),_(c,1),c.m(f,null)):c=null),(!$||y&2)&&b!==(b=e[0].formattedValue+"")&&ue(w,b),(!$||y&2&&D!==(D=`${e[0].value}`))&&C(g,"title",D),(!$||y&2)&&de(g,"italic",e[0].formattedValue===null)},i(I){$||(_(c),$=!0)},o(I){p(c),$=!1},d(I){I&&h(l),~u&&A[u].d()}}}function xs(i){let e,l,t=i[1].length>0&&Ul(i);return{c(){t&&t.c(),e=ne()},l(n){t&&t.l(n),e=ne()},m(n,o){t&&t.m(n,o),T(n,e,o),l=!0},p(n,[o]){n[1].length>0?t?(t.p(n,o),o&2&&_(t,1)):(t=Ul(n),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(X(),p(t,1,1,()=>{t=null}),x())},i(n){l||(_(t),l=!0)},o(n){p(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function ea(i,e,l){let t,n,o,{row:r}=e,{visibleFields:a}=e;const s=We();me(i,s,c=>l(5,n=c));const f=Xt();me(i,f,c=>l(6,o=c));function u(c){const d=zr(c).filter(g=>ei(g,a)),m=d.filter(g=>{var b;return((b=Ze.field(g))==null?void 0:b.dtype)==="string_span"}).map(g=>Ze.path(g));return d.filter(g=>!m.some(b=>ht(Ze.path(g),b))).map(g=>{var A,F;const b=Ze.field(g),w=Ze.path(g);let D=Ze.value(g);if(b.dtype==="string_span")return null;const V=((A=o.data)==null?void 0:A.some(I=>{var y;return I.name===((y=b.signal)==null?void 0:y.signal_name)}))||!1,$=tt(b);let S;return V||$&&b.dtype==null||b.dtype==="embedding"||b.repeated_field!=null?S="":D==null?S=null:S=Ie(D),{indentLevel:w.length-1,fieldName:w[w.length-1],field:b,path:w,isSignal:$,isPreviewSignal:zt(((F=n.selectRowsSchema)==null?void 0:F.data)||null,w),isEmbeddingSignal:V,value:D,formattedValue:S}}).filter(g=>g!=null)}return i.$$set=c=>{"row"in c&&l(0,r=c.row),"visibleFields"in c&&l(4,a=c.visibleFields)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=u(r))},[r,t,s,f,a]}class ta extends be{constructor(e){super(),ve(this,e,ea,xs,_e,{row:0,visibleFields:4})}}function Ql(i,e,l){const t=i.slice();return t[5]=e[l],t[7]=l,t}function Wl(i){let e,l=[],t=new Map,n,o,r=i[1];const a=s=>Ee(s[5].path);for(let s=0;s<r.length;s+=1){let f=Ql(i,r,s),u=a(f);t.set(u,l[s]=Zl(u,f))}return{c(){e=M("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=z(s,"DIV",{class:!0});var f=E(e);for(let u=0;u<l.length;u+=1)l[u].l(f);f.forEach(h),this.h()},h(){C(e,"class","w-2/3 overflow-hidden"),kt(()=>i[4].call(e))},m(s,f){T(s,e,f);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);n=Ir(e,i[4].bind(e)),o=!0},p(s,f){f&3&&(r=s[1],X(),l=vt(l,f,a,1,s,r,t,e,wt,Zl,null,Ql),x())},i(s){if(!o){for(let f=0;f<r.length;f+=1)_(l[f]);o=!0}},o(s){for(let f=0;f<l.length;f+=1)p(l[f]);o=!1},d(s){s&&h(e);for(let f=0;f<l.length;f+=1)l[f].d();n()}}}function Zl(i,e){let l,t,n,o;return t=new Zs({props:{row:e[0],path:e[5].path,field:e[5]}}),{key:i,first:null,c(){l=M("div"),R(t.$$.fragment),n=j(),this.h()},l(r){l=z(r,"DIV",{class:!0});var a=E(l);O(t.$$.fragment,a),n=U(a),a.forEach(h),this.h()},h(){C(l,"class","border-gray-100"),de(l,"border-b",e[7]<e[1].length-1),this.first=l},m(r,a){T(r,l,a),q(t,l,null),v(l,n),o=!0},p(r,a){e=r;const s={};a&1&&(s.row=e[0]),a&2&&(s.path=e[5].path),a&2&&(s.field=e[5]),t.$set(s),(!o||a&2)&&de(l,"border-b",e[7]<e[1].length-1)},i(r){o||(_(t.$$.fragment,r),o=!0)},o(r){p(t.$$.fragment,r),o=!1},d(r){r&&h(l),H(t)}}}function la(i){let e,l,t,n,o,r,a,s,f,u=i[1].length>0&&Wl(i);return a=new ta({props:{row:i[0],visibleFields:i[2]}}),{c(){e=M("div"),l=M("div"),u&&u.c(),t=j(),n=M("div"),o=M("div"),r=M("div"),R(a.$$.fragment),this.h()},l(c){e=z(c,"DIV",{class:!0});var d=E(e);l=z(d,"DIV",{class:!0});var m=E(l);u&&u.l(m),t=U(m),n=z(m,"DIV",{class:!0});var g=E(n);o=z(g,"DIV",{class:!0});var b=E(o);r=z(b,"DIV",{style:!0,class:!0});var w=E(r);O(a.$$.fragment,w),w.forEach(h),b.forEach(h),g.forEach(h),m.forEach(h),d.forEach(h),this.h()},h(){C(r,"style",s=`max-height: ${Math.max(Jl,i[3])}px`),C(r,"class","overflow-y-auto"),C(o,"class","sticky top-0 self-start"),C(n,"class","flex h-full w-1/3 bg-neutral-100"),C(l,"class","flex h-full w-full flex-row"),C(e,"class","mx-5 mb-10 rounded border-x border-b border-neutral-200 shadow-md")},m(c,d){T(c,e,d),v(e,l),u&&u.m(l,null),v(l,t),v(l,n),v(n,o),v(o,r),q(a,r,null),f=!0},p(c,[d]){c[1].length>0?u?(u.p(c,d),d&2&&_(u,1)):(u=Wl(c),u.c(),_(u,1),u.m(l,t)):u&&(X(),p(u,1,1,()=>{u=null}),x());const m={};d&1&&(m.row=c[0]),d&4&&(m.visibleFields=c[2]),a.$set(m),(!f||d&8&&s!==(s=`max-height: ${Math.max(Jl,c[3])}px`))&&C(r,"style",s)},i(c){f||(_(u),_(a.$$.fragment,c),f=!0)},o(c){p(u),p(a.$$.fragment,c),f=!1},d(c){c&&h(e),u&&u.d(),H(a)}}}const Jl=320;function na(i,e,l){let{row:t}=e,{mediaFields:n}=e,{visibleFields:o}=e,r=0;function a(){r=this.clientHeight,l(3,r)}return i.$$set=s=>{"row"in s&&l(0,t=s.row),"mediaFields"in s&&l(1,n=s.mediaFields),"visibleFields"in s&&l(2,o=s.visibleFields)},[t,n,o,r,a]}class ra extends be{constructor(e){super(),ve(this,e,na,la,_e,{row:0,mediaFields:1,visibleFields:2})}}function Kl(i,e,l){const t=i.slice();return t[21]=e[l],t}function ia(i){let e,l;return{c(){e=M("div"),l=W("No results."),this.h()},l(t){e=z(t,"DIV",{class:!0});var n=E(e);l=Z(n,"No results."),n.forEach(h),this.h()},h(){C(e,"class","mx-4 mt-8 w-full text-gray-600")},m(t,n){T(t,e,n),v(e,l)},p:G,i:G,o:G,d(t){t&&h(e)}}}function sa(i){let e,l;return{c(){e=M("div"),l=W("Select fields to display"),this.h()},l(t){e=z(t,"DIV",{class:!0});var n=E(e);l=Z(n,"Select fields to display"),n.forEach(h),this.h()},h(){C(e,"class","mt-12 w-full text-center text-gray-600")},m(t,n){T(t,e,n),v(e,l)},p:G,i:G,o:G,d(t){t&&h(e)}}}function aa(i){let e,l;return e=new He({props:{paragraph:!0,lines:3}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function oa(i){var t,n;let e,l;return e=new Kt({props:{lowContrast:!0,title:"Could not fetch schema:",subtitle:((t=i[2].error.body)==null?void 0:t.detail)||((n=i[2])==null?void 0:n.error.message)}}),{c(){R(e.$$.fragment)},l(o){O(e.$$.fragment,o)},m(o,r){q(e,o,r),l=!0},p(o,r){var s,f;const a={};r&4&&(a.subtitle=((s=o[2].error.body)==null?void 0:s.detail)||((f=o[2])==null?void 0:f.error.message)),e.$set(a)},i(o){l||(_(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){H(e,o)}}}function fa(i){var t;let e,l;return e=new Kt({props:{lowContrast:!0,title:"Could not fetch rows:",subtitle:((t=i[3].error.body)==null?void 0:t.detail)||i[3].error.message}}),{c(){R(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){var a;const r={};o&8&&(r.subtitle=((a=n[3].error.body)==null?void 0:a.detail)||n[3].error.message),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function Gl(i){let e,l=[],t=new Map,n,o,r=i[6];const a=f=>Ze.value(f[21][Qt]);for(let f=0;f<r.length;f+=1){let u=Kl(i,r,f),c=a(u);t.set(c,l[f]=Xl(c,u))}let s=i[6].length>0&&xl(i);return{c(){e=M("div");for(let f=0;f<l.length;f+=1)l[f].c();n=j(),s&&s.c(),this.h()},l(f){e=z(f,"DIV",{class:!0});var u=E(e);for(let c=0;c<l.length;c+=1)l[c].l(u);n=U(u),s&&s.l(u),u.forEach(h),this.h()},h(){C(e,"class","flex h-full w-full flex-col overflow-y-scroll")},m(f,u){T(f,e,u);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);v(e,n),s&&s.m(e,null),i[19](e),o=!0},p(f,u){u&98&&(r=f[6],X(),l=vt(l,u,a,1,f,r,t,e,wt,Xl,n,Kl),x()),f[6].length>0?s?(s.p(f,u),u&64&&_(s,1)):(s=xl(f),s.c(),_(s,1),s.m(e,null)):s&&(X(),p(s,1,1,()=>{s=null}),x())},i(f){if(!o){for(let u=0;u<r.length;u+=1)_(l[u]);_(s),o=!0}},o(f){for(let u=0;u<l.length;u+=1)p(l[u]);p(s),o=!1},d(f){f&&h(e);for(let u=0;u<l.length;u+=1)l[u].d();s&&s.d(),i[19](null)}}}function Xl(i,e){let l,t,n;return t=new ra({props:{visibleFields:e[1],row:e[21],mediaFields:e[5]}}),{key:i,first:null,c(){l=ne(),R(t.$$.fragment),this.h()},l(o){l=ne(),O(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){T(o,l,r),q(t,o,r),n=!0},p(o,r){e=o;const a={};r&2&&(a.visibleFields=e[1]),r&64&&(a.row=e[21]),r&32&&(a.mediaFields=e[5]),t.$set(a)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){p(t.$$.fragment,o),n=!1},d(o){o&&h(l),H(t,o)}}}function xl(i){let e,l;return e=new Ss({props:{threshold:100}}),e.$on("loadMore",i[18]),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ua(i){let e,l,t,n,o,r,a;e=new Ys({props:{totalNumRows:i[7],manifest:i[10].data}});const s=[fa,oa,aa,sa,ia],f=[];function u(d,m){var g,b,w,D;return d[3].isError?0:(g=d[2])!=null&&g.isError?1:(b=d[3])!=null&&b.isLoading||d[4].isLoading||(w=d[2])!=null&&w.isLoading?2:d[1].length===0?3:(D=d[3])!=null&&D.isSuccess&&d[6]&&d[6].length===0?4:-1}~(t=u(i))&&(n=f[t]=s[t](i));let c=i[6]&&i[1].length>0&&i[4].isSuccess&&i[5]!=null&&Gl(i);return{c(){R(e.$$.fragment),l=j(),n&&n.c(),o=j(),c&&c.c(),r=ne()},l(d){O(e.$$.fragment,d),l=U(d),n&&n.l(d),o=U(d),c&&c.l(d),r=ne()},m(d,m){q(e,d,m),T(d,l,m),~t&&f[t].m(d,m),T(d,o,m),c&&c.m(d,m),T(d,r,m),a=!0},p(d,[m]){const g={};m&128&&(g.totalNumRows=d[7]),m&1024&&(g.manifest=d[10].data),e.$set(g);let b=t;t=u(d),t===b?~t&&f[t].p(d,m):(n&&(X(),p(f[b],1,1,()=>{f[b]=null}),x()),~t?(n=f[t],n?n.p(d,m):(n=f[t]=s[t](d),n.c()),_(n,1),n.m(o.parentNode,o)):n=null),d[6]&&d[1].length>0&&d[4].isSuccess&&d[5]!=null?c?(c.p(d,m),m&114&&_(c,1)):(c=Gl(d),c.c(),_(c,1),c.m(r.parentNode,r)):c&&(X(),p(c,1,1,()=>{c=null}),x())},i(d){a||(_(e.$$.fragment,d),_(n),_(c),a=!0)},o(d){p(e.$$.fragment,d),p(n),p(c),a=!1},d(d){H(e,d),d&&h(l),~t&&f[t].d(d),d&&h(o),c&&c.d(d),d&&h(r)}}}function ca(i,e,l){let t,n,o,r,a,s,f,u,c,d,m,g=G,b=()=>(g(),g=Be(r,B=>l(3,m=B)),r),w,D,V=G,$=()=>(V(),V=Be(t,B=>l(4,D=B)),t),S;i.$$.on_destroy.push(()=>g()),i.$$.on_destroy.push(()=>V());let A=Re();me(i,A,B=>l(17,w=B));let F=We();me(i,F,B=>l(16,d=B));const I=Fr(w.namespace,w.datasetName);me(i,I,B=>l(10,S=B));let y=null;const P=it(y),k=()=>m==null?void 0:m.fetchNextPage();function N(B){Pe[B?"unshift":"push"](()=>{y=B,l(0,y)})}return i.$$.update=()=>{var B,Y,ee,L;i.$$.dirty&131072&&$(l(9,t=ur(w.namespace,w.datasetName))),i.$$.dirty&131088&&l(15,n=D.isSuccess?ti(w):void 0),i.$$.dirty&65536&&l(2,o=d.selectRowsSchema),i.$$.dirty&163844&&b(l(8,r=Ar(w.namespace,w.datasetName,n||{},o!=null&&o.isSuccess?o.data.schema:void 0))),i.$$.dirty&8&&l(7,a=(B=m.data)==null?void 0:B.pages[0].total_num_rows),i.$$.dirty&8&&l(6,s=(Y=m.data)==null?void 0:Y.pages.flatMap(K=>K.rows)),i.$$.dirty&65536&&l(1,f=(d.visibleFields||[]).sort((K,Q)=>Ee(K.path)>Ee(Q.path)?1:-1)),i.$$.dirty&6&&l(14,u=((ee=o==null?void 0:o.data)==null?void 0:ee.schema)!=null?li((L=o==null?void 0:o.data)==null?void 0:L.schema,f):null),i.$$.dirty&81920&&l(5,c=ni(u,d.settings)),i.$$.dirty&1&&P.set(y)},ar(ri,P),[y,f,o,m,D,c,s,a,r,t,S,A,F,I,u,n,d,w,k,N]}class da extends be{constructor(e){super(),ve(this,e,ca,ua,_e,{})}}function en(i,e,l){const t=i.slice();return t[43]=e[l],t}function tn(i,e,l){const t=i.slice();return t[46]=e[l],t}function ha(i){let e,l=i[49].text+"",t;return{c(){e=M("div"),t=W(l)},l(n){e=z(n,"DIV",{});var o=E(e);t=Z(o,l),o.forEach(h)},m(n,o){T(n,e,o),v(e,t)},p(n,o){o[1]&262144&&l!==(l=n[49].text+"")&&ue(t,l)},i:G,o:G,d(n){n&&h(e)}}}function ma(i){let e,l,t,n,o,r,a;return l=new nt({props:{$$slots:{default:[ga]},$$scope:{ctx:i}}}),{c(){e=M("div"),R(l.$$.fragment),t=j(),n=M("div"),o=W(`Keyword search:
                    `),r=W(i[0]),this.h()},l(s){e=z(s,"DIV",{class:!0});var f=E(e);O(l.$$.fragment,f),t=U(f),n=z(f,"DIV",{class:!0});var u=E(n);o=Z(u,`Keyword search:
                    `),r=Z(u,i[0]),u.forEach(h),f.forEach(h),this.h()},h(){C(n,"class","ml-2"),C(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(s,f){T(s,e,f),q(l,e,null),v(e,t),v(e,n),v(n,o),v(n,r),a=!0},p(s,f){const u={};f[1]&524288&&(u.$$scope={dirty:f,ctx:s}),l.$set(u),(!a||f[0]&1)&&ue(r,s[0])},i(s){a||(_(l.$$.fragment,s),a=!0)},o(s){p(l.$$.fragment,s),a=!1},d(s){s&&h(e),H(l)}}}function _a(i){let e,l,t,n,o,r=i[0]!=""?":":"",a,s,f,u;return l=new nt({props:{$$slots:{default:[pa]},$$scope:{ctx:i}}}),{c(){e=M("div"),R(l.$$.fragment),t=j(),n=M("div"),o=W("New concept"),a=W(r),s=j(),f=W(i[0]),this.h()},l(c){e=z(c,"DIV",{class:!0});var d=E(e);O(l.$$.fragment,d),t=U(d),n=z(d,"DIV",{class:!0});var m=E(n);o=Z(m,"New concept"),a=Z(m,r),s=U(m),f=Z(m,i[0]),m.forEach(h),d.forEach(h),this.h()},h(){C(n,"class","ml-2"),C(e,"class","new-concept flex flex-row items-center justify-items-center")},m(c,d){T(c,e,d),q(l,e,null),v(e,t),v(e,n),v(n,o),v(n,a),v(n,s),v(n,f),u=!0},p(c,d){const m={};d[1]&524288&&(m.$$scope={dirty:d,ctx:c}),l.$set(m),(!u||d[0]&1)&&r!==(r=c[0]!=""?":":"")&&ue(a,r),(!u||d[0]&1)&&ue(f,c[0])},i(c){u||(_(l.$$.fragment,c),u=!0)},o(c){p(l.$$.fragment,c),u=!1},d(c){c&&h(e),H(l)}}}function ga(i){let e,l;return e=new os({}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function pa(i){let e,l;return e=new Li({}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ba(i){let e,l,t,n;const o=[_a,ma,ha],r=[];function a(s,f){return s[49].id==="new-concept"?0:s[49].id==="keyword-search"?1:2}return e=a(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},l(s){l.l(s),t=ne()},m(s,f){r[e].m(s,f),T(s,t,f),n=!0},p(s,f){let u=e;e=a(s),e===u?r[e].p(s,f):(X(),p(r[u],1,1,()=>{r[u]=null}),x(),l=r[e],l?l.p(s,f):(l=r[e]=o[e](s),l.c()),_(l,1),l.m(t.parentNode,t))},i(s){n||(_(l),n=!0)},o(s){p(l),n=!1},d(s){r[e].d(s),s&&h(t)}}}function ln(i){let e,l;return e=new $t({props:{value:Ee(i[46]),text:Ee(i[46])}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&512&&(o.value=Ee(t[46])),n[0]&512&&(o.text=Ee(t[46])),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function va(i){let e,l,t=i[9],n=[];for(let r=0;r<t.length;r+=1)n[r]=ln(tn(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);T(r,e,a),l=!0},p(r,a){if(a[0]&512){t=r[9];let s;for(s=0;s<t.length;s+=1){const f=tn(r,t,s);n[s]?(n[s].p(f,a),_(n[s],1)):(n[s]=ln(f),n[s].c(),_(n[s],1),n[s].m(e.parentNode,e))}for(X(),s=t.length;s<n.length;s+=1)o(s);x()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)_(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(r){Me(n,r),r&&h(e)}}}function nn(i){let e,l;return e=new Ft({props:{size:"xl",class:"field-select w-28",selected:i[1]?Ee(i[1]):"",disabled:i[9].length===0,warn:i[9].length===0,$$slots:{default:[va]},$$scope:{ctx:i}}}),e.$on("change",i[21]),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&2&&(o.selected=t[1]?Ee(t[1]):""),n[0]&512&&(o.disabled=t[9].length===0),n[0]&512&&(o.warn=t[9].length===0),n[0]&512|n[1]&524288&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function rn(i){let e,l;return e=new $t({props:{value:i[43].name,text:i[43].name}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&16&&(o.value=t[43].name),n[0]&16&&(o.text=t[43].name),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function wa(i){let e,l,t=i[4].data||[],n=[];for(let r=0;r<t.length;r+=1)n[r]=rn(en(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);T(r,e,a),l=!0},p(r,a){if(a[0]&16){t=r[4].data||[];let s;for(s=0;s<t.length;s+=1){const f=en(r,t,s);n[s]?(n[s].p(f,a),_(n[s],1)):(n[s]=rn(f),n[s].c(),_(n[s],1),n[s].m(e.parentNode,e))}for(X(),s=t.length;s<n.length;s+=1)o(s);x()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)_(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(r){Me(n,r),r&&h(e)}}}function ka(i){let e,l,t,n,o,r,a,s,f,u,c,d,m,g=i[9],b,w,D,V,$,S,A;t=new Ye({props:{disabled:i[3]||i[8],iconDescription:"Compute embedding index. This may be expensive.",icon:i[3]?ll:i[8]?nl:Ot}}),t.$on("click",i[35]);function F(P){i[37](P)}let I={size:"xl",items:i[5],shouldFilterItem:$a,placeholder:i[7],$$slots:{default:[ba,({item:P})=>({49:P}),({item:P})=>[0,P?262144:0]]},$$scope:{ctx:i}};i[0]!==void 0&&(I.value=i[0]),u=new Di({props:I}),i[36](u),Pe.push(()=>Je(u,"value",F)),u.$on("select",i[20]);let y=nn(i);return V=new Ft({props:{size:"xl",selected:i[2]||"",name:i[2]||"",$$slots:{default:[wa]},$$scope:{ctx:i}}}),V.$on("change",i[18]),{c(){e=M("div"),l=M("div"),R(t.$$.fragment),n=j(),o=M("div"),r=M("div"),a=M("div"),s=M("div"),f=M("div"),R(u.$$.fragment),d=j(),m=M("div"),y.c(),b=j(),w=M("div"),D=M("div"),R(V.$$.fragment),this.h()},l(P){e=z(P,"DIV",{class:!0});var k=E(e);l=z(k,"DIV",{class:!0});var N=E(l);O(t.$$.fragment,N),N.forEach(h),n=U(k),o=z(k,"DIV",{class:!0});var B=E(o);r=z(B,"DIV",{class:!0});var Y=E(r);a=z(Y,"DIV",{class:!0});var ee=E(a);s=z(ee,"DIV",{class:!0});var L=E(s);f=z(L,"DIV",{class:!0});var K=E(f);O(u.$$.fragment,K),K.forEach(h),L.forEach(h),ee.forEach(h),Y.forEach(h),B.forEach(h),d=U(k),m=z(k,"DIV",{class:!0});var Q=E(m);y.l(Q),Q.forEach(h),b=U(k),w=z(k,"DIV",{class:!0});var se=E(w);D=z(se,"DIV",{class:!0});var fe=E(D);O(V.$$.fragment,fe),fe.forEach(h),se.forEach(h),k.forEach(h),this.h()},h(){C(l,"class","compute-embedding mr-1"),de(l,"compute-embedding-indexing",i[8]),C(f,"class","flex-grow"),C(s,"class","flex w-full flex-row items-start justify-items-start"),C(a,"class","flex flex-row"),C(r,"class","w-full"),C(o,"class","search-container flex w-full flex-grow flex-row"),C(m,"class","mx-1"),C(D,"class","w-28"),C(w,"class","embedding-select mr-8 flex flex-row"),C(e,"class","border-1 flex w-full flex-row items-center px-4")},m(P,k){T(P,e,k),v(e,l),q(t,l,null),v(e,n),v(e,o),v(o,r),v(r,a),v(a,s),v(s,f),q(u,f,null),v(e,d),v(e,m),y.m(m,null),v(e,b),v(e,w),v(w,D),q(V,D,null),$=!0,S||(A=[Te(ze.call(null,m,{text:"Select the field to search over."})),Te(ze.call(null,D,{text:"Select the embedding to use."}))],S=!0)},p(P,k){const N={};k[0]&264&&(N.disabled=P[3]||P[8]),k[0]&264&&(N.icon=P[3]?ll:P[8]?nl:Ot),t.$set(N),(!$||k[0]&256)&&de(l,"compute-embedding-indexing",P[8]);const B={};k[0]&32&&(B.items=P[5]),k[0]&128&&(B.placeholder=P[7]),k[0]&1|k[1]&786432&&(B.$$scope={dirty:k,ctx:P}),!c&&k[0]&1&&(c=!0,B.value=P[0],Ke(()=>c=!1)),u.$set(B),k[0]&512&&_e(g,g=P[9])?(X(),p(y,1,1,G),x(),y=nn(P),y.c(),_(y,1),y.m(m,null)):y.p(P,k);const Y={};k[0]&4&&(Y.selected=P[2]||""),k[0]&4&&(Y.name=P[2]||""),k[0]&16|k[1]&524288&&(Y.$$scope={dirty:k,ctx:P}),V.$set(Y)},i(P){$||(_(t.$$.fragment,P),_(u.$$.fragment,P),_(y),_(V.$$.fragment,P),$=!0)},o(P){p(t.$$.fragment,P),p(u.$$.fragment,P),p(y),p(V.$$.fragment,P),$=!1},d(P){P&&h(e),H(t),i[36](null),H(u),y.d(P),H(V),S=!1,Ge(A)}}}const $a=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-concept";function Sa(i,e,l){let t,n,o,r,a,s,f,u,c,d,m,g,b,w,D,V,$,S,A,F,I,y=G,P=()=>(y(),y=Be(t,ie=>l(33,I=ie)),t),k;i.$$.on_destroy.push(()=>y());const N=Re();me(i,N,ie=>l(32,F=ie));const B=We();me(i,B,ie=>l(31,S=ie));const Y=vr();me(i,Y,ie=>l(34,k=ie));const ee=cr();me(i,ee,ie=>l(40,D=ie));const L=Xt();me(i,L,ie=>l(4,A=ie));const K=(ie,Ce)=>`${Ee(ie||"")}_${Ce}`;let Q={};const se=Br();me(i,se,ie=>l(30,$=ie));const fe=At();me(i,fe,ie=>l(29,V=ie));let te=[],le="",ye;const we=ie=>{l(2,f=ie.target.value),N.setSearchEmbedding(ie.target.value)},$e=()=>{f!=null&&(l(22,Q[K(r,f)]=!0,Q),D.mutate([n,o,{leaf_path:Ut(r||[]),signal:{signal_name:f}}]))};let oe;const ae=(ie,Ce)=>{r==null||f==null||(N.addSearch({path:[Ee(r)],query:{type:"concept",concept_namespace:ie,concept_name:Ce,embedding:f}}),oe.clear())},J=ie=>{if(!(r==null||f==null)){if(ie.detail.selectedId==="new-concept"){le===ye.id&&l(0,le="");const Ce=le.split("/",2);let Ne="",Le="";Ce.length===2?[Ne,Le]=Ce:[Le]=Ce,Xe({command:xe.CreateConcept,namespace:Ne,conceptName:Le,onCreate:rt=>ae(rt.detail.namespace,rt.detail.name)}),oe.clear();return}else if(ie.detail.selectedId==="keyword-search"){if(le=="")return;N.addSearch({path:[Ee(r)],query:{type:"keyword",search:le}}),oe.clear();return}ae(ie.detail.selectedId.namespace,ie.detail.selectedId.name)}},re=ie=>{N.setSearchPath(ie.target.value)},he=()=>{$e()};function Ae(ie){Pe[ie?"unshift":"push"](()=>{oe=ie,l(6,oe)})}function Oe(ie){le=ie,l(0,le)}return i.$$.update=()=>{var ie,Ce;i.$$.dirty[1]&2&&P(l(10,t=Mt(F.namespace,F.datasetName))),i.$$.dirty[1]&2&&(n=F.namespace),i.$$.dirty[1]&2&&(o=F.datasetName),i.$$.dirty[1]&3&&l(1,r=ii(F,S)),i.$$.dirty[0]&2|i.$$.dirty[1]&2&&l(24,a=Zt(F,r)),i.$$.dirty[1]&1&&l(9,s=(S.visibleFields||[]).filter(Ne=>Ne.dtype==="string").map(Ne=>Ee(Ne.path))),i.$$.dirty[0]&18|i.$$.dirty[1]&15&&l(2,f=si(k,I.data,F,S,r,(A.data||[]).map(Ne=>Ne.name))),i.$$.dirty[0]&2|i.$$.dirty[1]&1&&l(28,u=ai(S,r)),i.$$.dirty[0]&268435460&&l(3,c=u!=null&&!!u.includes(f||"")),i.$$.dirty[0]&4194318&&l(8,d=!c&&Q[K(r,f)]),i.$$.dirty[0]&8&&l(7,m=c?"Search by concept or keyword.":'Search by keyword. Click "compute embedding" to search by concept.'),i.$$.dirty[0]&536870912&&l(27,g=(Ce=(ie=V.data)==null?void 0:ie.user)==null?void 0:Ce.id),i.$$.dirty[0]&1207959552&&l(25,b=oi($.data||[],g)),i.$$.dirty[0]&9&&l(23,ye={id:"new-concept",text:le,disabled:!c}),i.$$.dirty[0]&1&&l(26,w={id:"keyword-search",text:le}),i.$$.dirty[0]&1736441865&&l(5,te=$!=null&&$.data?[ye,...le!=""?[w]:[],...b.flatMap(Ne=>Ne.concepts.map(Le=>({id:{namespace:Le.namespace,name:Le.name},text:fi(Le.namespace,Le.name,V.data),disabled:!c||a.some(rt=>rt.query.type==="concept"&&rt.query.concept_namespace===Le.namespace&&rt.query.concept_name===Le.name)})))]:[])},[le,r,f,c,A,te,oe,m,d,s,t,N,B,Y,ee,L,se,fe,we,$e,J,re,Q,ye,a,b,w,g,u,V,$,S,F,I,k,he,Ae,Oe]}class ya extends be{constructor(e){super(),ve(this,e,Sa,ka,_e,{},null,[-1,-1])}}function Ea(i){let e,l;return e=new Ye({props:{$$slots:{default:[Ia]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&512&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Da(i){let e,l;return{c(){e=M("span"),l=W("Invalid query"),this.h()},l(t){e=z(t,"SPAN",{class:!0});var n=E(e);l=Z(n,"Invalid query"),n.forEach(h),this.h()},h(){C(e,"class","text-red-500")},m(t,n){T(t,e,n),v(e,l)},p:G,i:G,o:G,d(t){t&&h(e)}}}function Ia(i){let e;return{c(){e=W("Apply")},l(l){e=Z(l,"Apply")},m(l,t){T(l,e,t)},d(l){l&&h(e)}}}function Va(i){let e,l,t,n,o,r,a,s,f,u,c;const d=[Da,Ea],m=[];function g(b,w){return b[0]?b[3]?1:-1:0}return~(r=g(i))&&(a=m[r]=d[r](i)),{c(){e=M("pre"),l=W(""),t=W(i[2]),n=W(`
`),o=j(),a&&a.c(),s=ne(),this.h()},l(b){e=z(b,"PRE",{class:!0,contenteditable:!0});var w=E(e);l=Z(w,""),t=Z(w,i[2]),n=Z(w,`
`),w.forEach(h),o=U(b),a&&a.l(b),s=ne(),this.h()},h(){C(e,"class","whitespace-pre bg-gray-50 p-4 font-mono"),C(e,"contenteditable",""),i[1]===void 0&&kt(()=>i[8].call(e)),de(e,"outline-red-500",!i[0])},m(b,w){T(b,e,w),v(e,l),v(e,t),v(e,n),i[1]!==void 0&&(e.innerText=i[1]),T(b,o,w),~r&&m[r].m(b,w),T(b,s,w),f=!0,u||(c=Ve(e,"input",i[8]),u=!0)},p(b,[w]){(!f||w&4)&&Vr(t,b[2]),w&2&&b[1]!==e.innerText&&(e.innerText=b[1]),(!f||w&1)&&de(e,"outline-red-500",!b[0]);let D=r;r=g(b),r===D?~r&&m[r].p(b,w):(a&&(X(),p(m[D],1,1,()=>{m[D]=null}),x()),~r?(a=m[r],a?a.p(b,w):(a=m[r]=d[r](b),a.c()),_(a,1),a.m(s.parentNode,s)):a=null)},i(b){f||(_(a),f=!0)},o(b){p(a),f=!1},d(b){b&&h(e),b&&h(o),~r&&m[r].d(b),b&&h(s),u=!1,c()}}}function Ca(i,e,l){let t,n,o,r,a;const s=Re();me(i,s,d=>l(7,a=d));let f=!0;function u(){at(s,a.query=JSON.parse(o),a)}function c(){o=this.innerText,l(1,o),l(2,n),l(6,t),l(7,a)}return i.$$.update=()=>{if(i.$$.dirty&128&&l(6,t=a.query),i.$$.dirty&64&&l(2,n=t?JSON.stringify(t,null,2):""),i.$$.dirty&4&&l(1,o=n),i.$$.dirty&2)try{JSON.parse(o),l(0,f=!0)}catch{l(0,f=!1)}i.$$.dirty&67&&l(3,r=f&&!ui(JSON.parse(o),t))},[f,o,n,r,s,u,t,a,c]}class Na extends be{constructor(e){super(),ve(this,e,Ca,Va,_e,{})}}function sn(i){let e,l;return e=new Rr({props:{light:!0,flipped:!0,$$slots:{default:[Ta]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&1073742079&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function an(i){let e,l;return e=new dt({props:{text:"Sort by"}}),e.$on("click",i[20]),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function on(i){let e,l;return e=new dt({props:{text:"Filter"}}),e.$on("click",i[21]),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function fn(i){let e,l,t,n,o,r;return l=new dt({props:{disabled:!i[7],text:"Compute embedding"}}),l.$on("click",i[22]),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(a){e=z(a,"DIV",{class:!0});var s=E(e);O(l.$$.fragment,s),s.forEach(h),this.h()},h(){C(e,"class","w-full")},m(a,s){T(a,e,s),q(l,e,null),n=!0,o||(r=Te(t=ze.call(null,e,{text:i[7]?"":"User does not have access to compute embeddings over this dataset."})),o=!0)},p(a,s){const f={};s&128&&(f.disabled=!a[7]),l.$set(f),t&&Qe(t.update)&&s&128&&t.update.call(null,{text:a[7]?"":"User does not have access to compute embeddings over this dataset."})},i(a){n||(_(l.$$.fragment,a),n=!0)},o(a){p(l.$$.fragment,a),n=!1},d(a){a&&h(e),H(l),o=!1,r()}}}function un(i){let e,l;return e=new dt({props:{text:"Preview signal"}}),e.$on("click",i[23]),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function cn(i){let e,l,t,n,o,r;return l=new dt({props:{text:"Compute signal",disabled:!i[7]}}),l.$on("click",i[24]),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(a){e=z(a,"DIV",{class:!0});var s=E(e);O(l.$$.fragment,s),s.forEach(h),this.h()},h(){C(e,"class","w-full")},m(a,s){T(a,e,s),q(l,e,null),n=!0,o||(r=Te(t=ze.call(null,e,{text:i[7]?"":"User does not have access to compute signals over this dataset."})),o=!0)},p(a,s){const f={};s&128&&(f.disabled=!a[7]),l.$set(f),t&&Qe(t.update)&&s&128&&t.update.call(null,{text:a[7]?"":"User does not have access to compute signals over this dataset."})},i(a){n||(_(l.$$.fragment,a),n=!0)},o(a){p(l.$$.fragment,a),n=!1},d(a){a&&h(e),H(l),o=!1,r()}}}function dn(i){let e,l,t,n,o,r;return l=new dt({props:{disabled:!i[6],text:"Delete signal"}}),l.$on("click",i[25]),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(a){e=z(a,"DIV",{class:!0});var s=E(e);O(l.$$.fragment,s),s.forEach(h),this.h()},h(){C(e,"class","w-full")},m(a,s){T(a,e,s),q(l,e,null),n=!0,o||(r=Te(t=ze.call(null,e,{text:i[6]?"":"User does not have access to delete signals for this dataset."})),o=!0)},p(a,s){const f={};s&64&&(f.disabled=!a[6]),l.$set(f),t&&Qe(t.update)&&s&64&&t.update.call(null,{text:a[6]?"":"User does not have access to delete signals for this dataset."})},i(a){n||(_(l.$$.fragment,a),n=!0)},o(a){p(l.$$.fragment,a),n=!1},d(a){a&&h(e),H(l),o=!1,r()}}}function Ta(i){let e=Dt(i[0]),l,t=Ht(i[0]),n,o,r,a,s,f,u=e&&an(i),c=t&&on(i),d=!i[2]&&fn(i),m=!i[2]&&un(i),g=!i[2]&&cn(i),b=i[1]&&dn(i);return{c(){u&&u.c(),l=j(),c&&c.c(),n=j(),d&&d.c(),o=j(),m&&m.c(),r=j(),g&&g.c(),a=j(),b&&b.c(),s=ne()},l(w){u&&u.l(w),l=U(w),c&&c.l(w),n=U(w),d&&d.l(w),o=U(w),m&&m.l(w),r=U(w),g&&g.l(w),a=U(w),b&&b.l(w),s=ne()},m(w,D){u&&u.m(w,D),T(w,l,D),c&&c.m(w,D),T(w,n,D),d&&d.m(w,D),T(w,o,D),m&&m.m(w,D),T(w,r,D),g&&g.m(w,D),T(w,a,D),b&&b.m(w,D),T(w,s,D),f=!0},p(w,D){D&1&&(e=Dt(w[0])),e?u?(u.p(w,D),D&1&&_(u,1)):(u=an(w),u.c(),_(u,1),u.m(l.parentNode,l)):u&&(X(),p(u,1,1,()=>{u=null}),x()),D&1&&(t=Ht(w[0])),t?c?(c.p(w,D),D&1&&_(c,1)):(c=on(w),c.c(),_(c,1),c.m(n.parentNode,n)):c&&(X(),p(c,1,1,()=>{c=null}),x()),w[2]?d&&(X(),p(d,1,1,()=>{d=null}),x()):d?(d.p(w,D),D&4&&_(d,1)):(d=fn(w),d.c(),_(d,1),d.m(o.parentNode,o)),w[2]?m&&(X(),p(m,1,1,()=>{m=null}),x()):m?(m.p(w,D),D&4&&_(m,1)):(m=un(w),m.c(),_(m,1),m.m(r.parentNode,r)),w[2]?g&&(X(),p(g,1,1,()=>{g=null}),x()):g?(g.p(w,D),D&4&&_(g,1)):(g=cn(w),g.c(),_(g,1),g.m(a.parentNode,a)),w[1]?b?(b.p(w,D),D&2&&_(b,1)):(b=dn(w),b.c(),_(b,1),b.m(s.parentNode,s)):b&&(X(),p(b,1,1,()=>{b=null}),x())},i(w){f||(_(u),_(c),_(d),_(m),_(g),_(b),f=!0)},o(w){p(u),p(c),p(d),p(m),p(g),p(b),f=!1},d(w){u&&u.d(w),w&&h(l),c&&c.d(w),w&&h(n),d&&d.d(w),w&&h(o),m&&m.d(w),w&&h(r),g&&g.d(w),w&&h(a),b&&b.d(w),w&&h(s)}}}function Ma(i){let e,l,t,n=Ee(i[0].path)+"",o,r,a,s,f;return{c(){e=M("p"),l=W("Confirm deleting "),t=M("code"),o=W(n),r=W(" ?"),a=j(),s=M("p"),f=W("This is a permanent action and cannot be undone."),this.h()},l(u){e=z(u,"P",{class:!0});var c=E(e);l=Z(c,"Confirm deleting "),t=z(c,"CODE",{});var d=E(t);o=Z(d,n),d.forEach(h),r=Z(c," ?"),c.forEach(h),a=U(u),s=z(u,"P",{class:!0});var m=E(s);f=Z(m,"This is a permanent action and cannot be undone."),m.forEach(h),this.h()},h(){C(e,"class","!text-lg"),C(s,"class","mt-2")},m(u,c){T(u,e,c),v(e,l),v(e,t),v(t,o),v(e,r),T(u,a,c),T(u,s,c),v(s,f)},p(u,c){c&1&&n!==(n=Ee(u[0].path)+"")&&ue(o,n)},d(u){u&&h(e),u&&h(a),u&&h(s)}}}function za(i){let e,l,t,n,o=i[8]&&sn(i);function r(s){i[26](s)}let a={danger:!0,modalHeading:"Delete signal",primaryButtonText:"Delete",primaryButtonIcon:i[9].isLoading?Vt:void 0,secondaryButtonText:"Cancel",$$slots:{default:[Ma]},$$scope:{ctx:i}};return i[3]!==void 0&&(a.open=i[3]),l=new Gt({props:a}),Pe.push(()=>Je(l,"open",r)),l.$on("click:button--secondary",i[27]),l.$on("open",i[28]),l.$on("close",i[29]),l.$on("submit",i[14]),{c(){o&&o.c(),e=j(),R(l.$$.fragment)},l(s){o&&o.l(s),e=U(s),O(l.$$.fragment,s)},m(s,f){o&&o.m(s,f),T(s,e,f),q(l,s,f),n=!0},p(s,[f]){s[8]?o?(o.p(s,f),f&256&&_(o,1)):(o=sn(s),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(X(),p(o,1,1,()=>{o=null}),x());const u={};f&512&&(u.primaryButtonIcon=s[9].isLoading?Vt:void 0),f&1073741825&&(u.$$scope={dirty:f,ctx:s}),!t&&f&8&&(t=!0,u.open=s[3],Ke(()=>t=!1)),l.$set(u)},i(s){n||(_(o),_(l.$$.fragment,s),n=!0)},o(s){p(o),p(l.$$.fragment,s),n=!1},d(s){o&&o.d(s),s&&h(e),H(l,s)}}}function Fa(i,e,l){let t,n,o,r,a,s,f,u,c,d,m,g,{field:b}=e,{schema:w}=e,D=!1;const V=Re();me(i,V,Q=>l(19,g=Q));const $=We();me(i,$,Q=>l(18,m=Q));const S=Pr();me(i,S,Q=>l(9,c=Q));const A=At();me(i,A,Q=>l(17,d=Q));function F(){c.mutate([t,n,{signal_path:b.path}],{onSuccess:()=>{l(3,D=!1),V.deleteSignal(b.path)}})}const I=()=>V.addSortBy(b.path),y=()=>Xe({command:xe.EditFilter,namespace:t,datasetName:n,path:b.path}),P=()=>Xe({command:xe.ComputeEmbedding,namespace:t,datasetName:n,path:b==null?void 0:b.path}),k=()=>Xe({command:xe.PreviewConcept,namespace:t,datasetName:n,path:b==null?void 0:b.path}),N=()=>Xe({command:xe.ComputeSignal,namespace:t,datasetName:n,path:b==null?void 0:b.path}),B=()=>l(3,D=!0);function Y(Q){D=Q,l(3,D)}const ee=()=>l(3,D=!1);function L(Q){je.call(this,i,Q)}function K(Q){je.call(this,i,Q)}return i.$$set=Q=>{"field"in Q&&l(0,b=Q.field),"schema"in Q&&l(15,w=Q.schema)},i.$$.update=()=>{var Q,se,fe;i.$$.dirty&524288&&l(5,t=g.namespace),i.$$.dirty&524288&&l(4,n=g.datasetName),i.$$.dirty&32769&&l(2,o=lt(b,w)),i.$$.dirty&1&&l(1,r=tt(b)),i.$$.dirty&262145&&l(16,a=zt(((Q=m.selectRowsSchema)==null?void 0:Q.data)||null,b.path)),i.$$.dirty&65543&&l(8,s=(Dt(b)||Ht(b)||!o||r)&&!a),i.$$.dirty&131072&&l(7,f=(se=d.data)==null?void 0:se.access.dataset.compute_signals),i.$$.dirty&131072&&l(6,u=(fe=d.data)==null?void 0:fe.access.dataset.delete_signals)},[b,r,o,D,n,t,u,f,s,c,V,$,S,A,F,w,a,d,m,g,I,y,P,k,N,B,Y,ee,L,K]}class kr extends be{constructor(e){super(),ve(this,e,Fa,za,_e,{field:0,schema:15})}}function hn(i,e,l){const t=i.slice();t[7]=e[l][0],t[8]=e[l][1];const n=t[2](t[7]);t[9]=n;const o=`${t[8]/t[1]*100}%`;t[10]=o;const r=Ie(t[8]);return t[11]=r,t}function mn(i){let e,l,t=i[9]+"",n,o,r,a,s,f=i[11]+"",u,c,d,m,g;function b(){return i[6](i[7])}return{c(){e=M("button"),l=M("div"),n=W(t),r=j(),a=M("div"),s=M("div"),u=W(f),d=j(),this.h()},l(w){e=z(w,"BUTTON",{class:!0});var D=E(e);l=z(D,"DIV",{title:!0,class:!0});var V=E(l);n=Z(V,t),V.forEach(h),r=U(D),a=z(D,"DIV",{class:!0});var $=E(a);s=z($,"DIV",{title:!0,class:!0});var S=E(s);u=Z(S,f),S.forEach(h),$.forEach(h),d=U(D),D.forEach(h),this.h()},h(){C(l,"title",o=i[9]),C(l,"class","w-48 flex-none truncate px-2"),C(s,"title",c=i[11]),C(s,"class","histogram-bar my-px bg-indigo-200 pl-2 text-xs leading-5"),Ue(s,"width",i[10]),C(a,"class","w-36 border-l border-gray-300 pl-2"),C(e,"class","flex items-center text-left text-xs text-black hover:bg-gray-200")},m(w,D){T(w,e,D),v(e,l),v(l,n),v(e,r),v(e,a),v(a,s),v(s,u),v(e,d),m||(g=Ve(e,"click",b),m=!0)},p(w,D){i=w,D&1&&t!==(t=i[9]+"")&&ue(n,t),D&1&&o!==(o=i[9])&&C(l,"title",o),D&1&&f!==(f=i[11]+"")&&ue(u,f),D&1&&c!==(c=i[11])&&C(s,"title",c),D&3&&Ue(s,"width",i[10])},d(w){w&&h(e),m=!1,g()}}}function Aa(i){let e,l=i[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=mn(hn(i,l,n));return{c(){e=M("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=z(n,"DIV",{class:!0});var o=E(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(h),this.h()},h(){C(e,"class","histogram")},m(n,o){T(n,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(n,[o]){if(o&15){l=n[0];let r;for(r=0;r<l.length;r+=1){const a=hn(n,l,r);t[r]?t[r].p(a,o):(t[r]=mn(a),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},i:G,o:G,d(n){n&&h(e),Me(t,n)}}}function Ba(i,e,l){let t,{field:n}=e,{counts:o}=e,{bins:r}=e;function a(u){if(u==null)return Ie(u);if(r==null||n.bins!=null)return Ie(u);const[c,d]=r[u.toString()];return c==null?`< ${Ie(d)}`:d==null?`≥ ${Ie(c)}`:`${Ie(c)} .. ${Ie(d)}`}const s=bt(),f=u=>s("row-click",{value:u});return i.$$set=u=>{"field"in u&&l(4,n=u.field),"counts"in u&&l(0,o=u.counts),"bins"in u&&l(5,r=u.bins)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=Math.max(...o.map(([u,c])=>c)))},[o,t,a,s,n,r,f]}class Pa extends be{constructor(e){super(),ve(this,e,Ba,Aa,_e,{field:4,counts:0,bins:5})}}function Ra(i){let e,l,t,n,o,r,a,s,f,u,c,d=Ie(i[4].total_count)+"",m,g,b,w,D,V,$,S,A,F,I,y,P=Ie(i[4].approx_count_distinct)+"",k,N,B,Y,ee,L;r=new Ct({props:{class:"inline"}}),V=new Ct({props:{class:"inline"}});let K=i[4].avg_text_length&&_n(i),Q=i[4].min_val&&i[4].max_val&&gn(i);return{c(){e=M("table"),l=M("tbody"),t=M("tr"),n=M("td"),o=M("span"),R(r.$$.fragment),a=j(),s=M("span"),f=W("Total count"),u=j(),c=M("td"),m=W(d),g=j(),b=M("tr"),w=M("td"),D=M("span"),R(V.$$.fragment),$=j(),S=M("span"),A=W("Unique values"),F=j(),I=M("td"),y=W("~"),k=W(P),N=j(),K&&K.c(),B=j(),Q&&Q.c(),this.h()},l(se){e=z(se,"TABLE",{class:!0});var fe=E(e);l=z(fe,"TBODY",{});var te=E(l);t=z(te,"TR",{});var le=E(t);n=z(le,"TD",{class:!0});var ye=E(n);o=z(ye,"SPAN",{});var we=E(o);O(r.$$.fragment,we),we.forEach(h),a=U(ye),s=z(ye,"SPAN",{});var $e=E(s);f=Z($e,"Total count"),$e.forEach(h),ye.forEach(h),u=U(le),c=z(le,"TD",{class:!0});var oe=E(c);m=Z(oe,d),oe.forEach(h),le.forEach(h),g=U(te),b=z(te,"TR",{});var ae=E(b);w=z(ae,"TD",{class:!0});var J=E(w);D=z(J,"SPAN",{});var re=E(D);O(V.$$.fragment,re),re.forEach(h),$=U(J),S=z(J,"SPAN",{});var he=E(S);A=Z(he,"Unique values"),he.forEach(h),J.forEach(h),F=U(ae),I=z(ae,"TD",{class:!0});var Ae=E(I);y=Z(Ae,"~"),k=Z(Ae,P),Ae.forEach(h),ae.forEach(h),N=U(te),K&&K.l(te),B=U(te),Q&&Q.l(te),te.forEach(h),fe.forEach(h),this.h()},h(){C(n,"class","svelte-1tctrjz"),C(c,"class","svelte-1tctrjz"),C(w,"class","svelte-1tctrjz"),C(I,"class","svelte-1tctrjz"),C(e,"class","stats-table w-full svelte-1tctrjz")},m(se,fe){T(se,e,fe),v(e,l),v(l,t),v(t,n),v(n,o),q(r,o,null),v(n,a),v(n,s),v(s,f),v(t,u),v(t,c),v(c,m),v(l,g),v(l,b),v(b,w),v(w,D),q(V,D,null),v(w,$),v(w,S),v(S,A),v(b,F),v(b,I),v(I,y),v(I,k),v(l,N),K&&K.m(l,null),v(l,B),Q&&Q.m(l,null),Y=!0,ee||(L=[Te(ze.call(null,o,{text:"Total number of rows where the value is defined."})),Te(ze.call(null,D,{text:"An approximation of the total number of unique values."}))],ee=!0)},p(se,fe){(!Y||fe&16)&&d!==(d=Ie(se[4].total_count)+"")&&ue(m,d),(!Y||fe&16)&&P!==(P=Ie(se[4].approx_count_distinct)+"")&&ue(k,P),se[4].avg_text_length?K?(K.p(se,fe),fe&16&&_(K,1)):(K=_n(se),K.c(),_(K,1),K.m(l,B)):K&&(X(),p(K,1,1,()=>{K=null}),x()),se[4].min_val&&se[4].max_val?Q?(Q.p(se,fe),fe&16&&_(Q,1)):(Q=gn(se),Q.c(),_(Q,1),Q.m(l,null)):Q&&(X(),p(Q,1,1,()=>{Q=null}),x())},i(se){Y||(_(r.$$.fragment,se),_(V.$$.fragment,se),_(K),_(Q),Y=!0)},o(se){p(r.$$.fragment,se),p(V.$$.fragment,se),p(K),p(Q),Y=!1},d(se){se&&h(e),H(r),H(V),K&&K.d(),Q&&Q.d(),ee=!1,Ge(L)}}}function qa(i){let e,l;return e=new He({props:{paragraph:!0,width:"50%"}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ha(i){let e,l,t=i[2].error.message+"",n;return{c(){e=M("p"),l=W("Error: "),n=W(t)},l(o){e=z(o,"P",{});var r=E(e);l=Z(r,"Error: "),n=Z(r,t),r.forEach(h)},m(o,r){T(o,e,r),v(e,l),v(e,n)},p(o,r){r&4&&t!==(t=o[2].error.message+"")&&ue(n,t)},i:G,o:G,d(o){o&&h(e)}}}function _n(i){let e,l,t,n,o,r,a,s,f,u=Ie(i[4].avg_text_length)+"",c,d,m,g;return n=new Ct({props:{class:"inline"}}),{c(){e=M("tr"),l=M("td"),t=M("span"),R(n.$$.fragment),o=j(),r=M("span"),a=W("Average text length"),s=j(),f=M("td"),c=W(u),this.h()},l(b){e=z(b,"TR",{});var w=E(e);l=z(w,"TD",{class:!0});var D=E(l);t=z(D,"SPAN",{});var V=E(t);O(n.$$.fragment,V),V.forEach(h),o=U(D),r=z(D,"SPAN",{});var $=E(r);a=Z($,"Average text length"),$.forEach(h),D.forEach(h),s=U(w),f=z(w,"TD",{class:!0});var S=E(f);c=Z(S,u),S.forEach(h),w.forEach(h),this.h()},h(){C(l,"class","svelte-1tctrjz"),C(f,"class","svelte-1tctrjz")},m(b,w){T(b,e,w),v(e,l),v(l,t),q(n,t,null),v(l,o),v(l,r),v(r,a),v(e,s),v(e,f),v(f,c),d=!0,m||(g=Te(ze.call(null,t,{text:"The average length of the text in characters."})),m=!0)},p(b,w){(!d||w&16)&&u!==(u=Ie(b[4].avg_text_length)+"")&&ue(c,u)},i(b){d||(_(n.$$.fragment,b),d=!0)},o(b){p(n.$$.fragment,b),d=!1},d(b){b&&h(e),H(n),m=!1,g()}}}function gn(i){let e,l,t,n,o,r,a,s,f,u=Ie(i[4].min_val)+"",c,d,m=Ie(i[4].max_val)+"",g,b,w,D;return n=new Ct({props:{class:"inline"}}),{c(){e=M("tr"),l=M("td"),t=M("span"),R(n.$$.fragment),o=j(),r=M("span"),a=W("Range"),s=j(),f=M("td"),c=W(u),d=W(" .. "),g=W(m),this.h()},l(V){e=z(V,"TR",{});var $=E(e);l=z($,"TD",{class:!0});var S=E(l);t=z(S,"SPAN",{});var A=E(t);O(n.$$.fragment,A),A.forEach(h),o=U(S),r=z(S,"SPAN",{});var F=E(r);a=Z(F,"Range"),F.forEach(h),S.forEach(h),s=U($),f=z($,"TD",{class:!0});var I=E(f);c=Z(I,u),d=Z(I," .. "),g=Z(I,m),I.forEach(h),$.forEach(h),this.h()},h(){C(l,"class","svelte-1tctrjz"),C(f,"class","svelte-1tctrjz")},m(V,$){T(V,e,$),v(e,l),v(l,t),q(n,t,null),v(l,o),v(l,r),v(r,a),v(e,s),v(e,f),v(f,c),v(f,d),v(f,g),b=!0,w||(D=Te(ze.call(null,t,{text:"The minimum and maximum value across the dataset"})),w=!0)},p(V,$){(!b||$&16)&&u!==(u=Ie(V[4].min_val)+"")&&ue(c,u),(!b||$&16)&&m!==(m=Ie(V[4].max_val)+"")&&ue(g,m)},i(V){b||(_(n.$$.fragment,V),b=!0)},o(V){p(n.$$.fragment,V),b=!1},d(V){V&&h(e),H(n),w=!1,D()}}}function Oa(i){let e,l,t;return l=new Pa({props:{counts:i[5],bins:i[3],field:i[0]}}),l.$on("row-click",i[11]),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{class:!0});var o=E(e);O(l.$$.fragment,o),o.forEach(h),this.h()},h(){C(e,"class","mt-4")},m(n,o){T(n,e,o),q(l,e,null),t=!0},p(n,o){const r={};o&32&&(r.counts=n[5]),o&8&&(r.bins=n[3]),o&1&&(r.field=n[0]),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){p(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function La(i){let e,l;return e=new He({props:{paragraph:!0,width:"50%"}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ja(i){let e,l,t=i[1].error.message+"",n;return{c(){e=M("p"),l=W("Error: "),n=W(t)},l(o){e=z(o,"P",{});var r=E(e);l=Z(r,"Error: "),n=Z(r,t),r.forEach(h)},m(o,r){T(o,e,r),v(e,l),v(e,n)},p(o,r){r&2&&t!==(t=o[1].error.message+"")&&ue(n,t)},i:G,o:G,d(o){o&&h(e)}}}function Ua(i){let e,l,t,n,o,r,a;const s=[Ha,qa,Ra],f=[];function u(g,b){return g[2].error?0:g[4]==null?1:2}l=u(i),t=f[l]=s[l](i);const c=[ja,La,Oa],d=[];function m(g,b){return g[1].error?0:g[5]==null?1:g[5].length>0?2:-1}return~(o=m(i))&&(r=d[o]=c[o](i)),{c(){e=M("div"),t.c(),n=j(),r&&r.c(),this.h()},l(g){e=z(g,"DIV",{class:!0});var b=E(e);t.l(b),n=U(b),r&&r.l(b),b.forEach(h),this.h()},h(){C(e,"class","p-4")},m(g,b){T(g,e,b),f[l].m(e,null),v(e,n),~o&&d[o].m(e,null),a=!0},p(g,[b]){let w=l;l=u(g),l===w?f[l].p(g,b):(X(),p(f[w],1,1,()=>{f[w]=null}),x(),t=f[l],t?t.p(g,b):(t=f[l]=s[l](g),t.c()),_(t,1),t.m(e,n));let D=o;o=m(g),o===D?~o&&d[o].p(g,b):(r&&(X(),p(d[D],1,1,()=>{d[D]=null}),x()),~o?(r=d[o],r?r.p(g,b):(r=d[o]=c[o](g),r.c()),_(r,1),r.m(e,null)):r=null)},i(g){a||(_(t),_(r),a=!0)},o(g){p(t),p(r),a=!1},d(g){g&&h(e),f[l].d(),~o&&d[o].d()}}}function Ya(i,e,l){let t,n,o,r,a,s=G,f=()=>(s(),s=Be(n,$=>l(1,a=$)),n),u,c=G,d=()=>(c(),c=Be(t,$=>l(2,u=$)),t),m;i.$$.on_destroy.push(()=>s()),i.$$.on_destroy.push(()=>c());let{field:g}=e;const b=Re();me(i,b,$=>l(10,m=$));let w=null;function D($){if($==null)return;if(w!=null){const[A,F]=w[$.toString()];if(A!=null){const I={path:g.path,op:"greater_equal",value:A};b.addFilter(I)}if(F!=null){const I={path:g.path,op:"less",value:F};b.addFilter(I)}return}const S={path:g.path,op:"equals",value:$};b.addFilter(S)}const V=$=>D($.detail.value);return i.$$set=$=>{"field"in $&&l(0,g=$.field)},i.$$.update=()=>{var $;if(i.$$.dirty&1025&&d(l(7,t=qr(m.namespace,m.datasetName,{leaf_path:g.path}))),i.$$.dirty&1025&&f(l(6,n=Hr(m.namespace,m.datasetName,{leaf_path:g.path,filters:m.query.filters}))),i.$$.dirty&2&&l(5,o=a.data!=null?a.data.counts:null),i.$$.dirty&4&&l(4,r=u.data!=null?u.data:null),i.$$.dirty&2)if((($=a.data)==null?void 0:$.bins)!=null){l(3,w={});for(const[S,A,F]of Object.values(a.data.bins))l(3,w[S]=[A,F],w)}else l(3,w=null)},[g,a,u,w,r,o,n,t,b,D,m,V]}class Qa extends be{constructor(e){super(),ve(this,e,Ya,Ua,_e,{field:0})}}function pn(i,e,l){const t=i.slice();return t[38]=e[l],t}function bn(i,e,l){const t=i.slice();return t[41]=e[l],t}function vn(i,e,l){const t=i.slice();return t[44]=e[l],t}function wn(i,e,l){const t=i.slice();return t[47]=e[l],t}function Wa(i){let e,l="{}",t;return{c(){e=M("span"),t=W(l),this.h()},l(n){e=z(n,"SPAN",{class:!0});var o=E(e);t=Z(o,l),o.forEach(h),this.h()},h(){C(e,"class","font-mono")},m(n,o){T(n,e,o),v(e,t)},p:G,i:G,o:G,d(n){n&&h(e)}}}function Za(i){let e,l,t,n;var o=ct[i[1].repeated_field.dtype];function r(a){return{props:{title:a[1].dtype}}}return o&&(l=ft(o,r(i))),{c(){e=M("div"),l&&R(l.$$.fragment),t=W("[]"),this.h()},l(a){e=z(a,"DIV",{class:!0});var s=E(e);l&&O(l.$$.fragment,s),t=Z(s,"[]"),s.forEach(h),this.h()},h(){C(e,"class","flex")},m(a,s){T(a,e,s),l&&q(l,e,null),v(e,t),n=!0},p(a,s){const f={};if(s[0]&2&&(f.title=a[1].dtype),s[0]&2&&o!==(o=ct[a[1].repeated_field.dtype])){if(l){X();const u=l;p(u.$$.fragment,1,0,()=>{H(u,1)}),x()}o?(l=ft(o,r(a)),R(l.$$.fragment),_(l.$$.fragment,1),q(l,e,t)):l=null}else o&&l.$set(f)},i(a){n||(l&&_(l.$$.fragment,a),n=!0)},o(a){l&&p(l.$$.fragment,a),n=!1},d(a){a&&h(e),l&&H(l)}}}function Ja(i){let e,l,t;var n=ct[i[1].dtype];function o(r){return{props:{title:r[1].dtype}}}return n&&(e=ft(n,o(i))),{c(){e&&R(e.$$.fragment),l=ne()},l(r){e&&O(e.$$.fragment,r),l=ne()},m(r,a){e&&q(e,r,a),T(r,l,a),t=!0},p(r,a){const s={};if(a[0]&2&&(s.title=r[1].dtype),a[0]&2&&n!==(n=ct[r[1].dtype])){if(e){X();const f=e;p(f.$$.fragment,1,0,()=>{H(f,1)}),x()}n?(e=ft(n,o(r)),R(e.$$.fragment),_(e.$$.fragment,1),q(e,l.parentNode,l)):e=null}else n&&e.$set(s)},i(r){t||(e&&_(e.$$.fragment,r),t=!0)},o(r){e&&p(e.$$.fragment,r),t=!1},d(r){r&&h(l),e&&H(e,r)}}}function kn(i){let e,l;return e=new Bt({props:{interactive:!0,type:"green",$$slots:{default:[Xa]},$$scope:{ctx:i}}}),e.$on("click",i[32]),e.$on("remove",i[33]),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&16384|n[1]&524288&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ka(i){let e,l;return e=new Tt({}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ga(i){let e,l;return e=new Nt({}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Xa(i){let e,l,t,n,o,r,a,s;const f=[Ga,Ka],u=[];function c(d,m){return d[14]=="ASC"?0:1}return r=c(i),a=u[r]=f[r](i),{c(){e=M("div"),l=M("div"),t=W("Sorted"),n=j(),o=M("span"),a.c(),this.h()},l(d){e=z(d,"DIV",{class:!0});var m=E(e);l=z(m,"DIV",{class:!0});var g=E(l);t=Z(g,"Sorted"),g.forEach(h),n=U(m),o=z(m,"SPAN",{});var b=E(o);a.l(b),b.forEach(h),m.forEach(h),this.h()},h(){C(l,"class","mr-1"),C(e,"class","flex flex-row")},m(d,m){T(d,e,m),v(e,l),v(l,t),v(e,n),v(e,o),u[r].m(o,null),s=!0},p(d,m){let g=r;r=c(d),r!==g&&(X(),p(u[g],1,1,()=>{u[g]=null}),x(),a=u[r],a||(a=u[r]=f[r](d),a.c()),_(a,1),a.m(o,null))},i(d){s||(_(a),s=!0)},o(d){p(a),s=!1},d(d){d&&h(e),u[r].d()}}}function $n(i){let e,l,t=i[7],n=[];for(let r=0;r<t.length;r+=1)n[r]=Sn(wn(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);T(r,e,a),l=!0},p(r,a){if(a[0]&128){t=r[7];let s;for(s=0;s<t.length;s+=1){const f=wn(r,t,s);n[s]?(n[s].p(f,a),_(n[s],1)):(n[s]=Sn(f),n[s].c(),_(n[s],1),n[s].m(e.parentNode,e))}for(X(),s=t.length;s<n.length;s+=1)o(s);x()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)_(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(r){Me(n,r),r&&h(e)}}}function Sn(i){let e,l;return e=new xt({props:{filter:i[47],hidePath:!0}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.filter=t[47]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function yn(i){let e,l;return e=new wr({props:{search:i[44]}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&4096&&(o.search=t[44]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function En(i){var t;let e,l;return e=new Wt({props:{embedding:(t=i[41].signal)==null?void 0:t.signal_name}}),{c(){R(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){var a;const r={};o[0]&65536&&(r.embedding=(a=n[41].signal)==null?void 0:a.signal_name),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function Dn(i){let e,l,t,n,o,r,a;return l=new nt({props:{type:"cyan",icon:Ot}}),l.$on("click",i[34]),n=new el({props:{isPreview:!0}}),n.$on("click",i[35]),{c(){e=M("div"),R(l.$$.fragment),t=j(),R(n.$$.fragment),this.h()},l(s){e=z(s,"DIV",{class:!0});var f=E(e);O(l.$$.fragment,f),f.forEach(h),t=U(s),O(n.$$.fragment,s),this.h()},h(){C(e,"class","compute-signal-preview pointer-events-auto mr-2")},m(s,f){T(s,e,f),q(l,e,null),T(s,t,f),q(n,s,f),o=!0,r||(a=Te(ze.call(null,e,{text:`Compute signal over the column and save the result.

This may be expensive.`})),r=!0)},p:G,i(s){o||(_(l.$$.fragment,s),_(n.$$.fragment,s),o=!0)},o(s){p(l.$$.fragment,s),p(n.$$.fragment,s),o=!1},d(s){s&&h(e),H(l),s&&h(t),H(n,s),r=!1,a()}}}function In(i){let e,l,t;return l=new Ye({props:{isSelected:i[20],kind:"ghost",size:"field",iconDescription:i[20]?"Close statistics":"See statistics",icon:ci}}),l.$on("click",i[36]),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{class:!0});var o=E(e);O(l.$$.fragment,o),o.forEach(h),this.h()},h(){C(e,"class","stats-button flex")},m(n,o){T(n,e,o),q(l,e,null),t=!0},p(n,o){const r={};o[0]&1048576&&(r.isSelected=n[20]),o[0]&1048576&&(r.iconDescription=n[20]?"Close statistics":"See statistics"),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){p(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function Vn(i){let e,l,t,n;return l=new Qa({props:{field:i[1]}}),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(o){e=z(o,"DIV",{class:!0});var r=E(e);O(l.$$.fragment,r),r.forEach(h),this.h()},h(){C(e,"class","px-2")},m(o,r){T(o,e,r),q(l,e,null),n=!0},p(o,r){const a={};r[0]&2&&(a.field=o[1]),l.$set(a)},i(o){n||(_(l.$$.fragment,o),o&&kt(()=>{n&&(t||(t=ot(e,ut,{},!0)),t.run(1))}),n=!0)},o(o){p(l.$$.fragment,o),o&&(t||(t=ot(e,ut,{},!1)),t.run(0)),n=!1},d(o){o&&h(e),H(l),o&&t&&t.end()}}}function Cn(i){let e,l,t=i[18],n=[];for(let r=0;r<t.length;r+=1)n[r]=Nn(pn(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);T(r,e,a),l=!0},p(r,a){if(a[0]&262415){t=r[18];let s;for(s=0;s<t.length;s+=1){const f=pn(r,t,s);n[s]?(n[s].p(f,a),_(n[s],1)):(n[s]=Nn(f),n[s].c(),_(n[s],1),n[s].m(e.parentNode,e))}for(X(),s=t.length;s<n.length;s+=1)o(s);x()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)_(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(r){Me(n,r),r&&h(e)}}}function Nn(i){let e,l;return e=new $r({props:{schema:i[0],field:i[38],indent:i[3]+1,sourceField:i[8]&&lt(i[38],i[0])?i[1]:i[2]}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&262144&&(o.field=t[38]),n[0]&8&&(o.indent=t[3]+1),n[0]&262407&&(o.sourceField=t[8]&&lt(t[38],t[0])?t[1]:t[2]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function xa(i){let e,l,t,n,o,r,a,s,f,u,c,d,m,g,b,w,D,V,$,S,A,F,I,y,P,k,N;n=new Jt({props:{labelText:"Show",hideLabel:!0,checked:i[17]}}),n.$on("change",i[30]);const B=[Ja,Za,Wa],Y=[];function ee(J,re){return J[1].dtype?0:J[1].repeated_field&&J[1].repeated_field.dtype?1:2}a=ee(i),s=Y[a]=B[a](i);let L=i[15]&&kn(i),K=i[13]&&$n(i),Q=i[12],se=[];for(let J=0;J<Q.length;J+=1)se[J]=yn(vn(i,Q,J));const fe=J=>p(se[J],1,1,()=>{se[J]=null});let te=i[16],le=[];for(let J=0;J<te.length;J+=1)le[J]=En(bn(i,te,J));const ye=J=>p(le[J],1,1,()=>{le[J]=null});let we=i[4]&&i[21]&&Dn(i),$e=i[10]&&In(i);S=new kr({props:{field:i[1],schema:i[0]}});let oe=i[20]&&Vn(i),ae=i[18].length&&Cn(i);return{c(){e=M("div"),l=M("div"),t=M("div"),R(n.$$.fragment),o=j(),r=M("div"),s.c(),u=j(),c=M("button"),d=W(i[19]),m=j(),L&&L.c(),g=j(),K&&K.c(),b=j();for(let J=0;J<se.length;J+=1)se[J].c();w=j();for(let J=0;J<le.length;J+=1)le[J].c();D=j(),we&&we.c(),V=j(),$e&&$e.c(),$=j(),R(S.$$.fragment),A=j(),oe&&oe.c(),F=j(),I=M("div"),ae&&ae.c(),this.h()},l(J){e=z(J,"DIV",{class:!0});var re=E(e);l=z(re,"DIV",{class:!0});var he=E(l);t=z(he,"DIV",{});var Ae=E(t);O(n.$$.fragment,Ae),Ae.forEach(h),o=U(he),r=z(he,"DIV",{class:!0});var Oe=E(r);s.l(Oe),Oe.forEach(h),u=U(he),c=z(he,"BUTTON",{class:!0});var ie=E(c);d=Z(ie,i[19]),ie.forEach(h),m=U(he),L&&L.l(he),g=U(he),K&&K.l(he),b=U(he);for(let Ne=0;Ne<se.length;Ne+=1)se[Ne].l(he);w=U(he);for(let Ne=0;Ne<le.length;Ne+=1)le[Ne].l(he);D=U(he),we&&we.l(he),V=U(he),$e&&$e.l(he),$=U(he),O(S.$$.fragment,he),he.forEach(h),A=U(re),oe&&oe.l(re),F=U(re),I=z(re,"DIV",{});var Ce=E(I);ae&&ae.l(Ce),Ce.forEach(h),re.forEach(h),this.h()},h(){Ue(t,"margin-left",i[3]*1.5+"rem"),C(r,"class","rounded-md bg-blue-200 p-0.5"),de(r,"bg-blue-200",i[5]),C(c,"class","ml-2 grow cursor-pointer truncate whitespace-nowrap text-left text-gray-900"),de(c,"cursor-default",!i[10]),Ue(c,"line-height","3rem"),C(l,"class","flex w-full flex-row items-center gap-x-2 border-gray-300 px-4 hover:bg-gray-100"),de(l,"bg-blue-50",i[5]),de(l,"bg-emerald-100",i[4]),de(l,"hover:bg-blue-100",i[5]),C(e,"class","border-gray-300"),de(e,"border-b",!i[5])},m(J,re){T(J,e,re),v(e,l),v(l,t),q(n,t,null),v(l,o),v(l,r),Y[a].m(r,null),v(l,u),v(l,c),v(c,d),v(l,m),L&&L.m(l,null),v(l,g),K&&K.m(l,null),v(l,b);for(let he=0;he<se.length;he+=1)se[he]&&se[he].m(l,null);v(l,w);for(let he=0;he<le.length;he+=1)le[he]&&le[he].m(l,null);v(l,D),we&&we.m(l,null),v(l,V),$e&&$e.m(l,null),v(l,$),q(S,l,null),v(e,A),oe&&oe.m(e,null),v(e,F),v(e,I),ae&&ae.m(I,null),P=!0,k||(N=[Te(f=ze.call(null,r,{text:i[11]})),Ve(c,"click",i[31])],k=!0)},p(J,re){const he={};re[0]&131072&&(he.checked=J[17]),n.$set(he),re[0]&8&&Ue(t,"margin-left",J[3]*1.5+"rem");let Ae=a;if(a=ee(J),a===Ae?Y[a].p(J,re):(X(),p(Y[Ae],1,1,()=>{Y[Ae]=null}),x(),s=Y[a],s?s.p(J,re):(s=Y[a]=B[a](J),s.c()),_(s,1),s.m(r,null)),f&&Qe(f.update)&&re[0]&2048&&f.update.call(null,{text:J[11]}),(!P||re[0]&32)&&de(r,"bg-blue-200",J[5]),(!P||re[0]&524288)&&ue(d,J[19]),(!P||re[0]&1024)&&de(c,"cursor-default",!J[10]),J[15]?L?(L.p(J,re),re[0]&32768&&_(L,1)):(L=kn(J),L.c(),_(L,1),L.m(l,g)):L&&(X(),p(L,1,1,()=>{L=null}),x()),J[13]?K?(K.p(J,re),re[0]&8192&&_(K,1)):(K=$n(J),K.c(),_(K,1),K.m(l,b)):K&&(X(),p(K,1,1,()=>{K=null}),x()),re[0]&4096){Q=J[12];let ie;for(ie=0;ie<Q.length;ie+=1){const Ce=vn(J,Q,ie);se[ie]?(se[ie].p(Ce,re),_(se[ie],1)):(se[ie]=yn(Ce),se[ie].c(),_(se[ie],1),se[ie].m(l,w))}for(X(),ie=Q.length;ie<se.length;ie+=1)fe(ie);x()}if(re[0]&65536){te=J[16];let ie;for(ie=0;ie<te.length;ie+=1){const Ce=bn(J,te,ie);le[ie]?(le[ie].p(Ce,re),_(le[ie],1)):(le[ie]=En(Ce),le[ie].c(),_(le[ie],1),le[ie].m(l,D))}for(X(),ie=te.length;ie<le.length;ie+=1)ye(ie);x()}J[4]&&J[21]?we?(we.p(J,re),re[0]&2097168&&_(we,1)):(we=Dn(J),we.c(),_(we,1),we.m(l,V)):we&&(X(),p(we,1,1,()=>{we=null}),x()),J[10]?$e?($e.p(J,re),re[0]&1024&&_($e,1)):($e=In(J),$e.c(),_($e,1),$e.m(l,$)):$e&&(X(),p($e,1,1,()=>{$e=null}),x());const Oe={};re[0]&2&&(Oe.field=J[1]),re[0]&1&&(Oe.schema=J[0]),S.$set(Oe),(!P||re[0]&32)&&de(l,"bg-blue-50",J[5]),(!P||re[0]&16)&&de(l,"bg-emerald-100",J[4]),(!P||re[0]&32)&&de(l,"hover:bg-blue-100",J[5]),J[20]?oe?(oe.p(J,re),re[0]&1048576&&_(oe,1)):(oe=Vn(J),oe.c(),_(oe,1),oe.m(e,F)):oe&&(X(),p(oe,1,1,()=>{oe=null}),x()),J[18].length?ae?(ae.p(J,re),re[0]&262144&&_(ae,1)):(ae=Cn(J),ae.c(),_(ae,1),ae.m(I,null)):ae&&(X(),p(ae,1,1,()=>{ae=null}),x()),(!P||re[0]&32)&&de(e,"border-b",!J[5])},i(J){if(!P){_(n.$$.fragment,J),_(s),_(L),_(K);for(let re=0;re<Q.length;re+=1)_(se[re]);for(let re=0;re<te.length;re+=1)_(le[re]);_(we),_($e),_(S.$$.fragment,J),_(oe),_(ae),J&&kt(()=>{P&&(y||(y=ot(I,ut,{},!0)),y.run(1))}),P=!0}},o(J){p(n.$$.fragment,J),p(s),p(L),p(K),se=se.filter(Boolean);for(let re=0;re<se.length;re+=1)p(se[re]);le=le.filter(Boolean);for(let re=0;re<le.length;re+=1)p(le[re]);p(we),p($e),p(S.$$.fragment,J),p(oe),p(ae),J&&(y||(y=ot(I,ut,{},!1)),y.run(0)),P=!1},d(J){J&&h(e),H(n),Y[a].d(),L&&L.d(),K&&K.d(),Me(se,J),Me(le,J),we&&we.d(),$e&&$e.d(),H(S),oe&&oe.d(),ae&&ae.d(),J&&y&&y.end(),k=!1,Ge(N)}}}function eo(i,e,l){let t,n,o,r,a,s,f,u,c,d,m,g,b,w,D,V,$,S,A,F,I,y,P,{schema:k}=e,{field:N}=e,{sourceField:B=void 0}=e,{indent:Y=0}=e;const ee=cr();me(i,ee,oe=>l(22,P=oe));const L=Re();me(i,L,oe=>l(9,I=oe));const K=We();me(i,K,oe=>l(29,y=oe));function Q(oe){return oe!=null&&oe.repeated_field?Q(oe.repeated_field):oe!=null&&oe.fields?[...Object.values(oe.fields).filter(ae=>ae.path.at(-1)!==dr)].flatMap(ae=>{const J=Q(ae);return J.some(re=>tt(re))?J:[ae]}).filter(ae=>{var J,re,he,Ae;return!(ae.dtype==="embedding"||ae.signal!=null&&et(ae).some(Oe=>Oe.dtype==="embedding")||((J=ae.signal)==null?void 0:J.signal_name)==="sentences"||((re=ae.signal)==null?void 0:re.signal_name)==="substring_search"||((he=ae.signal)==null?void 0:he.signal_name)==="semantic_similarity"||((Ae=ae.signal)==null?void 0:Ae.signal_name)==="concept_labels")}):[]}const se=()=>{c?L.removeSelectedColumn(r):L.addSelectedColumn(r)},fe=()=>{F&&(a?L.removeExpandedColumn(r):L.addExpandedColumn(r))},te=()=>g==="ASC"?at(L,I.query.sort_order="DESC",I):at(L,I.query.sort_order="ASC",I),le=()=>L.removeSortBy(r),ye=()=>N.signal&&D&&B&&P.mutate([I.namespace,I.datasetName,{leaf_path:B.path,signal:N.signal}]),we=()=>{var oe;return N.signal&&D&&Xe({command:xe.EditPreviewConcept,namespace:I.namespace,datasetName:I.datasetName,path:B==null?void 0:B.path,signalName:(oe=N.signal)==null?void 0:oe.signal_name,value:N.signal})},$e=()=>{a?L.removeExpandedColumn(r):L.addExpandedColumn(r)};return i.$$set=oe=>{"schema"in oe&&l(0,k=oe.schema),"field"in oe&&l(1,N=oe.field),"sourceField"in oe&&l(2,B=oe.sourceField),"indent"in oe&&l(3,Y=oe.indent)},i.$$.update=()=>{var oe,ae,J,re;i.$$.dirty[0]&3&&l(5,t=lt(N,k)),i.$$.dirty[0]&2&&l(21,n=tt(N)),i.$$.dirty[0]&32&&l(8,o=!t),i.$$.dirty[0]&2&&l(6,r=N.path),i.$$.dirty[0]&576&&l(20,a=I.expandedColumns[Ee(r)]||!1),i.$$.dirty[0]&64&&l(28,s=r.at(-1)===It),i.$$.dirty[0]&268435520&&l(19,f=s?r.at(-2):r.at(-1)),i.$$.dirty[0]&2&&l(18,u=Q(N)),i.$$.dirty[0]&536870976&&l(17,c=(oe=y.visibleFields)==null?void 0:oe.some(he=>qe(he.path,r))),i.$$.dirty[0]&258&&l(16,d=o?et(N).filter(he=>he.signal!=null&&et(he).some(Ae=>Ae.dtype==="embedding")):[]),i.$$.dirty[0]&576&&l(15,m=(ae=I.query.sort_by)==null?void 0:ae.some(he=>qe(he,r))),i.$$.dirty[0]&512&&l(14,g=I.query.sort_order),i.$$.dirty[0]&576&&l(7,b=((J=I.query.filters)==null?void 0:J.filter(he=>qe(he.path,r)))||[]),i.$$.dirty[0]&128&&l(13,w=b.length>0),i.$$.dirty[0]&536870976&&l(4,D=zt(((re=y.selectRowsSchema)==null?void 0:re.data)||null,r)),i.$$.dirty[0]&576&&l(12,V=Zt(I,r)),i.$$.dirty[0]&32&&l(26,$=t?". This field was generated by a signal":""),i.$$.dirty[0]&2&&l(27,S=N.dtype??(N.repeated_field&&N.repeated_field.dtype?`${N.repeated_field.dtype}[]`:"object")),i.$$.dirty[0]&201326592&&l(11,A=`Data type: ${S}${$}`),i.$$.dirty[0]&18&&l(10,F=Dt(N)&&!D)},[k,N,B,Y,D,t,r,b,o,I,F,A,V,w,g,m,d,c,u,f,a,n,P,ee,L,K,$,S,s,y,se,fe,te,le,ye,we,$e]}class $r extends be{constructor(e){super(),ve(this,e,eo,xa,_e,{schema:0,field:1,sourceField:2,indent:3},null,[-1,-1])}}function Tn(i,e,l){const t=i.slice();return t[28]=e[l],t}function Mn(i,e,l){const t=i.slice();return t[31]=e[l],t}function to(i){var P;let e,l,t,n,o,r,a,s,f,u,c,d,m,g,b,w,D,V;t=new Jt({props:{labelText:"Show",hideLabel:!0,checked:i[14],disabled:i[10]}}),t.$on("change",i[23]);let $=i[15]&&zn(i),S=i[13]&&Fn(i),A=i[11]&&An(i),F=i[17]&&Pn(i),I=((P=i[1])==null?void 0:P.dtype)&&Rn(i);b=new kr({props:{field:i[1],schema:i[0]}});let y=i[8]&&qn(i);return{c(){e=M("div"),l=M("div"),R(t.$$.fragment),n=j(),o=M("div"),$&&$.c(),r=j(),a=M("div"),s=W(i[16]),f=j(),S&&S.c(),u=j(),A&&A.c(),c=j(),F&&F.c(),d=j(),I&&I.c(),m=j(),g=M("div"),R(b.$$.fragment),w=j(),y&&y.c(),D=ne(),this.h()},l(k){e=z(k,"DIV",{class:!0});var N=E(e);l=z(N,"DIV",{class:!0});var B=E(l);O(t.$$.fragment,B),B.forEach(h),n=U(N),o=z(N,"DIV",{class:!0});var Y=E(o);$&&$.l(Y),Y.forEach(h),r=U(N),a=z(N,"DIV",{class:!0,title:!0});var ee=E(a);s=Z(ee,i[16]),ee.forEach(h),f=U(N),S&&S.l(N),u=U(N),A&&A.l(N),c=U(N),F&&F.l(N),d=U(N),I&&I.l(N),m=U(N),g=z(N,"DIV",{});var L=E(g);O(b.$$.fragment,L),L.forEach(h),N.forEach(h),w=U(k),y&&y.l(k),D=ne(),this.h()},h(){C(l,"class","w-6"),C(o,"class","w-6"),Ue(o,"margin-left",i[2]*24+"px"),C(a,"class","grow truncate whitespace-nowrap pr-2 text-gray-900"),C(a,"title",i[16]),C(e,"class","flex w-full flex-row items-center border-b border-gray-200 px-4 py-2 hover:bg-gray-100"),de(e,"bg-blue-50",i[18]),de(e,"hover:bg-blue-100",i[18])},m(k,N){T(k,e,N),v(e,l),q(t,l,null),v(e,n),v(e,o),$&&$.m(o,null),v(e,r),v(e,a),v(a,s),v(e,f),S&&S.m(e,null),v(e,u),A&&A.m(e,null),v(e,c),F&&F.m(e,null),v(e,d),I&&I.m(e,null),v(e,m),v(e,g),q(b,g,null),T(k,w,N),y&&y.m(k,N),T(k,D,N),V=!0},p(k,N){var ee;const B={};N[0]&16384&&(B.checked=k[14]),N[0]&1024&&(B.disabled=k[10]),t.$set(B),k[15]?$?($.p(k,N),N[0]&32768&&_($,1)):($=zn(k),$.c(),_($,1),$.m(o,null)):$&&(X(),p($,1,1,()=>{$=null}),x()),N[0]&4&&Ue(o,"margin-left",k[2]*24+"px"),(!V||N[0]&65536)&&ue(s,k[16]),(!V||N[0]&65536)&&C(a,"title",k[16]),k[13]?S?(S.p(k,N),N[0]&8192&&_(S,1)):(S=Fn(k),S.c(),_(S,1),S.m(e,u)):S&&(X(),p(S,1,1,()=>{S=null}),x()),k[11]?A?(A.p(k,N),N[0]&2048&&_(A,1)):(A=An(k),A.c(),_(A,1),A.m(e,c)):A&&(X(),p(A,1,1,()=>{A=null}),x()),k[17]?F?(F.p(k,N),N[0]&131072&&_(F,1)):(F=Pn(k),F.c(),_(F,1),F.m(e,d)):F&&(X(),p(F,1,1,()=>{F=null}),x()),(ee=k[1])!=null&&ee.dtype?I?I.p(k,N):(I=Rn(k),I.c(),I.m(e,m)):I&&(I.d(1),I=null);const Y={};N[0]&2&&(Y.field=k[1]),N[0]&1&&(Y.schema=k[0]),b.$set(Y),(!V||N[0]&262144)&&de(e,"bg-blue-50",k[18]),(!V||N[0]&262144)&&de(e,"hover:bg-blue-100",k[18]),k[8]?y?(y.p(k,N),N[0]&256&&_(y,1)):(y=qn(k),y.c(),_(y,1),y.m(D.parentNode,D)):y&&(X(),p(y,1,1,()=>{y=null}),x())},i(k){V||(_(t.$$.fragment,k),_($),_(S),_(A),_(F),_(b.$$.fragment,k),_(y),V=!0)},o(k){p(t.$$.fragment,k),p($),p(S),p(A),p(F),p(b.$$.fragment,k),p(y),V=!1},d(k){k&&h(e),H(t),$&&$.d(),S&&S.d(),A&&A.d(),F&&F.d(),I&&I.d(),H(b),k&&h(w),y&&y.d(k),k&&h(D)}}}function lo(i){let e,l;return e=new tl({props:{field:i[1].repeated_field,indent:i[2],schema:i[0]}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&2&&(o.field=t[1].repeated_field),n[0]&4&&(o.indent=t[2]),n[0]&1&&(o.schema=t[0]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function zn(i){let e,l,t,n,o;return l=new Yi({props:{class:"w-3"}}),{c(){e=M("button"),R(l.$$.fragment),this.h()},l(r){e=z(r,"BUTTON",{class:!0});var a=E(e);O(l.$$.fragment,a),a.forEach(h),this.h()},h(){C(e,"class","p-2 transition hover:opacity-60"),de(e,"rotate-180",!i[8])},m(r,a){T(r,e,a),q(l,e,null),t=!0,n||(o=Ve(e,"click",i[24]),n=!0)},p(r,a){(!t||a[0]&256)&&de(e,"rotate-180",!r[8])},i(r){t||(_(l.$$.fragment,r),t=!0)},o(r){p(l.$$.fragment,r),t=!1},d(r){r&&h(e),H(l),n=!1,o()}}}function Fn(i){let e,l;return e=new Bt({props:{interactive:!0,type:"green",$$slots:{default:[io]},$$scope:{ctx:i}}}),e.$on("click",i[25]),e.$on("remove",i[26]),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&4096|n[1]&8&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function no(i){let e,l;return e=new Tt({}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ro(i){let e,l;return e=new Nt({}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function io(i){let e,l,t,n,o;const r=[ro,no],a=[];function s(f,u){return f[12]=="ASC"?0:1}return l=s(i),t=a[l]=r[l](i),{c(){e=W(`Sorted
        `),t.c(),n=ne()},l(f){e=Z(f,`Sorted
        `),t.l(f),n=ne()},m(f,u){T(f,e,u),a[l].m(f,u),T(f,n,u),o=!0},p(f,u){let c=l;l=s(f),l!==c&&(X(),p(a[c],1,1,()=>{a[c]=null}),x(),t=a[l],t||(t=a[l]=r[l](f),t.c()),_(t,1),t.m(n.parentNode,n))},i(f){o||(_(t),o=!0)},o(f){p(t),o=!1},d(f){f&&h(e),a[l].d(f),f&&h(n)}}}function An(i){let e,l,t=i[4],n=[];for(let r=0;r<t.length;r+=1)n[r]=Bn(Mn(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);T(r,e,a),l=!0},p(r,a){if(a[0]&16){t=r[4];let s;for(s=0;s<t.length;s+=1){const f=Mn(r,t,s);n[s]?(n[s].p(f,a),_(n[s],1)):(n[s]=Bn(f),n[s].c(),_(n[s],1),n[s].m(e.parentNode,e))}for(X(),s=t.length;s<n.length;s+=1)o(s);x()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)_(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(r){Me(n,r),r&&h(e)}}}function Bn(i){let e,l,t,n;return l=new xt({props:{filter:i[31],hidePath:!0}}),{c(){e=M("div"),R(l.$$.fragment),t=j(),this.h()},l(o){e=z(o,"DIV",{class:!0});var r=E(e);O(l.$$.fragment,r),t=U(r),r.forEach(h),this.h()},h(){C(e,"class","mx-1")},m(o,r){T(o,e,r),q(l,e,null),v(e,t),n=!0},p(o,r){const a={};r[0]&16&&(a.filter=o[31]),l.$set(a)},i(o){n||(_(l.$$.fragment,o),n=!0)},o(o){p(l.$$.fragment,o),n=!1},d(o){o&&h(e),H(l)}}}function Pn(i){let e,l;return e=new el({props:{isPreview:i[9]}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&512&&(o.isPreview=t[9]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Rn(i){let e,l=i[1].dtype+"",t,n=i[6]?"[]":"",o;return{c(){e=M("div"),t=W(l),o=W(n),this.h()},l(r){e=z(r,"DIV",{class:!0});var a=E(e);t=Z(a,l),o=Z(a,n),a.forEach(h),this.h()},h(){C(e,"class","w-24 px-2 text-right")},m(r,a){T(r,e,a),v(e,t),v(e,o)},p(r,a){a[0]&2&&l!==(l=r[1].dtype+"")&&ue(t,l),a[0]&64&&n!==(n=r[6]?"[]":"")&&ue(o,n)},d(r){r&&h(e)}}}function qn(i){let e,l,t,n=i[5].length&&Hn(i);return{c(){e=M("div"),n&&n.c()},l(o){e=z(o,"DIV",{});var r=E(e);n&&n.l(r),r.forEach(h)},m(o,r){T(o,e,r),n&&n.m(e,null),t=!0},p(o,r){o[5].length?n?(n.p(o,r),r[0]&32&&_(n,1)):(n=Hn(o),n.c(),_(n,1),n.m(e,null)):n&&(X(),p(n,1,1,()=>{n=null}),x())},i(o){t||(_(n),o&&kt(()=>{t&&(l||(l=ot(e,ut,{},!0)),l.run(1))}),t=!0)},o(o){p(n),o&&(l||(l=ot(e,ut,{},!1)),l.run(0)),t=!1},d(o){o&&h(e),n&&n.d(),o&&l&&l.end()}}}function Hn(i){let e,l,t=i[5],n=[];for(let r=0;r<t.length;r+=1)n[r]=On(Tn(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);T(r,e,a),l=!0},p(r,a){if(a[0]&37){t=r[5];let s;for(s=0;s<t.length;s+=1){const f=Tn(r,t,s);n[s]?(n[s].p(f,a),_(n[s],1)):(n[s]=On(f),n[s].c(),_(n[s],1),n[s].m(e.parentNode,e))}for(X(),s=t.length;s<n.length;s+=1)o(s);x()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)_(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(r){Me(n,r),r&&h(e)}}}function On(i){let e,l;return e=new tl({props:{schema:i[0],field:i[28],indent:i[2]+1}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&32&&(o.field=t[28]),n[0]&4&&(o.indent=t[2]+1),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function so(i){let e,l,t,n;const o=[lo,to],r=[];function a(s,f){return s[1].repeated_field?0:1}return e=a(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},l(s){l.l(s),t=ne()},m(s,f){r[e].m(s,f),T(s,t,f),n=!0},p(s,f){let u=e;e=a(s),e===u?r[e].p(s,f):(X(),p(r[u],1,1,()=>{r[u]=null}),x(),l=r[e],l?l.p(s,f):(l=r[e]=o[e](s),l.c()),_(l,1),l.m(t.parentNode,t))},i(s){n||(_(l),n=!0)},o(s){p(l),n=!1},d(s){r[e].d(s),s&&h(t)}}}function ao(i,e,l){let t,n,o,r,a,s,f,u,c,d,m,g,b,w,D,V,$,{schema:S}=e,{field:A}=e,{indent:F=0}=e;const I=Re();me(i,I,L=>l(7,$=L));const y=We();me(i,y,L=>l(22,V=L));let P=!0;function k(L){return L!=null&&L.fields?Object.values(L.fields).filter(K=>K.path.at(-1)!==dr):[]}const N=()=>{c?I.removeSelectedColumn(t):I.addSelectedColumn(t)},B=()=>l(8,P=!P),Y=()=>m==="ASC"?at(I,$.query.sort_order="DESC",$):at(I,$.query.sort_order="ASC",$),ee=()=>I.removeSortBy(t);return i.$$set=L=>{"schema"in L&&l(0,S=L.schema),"field"in L&&l(1,A=L.field),"indent"in L&&l(2,F=L.indent)},i.$$.update=()=>{var L,K,Q,se;i.$$.dirty[0]&2&&l(3,t=A.path),i.$$.dirty[0]&3&&l(21,n=Or(S,A.path.slice(0,-1))),i.$$.dirty[0]&3&&l(18,o=lt(A,S)),i.$$.dirty[0]&2&&l(6,a=A.path.at(-1)===It),i.$$.dirty[0]&2097218&&l(17,r=a&&n?tt(n):tt(A)),i.$$.dirty[0]&66&&l(16,s=a?A.path.at(-2):A.path.at(-1)),i.$$.dirty[0]&2&&l(5,f=k(A)),i.$$.dirty[0]&32&&l(15,u=f.length>0),i.$$.dirty[0]&4194312&&l(14,c=(L=V.visibleFields)==null?void 0:L.some(fe=>qe(fe.path,t))),i.$$.dirty[0]&136&&l(13,d=(K=$.query.sort_by)==null?void 0:K.some(fe=>qe(fe,t))),i.$$.dirty[0]&128&&l(12,m=$.query.sort_order),i.$$.dirty[0]&136&&l(4,g=((Q=$.query.filters)==null?void 0:Q.filter(fe=>qe(fe.path,t)))||[]),i.$$.dirty[0]&16&&l(11,b=g.length>0),i.$$.dirty[0]&2&&l(10,w=!A.dtype||A.dtype==="embedding"),i.$$.dirty[0]&4194312&&l(9,D=zt(((se=V.selectRowsSchema)==null?void 0:se.data)||null,t))},[S,A,F,t,g,f,a,$,P,D,w,b,m,d,c,u,s,r,o,I,y,n,V,N,B,Y,ee]}class tl extends be{constructor(e){super(),ve(this,e,ao,so,_e,{schema:0,field:1,indent:2},null,[-1,-1])}}function Ln(i,e,l){const t=i.slice();return t[3]=e[l],t}function jn(i,e,l){const t=i.slice();return t[3]=e[l],t}function oo(i){let e,l,t,n,o,r;return e=new Rt({props:{label:"Schema",class:"w-1/3"}}),t=new Rt({props:{label:"Tree View",class:"w-1/3"}}),o=new Rt({props:{label:"Raw Query",class:"w-1/3"}}),{c(){R(e.$$.fragment),l=j(),R(t.$$.fragment),n=j(),R(o.$$.fragment)},l(a){O(e.$$.fragment,a),l=U(a),O(t.$$.fragment,a),n=U(a),O(o.$$.fragment,a)},m(a,s){q(e,a,s),T(a,l,s),q(t,a,s),T(a,n,s),q(o,a,s),r=!0},p:G,i(a){r||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(o.$$.fragment,a),r=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),p(o.$$.fragment,a),r=!1},d(a){H(e,a),a&&h(l),H(t,a),a&&h(n),H(o,a)}}}function fo(i){let e=[],l=new Map,t,n,o=Object.keys(i[0].data.schema.fields);const r=a=>a[3];for(let a=0;a<o.length;a+=1){let s=jn(i,o,a),f=r(s);l.set(f,e[a]=Un(f,s))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=ne()},l(a){for(let s=0;s<e.length;s+=1)e[s].l(a);t=ne()},m(a,s){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(a,s);T(a,t,s),n=!0},p(a,s){s&1&&(o=Object.keys(a[0].data.schema.fields),X(),e=vt(e,s,r,1,a,o,l,t.parentNode,wt,Un,t,jn),x())},i(a){if(!n){for(let s=0;s<o.length;s+=1)_(e[s]);n=!0}},o(a){for(let s=0;s<e.length;s+=1)p(e[s]);n=!1},d(a){for(let s=0;s<e.length;s+=1)e[s].d(a);a&&h(t)}}}function uo(i){let e,l;return e=new He({props:{paragraph:!0,lines:3}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Un(i,e){let l,t,n;return t=new $r({props:{schema:e[0].data.schema,field:e[0].data.schema.fields[e[3]]}}),{key:i,first:null,c(){l=ne(),R(t.$$.fragment),this.h()},l(o){l=ne(),O(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){T(o,l,r),q(t,o,r),n=!0},p(o,r){e=o;const a={};r&1&&(a.schema=e[0].data.schema),r&1&&(a.field=e[0].data.schema.fields[e[3]]),t.$set(a)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){p(t.$$.fragment,o),n=!1},d(o){o&&h(l),H(t,o)}}}function co(i){let e,l,t,n;const o=[uo,fo],r=[];function a(s,f){var u,c;return(u=s[0])!=null&&u.isLoading?0:(c=s[0])!=null&&c.isSuccess&&s[0].data.schema.fields!=null?1:-1}return~(e=a(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=ne()},l(s){l&&l.l(s),t=ne()},m(s,f){~e&&r[e].m(s,f),T(s,t,f),n=!0},p(s,f){let u=e;e=a(s),e===u?~e&&r[e].p(s,f):(l&&(X(),p(r[u],1,1,()=>{r[u]=null}),x()),~e?(l=r[e],l?l.p(s,f):(l=r[e]=o[e](s),l.c()),_(l,1),l.m(t.parentNode,t)):l=null)},i(s){n||(_(l),n=!0)},o(s){p(l),n=!1},d(s){~e&&r[e].d(s),s&&h(t)}}}function ho(i){let e=[],l=new Map,t,n,o=Object.keys(i[0].data.schema.fields);const r=a=>a[3];for(let a=0;a<o.length;a+=1){let s=Ln(i,o,a),f=r(s);l.set(f,e[a]=Yn(f,s))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=ne()},l(a){for(let s=0;s<e.length;s+=1)e[s].l(a);t=ne()},m(a,s){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(a,s);T(a,t,s),n=!0},p(a,s){s&1&&(o=Object.keys(a[0].data.schema.fields),X(),e=vt(e,s,r,1,a,o,l,t.parentNode,wt,Yn,t,Ln),x())},i(a){if(!n){for(let s=0;s<o.length;s+=1)_(e[s]);n=!0}},o(a){for(let s=0;s<e.length;s+=1)p(e[s]);n=!1},d(a){for(let s=0;s<e.length;s+=1)e[s].d(a);a&&h(t)}}}function mo(i){let e,l;return e=new He({props:{paragraph:!0,lines:3}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Yn(i,e){let l,t,n;return t=new tl({props:{schema:e[0].data.schema,field:e[0].data.schema.fields[e[3]]}}),{key:i,first:null,c(){l=ne(),R(t.$$.fragment),this.h()},l(o){l=ne(),O(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){T(o,l,r),q(t,o,r),n=!0},p(o,r){e=o;const a={};r&1&&(a.schema=e[0].data.schema),r&1&&(a.field=e[0].data.schema.fields[e[3]]),t.$set(a)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){p(t.$$.fragment,o),n=!1},d(o){o&&h(l),H(t,o)}}}function _o(i){let e,l,t,n;const o=[mo,ho],r=[];function a(s,f){var u,c;return(u=s[0])!=null&&u.isLoading?0:(c=s[0])!=null&&c.isSuccess&&s[0].data.schema.fields!=null?1:-1}return~(e=a(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=ne()},l(s){l&&l.l(s),t=ne()},m(s,f){~e&&r[e].m(s,f),T(s,t,f),n=!0},p(s,f){let u=e;e=a(s),e===u?~e&&r[e].p(s,f):(l&&(X(),p(r[u],1,1,()=>{r[u]=null}),x()),~e?(l=r[e],l?l.p(s,f):(l=r[e]=o[e](s),l.c()),_(l,1),l.m(t.parentNode,t)):l=null)},i(s){n||(_(l),n=!0)},o(s){p(l),n=!1},d(s){~e&&r[e].d(s),s&&h(t)}}}function go(i){let e,l;return e=new Na({}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function po(i){let e,l,t,n,o,r,a;return l=new qt({props:{$$slots:{default:[co]},$$scope:{ctx:i}}}),n=new qt({props:{$$slots:{default:[_o]},$$scope:{ctx:i}}}),r=new qt({props:{$$slots:{default:[go]},$$scope:{ctx:i}}}),{c(){e=M("div"),R(l.$$.fragment),t=j(),R(n.$$.fragment),o=j(),R(r.$$.fragment),this.h()},l(s){e=z(s,"DIV",{class:!0,slot:!0});var f=E(e);O(l.$$.fragment,f),t=U(f),O(n.$$.fragment,f),o=U(f),O(r.$$.fragment,f),f.forEach(h),this.h()},h(){C(e,"class","h-full overflow-y-auto"),C(e,"slot","content")},m(s,f){T(s,e,f),q(l,e,null),v(e,t),q(n,e,null),v(e,o),q(r,e,null),a=!0},p(s,f){const u={};f&257&&(u.$$scope={dirty:f,ctx:s}),l.$set(u);const c={};f&257&&(c.$$scope={dirty:f,ctx:s}),n.$set(c);const d={};f&256&&(d.$$scope={dirty:f,ctx:s}),r.$set(d)},i(s){a||(_(l.$$.fragment,s),_(n.$$.fragment,s),_(r.$$.fragment,s),a=!0)},o(s){p(l.$$.fragment,s),p(n.$$.fragment,s),p(r.$$.fragment,s),a=!1},d(s){s&&h(e),H(l),H(n),H(r)}}}function bo(i){let e,l,t;return l=new Mi({props:{class:"overflow-hidden border-b border-gray-200",$$slots:{content:[po],default:[oo]},$$scope:{ctx:i}}}),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{class:!0});var o=E(e);O(l.$$.fragment,o),o.forEach(h),this.h()},h(){C(e,"class","flex h-full flex-col pt-4")},m(n,o){T(n,e,o),q(l,e,null),t=!0},p(n,[o]){const r={};o&257&&(r.$$scope={dirty:o,ctx:n}),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){p(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function vo(i,e,l){let t,n;const o=We();return me(i,o,r=>l(2,n=r)),i.$$.update=()=>{i.$$.dirty&4&&l(0,t=n.selectRowsSchema)},[t,o,n]}class wo extends be{constructor(e){super(),ve(this,e,vo,bo,_e,{})}}function Qn(i,e,l){const t=i.slice();return t[5]=e[l],t}function ko(i){let e,l="{}",t;return{c(){e=M("span"),t=W(l),this.h()},l(n){e=z(n,"SPAN",{class:!0});var o=E(e);t=Z(o,l),o.forEach(h),this.h()},h(){C(e,"class","font-mono")},m(n,o){T(n,e,o),v(e,t)},p:G,i:G,o:G,d(n){n&&h(e)}}}function $o(i){let e,l,t;var n=ct[i[5].dtype];function o(r){return{props:{title:r[5].dtype}}}return n&&(e=ft(n,o(i))),{c(){e&&R(e.$$.fragment),l=ne()},l(r){e&&O(e.$$.fragment,r),l=ne()},m(r,a){e&&q(e,r,a),T(r,l,a),t=!0},p(r,a){const s={};if(a&2&&(s.title=r[5].dtype),a&2&&n!==(n=ct[r[5].dtype])){if(e){X();const f=e;p(f.$$.fragment,1,0,()=>{H(f,1)}),x()}n?(e=ft(n,o(r)),R(e.$$.fragment),_(e.$$.fragment,1),q(e,l.parentNode,l)):e=null}else n&&e.$set(s)},i(r){t||(e&&_(e.$$.fragment,r),t=!0)},o(r){e&&p(e.$$.fragment,r),t=!1},d(r){r&&h(l),e&&H(e,r)}}}function Wn(i){let e;return{c(){e=W("[]")},l(l){e=Z(l,"[]")},m(l,t){T(l,e,t)},d(l){l&&h(e)}}}function Zn(i){let e,l,t,n,o,r,a,s,f,u=i[5].path.indexOf(It)>=0,c,d,m=Ee(i[5].path)+"",g,b,w;function D(...I){return i[3](i[5],...I)}function V(...I){return i[4](i[5],...I)}t=new Jt({props:{labelText:"Download",hideLabel:!0,checked:i[0].find(D)!=null}}),t.$on("change",V);const $=[$o,ko],S=[];function A(I,y){return I[5].dtype?0:1}a=A(i),s=S[a]=$[a](i);let F=u&&Wn();return{c(){e=M("div"),l=M("div"),R(t.$$.fragment),n=j(),o=M("div"),r=M("div"),s.c(),f=j(),F&&F.c(),c=j(),d=M("div"),g=W(m),b=j(),this.h()},l(I){e=z(I,"DIV",{class:!0});var y=E(e);l=z(y,"DIV",{class:!0});var P=E(l);O(t.$$.fragment,P),P.forEach(h),n=U(y),o=z(y,"DIV",{class:!0});var k=E(o);r=z(k,"DIV",{class:!0});var N=E(r);s.l(N),f=U(N),F&&F.l(N),N.forEach(h),k.forEach(h),c=U(y),d=z(y,"DIV",{class:!0});var B=E(d);g=Z(B,m),B.forEach(h),b=U(y),y.forEach(h),this.h()},h(){C(l,"class","mr-2"),C(r,"class","inline-flex items-center rounded-md bg-blue-200 p-0.5"),C(o,"class","flex w-10"),C(d,"class","flex-grow"),C(e,"class","flex items-center")},m(I,y){T(I,e,y),v(e,l),q(t,l,null),v(e,n),v(e,o),v(o,r),S[a].m(r,null),v(r,f),F&&F.m(r,null),v(e,c),v(e,d),v(d,g),v(e,b),w=!0},p(I,y){i=I;const P={};y&3&&(P.checked=i[0].find(D)!=null),t.$set(P);let k=a;a=A(i),a===k?S[a].p(i,y):(X(),p(S[k],1,1,()=>{S[k]=null}),x(),s=S[a],s?s.p(i,y):(s=S[a]=$[a](i),s.c()),_(s,1),s.m(r,f)),y&2&&(u=i[5].path.indexOf(It)>=0),u?F||(F=Wn(),F.c(),F.m(r,null)):F&&(F.d(1),F=null),(!w||y&2)&&m!==(m=Ee(i[5].path)+"")&&ue(g,m)},i(I){w||(_(t.$$.fragment,I),_(s),w=!0)},o(I){p(t.$$.fragment,I),p(s),w=!1},d(I){I&&h(e),H(t),S[a].d(),F&&F.d()}}}function So(i){let e,l,t=i[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=Zn(Qn(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);T(r,e,a),l=!0},p(r,[a]){if(a&7){t=r[1];let s;for(s=0;s<t.length;s+=1){const f=Qn(r,t,s);n[s]?(n[s].p(f,a),_(n[s],1)):(n[s]=Zn(f),n[s].c(),_(n[s],1),n[s].m(e.parentNode,e))}for(X(),s=t.length;s<n.length;s+=1)o(s);x()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)_(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(r){Me(n,r),r&&h(e)}}}function yo(i,e,l){let{fields:t}=e,{checkedFields:n}=e;function o(s,f){f.target.checked?(n.push(s),l(0,n)):l(0,n=n.filter(c=>c!==s))}const r=(s,f)=>qe(f.path,s.path),a=(s,f)=>o(s,f);return i.$$set=s=>{"fields"in s&&l(1,t=s.fields),"checkedFields"in s&&l(0,n=s.checkedFields)},[n,t,o,r,a]}class Pt extends be{constructor(e){super(),ve(this,e,yo,So,_e,{fields:1,checkedFields:0})}}function Jn(i,e,l){const t=i.slice();return t[21]=e[l],t}function Eo(i){let e,l,t,n,o,r,a,s,f,u,c,d,m,g,b,w,D,V,$,S,A,F,I,y,P,k=i[1]!=null&&Kn(i);const N=[Vo,Io],B=[];function Y(L,K){return L[6].isFetching?0:1}V=Y(i),$=B[V]=N[V](i);let ee=i[1]!=null&&i[2]!=null&&Xn(i);return{c(){e=M("div"),l=M("section"),t=M("div"),n=W("Media fields"),o=j(),r=M("div"),a=W("These fields will be presented differently from the rest of the metadata fields."),s=j(),k&&k.c(),f=j(),u=M("section"),c=M("div"),d=W("Preferred embedding"),m=j(),g=M("div"),b=W("This embedding will be used by default when indexing and querying the data."),w=j(),D=M("div"),$.c(),S=j(),A=M("section"),F=M("div"),I=W("Render as markdown"),y=j(),ee&&ee.c(),this.h()},l(L){e=z(L,"DIV",{class:!0});var K=E(e);l=z(K,"SECTION",{class:!0});var Q=E(l);t=z(Q,"DIV",{class:!0});var se=E(t);n=Z(se,"Media fields"),se.forEach(h),o=U(Q),r=z(Q,"DIV",{class:!0});var fe=E(r);a=Z(fe,"These fields will be presented differently from the rest of the metadata fields."),fe.forEach(h),s=U(Q),k&&k.l(Q),Q.forEach(h),f=U(K),u=z(K,"SECTION",{class:!0});var te=E(u);c=z(te,"DIV",{class:!0});var le=E(c);d=Z(le,"Preferred embedding"),le.forEach(h),m=U(te),g=z(te,"DIV",{class:!0});var ye=E(g);b=Z(ye,"This embedding will be used by default when indexing and querying the data."),ye.forEach(h),w=U(te),D=z(te,"DIV",{class:!0});var we=E(D);$.l(we),we.forEach(h),te.forEach(h),S=U(K),A=z(K,"SECTION",{class:!0});var $e=E(A);F=z($e,"DIV",{class:!0});var oe=E(F);I=Z(oe,"Render as markdown"),oe.forEach(h),y=U($e),ee&&ee.l($e),$e.forEach(h),K.forEach(h),this.h()},h(){C(t,"class","text-lg text-gray-700"),C(r,"class","text-sm text-gray-500"),C(l,"class","flex flex-col gap-y-1"),C(c,"class","text-lg text-gray-700"),C(g,"class","text-sm text-gray-500"),C(D,"class","w-60"),C(u,"class","flex flex-col gap-y-1"),C(F,"class","text-lg text-gray-700"),C(A,"class","flex flex-col gap-y-1"),C(e,"class","flex flex-col gap-y-6")},m(L,K){T(L,e,K),v(e,l),v(l,t),v(t,n),v(l,o),v(l,r),v(r,a),v(l,s),k&&k.m(l,null),v(e,f),v(e,u),v(u,c),v(c,d),v(u,m),v(u,g),v(g,b),v(u,w),v(u,D),B[V].m(D,null),v(e,S),v(e,A),v(A,F),v(F,I),v(A,y),ee&&ee.m(A,null),P=!0},p(L,K){L[1]!=null?k?(k.p(L,K),K&2&&_(k,1)):(k=Kn(L),k.c(),_(k,1),k.m(l,null)):k&&(X(),p(k,1,1,()=>{k=null}),x());let Q=V;V=Y(L),V===Q?B[V].p(L,K):(X(),p(B[Q],1,1,()=>{B[Q]=null}),x(),$=B[V],$?$.p(L,K):($=B[V]=N[V](L),$.c()),_($,1),$.m(D,null)),L[1]!=null&&L[2]!=null?ee?(ee.p(L,K),K&6&&_(ee,1)):(ee=Xn(L),ee.c(),_(ee,1),ee.m(A,null)):ee&&(X(),p(ee,1,1,()=>{ee=null}),x())},i(L){P||(_(k),_($),_(ee),P=!0)},o(L){p(k),p($),p(ee),P=!1},d(L){L&&h(e),k&&k.d(),B[V].d(),ee&&ee.d()}}}function Do(i){let e,l;return e=new He({}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Kn(i){let e,l,t;function n(r){i[15](r)}let o={fields:i[3]};return i[1]!==void 0&&(o.checkedFields=i[1]),e=new Pt({props:o}),Pe.push(()=>Je(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){O(e.$$.fragment,r)},m(r,a){q(e,r,a),t=!0},p(r,a){const s={};a&8&&(s.fields=r[3]),!l&&a&2&&(l=!0,s.checkedFields=r[1],Ke(()=>l=!1)),e.$set(s)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){p(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function Io(i){var t;let e,l;return e=new Ft({props:{selected:(t=i[4].data)==null?void 0:t.preferred_embedding,$$slots:{default:[Co]},$$scope:{ctx:i}}}),e.$on("change",i[11]),{c(){R(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){var a;const r={};o&16&&(r.selected=(a=n[4].data)==null?void 0:a.preferred_embedding),o&16777280&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function Vo(i){let e,l;return e=new Ei({}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Gn(i){let e,l;return e=new $t({props:{value:i[21].name}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&64&&(o.value=t[21].name),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Co(i){let e,l,t,n;e=new $t({props:{value:void 0,text:"None"}});let o=i[6].data||[],r=[];for(let s=0;s<o.length;s+=1)r[s]=Gn(Jn(i,o,s));const a=s=>p(r[s],1,1,()=>{r[s]=null});return{c(){R(e.$$.fragment),l=j();for(let s=0;s<r.length;s+=1)r[s].c();t=ne()},l(s){O(e.$$.fragment,s),l=U(s);for(let f=0;f<r.length;f+=1)r[f].l(s);t=ne()},m(s,f){q(e,s,f),T(s,l,f);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(s,f);T(s,t,f),n=!0},p(s,f){if(f&64){o=s[6].data||[];let u;for(u=0;u<o.length;u+=1){const c=Jn(s,o,u);r[u]?(r[u].p(c,f),_(r[u],1)):(r[u]=Gn(c),r[u].c(),_(r[u],1),r[u].m(t.parentNode,t))}for(X(),u=o.length;u<r.length;u+=1)a(u);x()}},i(s){if(!n){_(e.$$.fragment,s);for(let f=0;f<o.length;f+=1)_(r[f]);n=!0}},o(s){p(e.$$.fragment,s),r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)p(r[f]);n=!1},d(s){H(e,s),s&&h(l),Me(r,s),s&&h(t)}}}function Xn(i){let e,l,t;function n(r){i[16](r)}let o={fields:i[1]};return i[2]!==void 0&&(o.checkedFields=i[2]),e=new Pt({props:o}),Pe.push(()=>Je(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){O(e.$$.fragment,r)},m(r,a){q(e,r,a),t=!0},p(r,a){const s={};a&2&&(s.fields=r[1]),!l&&a&4&&(l=!0,s.checkedFields=r[2],Ke(()=>l=!1)),e.$set(s)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){p(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function No(i){let e,l,t,n;const o=[Do,Eo],r=[];function a(s,f){return s[4].isFetching?0:1}return e=a(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},l(s){l.l(s),t=ne()},m(s,f){r[e].m(s,f),T(s,t,f),n=!0},p(s,f){let u=e;e=a(s),e===u?r[e].p(s,f):(X(),p(r[u],1,1,()=>{r[u]=null}),x(),l=r[e],l?l.p(s,f):(l=r[e]=o[e](s),l.c()),_(l,1),l.m(t.parentNode,t))},i(s){n||(_(l),n=!0)},o(s){p(l),n=!1},d(s){r[e].d(s),s&&h(t)}}}function To(i){let e,l,t,n,o,r;return e=new _r({props:{label:"Changes",title:"Dataset settings"}}),t=new gr({props:{hasForm:!0,$$slots:{default:[No]},$$scope:{ctx:i}}}),o=new pr({props:{primaryButtonText:"Save"}}),{c(){R(e.$$.fragment),l=j(),R(t.$$.fragment),n=j(),R(o.$$.fragment)},l(a){O(e.$$.fragment,a),l=U(a),O(t.$$.fragment,a),n=U(a),O(o.$$.fragment,a)},m(a,s){q(e,a,s),T(a,l,s),q(t,a,s),T(a,n,s),q(o,a,s),r=!0},p(a,s){const f={};s&16777310&&(f.$$scope={dirty:s,ctx:a}),t.$set(f)},i(a){r||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(o.$$.fragment,a),r=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),p(o.$$.fragment,a),r=!1},d(a){H(e,a),a&&h(l),H(t,a),a&&h(n),H(o,a)}}}function Mo(i){let e,l;return e=new mr({props:{open:i[0],$$slots:{default:[To]},$$scope:{ctx:i}}}),e.$on("submit",i[12]),e.$on("close",i[17]),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&16777310&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function zo(i,e,l){let t,n,o,r,a,s=G,f=()=>(s(),s=Be(t,k=>l(4,a=k)),t),u,c;i.$$.on_destroy.push(()=>s());let{open:d=!1}=e,{schema:m}=e;const g=Re();me(i,g,k=>l(14,o=k));const b=vr();me(i,b,k=>l(20,u=k));const w=Xt();me(i,w,k=>l(6,c=k));const D=Lr();me(i,D,k=>l(19,r=k));let V=null,$=null,S=u.embedding;function A(k){S=k.target.value,S===""&&(S=void 0)}function F(){if(V==null)return;const k={ui:{media_paths:V.map(N=>N.path),markdown_paths:$==null?void 0:$.map(N=>N.path)},preferred_embedding:S};r.mutate([o.namespace,o.datasetName,k],{onSuccess:()=>{l(0,d=!1)}})}function I(k){V=k,l(1,V),l(4,a),l(3,n),l(13,m)}function y(k){$=k,l(2,$),l(4,a),l(3,n),l(13,m)}const P=()=>l(0,d=!1);return i.$$set=k=>{"open"in k&&l(0,d=k.open),"schema"in k&&l(13,m=k.schema)},i.$$.update=()=>{var k,N,B,Y;if(i.$$.dirty&16384&&f(l(5,t=Mt(o.namespace,o.datasetName))),i.$$.dirty&8192&&l(3,n=Yt(m).filter(ee=>ee.dtype==="string"&&!qe(ee.path,[Qt])&&!lt(ee,m))),i.$$.dirty&26&&V==null){const ee=(N=(k=a.data)==null?void 0:k.ui)==null?void 0:N.media_paths;ee!=null&&l(1,V=n.filter(L=>ee.some(K=>qe(L.path,K))))}if(i.$$.dirty&28&&$==null){const ee=(Y=(B=a.data)==null?void 0:B.ui)==null?void 0:Y.markdown_paths;ee!=null&&l(2,$=n.filter(L=>ee.some(K=>qe(L.path,K))))}},[d,V,$,n,a,t,c,g,b,w,D,A,F,m,o,I,y,P]}class Fo extends be{constructor(e){super(),ve(this,e,zo,Mo,_e,{open:0,schema:13})}}function Ao(i){let e,l,t;function n(r){i[13](r)}let o={fields:i[6]};return i[1]!==void 0&&(o.checkedFields=i[1]),e=new Pt({props:o}),Pe.push(()=>Je(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){O(e.$$.fragment,r)},m(r,a){q(e,r,a),t=!0},p(r,a){const s={};a&64&&(s.fields=r[6]),!l&&a&2&&(l=!0,s.checkedFields=r[1],Ke(()=>l=!1)),e.$set(s)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){p(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function Bo(i){let e,l;return e=new He({}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function xn(i){let e,l,t,n,o,r,a;const s=[Ro,Po],f=[];function u(c,d){return c[5]==null?0:1}return o=u(i),r=f[o]=s[o](i),{c(){e=M("section"),l=M("h4"),t=W("Select enriched fields"),n=j(),r.c(),this.h()},l(c){e=z(c,"SECTION",{});var d=E(e);l=z(d,"H4",{class:!0});var m=E(l);t=Z(m,"Select enriched fields"),m.forEach(h),n=U(d),r.l(d),d.forEach(h),this.h()},h(){C(l,"class","svelte-1ge817j")},m(c,d){T(c,e,d),v(e,l),v(l,t),v(e,n),f[o].m(e,null),a=!0},p(c,d){let m=o;o=u(c),o===m?f[o].p(c,d):(X(),p(f[m],1,1,()=>{f[m]=null}),x(),r=f[o],r?r.p(c,d):(r=f[o]=s[o](c),r.c()),_(r,1),r.m(e,null))},i(c){a||(_(r),a=!0)},o(c){p(r),a=!1},d(c){c&&h(e),f[o].d()}}}function Po(i){let e,l,t;function n(r){i[14](r)}let o={fields:i[5]};return i[2]!==void 0&&(o.checkedFields=i[2]),e=new Pt({props:o}),Pe.push(()=>Je(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){O(e.$$.fragment,r)},m(r,a){q(e,r,a),t=!0},p(r,a){const s={};a&32&&(s.fields=r[5]),!l&&a&4&&(l=!0,s.checkedFields=r[2],Ke(()=>l=!1)),e.$set(s)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){p(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function Ro(i){let e,l;return e=new He({}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function er(i){let e,l;return{c(){e=M("p"),l=W("No fields selected. Please select at least one field to download."),this.h()},l(t){e=z(t,"P",{class:!0});var n=E(e);l=Z(n,"No fields selected. Please select at least one field to download."),n.forEach(h),this.h()},h(){C(e,"class","text-gray-600")},m(t,n){T(t,e,n),v(e,l)},d(t){t&&h(e)}}}function qo(i){let e,l;return e=new di({props:{value:JSON.stringify(i[7].data,null,2),readonly:!0,rows:30,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&128&&(o.value=JSON.stringify(t[7].data,null,2)),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ho(i){let e,l;return e=new He({props:{paragraph:!0}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Oo(i){let e,l,t,n,o,r,a,s,f,u,c,d,m,g,b,w,D;const V=[Bo,Ao],$=[];function S(k,N){return k[6]==null?0:1}o=S(i),r=$[o]=V[o](i);let A=(i[5]==null||i[5].length>0)&&xn(i),F=i[3].length===0&&er();const I=[Ho,qo],y=[];function P(k,N){return k[7]&&k[7].isFetching?0:k[4]&&k[7]?1:-1}return~(b=P(i))&&(w=y[b]=I[b](i)),{c(){e=M("section"),l=M("h4"),t=W("Select source fields"),n=j(),r.c(),a=j(),A&&A.c(),s=j(),f=M("section"),u=M("h4"),c=W("Download preview"),d=j(),F&&F.c(),m=j(),g=M("div"),w&&w.c(),this.h()},l(k){e=z(k,"SECTION",{});var N=E(e);l=z(N,"H4",{class:!0});var B=E(l);t=Z(B,"Select source fields"),B.forEach(h),n=U(N),r.l(N),N.forEach(h),a=U(k),A&&A.l(k),s=U(k),f=z(k,"SECTION",{});var Y=E(f);u=z(Y,"H4",{class:!0});var ee=E(u);c=Z(ee,"Download preview"),ee.forEach(h),d=U(Y),F&&F.l(Y),m=U(Y),g=z(Y,"DIV",{class:!0});var L=E(g);w&&w.l(L),L.forEach(h),Y.forEach(h),this.h()},h(){C(l,"class","svelte-1ge817j"),C(u,"class","svelte-1ge817j"),C(g,"class","preview svelte-1ge817j")},m(k,N){T(k,e,N),v(e,l),v(l,t),v(e,n),$[o].m(e,null),T(k,a,N),A&&A.m(k,N),T(k,s,N),T(k,f,N),v(f,u),v(u,c),v(f,d),F&&F.m(f,null),v(f,m),v(f,g),~b&&y[b].m(g,null),D=!0},p(k,N){let B=o;o=S(k),o===B?$[o].p(k,N):(X(),p($[B],1,1,()=>{$[B]=null}),x(),r=$[o],r?r.p(k,N):(r=$[o]=V[o](k),r.c()),_(r,1),r.m(e,null)),k[5]==null||k[5].length>0?A?(A.p(k,N),N&32&&_(A,1)):(A=xn(k),A.c(),_(A,1),A.m(s.parentNode,s)):A&&(X(),p(A,1,1,()=>{A=null}),x()),k[3].length===0?F||(F=er(),F.c(),F.m(f,m)):F&&(F.d(1),F=null);let Y=b;b=P(k),b===Y?~b&&y[b].p(k,N):(w&&(X(),p(y[Y],1,1,()=>{y[Y]=null}),x()),~b?(w=y[b],w?w.p(k,N):(w=y[b]=I[b](k),w.c()),_(w,1),w.m(g,null)):w=null)},i(k){D||(_(r),_(A),_(w),D=!0)},o(k){p(r),p(A),p(w),D=!1},d(k){k&&h(e),$[o].d(),k&&h(a),A&&A.d(k),k&&h(s),k&&h(f),F&&F.d(),~b&&y[b].d()}}}function Lo(i){let e,l,t,n,o,r;return e=new _r({props:{title:"Download data"}}),t=new gr({props:{hasForm:!0,$$slots:{default:[Oo]},$$scope:{ctx:i}}}),o=new pr({props:{primaryButtonText:"Download",primaryButtonDisabled:i[3].length===0,secondaryButtonText:"Cancel"}}),o.$on("click:button--secondary",i[10]),{c(){R(e.$$.fragment),l=j(),R(t.$$.fragment),n=j(),R(o.$$.fragment)},l(a){O(e.$$.fragment,a),l=U(a),O(t.$$.fragment,a),n=U(a),O(o.$$.fragment,a)},m(a,s){q(e,a,s),T(a,l,s),q(t,a,s),T(a,n,s),q(o,a,s),r=!0},p(a,s){const f={};s&262398&&(f.$$scope={dirty:s,ctx:a}),t.$set(f);const u={};s&8&&(u.primaryButtonDisabled=a[3].length===0),o.$set(u)},i(a){r||(_(e.$$.fragment,a),_(t.$$.fragment,a),_(o.$$.fragment,a),r=!0)},o(a){p(e.$$.fragment,a),p(t.$$.fragment,a),p(o.$$.fragment,a),r=!1},d(a){H(e,a),a&&h(l),H(t,a),a&&h(n),H(o,a)}}}function jo(i){let e,l;return e=new mr({props:{size:"lg",open:i[0],$$slots:{default:[Lo]},$$scope:{ctx:i}}}),e.$on("submit",i[9]),e.$on("close",i[15]),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&262398&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Uo(i,e,l){let t,n,o,r,a,s,f=G,u=()=>(f(),f=Be(r,I=>l(7,s=I)),r);i.$$.on_destroy.push(()=>f());let{open:c=!1}=e,{schema:d}=e;const m=bt(),g=Re();me(i,g,I=>l(12,a=I));let b=[],w=[];function D(I){if(I==null)return{sourceFields:null,enrichedFields:null};const P=Yt(I).filter(N=>["embedding"].indexOf(N.dtype)===-1).filter(N=>!lt(N,I)&&N.path.at(-1)!==Qt),k=et(I).filter(N=>tt(N)).filter(N=>!et(N).some(B=>B.dtype==="embedding"));return{sourceFields:P,enrichedFields:k}}async function V(){const I=a.namespace,y=a.datasetName,P={combine_columns:!1,columns:o.map(B=>B.path)},k=`/api/v1/datasets/${I}/${y}/select_rows_download?url_safe_options=${encodeURIComponent(JSON.stringify(P))}`,N=document.createElement("a");N.download=`${I}_${y}.json`,N.href=k,document.body.appendChild(N),N.click(),N.remove()}function $(){l(0,c=!1),m("close")}function S(I){b=I,l(1,b)}function A(I){w=I,l(2,w)}const F=()=>l(0,c=!1);return i.$$set=I=>{"open"in I&&l(0,c=I.open),"schema"in I&&l(11,d=I.schema)},i.$$.update=()=>{i.$$.dirty&2048&&l(6,{sourceFields:t,enrichedFields:n}=D(d),t,(l(5,n),l(11,d))),i.$$.dirty&6&&l(3,o=[...b,...w]),i.$$.dirty&4104&&u(l(4,r=o.length>0?jr(a.namespace,a.datasetName,{columns:o.map(I=>I.path),limit:3,combine_columns:!1}):null))},[c,b,w,o,r,n,t,s,g,V,$,d,a,S,A,F]}class Yo extends be{constructor(e){super(),ve(this,e,Uo,jo,_e,{open:0,schema:11})}}function Qo(i){let e,l;return e=new Gi({}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Wo(i){let e,l;return e=new Zi({}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function tr(i){let e,l,t,n,o,r;function a(c){i[26](c)}let s={schema:i[4].data};i[5]!==void 0&&(s.open=i[5]),e=new Fo({props:s}),Pe.push(()=>Je(e,"open",a));function f(c){i[27](c)}let u={schema:i[4].data};return i[6]!==void 0&&(u.open=i[6]),n=new Yo({props:u}),Pe.push(()=>Je(n,"open",f)),{c(){R(e.$$.fragment),t=j(),R(n.$$.fragment)},l(c){O(e.$$.fragment,c),t=U(c),O(n.$$.fragment,c)},m(c,d){q(e,c,d),T(c,t,d),q(n,c,d),r=!0},p(c,d){const m={};d&16&&(m.schema=c[4].data),!l&&d&32&&(l=!0,m.open=c[5],Ke(()=>l=!1)),e.$set(m);const g={};d&16&&(g.schema=c[4].data),!o&&d&64&&(o=!0,g.open=c[6],Ke(()=>o=!1)),n.$set(g)},i(c){r||(_(e.$$.fragment,c),_(n.$$.fragment,c),r=!0)},o(c){p(e.$$.fragment,c),p(n.$$.fragment,c),r=!1},d(c){H(e,c),c&&h(t),H(n,c)}}}function Zo(i){let e,l,t,n,o,r,a,s,f,u,c,d,m,g,b,w,D,V;t=new wo({});const $=[Wo,Qo],S=[];function A(I,y){return I[13]?1:0}r=A(i),a=S[r]=$[r](i),m=new da({});let F=i[4].data&&tr(i);return{c(){e=M("div"),l=M("div"),R(t.$$.fragment),n=j(),o=M("div"),a.c(),c=j(),d=M("div"),R(m.$$.fragment),g=j(),F&&F.c(),b=ne(),this.h()},l(I){e=z(I,"DIV",{class:!0});var y=E(e);l=z(y,"DIV",{class:!0});var P=E(l);O(t.$$.fragment,P),n=U(P),o=z(P,"DIV",{class:!0});var k=E(o);a.l(k),k.forEach(h),P.forEach(h),c=U(y),d=z(y,"DIV",{class:!0});var N=E(d);O(m.$$.fragment,N),N.forEach(h),y.forEach(h),g=U(I),F&&F.l(I),b=ne(),this.h()},h(){C(o,"class",s=St(`absolute right-0 top-1/2 flex
                h-8 w-4 cursor-pointer items-center justify-center
                rounded border
                border-neutral-200 bg-neutral-100
                opacity-60 hover:bg-neutral-200
                hover:opacity-100
                ${i[13]?" translate-x-full":" translate-x-1/2"}`)+" svelte-1nu5kbu"),C(l,"class",u=St(`schema-container relative h-full ${i[13]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1nu5kbu"),C(d,"class","h-full w-2/3 flex-grow"),C(e,"class","flex h-full w-full")},m(I,y){T(I,e,y),v(e,l),q(t,l,null),v(l,n),v(l,o),S[r].m(o,null),v(e,c),v(e,d),q(m,d,null),T(I,g,y),F&&F.m(I,y),T(I,b,y),w=!0,D||(V=[Te(f=ze.call(null,o,{text:i[13]?"Show Schema":"Hide Schema"})),Ve(o,"click",i[14]),Ve(o,"keypress",i[14])],D=!0)},p(I,y){let P=r;r=A(I),r!==P&&(X(),p(S[P],1,1,()=>{S[P]=null}),x(),a=S[r],a||(a=S[r]=$[r](I),a.c()),_(a,1),a.m(o,null)),(!w||y&8192&&s!==(s=St(`absolute right-0 top-1/2 flex
                h-8 w-4 cursor-pointer items-center justify-center
                rounded border
                border-neutral-200 bg-neutral-100
                opacity-60 hover:bg-neutral-200
                hover:opacity-100
                ${I[13]?" translate-x-full":" translate-x-1/2"}`)+" svelte-1nu5kbu"))&&C(o,"class",s),f&&Qe(f.update)&&y&8192&&f.update.call(null,{text:I[13]?"Show Schema":"Hide Schema"}),(!w||y&8192&&u!==(u=St(`schema-container relative h-full ${I[13]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1nu5kbu"))&&C(l,"class",u),I[4].data?F?(F.p(I,y),y&16&&_(F,1)):(F=tr(I),F.c(),_(F,1),F.m(b.parentNode,b)):F&&(X(),p(F,1,1,()=>{F=null}),x())},i(I){w||(_(t.$$.fragment,I),_(a),_(m.$$.fragment,I),_(F),w=!0)},o(I){p(t.$$.fragment,I),p(a),p(m.$$.fragment,I),p(F),w=!1},d(I){I&&h(e),H(t),S[r].d(),H(m),I&&h(g),F&&F.d(I),I&&h(b),D=!1,Ge(V)}}}function Jo(i){let e=i[3].datasetName+"",l;return{c(){l=W(e)},l(t){l=Z(t,e)},m(t,n){T(t,l,n)},p(t,n){n&8&&e!==(e=t[3].datasetName+"")&&ue(l,e)},d(t){t&&h(l)}}}function Ko(i){let e,l,t,n,o,r,a;return t=new nt({props:{type:"outline",class:"!cursor-pointer",$$slots:{default:[Jo]},$$scope:{ctx:i}}}),t.$on("click",i[25]),{c(){e=M("div"),l=M("div"),R(t.$$.fragment),this.h()},l(s){e=z(s,"DIV",{slot:!0});var f=E(e);l=z(f,"DIV",{});var u=E(l);O(t.$$.fragment,u),u.forEach(h),f.forEach(h),this.h()},h(){C(e,"slot","header-subtext")},m(s,f){T(s,e,f),v(e,l),q(t,l,null),o=!0,r||(a=Te(n=ze.call(null,l,{text:`${i[3].namespace}/${i[3].datasetName}`})),r=!0)},p(s,f){const u={};f&536870920&&(u.$$scope={dirty:f,ctx:s}),t.$set(u),n&&Qe(n.update)&&f&8&&n.update.call(null,{text:`${s[3].namespace}/${s[3].datasetName}`})},i(s){o||(_(t.$$.fragment,s),o=!0)},o(s){p(t.$$.fragment,s),o=!1},d(s){s&&h(e),H(t),r=!1,a()}}}function Go(i){let e,l,t;return l=new ya({}),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{slot:!0,class:!0});var o=E(e);O(l.$$.fragment,o),o.forEach(h),this.h()},h(){C(e,"slot","header-center"),C(e,"class","flex w-full items-center")},m(n,o){T(n,e,o),q(l,e,null),t=!0},p:G,i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){p(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function lr(i){let e,l,t,n;return{c(){e=M("div"),l=W("Copied!"),this.h()},l(o){e=z(o,"DIV",{class:!0});var r=E(e);l=Z(r,"Copied!"),r.forEach(h),this.h()},h(){C(e,"class","absolute right-12 z-50 mt-2 rounded border border-neutral-300 bg-neutral-50 px-4 py-1 text-xs")},m(o,r){T(o,e,r),v(e,l),n=!0},i(o){n||(t&&t.end(1),n=!0)},o(o){t=Cr(e,wi,{}),n=!1},d(o){o&&h(e),o&&t&&t.end()}}}function Xo(i){let e,l,t,n,o,r,a,s,f,u,c,d,m,g,b,w=i[7]&&lr();return r=new Ye({props:{size:"field",kind:"ghost",icon:cs,iconDescription:"Copy the URL"}}),r.$on("click",i[22]),s=new Ye({props:{size:"field",kind:"ghost",icon:es,iconDescription:"Download data"}}),s.$on("click",i[23]),c=new Ye({props:{disabled:!i[8],size:"field",kind:"ghost",icon:Ii,iconDescription:"Dataset settings"}}),c.$on("click",i[24]),{c(){e=M("div"),l=M("div"),t=M("div"),n=M("div"),w&&w.c(),o=j(),R(r.$$.fragment),a=j(),R(s.$$.fragment),f=j(),u=M("div"),R(c.$$.fragment),this.h()},l(D){e=z(D,"DIV",{slot:!0});var V=E(e);l=z(V,"DIV",{class:!0});var $=E(l);t=z($,"DIV",{class:!0});var S=E(t);n=z(S,"DIV",{class:!0});var A=E(n);w&&w.l(A),o=U(A),O(r.$$.fragment,A),A.forEach(h),a=U(S),O(s.$$.fragment,S),f=U(S),u=z(S,"DIV",{});var F=E(u);O(c.$$.fragment,F),F.forEach(h),S.forEach(h),$.forEach(h),V.forEach(h),this.h()},h(){C(n,"class","relative"),de(u,"opacity-40",!i[8]),C(t,"class","flex"),C(l,"class","flex h-full flex-col"),C(e,"slot","header-right")},m(D,V){T(D,e,V),v(e,l),v(l,t),v(t,n),w&&w.m(n,null),v(n,o),q(r,n,null),v(t,a),q(s,t,null),v(t,f),v(t,u),q(c,u,null),m=!0,g||(b=Te(d=ze.call(null,u,{text:i[8]?"":"User does not have access to update settings of this dataset."})),g=!0)},p(D,V){D[7]?w?V&128&&_(w,1):(w=lr(),w.c(),_(w,1),w.m(n,o)):w&&(X(),p(w,1,1,()=>{w=null}),x());const $={};V&256&&($.disabled=!D[8]),c.$set($),d&&Qe(d.update)&&V&256&&d.update.call(null,{text:D[8]?"":"User does not have access to update settings of this dataset."}),(!m||V&256)&&de(u,"opacity-40",!D[8])},i(D){m||(_(w),_(r.$$.fragment,D),_(s.$$.fragment,D),_(c.$$.fragment,D),m=!0)},o(D){p(w),p(r.$$.fragment,D),p(s.$$.fragment,D),p(c.$$.fragment,D),m=!1},d(D){D&&h(e),w&&w.d(),H(r),H(s),H(c),g=!1,b()}}}function xo(i){let e,l,t,n;return e=new hr({props:{title:"Datasets",$$slots:{"header-right":[Xo],"header-center":[Go],"header-subtext":[Ko],default:[Zo]},$$scope:{ctx:i}}}),t=new hi({}),{c(){R(e.$$.fragment),l=j(),R(t.$$.fragment)},l(o){O(e.$$.fragment,o),l=U(o),O(t.$$.fragment,o)},m(o,r){q(e,o,r),T(o,l,r),q(t,o,r),n=!0},p(o,[r]){const a={};r&536879611&&(a.$$scope={dirty:r,ctx:o}),e.$set(a)},i(o){n||(_(e.$$.fragment,o),_(t.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),p(t.$$.fragment,o),n=!1},d(o){H(e,o),o&&h(l),H(t,o)}}}function ef(i,e,l){let t,n,o,r,a,s,f,u,c,d,m,g=G,b=()=>(g(),g=Be(u,ae=>l(19,m=ae)),u),w,D=G,V=()=>(D(),D=Be(f,ae=>l(20,w=ae)),f),$,S=G,A=()=>(S(),S=Be(n,ae=>l(3,$=ae)),n),F,I=G,y=()=>(I(),I=Be(r,ae=>l(4,F=ae)),r),P,k=G,N=()=>(k(),k=Be(s,ae=>l(21,P=ae)),s);i.$$.on_destroy.push(()=>g()),i.$$.on_destroy.push(()=>D()),i.$$.on_destroy.push(()=>S()),i.$$.on_destroy.push(()=>I()),i.$$.on_destroy.push(()=>k());let{namespace:B}=e,{datasetName:Y}=e;function ee(){at(n,$.schemaCollapsed=!$.schemaCollapsed,$)}const L=mi(B,Y);_i(L);let K=!1,Q=!1;const se=At();me(i,se,ae=>l(18,d=ae));let fe=!1;const te=()=>navigator.clipboard.writeText(location.href).then(()=>{l(7,fe=!0),setTimeout(()=>l(7,fe=!1),2e3)},()=>{throw Error("Error copying link to clipboard.")}),le=()=>l(6,Q=!0),ye=()=>l(5,K=!0),we=()=>{const ae=Lt(B,Y);ae!=location.pathname+location.hash&&yt(ae)};function $e(ae){K=ae,l(5,K)}function oe(ae){Q=ae,l(6,Q)}return i.$$set=ae=>{"namespace"in ae&&l(0,B=ae.namespace),"datasetName"in ae&&l(1,Y=ae.datasetName)},i.$$.update=()=>{var ae,J;if(i.$$.dirty&131075&&A(l(2,n=gi(t,B,Y))),i.$$.dirty&4&&pi(n),i.$$.dirty&8&&l(13,o=$.schemaCollapsed),i.$$.dirty&8&&y(l(12,r=ur($.namespace,$.datasetName))),i.$$.dirty&16&&l(16,a=Ur("string",F.data)),i.$$.dirty&65544&&N(l(11,s=Yr($.namespace,$.datasetName,a.map(re=>re.path)))),i.$$.dirty&8&&V(l(10,f=Qr($.namespace,$.datasetName,bi($)))),i.$$.dirty&8&&b(l(9,u=Mt($.namespace,$.datasetName))),i.$$.dirty&2097168&&F.data!=null&&P.data&&!P.isFetching&&L.setStats(P.data),i.$$.dirty&16&&F.data!=null&&L.setSchema(F.data),i.$$.dirty&1048576&&w!=null&&L.setSelectRowsSchema(w),i.$$.dirty&1048584){const re=vi($.selectedColumns,((ae=w==null?void 0:w.data)==null?void 0:ae.schema)||null);L.setVisibleFields(re)}i.$$.dirty&524288&&m.data!=null&&L.setSettings(m.data),i.$$.dirty&262144&&l(8,c=(J=d.data)==null?void 0:J.access.dataset.update_settings)},l(17,t=br()),[B,Y,n,$,F,K,Q,fe,c,u,f,s,r,o,ee,se,a,t,d,m,w,P,te,le,ye,we,$e,oe]}class tf extends be{constructor(e){super(),ve(this,e,ef,xo,_e,{namespace:0,datasetName:1})}}function nr(i,e,l){const t=i.slice();return t[17]=e[l],t}function lf(i){let e,l,t=i[4].data,n=[];for(let r=0;r<t.length;r+=1)n[r]=ir(nr(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let a=0;a<n.length;a+=1)n[a].l(r);e=ne()},m(r,a){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(r,a);T(r,e,a),l=!0},p(r,a){if(a&21){t=r[4].data;let s;for(s=0;s<t.length;s+=1){const f=nr(r,t,s);n[s]?(n[s].p(f,a),_(n[s],1)):(n[s]=ir(f),n[s].c(),_(n[s],1),n[s].m(e.parentNode,e))}for(X(),s=t.length;s<n.length;s+=1)o(s);x()}},i(r){if(!l){for(let a=0;a<t.length;a+=1)_(n[a]);l=!0}},o(r){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)p(n[a]);l=!1},d(r){Me(n,r),r&&h(e)}}}function nf(i){let e,l;return e=new Kt({props:{kind:"error",title:"Error loading datasets",lowContrast:!0,subtitle:i[4].error.message}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&16&&(o.subtitle=t[4].error.message),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function rf(i){let e,l;return e=new He({props:{paragraph:!0,lines:3,width:"30%"}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function rr(i){let e,l=i[17].description+"",t;return{c(){e=M("div"),t=W(l),this.h()},l(n){e=z(n,"DIV",{class:!0});var o=E(e);t=Z(o,l),o.forEach(h),this.h()},h(){C(e,"class","my-4")},m(n,o){T(n,e,o),v(e,t)},p(n,o){o&16&&l!==(l=n[17].description+"")&&ue(t,l)},d(n){n&&h(e)}}}function sf(i){let e;return{c(){e=W("Open")},l(l){e=Z(l,"Open")},m(l,t){T(l,e,t)},d(l){l&&h(e)}}}function ir(i){let e,l,t=i[17].namespace+"",n,o,r=i[17].dataset_name+"",a,s,f,u,c,d,m,g,b,w,D,V,$,S,A,F=i[17].description&&rr(i);function I(){return i[11](i[17])}c=new Ye({props:{kind:"tertiary",$$slots:{default:[sf]},$$scope:{ctx:i}}}),c.$on("click",I),b=new ki({props:{size:16}});function y(){return i[12](i[17])}function P(){return i[13](i[17])}return{c(){e=M("button"),l=M("div"),n=W(t),o=W(" / "),a=W(r),s=j(),F&&F.c(),f=j(),u=M("div"),R(c.$$.fragment),d=j(),m=M("div"),g=M("button"),R(b.$$.fragment),V=j(),this.h()},l(k){e=z(k,"BUTTON",{class:!0});var N=E(e);l=z(N,"DIV",{class:!0});var B=E(l);n=Z(B,t),o=Z(B," / "),a=Z(B,r),B.forEach(h),s=U(N),F&&F.l(N),f=U(N),u=z(N,"DIV",{class:!0});var Y=E(u);O(c.$$.fragment,Y),d=U(Y),m=z(Y,"DIV",{});var ee=E(m);g=z(ee,"BUTTON",{title:!0,class:!0});var L=E(g);O(b.$$.fragment,L),L.forEach(h),ee.forEach(h),Y.forEach(h),V=U(N),N.forEach(h),this.h()},h(){C(l,"class","truncate text-xl"),C(g,"title","Delete dataset"),g.disabled=w=!i[2],C(g,"class","h-full w-full rounded border border-gray-300 p-2"),de(g,"hover:border-red-400",i[2]),de(g,"hover:text-red-400",i[2]),de(m,"opacity-40",!i[2]),C(u,"class","mt-4 flex gap-x-2"),C(e,"class","w-80 cursor-pointer rounded-md border border-gray-200 px-3 py-4 text-left hover:border-gray-400")},m(k,N){T(k,e,N),v(e,l),v(l,n),v(l,o),v(l,a),v(e,s),F&&F.m(e,null),v(e,f),v(e,u),q(c,u,null),v(u,d),v(u,m),v(m,g),q(b,g,null),v(e,V),$=!0,S||(A=[Ve(g,"click",jt(y)),Te(D=ze.call(null,m,{text:i[2]?"":"User does not have access to delete this dataset."})),Ve(e,"click",P)],S=!0)},p(k,N){i=k,(!$||N&16)&&t!==(t=i[17].namespace+"")&&ue(n,t),(!$||N&16)&&r!==(r=i[17].dataset_name+"")&&ue(a,r),i[17].description?F?F.p(i,N):(F=rr(i),F.c(),F.m(e,f)):F&&(F.d(1),F=null);const B={};N&1048576&&(B.$$scope={dirty:N,ctx:i}),c.$set(B),(!$||N&4&&w!==(w=!i[2]))&&(g.disabled=w),(!$||N&4)&&de(g,"hover:border-red-400",i[2]),(!$||N&4)&&de(g,"hover:text-red-400",i[2]),D&&Qe(D.update)&&N&4&&D.update.call(null,{text:i[2]?"":"User does not have access to delete this dataset."}),(!$||N&4)&&de(m,"opacity-40",!i[2])},i(k){$||(_(c.$$.fragment,k),_(b.$$.fragment,k),$=!0)},o(k){p(c.$$.fragment,k),p(b.$$.fragment,k),$=!1},d(k){k&&h(e),F&&F.d(),H(c),H(b),S=!1,Ge(A)}}}function sr(i){let e,l;return e=new Gt({props:{danger:!0,open:!0,modalHeading:"Delete dataset",primaryButtonText:"Delete",primaryButtonIcon:i[3].isLoading?Vt:void 0,secondaryButtonText:"Cancel",$$slots:{default:[af]},$$scope:{ctx:i}}}),e.$on("click:button--secondary",i[14]),e.$on("close",i[15]),e.$on("submit",i[16]),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&8&&(o.primaryButtonIcon=t[3].isLoading?Vt:void 0),n&1048577&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function af(i){let e,l,t,n=i[0].namespace+"",o,r,a=i[0].name+"",s,f,u,c,d;return{c(){e=M("p"),l=W("Confirm deleting "),t=M("code"),o=W(n),r=W("/"),s=W(a),f=W(" ?"),u=j(),c=M("p"),d=W("This is a permanent action and cannot be undone."),this.h()},l(m){e=z(m,"P",{class:!0});var g=E(e);l=Z(g,"Confirm deleting "),t=z(g,"CODE",{});var b=E(t);o=Z(b,n),r=Z(b,"/"),s=Z(b,a),b.forEach(h),f=Z(g," ?"),g.forEach(h),u=U(m),c=z(m,"P",{class:!0});var w=E(c);d=Z(w,"This is a permanent action and cannot be undone."),w.forEach(h),this.h()},h(){C(e,"class","!text-lg"),C(c,"class","mt-2")},m(m,g){T(m,e,g),v(e,l),v(e,t),v(t,o),v(t,r),v(t,s),v(e,f),T(m,u,g),T(m,c,g),v(c,d)},p(m,g){g&1&&n!==(n=m[0].namespace+"")&&ue(o,n),g&1&&a!==(a=m[0].name+"")&&ue(s,a)},d(m){m&&h(e),m&&h(u),m&&h(c)}}}function of(i){let e,l,t,n,o,r,a;const s=[rf,nf,lf],f=[];function u(d,m){return d[4].isLoading?0:d[4].isError?1:d[4].isSuccess?2:-1}~(t=u(i))&&(n=f[t]=s[t](i));let c=i[0]&&sr(i);return{c(){e=M("div"),l=M("div"),n&&n.c(),o=j(),c&&c.c(),r=ne(),this.h()},l(d){e=z(d,"DIV",{class:!0});var m=E(e);l=z(m,"DIV",{class:!0});var g=E(l);n&&n.l(g),g.forEach(h),m.forEach(h),o=U(d),c&&c.l(d),r=ne(),this.h()},h(){C(l,"class","flex flex-wrap gap-x-4 gap-y-4"),C(e,"class","flex flex-col gap-y-4 p-4")},m(d,m){T(d,e,m),v(e,l),~t&&f[t].m(l,null),T(d,o,m),c&&c.m(d,m),T(d,r,m),a=!0},p(d,m){let g=t;t=u(d),t===g?~t&&f[t].p(d,m):(n&&(X(),p(f[g],1,1,()=>{f[g]=null}),x()),~t?(n=f[t],n?n.p(d,m):(n=f[t]=s[t](d),n.c()),_(n,1),n.m(l,null)):n=null),d[0]?c?(c.p(d,m),m&1&&_(c,1)):(c=sr(d),c.c(),_(c,1),c.m(r.parentNode,r)):c&&(X(),p(c,1,1,()=>{c=null}),x())},i(d){a||(_(n),_(c),a=!0)},o(d){p(n),p(c),a=!1},d(d){d&&h(e),~t&&f[t].d(),d&&h(o),c&&c.d(d),d&&h(r)}}}function ff(i){let e;return{c(){e=W("+ Add Dataset")},l(l){e=Z(l,"+ Add Dataset")},m(l,t){T(l,e,t)},d(l){l&&h(e)}}}function uf(i){let e,l,t;return l=new Ye({props:{size:"small",disabled:!i[1],$$slots:{default:[ff]},$$scope:{ctx:i}}}),l.$on("click",i[10]),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{slot:!0});var o=E(e);O(l.$$.fragment,o),o.forEach(h),this.h()},h(){C(e,"slot","header-right")},m(n,o){T(n,e,o),q(l,e,null),t=!0},p(n,o){const r={};o&2&&(r.disabled=!n[1]),o&1048576&&(r.$$scope={dirty:o,ctx:n}),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){p(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function cf(i){let e,l;return e=new hr({props:{title:"Datasets",$$slots:{"header-right":[uf],default:[of]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,[n]){const o={};n&1048607&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function df(i,e,l){let t,n,o,r,a;const s=Wr();me(i,s,S=>l(4,a=S));const f=Zr();me(i,f,S=>l(3,o=S));const u=At();me(i,u,S=>l(9,r=S));let c=null;function d(){if(c==null)return;const{namespace:S,name:A}=c;o.mutate([S,A],{onSuccess:()=>l(0,c=null)})}const m=()=>yt("/datasets/new"),g=S=>yt(Lt(S.namespace,S.dataset_name)),b=S=>l(0,c={namespace:S.namespace,name:S.dataset_name}),w=S=>yt(Lt(S.namespace,S.dataset_name)),D=()=>l(0,c=null),V=()=>l(0,c=null),$=()=>d();return i.$$.update=()=>{var S,A;i.$$.dirty&512&&l(2,t=(S=r.data)==null?void 0:S.access.dataset.delete_dataset),i.$$.dirty&512&&l(1,n=(A=r.data)==null?void 0:A.access.create_dataset)},[c,n,t,o,a,s,f,u,d,r,m,g,b,w,D,V,$]}class hf extends be{constructor(e){super(),ve(this,e,df,cf,_e,{})}}function mf(i){let e,l;return e=new hf({}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:G,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function _f(i){let e,l;return e=new tf({props:{namespace:i[0],datasetName:i[1]}}),{c(){R(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.namespace=t[0]),n&2&&(o.datasetName=t[1]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function gf(i){let e,l,t,n;const o=[_f,mf],r=[];function a(s,f){return s[0]!=null&&s[1]!=null?0:1}return e=a(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},l(s){l.l(s),t=ne()},m(s,f){r[e].m(s,f),T(s,t,f),n=!0},p(s,[f]){let u=e;e=a(s),e===u?r[e].p(s,f):(X(),p(r[u],1,1,()=>{r[u]=null}),x(),l=r[e],l?l.p(s,f):(l=r[e]=o[e](s),l.c()),_(l,1),l.m(t.parentNode,t))},i(s){n||(_(l),n=!0)},o(s){p(l),n=!1},d(s){r[e].d(s),s&&h(t)}}}function pf(i,e,l){let t,n,o;const r=br();return me(i,r,a=>l(3,t=a)),i.$$.update=()=>{if(i.$$.dirty&11&&t.page==="datasets")if(t.identifier==""||t.identifier==null)l(0,n=void 0),l(1,o=void 0);else{const[a,s]=t.identifier.split("/");(n!=a||o!=s)&&(l(0,n=a),l(1,o=s))}},[n,o,r,t]}class Tf extends be{constructor(e){super(),ve(this,e,pf,gf,_e,{})}}export{Tf as component};
