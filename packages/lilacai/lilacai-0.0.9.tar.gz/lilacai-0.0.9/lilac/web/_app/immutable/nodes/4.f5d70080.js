import{S as be,i as ve,s as _e,G as mt,E as ce,k as M,a as U,y as q,l as z,m as S,h,c as Y,z as L,n as V,H as de,I as st,b as C,J as v,A as O,K as Ve,a9 as Et,aa as Ht,L as _t,M as gt,N as pt,O as Fe,g as _,d as p,B as H,P as Qe,D as ke,C as bt,R as me,T as sr,t as $r,j as Sr,F as Se,q as J,r as G,u as ue,Q as Ue,w as Pe,ab as ar,_ as ge,$ as pe,a0 as De,a1 as X,e as re,o as yr,Z as Er,p as Ye,W as or,a6 as Ce,a8 as Oe,v as ee,f as te,a3 as ze,a5 as Be,X as vt,Y as wt,ac as kt,ad as Dr,U as Ge,V as Ke,ae as Ir,a4 as at,af as ot,x as ft,ag as St,ah as Vr}from"../chunks/index.0caa4e13.js";import{g as yt}from"../chunks/navigation.47470314.js";import{h as Ne,f as Ie,b as Lt,s as ye,p as jt,a as Cr,c as et,i as Nr,e as qe,g as ht,j as Nt,k as Tr,L as Ze,l as Mr,m as tt,n as zr,o as fr,r as Fr,U as Ut,C as ll,t as ur,q as Ar,u as Br,v as lt,w as Dt,x as Rt,O as Pr,y as dt,z as Rr,A as qr,B as It,V as cr,D as Or,E as Hr,F as Lr,P as dr,G as jr,H as Ur,I as Yr,J as Qr,K as Wr}from"../chunks/Page.41f539ef.js";import{e as nt,f as Zr,h as Re,t as Xe,a as xe,E as Yt,i as We,j as Qt,k as Jr,S as Gr,b as Kr,l as Xr,m as xr,n as Tt,o as ei,p as ti,q as li,r as ni,s as nl,u as qt,v as ri,w as ii,x as si,g as ai,y as oi,z as fi,I as Vt,A as Wt,B as ui,D as ut,F as ct,G as hr,M as mr,H as _r,J as gr,K as ci,C as di,L as hi,N as mi,O as _i,P as gi,Q as pi,R as bi,U as vi,T as wi}from"../chunks/ConceptView.db7a086e.js";import{d as rl,w as it}from"../chunks/index.5c606f22.js";import{C as ki,S as He,n as $i,I as Zt,d as Ot}from"../chunks/utils.1c6f7d43.js";import{C as Si,S as Mt,a as $t}from"../chunks/SelectItem.6bf0ffa0.js";import{M as Jt,g as pr}from"../chunks/urlHashStore.65424eb1.js";import{q as Gt,S as yi}from"../chunks/signalQueries.c8eb9e03.js";import{B as Je,a as zt}from"../chunks/taskMonitoringStore.1f1b6bec.js";import{g as br}from"../chunks/settingsStore.cc81ce84.js";import{C as Ei}from"../chunks/ComboBox.b8eddb0b.js";import{S as Di}from"../chunks/Settings.9cb8d7a6.js";const Ii=i=>({}),il=i=>({});function sl(i){let e=i[3].label+"",l;return{c(){l=J(e)},l(t){l=G(t,e)},m(t,n){C(t,l,n)},p(t,n){n[0]&8&&e!==(e=t[3].label+"")&&ue(l,e)},d(t){t&&h(l)}}}function Vi(i){let e,l,t,n,o,r,s,a,f,u,c,d,m=i[3]&&sl(i);o=new Si({props:{"aria-hidden":"true",title:i[1]}});const g=i[20].default,b=mt(g,i,i[19],null);let w=[{role:"navigation"},i[10]],I={};for(let y=0;y<w.length;y+=1)I=ce(I,w[y]);const T=i[20].content,$=mt(T,i,i[19],il);return{c(){e=M("div"),l=M("div"),t=M("a"),m&&m.c(),n=U(),q(o.$$.fragment),s=U(),a=M("ul"),b&&b.c(),f=U(),$&&$.c(),this.h()},l(y){e=z(y,"DIV",{role:!0});var A=S(e);l=z(A,"DIV",{role:!0,tabindex:!0,"aria-label":!0});var F=S(l);t=z(F,"A",{tabindex:!0,href:!0});var E=S(t);m&&m.l(E),E.forEach(h),n=Y(F),L(o.$$.fragment,F),F.forEach(h),s=Y(A),a=z(A,"UL",{role:!0});var D=S(a);b&&b.l(D),D.forEach(h),A.forEach(h),f=Y(y),$&&$.l(y),this.h()},h(){V(t,"tabindex","-1"),V(t,"href",i[2]),de(t,"bx--tabs-trigger-text",!0),V(l,"role","listbox"),V(l,"tabindex","0"),V(l,"aria-label",r=i[11]["aria-label"]||"listbox"),de(l,"bx--tabs-trigger",!0),V(a,"role","tablist"),de(a,"bx--tabs__nav",!0),de(a,"bx--tabs__nav--hidden",i[5]),st(e,I),de(e,"bx--tabs",!0),de(e,"bx--tabs--container",i[0]==="container")},m(y,A){C(y,e,A),v(e,l),v(l,t),m&&m.m(t,null),v(l,n),O(o,l,null),v(e,s),v(e,a),b&&b.m(a,null),i[26](a),C(y,f,A),$&&$.m(y,A),u=!0,c||(d=[Ve(t,"click",Et(i[22])),Ve(t,"click",Ht(Et(i[23]))),Ve(l,"click",i[24]),Ve(l,"keypress",i[21]),Ve(l,"keypress",i[25])],c=!0)},p(y,A){y[3]?m?m.p(y,A):(m=sl(y),m.c(),m.m(t,null)):m&&(m.d(1),m=null),(!u||A[0]&4)&&V(t,"href",y[2]);const F={};A[0]&2&&(F.title=y[1]),o.$set(F),(!u||A[0]&2048&&r!==(r=y[11]["aria-label"]||"listbox"))&&V(l,"aria-label",r),b&&b.p&&(!u||A[0]&524288)&&_t(b,g,y,y[19],u?pt(g,y[19],A,null):gt(y[19]),null),(!u||A[0]&32)&&de(a,"bx--tabs__nav--hidden",y[5]),st(e,I=Fe(w,[{role:"navigation"},A[0]&1024&&y[10]])),de(e,"bx--tabs",!0),de(e,"bx--tabs--container",y[0]==="container"),$&&$.p&&(!u||A[0]&524288)&&_t($,T,y,y[19],u?pt(T,y[19],A,Ii):gt(y[19]),il)},i(y){u||(_(o.$$.fragment,y),_(b,y),_($,y),u=!0)},o(y){p(o.$$.fragment,y),p(b,y),p($,y),u=!1},d(y){y&&h(e),m&&m.d(),H(o),b&&b.d(y),i[26](null),y&&h(f),$&&$.d(y),c=!1,Qe(d)}}}function Ci(i,e,l){let t,n;const o=["selected","type","autoWidth","iconDescription","triggerHref"];let r=ke(e,o),s,a,f,u,{$$slots:c={},$$scope:d}=e,{selected:m=0}=e,{type:g="default"}=e,{autoWidth:b=!1}=e,{iconDescription:w="Show menu options"}=e,{triggerHref:I="#"}=e;const T=bt(),$=it([]);me(i,$,le=>l(18,f=le));const y=rl($,le=>le.reduce((ne,Ee)=>({...ne,[Ee.id]:Ee}),{}));me(i,y,le=>l(28,u=le));const A=it(b),F=it(void 0);me(i,F,le=>l(16,s=le));const E=it([]);me(i,E,le=>l(17,a=le));const D=rl(E,le=>le.reduce((ne,Ee)=>({...ne,[Ee.id]:Ee}),{})),P=it(void 0);let k=null;sr("Tabs",{tabs:$,contentById:D,selectedTab:F,selectedContent:P,useAutoWidth:A,add:le=>{$.update(ne=>[...ne,{...le,index:ne.length}])},addContent:le=>{E.update(ne=>[...ne,{...le,index:ne.length}])},update:le=>{l(14,R=u[le].index)},change:async le=>{let ne=R+le;ne<0?ne=f.length-1:ne>=f.length&&(ne=0);let Ee=f[ne].disabled;for(;Ee;)ne=ne+le,ne<0?ne=f.length-1:ne>=f.length&&(ne=0),Ee=f[ne].disabled;l(14,R=ne),await $r();const we=k==null?void 0:k.querySelectorAll("[role='tab']")[R];we==null||we.focus()}}),Sr(()=>{l(12,m=R),j>-1&&j!==R&&T("change",R),j=R});let N=!0,R=m,j=-1;function Q(le){Ue.call(this,i,le)}function B(le){Ue.call(this,i,le)}const W=()=>{l(5,N=!N)},Z=()=>{l(5,N=!N)},x=()=>{l(5,N=!N)};function fe(le){Pe[le?"unshift":"push"](()=>{k=le,l(4,k)})}return i.$$set=le=>{l(11,e=ce(ce({},e),Se(le))),l(10,r=ke(e,o)),"selected"in le&&l(12,m=le.selected),"type"in le&&l(0,g=le.type),"autoWidth"in le&&l(13,b=le.autoWidth),"iconDescription"in le&&l(1,w=le.iconDescription),"triggerHref"in le&&l(2,I=le.triggerHref),"$$scope"in le&&l(19,d=le.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&4096&&l(14,R=m),i.$$.dirty[0]&278528&&l(3,t=f[R]||void 0),i.$$.dirty[0]&147456&&l(15,n=a[R]||void 0),i.$$.dirty[0]&32776&&(t&&F.set(t.id),n&&P.set(n.id)),i.$$.dirty[0]&65536&&s&&l(5,N=!0),i.$$.dirty[0]&8192&&A.set(b)},e=Se(e),[g,w,I,t,k,N,$,y,F,E,r,e,m,b,R,n,s,a,f,d,c,Q,B,W,Z,x,fe]}class Ni extends be{constructor(e){super(),ve(this,e,Ci,Vi,_e,{selected:12,type:0,autoWidth:13,iconDescription:1,triggerHref:2},null,[-1,-1])}}const Ti=Ni;function Mi(i){let e;return{c(){e=J(i[1])},l(l){e=G(l,i[1])},m(l,t){C(l,e,t)},p(l,t){t&2&&ue(e,l[1])},d(l){l&&h(e)}}}function zi(i){let e,l,t,n,o,r,s;const a=i[15].default,f=mt(a,i,i[14],null),u=f||Mi(i);let c=[{tabindex:"-1"},{role:"presentation"},i[12]],d={};for(let m=0;m<c.length;m+=1)d=ce(d,c[m]);return{c(){e=M("li"),l=M("a"),u&&u.c(),this.h()},l(m){e=z(m,"LI",{tabindex:!0,role:!0});var g=S(e);l=z(g,"A",{role:!0,tabindex:!0,"aria-selected":!0,"aria-disabled":!0,id:!0,href:!0,style:!0});var b=S(l);u&&u.l(b),b.forEach(h),g.forEach(h),this.h()},h(){V(l,"role","tab"),V(l,"tabindex",t=i[3]?"-1":i[4]),V(l,"aria-selected",i[6]),V(l,"aria-disabled",i[3]),V(l,"id",i[5]),V(l,"href",i[2]),V(l,"style",n=i[7]?"width: auto":void 0),de(l,"bx--tabs__nav-link",!0),st(e,d),de(e,"bx--tabs__nav-item",!0),de(e,"bx--tabs__nav-item--disabled",i[3]),de(e,"bx--tabs__nav-item--selected",i[6])},m(m,g){C(m,e,g),v(e,l),u&&u.m(l,null),i[20](l),o=!0,r||(s=[Ve(e,"click",Et(i[16])),Ve(e,"click",Et(i[21])),Ve(e,"mouseover",i[17]),Ve(e,"mouseenter",i[18]),Ve(e,"mouseleave",i[19]),Ve(e,"keydown",i[22])],r=!0)},p(m,[g]){f?f.p&&(!o||g&16384)&&_t(f,a,m,m[14],o?pt(a,m[14],g,null):gt(m[14]),null):u&&u.p&&(!o||g&2)&&u.p(m,o?g:-1),(!o||g&24&&t!==(t=m[3]?"-1":m[4]))&&V(l,"tabindex",t),(!o||g&64)&&V(l,"aria-selected",m[6]),(!o||g&8)&&V(l,"aria-disabled",m[3]),(!o||g&32)&&V(l,"id",m[5]),(!o||g&4)&&V(l,"href",m[2]),(!o||g&128&&n!==(n=m[7]?"width: auto":void 0))&&V(l,"style",n),st(e,d=Fe(c,[{tabindex:"-1"},{role:"presentation"},g&4096&&m[12]])),de(e,"bx--tabs__nav-item",!0),de(e,"bx--tabs__nav-item--disabled",m[3]),de(e,"bx--tabs__nav-item--selected",m[6])},i(m){o||(_(u,m),o=!0)},o(m){p(u,m),o=!1},d(m){m&&h(e),u&&u.d(m),i[20](null),r=!1,Qe(s)}}}function Fi(i,e,l){let t;const n=["label","href","disabled","tabindex","id","ref"];let o=ke(e,n),r,s,{$$slots:a={},$$scope:f}=e,{label:u=""}=e,{href:c="#"}=e,{disabled:d=!1}=e,{tabindex:m="0"}=e,{id:g="ccs-"+Math.random().toString(36)}=e,{ref:b=null}=e;const{selectedTab:w,useAutoWidth:I,add:T,update:$,change:y}=ar("Tabs");me(i,w,R=>l(13,r=R)),me(i,I,R=>l(7,s=R)),T({id:g,label:u,disabled:d});function A(R){Ue.call(this,i,R)}function F(R){Ue.call(this,i,R)}function E(R){Ue.call(this,i,R)}function D(R){Ue.call(this,i,R)}function P(R){Pe[R?"unshift":"push"](()=>{b=R,l(0,b)})}const k=()=>{d||$(g)},N=({key:R})=>{d||(R==="ArrowRight"?y(1):R==="ArrowLeft"?y(-1):(R===" "||R==="Enter")&&$(g))};return i.$$set=R=>{e=ce(ce({},e),Se(R)),l(12,o=ke(e,n)),"label"in R&&l(1,u=R.label),"href"in R&&l(2,c=R.href),"disabled"in R&&l(3,d=R.disabled),"tabindex"in R&&l(4,m=R.tabindex),"id"in R&&l(5,g=R.id),"ref"in R&&l(0,b=R.ref),"$$scope"in R&&l(14,f=R.$$scope)},i.$$.update=()=>{i.$$.dirty&8224&&l(6,t=r===g)},[b,u,c,d,m,g,t,s,w,I,$,y,o,r,f,a,A,F,E,D,P,k,N]}class Ai extends be{constructor(e){super(),ve(this,e,Fi,zi,_e,{label:1,href:2,disabled:3,tabindex:4,id:5,ref:0})}}const Bt=Ai;function Bi(i){let e,l,t,n;const o=i[12].default,r=mt(o,i,i[11],null);let s=[{role:"tabpanel"},{"aria-labelledby":i[1]},{"aria-hidden":l=!i[2]},{hidden:t=i[2]?void 0:""},{id:i[0]},i[6]],a={};for(let f=0;f<s.length;f+=1)a=ce(a,s[f]);return{c(){e=M("div"),r&&r.c(),this.h()},l(f){e=z(f,"DIV",{role:!0,"aria-labelledby":!0,"aria-hidden":!0,id:!0});var u=S(e);r&&r.l(u),u.forEach(h),this.h()},h(){st(e,a),de(e,"bx--tab-content",!0)},m(f,u){C(f,e,u),r&&r.m(e,null),n=!0},p(f,[u]){r&&r.p&&(!n||u&2048)&&_t(r,o,f,f[11],n?pt(o,f[11],u,null):gt(f[11]),null),st(e,a=Fe(s,[{role:"tabpanel"},(!n||u&2)&&{"aria-labelledby":f[1]},(!n||u&4&&l!==(l=!f[2]))&&{"aria-hidden":l},(!n||u&4&&t!==(t=f[2]?void 0:""))&&{hidden:t},(!n||u&1)&&{id:f[0]},u&64&&f[6]])),de(e,"bx--tab-content",!0)},i(f){n||(_(r,f),n=!0)},o(f){p(r,f),n=!1},d(f){f&&h(e),r&&r.d(f)}}}function Pi(i,e,l){let t,n,o;const r=["id"];let s=ke(e,r),a,f,u,{$$slots:c={},$$scope:d}=e,{id:m="ccs-"+Math.random().toString(36)}=e;const{selectedContent:g,addContent:b,tabs:w,contentById:I}=ar("Tabs");return me(i,g,T=>l(10,u=T)),me(i,w,T=>l(8,a=T)),me(i,I,T=>l(9,f=T)),b({id:m}),i.$$set=T=>{e=ce(ce({},e),Se(T)),l(6,s=ke(e,r)),"id"in T&&l(0,m=T.id),"$$scope"in T&&l(11,d=T.$$scope)},i.$$.update=()=>{i.$$.dirty&1025&&l(2,t=u===m),i.$$.dirty&513&&l(7,n=f[m].index),i.$$.dirty&384&&l(1,o=a[n].id)},[m,o,t,g,w,I,s,n,a,f,u,d,c]}class Ri extends be{constructor(e){super(),ve(this,e,Pi,Bi,_e,{id:0})}}const Pt=Ri;function al(i){let e,l;return{c(){e=ge("title"),l=J(i[1])},l(t){e=pe(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function qi(i){let e,l,t=i[1]&&al(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=pe(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),De(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=al(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function Oi(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class Hi extends be{constructor(e){super(),ve(this,e,Oi,qi,_e,{size:0,title:1})}}function ol(i){let e,l;return{c(){e=ge("title"),l=J(i[1])},l(t){e=pe(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Li(i){let e,l,t=i[1]&&ol(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=pe(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M24 12L16 22 8 12z"),De(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=ol(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function ji(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class Ui extends be{constructor(e){super(),ve(this,e,ji,Li,_e,{size:0,title:1})}}function fl(i){let e,l;return{c(){e=ge("title"),l=J(i[1])},l(t){e=pe(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Yi(i){let e,l,t=i[1]&&fl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=pe(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M10 16L20 6 21.4 7.4 12.8 16 21.4 24.6 20 26z"),De(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=fl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function Qi(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class Wi extends be{constructor(e){super(),ve(this,e,Qi,Yi,_e,{size:0,title:1})}}function ul(i){let e,l;return{c(){e=ge("title"),l=J(i[1])},l(t){e=pe(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Zi(i){let e,l,t=i[1]&&ul(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=pe(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"),De(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=ul(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function Ji(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class Gi extends be{constructor(e){super(),ve(this,e,Ji,Zi,_e,{size:0,title:1})}}function cl(i){let e,l;return{c(){e=ge("title"),l=J(i[1])},l(t){e=pe(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Ki(i){let e,l,t=i[1]&&cl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=pe(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M26 24v4H6V24H4v4H4a2 2 0 002 2H26a2 2 0 002-2h0V24zM26 14L24.59 12.59 17 20.17 17 2 15 2 15 20.17 7.41 12.59 6 14 16 24 26 14z"),De(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=cl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function Xi(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class xi extends be{constructor(e){super(),ve(this,e,Xi,Ki,_e,{size:0,title:1})}}function dl(i){let e,l;return{c(){e=ge("title"),l=J(i[1])},l(t){e=pe(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function es(i){let e,l,t=i[1]&&dl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=pe(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M16 7a3 3 0 113-3A3.0033 3.0033 0 0116 7zm0-4a1 1 0 101 1A1.001 1.001 0 0016 3zM11 30a3 3 0 113-3A3.0033 3.0033 0 0111 30zm0-4a1 1 0 101 1A1.001 1.001 0 0011 26zM7 11a3 3 0 113-3A3.0033 3.0033 0 017 11zM7 7A1 1 0 108 8 1.001 1.001 0 007 7zM21 30a3 3 0 113-3A3.0033 3.0033 0 0121 30zm0-4a1 1 0 101 1A1.001 1.001 0 0021 26zM25 11a3 3 0 113-3A3.0033 3.0033 0 0125 11zm0-4a1 1 0 101 1A1.001 1.001 0 0025 7zM4 21a3 3 0 113-3A3.0033 3.0033 0 014 21zm0-4a1 1 0 101 1A1.001 1.001 0 004 17zM28 21a3 3 0 113-3A3.0033 3.0033 0 0128 21zm0-4a1 1 0 101 1A1.001 1.001 0 0028 17zM16 22a6 6 0 116-6A6.0069 6.0069 0 0116 22zm0-10a4 4 0 104 4A4.0045 4.0045 0 0016 12z"),De(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=dl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function ts(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class ls extends be{constructor(e){super(),ve(this,e,ts,es,_e,{size:0,title:1})}}function hl(i){let e,l;return{c(){e=ge("title"),l=J(i[1])},l(t){e=pe(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ns(i){let e,l,t,n=i[1]&&hl(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=ce(r,o[s]);return{c(){e=ge("svg"),n&&n.c(),l=ge("path"),t=ge("path"),this.h()},l(s){e=pe(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=S(e);n&&n.l(a),l=pe(a,"path",{d:!0}),S(l).forEach(h),t=pe(a,"path",{d:!0}),S(t).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M17 22L17 14 13 14 13 16 15 16 15 22 12 22 12 24 20 24 20 22 17 22zM16 8a1.5 1.5 0 101.5 1.5A1.5 1.5 0 0016 8z"),V(t,"d","M16,30A14,14,0,1,1,30,16,14,14,0,0,1,16,30ZM16,4A12,12,0,1,0,28,16,12,12,0,0,0,16,4Z"),De(e,r)},m(s,a){C(s,e,a),n&&n.m(e,null),v(e,l),v(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=hl(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),De(e,r=Fe(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:X,o:X,d(s){s&&h(e),n&&n.d()}}}function rs(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class Ct extends be{constructor(e){super(),ve(this,e,rs,ns,_e,{size:0,title:1})}}function ml(i){let e,l;return{c(){e=ge("title"),l=J(i[1])},l(t){e=pe(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function is(i){let e,l,t=i[1]&&ml(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=pe(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M30 6L26 6 26 2 24 2 24 6 20 6 20 8 24 8 24 12 26 12 26 8 30 8 30 6zM24 28.5859l-5.9751-5.9751a9.0234 9.0234 0 10-1.4141 1.4141L22.5859 30zM4 17a7 7 0 117 7A7.0078 7.0078 0 014 17z"),De(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=ml(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function ss(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class as extends be{constructor(e){super(),ve(this,e,ss,is,_e,{size:0,title:1})}}function _l(i){let e,l;return{c(){e=ge("title"),l=J(i[1])},l(t){e=pe(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function os(i){let e,l,t=i[1]&&_l(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=pe(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M23,20a5,5,0,0,0-3.89,1.89L11.8,17.32a4.46,4.46,0,0,0,0-2.64l7.31-4.57A5,5,0,1,0,18,7a4.79,4.79,0,0,0,.2,1.32l-7.31,4.57a5,5,0,1,0,0,6.22l7.31,4.57A4.79,4.79,0,0,0,18,25a5,5,0,1,0,5-5ZM23,4a3,3,0,1,1-3,3A3,3,0,0,1,23,4ZM7,19a3,3,0,1,1,3-3A3,3,0,0,1,7,19Zm16,9a3,3,0,1,1,3-3A3,3,0,0,1,23,28Z"),De(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=_l(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function fs(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class us extends be{constructor(e){super(),ve(this,e,fs,os,_e,{size:0,title:1})}}function gl(i){let e,l;return{c(){e=ge("title"),l=J(i[1])},l(t){e=pe(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function cs(i){let e,l,t=i[1]&&gl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=pe(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 18H16V20H2zM6 12H16V14H6zM10 6H16V8H10z"),De(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=gl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function ds(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class Kt extends be{constructor(e){super(),ve(this,e,ds,cs,_e,{size:0,title:1})}}function pl(i){let e,l;return{c(){e=ge("title"),l=J(i[1])},l(t){e=pe(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function hs(i){let e,l,t=i[1]&&pl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=pe(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 6H16V8H2zM6 12H16V14H6zM10 18H16V20H10z"),De(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=pl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function ms(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class Xt extends be{constructor(e){super(),ve(this,e,ms,hs,_e,{size:0,title:1})}}function bl(i){let e,l;return{c(){e=ge("title"),l=J(i[1])},l(t){e=pe(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function _s(i){let e,l,t=i[1]&&bl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=ge("svg"),t&&t.c(),l=ge("path"),this.h()},l(r){e=pe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=pe(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M30 19.415L28.586 18 25 21.587 21.414 18 20 19.415 23.586 23 20 26.586 21.414 28 25 24.414 28.586 28 30 26.586 26.414 23 30 19.415zM10 18H16V20H10zM2 6H16V8H2zM6 12H16V14H6z"),De(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=bl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),De(e,o=Fe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function gs(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class ps extends be{constructor(e){super(),ve(this,e,gs,_s,_e,{size:0,title:1})}}function vl(i){let e,l;return{c(){e=ge("title"),l=J(i[1])},l(t){e=pe(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function bs(i){let e,l,t,n=i[1]&&vl(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=ce(r,o[s]);return{c(){e=ge("svg"),n&&n.c(),l=ge("path"),t=ge("path"),this.h()},l(s){e=pe(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=S(e);n&&n.l(a),l=pe(a,"path",{d:!0}),S(l).forEach(h),t=pe(a,"path",{d:!0}),S(t).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M30.94,15.66A16.69,16.69,0,0,0,16,5,16.69,16.69,0,0,0,1.06,15.66a1,1,0,0,0,0,.68A16.69,16.69,0,0,0,16,27,16.69,16.69,0,0,0,30.94,16.34,1,1,0,0,0,30.94,15.66ZM16,25c-5.3,0-10.9-3.93-12.93-9C5.1,10.93,10.7,7,16,7s10.9,3.93,12.93,9C26.9,21.07,21.3,25,16,25Z"),V(t,"d","M16,10a6,6,0,1,0,6,6A6,6,0,0,0,16,10Zm0,10a4,4,0,1,1,4-4A4,4,0,0,1,16,20Z"),De(e,r)},m(s,a){C(s,e,a),n&&n.m(e,null),v(e,l),v(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=vl(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),De(e,r=Fe(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:X,o:X,d(s){s&&h(e),n&&n.d()}}}function vs(i,e,l){let t,n;const o=["size","title"];let r=ke(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Se(f))),l(3,r=ke(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Se(e),[s,a,n,r,t]}class ws extends be{constructor(e){super(),ve(this,e,vs,bs,_e,{size:0,title:1})}}function wl(i){let e;return{c(){e=M("div"),this.h()},l(l){e=z(l,"DIV",{id:!0,style:!0}),S(e).forEach(h),this.h()},h(){V(e,"id","svelte-infinite-scroll"),Ye(e,"width","0")},m(l,t){C(l,e,t),i[11](e)},p:X,d(l){l&&h(e),i[11](null)}}}function ks(i){let e,l=!i[1]&&!i[0]&&wl(i);return{c(){l&&l.c(),e=re()},l(t){l&&l.l(t),e=re()},m(t,n){l&&l.m(t,n),C(t,e,n)},p(t,[n]){!t[1]&&!t[0]?l?l.p(t,n):(l=wl(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:X,o:X,d(t){l&&l.d(t),t&&h(e)}}}function $s(i,e,l){let{threshold:t=0}=e,{horizontal:n=!1}=e,{elementScroll:o=null}=e,{hasMore:r=!0}=e,{reverse:s=!1}=e,{window:a=!1}=e;const f=bt();let u=!1,c,d,m,g;const b=T=>{if(!r)return;const $=T.target;w($,s,n)<=t?(!u&&r&&(f("loadMore"),l(8,d=$.scrollHeight),l(9,m=$.scrollTop)),l(7,u=!0)):l(7,u=!1)},w=(T,$,y)=>{const A=T.documentElement?T.documentElement:T;return $?y?A.scrollLeft:A.scrollTop:y?A.scrollWidth-A.clientWidth-A.scrollLeft:A.scrollHeight-A.clientHeight-A.scrollTop};yr(()=>{a?l(10,g=document):o?l(10,g=o):l(10,g=c.parentNode)}),Er(()=>{g&&(g.removeEventListener("scroll",b),g.removeEventListener("resize",b))});function I(T){Pe[T?"unshift":"push"](()=>{c=T,l(2,c)})}return i.$$set=T=>{"threshold"in T&&l(3,t=T.threshold),"horizontal"in T&&l(4,n=T.horizontal),"elementScroll"in T&&l(0,o=T.elementScroll),"hasMore"in T&&l(5,r=T.hasMore),"reverse"in T&&l(6,s=T.reverse),"window"in T&&l(1,a=T.window)},i.$$.update=()=>{i.$$.dirty&1088&&g&&(s&&l(10,g.scrollTop=g.scrollHeight,g),g.addEventListener("scroll",b),g.addEventListener("resize",b)),i.$$.dirty&1984&&u&&s&&l(10,g.scrollTop=g.scrollHeight-d+m,g)},[o,a,c,t,n,r,s,u,d,m,g,I]}class Ss extends be{constructor(e){super(),ve(this,e,$s,ks,_e,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function ys(i){let e,l,t,n,o,r,s,a;t=new Zr({});const f=i[3].default,u=mt(f,i,i[6],null);return{c(){e=M("div"),l=M("button"),q(t.$$.fragment),n=U(),o=M("span"),u&&u.c(),this.h()},l(c){e=z(c,"DIV",{class:!0});var d=S(e);l=z(d,"BUTTON",{class:!0});var m=S(l);L(t.$$.fragment,m),m.forEach(h),n=Y(d),o=z(d,"SPAN",{class:!0});var g=S(o);u&&u.l(g),g.forEach(h),d.forEach(h),this.h()},h(){V(l,"class","opacity-50 hover:opacity-100"),V(o,"class","truncate"),V(e,"class","removable-tag flex items-center gap-x-1")},m(c,d){C(c,e,d),v(e,l),O(t,l,null),v(e,n),v(e,o),u&&u.m(o,null),r=!0,s||(a=Ve(l,"click",Ht(i[4])),s=!0)},p(c,d){u&&u.p&&(!r||d&64)&&_t(u,f,c,c[6],r?pt(f,c[6],d,null):gt(c[6]),null)},i(c){r||(_(t.$$.fragment,c),_(u,c),r=!0)},o(c){p(t.$$.fragment,c),p(u,c),r=!1},d(c){c&&h(e),H(t),u&&u.d(c),s=!1,a()}}}function Es(i){let e,l;const t=[{type:i[0]},i[2]];let n={$$slots:{default:[ys]},$$scope:{ctx:i}};for(let o=0;o<t.length;o+=1)n=ce(n,t[o]);return e=new nt({props:n}),e.$on("click",i[5]),{c(){q(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,r){O(e,o,r),l=!0},p(o,[r]){const s=r&5?Fe(t,[r&1&&{type:o[0]},r&4&&or(o[2])]):{};r&64&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){l||(_(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){H(e,o)}}}function Ds(i,e,l){const t=["type"];let n=ke(e,t),{$$slots:o={},$$scope:r}=e;const s=bt();let{type:a}=e;const f=()=>s("remove");function u(c){Ue.call(this,i,c)}return i.$$set=c=>{e=ce(ce({},e),Se(c)),l(2,n=ke(e,t)),"type"in c&&l(0,a=c.type),"$$scope"in c&&l(6,r=c.$$scope)},[a,s,n,o,f,u,r]}class Ft extends be{constructor(e){super(),ve(this,e,Ds,Es,_e,{type:0})}}function Is(i){let e,l=(i[2]?"":i[5])+"",t,n,o=i[0][i[1].op]+"",r,s,a;return{c(){e=M("span"),t=J(l),n=U(),r=J(o),s=U(),a=J(i[4]),this.h()},l(f){e=z(f,"SPAN",{class:!0});var u=S(e);t=G(u,l),u.forEach(h),n=Y(f),r=G(f,o),s=Y(f),a=G(f,i[4]),this.h()},h(){V(e,"class","font-mono")},m(f,u){C(f,e,u),v(e,t),C(f,n,u),C(f,r,u),C(f,s,u),C(f,a,u)},p(f,u){u&36&&l!==(l=(f[2]?"":f[5])+"")&&ue(t,l),u&2&&o!==(o=f[0][f[1].op]+"")&&ue(r,o),u&16&&ue(a,f[4])},d(f){f&&h(e),f&&h(n),f&&h(r),f&&h(s),f&&h(a)}}}function Vs(i){let e,l,t,n,o,r;return l=new Ft({props:{interactive:!0,type:"magenta",$$slots:{default:[Is]},$$scope:{ctx:i}}}),l.$on("click",i[9]),l.$on("remove",i[10]),{c(){e=M("div"),q(l.$$.fragment),this.h()},l(s){e=z(s,"DIV",{class:!0});var a=S(e);L(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","filter-pill items-center")},m(s,a){C(s,e,a),O(l,e,null),n=!0,o||(r=Ce(t=Ne.call(null,e,{text:i[6]})),o=!0)},p(s,[a]){const f={};a&2102&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&Oe(t.update)&&a&64&&t.update.call(null,{text:s[6]})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){p(l.$$.fragment,s),n=!1},d(s){s&&h(e),H(l),o=!1,r()}}}function Cs(i,e,l){let t,n,o,r,s;const a={equals:"=",not_equal:"≠",less:"<",less_equal:"≤",greater:">",greater_equal:"≥",in:"in",exists:"exists"};let{filter:f}=e,{hidePath:u=!1}=e;const c=Re();me(i,c,g=>l(7,s=g));const d=()=>Xe({command:xe.EditFilter,namespace:s.namespace,datasetName:s.datasetName,path:n}),m=()=>c.removeFilter(f);return i.$$set=g=>{"filter"in g&&l(1,f=g.filter),"hidePath"in g&&l(2,u=g.hidePath)},i.$$.update=()=>{i.$$.dirty&2&&l(4,t=Ie(f.value||"false")),i.$$.dirty&2&&l(3,n=Lt(f.path)),i.$$.dirty&18&&l(6,o=`${ye(f.path)} ${a[f.op]} ${t}`),i.$$.dirty&8&&l(5,r=n.at(-1))},[a,f,u,n,t,r,o,s,c,d,m]}class xt extends be{constructor(e){super(),ve(this,e,Cs,Vs,_e,{FILTER_SHORTHANDS:0,filter:1,hidePath:2})}get FILTER_SHORTHANDS(){return this.$$.ctx[0]}}function kl(i){let e,l=i[0].query.concept_namespace+"",t,n,o=i[0].query.concept_name+"",r;return{c(){e=M("div"),t=J(l),n=J(" / "),r=J(o),this.h()},l(s){e=z(s,"DIV",{class:!0});var a=S(e);t=G(a,l),n=G(a," / "),r=G(a,o),a.forEach(h),this.h()},h(){V(e,"class","mb-2 w-full text-center text-xs")},m(s,a){C(s,e,a),v(e,t),v(e,n),v(e,r)},p(s,a){a&1&&l!==(l=s[0].query.concept_namespace+"")&&ue(t,l),a&1&&o!==(o=s[0].query.concept_name+"")&&ue(r,o)},d(s){s&&h(e)}}}function Ns(i){let e=ye(i[0].path)+"",l,t,n=i[0].query.type+"",o;return{c(){l=J(e),t=J(": "),o=J(n)},l(r){l=G(r,e),t=G(r,": "),o=G(r,n)},m(r,s){C(r,l,s),C(r,t,s),C(r,o,s)},p(r,s){s&1&&e!==(e=ye(r[0].path)+"")&&ue(l,e),s&1&&n!==(n=r[0].query.type+"")&&ue(o,n)},d(r){r&&h(l),r&&h(t),r&&h(o)}}}function $l(i){let e,l,t;return l=new Yt({props:{embedding:i[0].query.embedding}}),{c(){e=M("div"),q(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{class:!0});var o=S(e);L(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"class","ml-2")},m(n,o){C(n,e,o),O(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.embedding=n[0].query.embedding),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){p(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function Sl(i){let e,l;return{c(){e=M("div"),l=J(i[2]),this.h()},l(t){e=z(t,"DIV",{class:!0});var n=S(e);l=G(n,i[2]),n.forEach(h),this.h()},h(){V(e,"class","mt-2 whitespace-pre-wrap text-left")},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&4&&ue(l,t[2])},d(t){t&&h(e)}}}function Ts(i){let e,l,t,n,o,r,s,a,f=i[0].query.type==="concept"&&kl(i);n=new nt({props:{type:i[1],$$slots:{default:[Ns]},$$scope:{ctx:i}}});let u=(i[0].query.type==="semantic"||i[0].query.type==="concept")&&$l(i),c=i[2]&&Sl(i);return{c(){f&&f.c(),e=U(),l=M("div"),t=M("div"),q(n.$$.fragment),o=U(),u&&u.c(),r=U(),c&&c.c(),s=re(),this.h()},l(d){f&&f.l(d),e=Y(d),l=z(d,"DIV",{class:!0});var m=S(l);t=z(m,"DIV",{class:!0});var g=S(t);L(n.$$.fragment,g),g.forEach(h),o=Y(m),u&&u.l(m),m.forEach(h),r=Y(d),c&&c.l(d),s=re(),this.h()},h(){V(t,"class","whitespace-nowrap"),V(l,"class","flex items-center justify-items-center")},m(d,m){f&&f.m(d,m),C(d,e,m),C(d,l,m),v(l,t),O(n,t,null),v(l,o),u&&u.m(l,null),C(d,r,m),c&&c.m(d,m),C(d,s,m),a=!0},p(d,[m]){d[0].query.type==="concept"?f?f.p(d,m):(f=kl(d),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null);const g={};m&2&&(g.type=d[1]),m&9&&(g.$$scope={dirty:m,ctx:d}),n.$set(g),d[0].query.type==="semantic"||d[0].query.type==="concept"?u?(u.p(d,m),m&1&&_(u,1)):(u=$l(d),u.c(),_(u,1),u.m(l,null)):u&&(ee(),p(u,1,1,()=>{u=null}),te()),d[2]?c?c.p(d,m):(c=Sl(d),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i(d){a||(_(n.$$.fragment,d),_(u),a=!0)},o(d){p(n.$$.fragment,d),p(u),a=!1},d(d){f&&f.d(d),d&&h(e),d&&h(l),H(n),u&&u.d(),d&&h(r),c&&c.d(d),d&&h(s)}}}function Ms(i,e,l){let t,{search:n}=e,{tagType:o="outline"}=e;return i.$$set=r=>{"search"in r&&l(0,n=r.search),"tagType"in r&&l(1,o=r.tagType)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=n.query.type==="concept"?"":n.query.search)},[n,o,t]}class yl extends be{constructor(e){super(),ve(this,e,Ms,Ts,_e,{search:0,tagType:1})}}function zs(i){let e,l=ye(i[0].path)+"",t,n,o,r;return{c(){e=M("span"),t=J(l),n=J(' has "'),o=J(i[2]),r=J('"'),this.h()},l(s){e=z(s,"SPAN",{class:!0});var a=S(e);t=G(a,l),a.forEach(h),n=G(s,' has "'),o=G(s,i[2]),r=G(s,'"'),this.h()},h(){V(e,"class","font-mono")},m(s,a){C(s,e,a),v(e,t),C(s,n,a),C(s,o,a),C(s,r,a)},p(s,a){a&1&&l!==(l=ye(s[0].path)+"")&&ue(t,l),a&4&&ue(o,s[2])},d(s){s&&h(e),s&&h(n),s&&h(o),s&&h(r)}}}function Fs(i){let e,l,t,n,o,r;return l=new Ft({props:{title:"query",interactive:!0,type:i[1],$$slots:{default:[zs]},$$scope:{ctx:i}}}),l.$on("remove",i[7]),{c(){e=M("button"),q(l.$$.fragment),this.h()},l(s){e=z(s,"BUTTON",{class:!0});var a=S(e);L(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","search-pill items-center text-left")},m(s,a){C(s,e,a),O(l,e,null),n=!0,o||(r=[Ce(t=Ne.call(null,e,{component:yl,props:{search:i[0],tagType:i[1]}})),Ve(e,"click",i[6])],o=!0)},p(s,[a]){const f={};a&2&&(f.type=s[1]),a&517&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&Oe(t.update)&&a&3&&t.update.call(null,{component:yl,props:{search:s[0],tagType:s[1]}})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){p(l.$$.fragment,s),n=!1},d(s){s&&h(e),H(l),o=!1,Qe(r)}}}function As(i,e,l){let t,n,o,{search:r}=e;const s={keyword:"outline",semantic:"teal",concept:"green"},a=Re(),f=We();me(i,f,d=>l(3,o=d));function u(d){Ue.call(this,i,d)}const c=()=>{var d;return a.removeSearch(r,((d=o.selectRowsSchema)==null?void 0:d.data)||null)};return i.$$set=d=>{"search"in d&&l(0,r=d.search)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=r.query.type==="concept"?r.query.concept_name:r.query.search),i.$$.dirty&1&&l(1,n=r.query.type!=null?s[r.query.type]:"outline")},[r,n,t,o,a,f,u,c]}class vr extends be{constructor(e){super(),ve(this,e,As,Fs,_e,{search:0})}}function El(i,e,l){const t=i.slice();return t[26]=e[l][0],t[27]=e[l][1],t}function Dl(i,e,l){const t=i.slice();return t[30]=e[l],t}function Il(i,e,l){const t=i.slice();return t[33]=e[l],t}function Vl(i,e,l){const t=i.slice();return t[36]=e[l],t}function Cl(i,e,l){const t=i.slice();return t[39]=e[l],t}function Bs(i){let e,l,t,n=i[13],o=[];for(let a=0;a<n.length;a+=1)o[a]=Ml(Vl(i,n,a));const r=a=>p(o[a],1,1,()=>{o[a]=null});let s=i[8]!=null&&i[8].length>0&&zl(i);return{c(){e=M("div");for(let a=0;a<o.length;a+=1)o[a].c();l=U(),s&&s.c(),this.h()},l(a){e=z(a,"DIV",{class:!0});var f=S(e);for(let u=0;u<o.length;u+=1)o[u].l(f);l=Y(f),s&&s.l(f),f.forEach(h),this.h()},h(){V(e,"class","flex w-full flex-row gap-x-4")},m(a,f){C(a,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);v(e,l),s&&s.m(e,null),t=!0},p(a,f){if(f[0]&57352){n=a[13];let u;for(u=0;u<n.length;u+=1){const c=Vl(a,n,u);o[u]?(o[u].p(c,f),_(o[u],1)):(o[u]=Ml(c),o[u].c(),_(o[u],1),o[u].m(e,l))}for(ee(),u=n.length;u<o.length;u+=1)r(u);te()}a[8]!=null&&a[8].length>0?s?(s.p(a,f),f[0]&256&&_(s,1)):(s=zl(a),s.c(),_(s,1),s.m(e,null)):s&&(ee(),p(s,1,1,()=>{s=null}),te())},i(a){if(!t){for(let f=0;f<n.length;f+=1)_(o[f]);_(s),t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)p(o[f]);p(s),t=!1},d(a){a&&h(e),ze(o,a),s&&s.d()}}}function Nl(i){let e,l,t=i[14][i[36]]+"",n,o,r,s,a,f=i[3][i[36]],u=[];for(let d=0;d<f.length;d+=1)u[d]=Tl(Cl(i,f,d));const c=d=>p(u[d],1,1,()=>{u[d]=null});return{c(){e=M("div"),l=M("div"),n=J(t),o=U(),r=M("div");for(let d=0;d<u.length;d+=1)u[d].c();s=U(),this.h()},l(d){e=z(d,"DIV",{class:!0});var m=S(e);l=z(m,"DIV",{class:!0});var g=S(l);n=G(g,t),g.forEach(h),o=Y(m),r=z(m,"DIV",{class:!0});var b=S(r);for(let w=0;w<u.length;w+=1)u[w].l(b);b.forEach(h),s=Y(m),m.forEach(h),this.h()},h(){V(l,"class","text-xs font-light"),V(r,"class","flex flex-row gap-x-1"),V(e,"class","filter-group items-center rounded bg-slate-50 px-2 py-1 shadow-sm svelte-p0dl4l")},m(d,m){C(d,e,m),v(e,l),v(l,n),v(e,o),v(e,r);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(r,null);v(e,s),a=!0},p(d,m){if(m[0]&40968){f=d[3][d[36]];let g;for(g=0;g<f.length;g+=1){const b=Cl(d,f,g);u[g]?(u[g].p(b,m),_(u[g],1)):(u[g]=Tl(b),u[g].c(),_(u[g],1),u[g].m(r,null))}for(ee(),g=f.length;g<u.length;g+=1)c(g);te()}},i(d){if(!a){for(let m=0;m<f.length;m+=1)_(u[m]);a=!0}},o(d){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)p(u[m]);a=!1},d(d){d&&h(e),ze(u,d)}}}function Tl(i){let e,l;function t(){return i[23](i[39])}return e=new vr({props:{search:i[39]}}),e.$on("click",t),{c(){q(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){O(e,n,o),l=!0},p(n,o){i=n;const r={};o[0]&8&&(r.search=i[39]),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function Ml(i){let e,l,t=i[3][i[36]]&&Nl(i);return{c(){t&&t.c(),e=re()},l(n){t&&t.l(n),e=re()},m(n,o){t&&t.m(n,o),C(n,e,o),l=!0},p(n,o){n[3][n[36]]?t?(t.p(n,o),o[0]&8&&_(t,1)):(t=Nl(n),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(ee(),p(t,1,1,()=>{t=null}),te())},i(n){l||(_(t),l=!0)},o(n){p(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function zl(i){let e,l,t,n,o,r,s=i[8],a=[];for(let u=0;u<s.length;u+=1)a[u]=Fl(Il(i,s,u));const f=u=>p(a[u],1,1,()=>{a[u]=null});return{c(){e=M("div"),l=M("div"),t=J("Filters"),n=U(),o=M("div");for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=z(u,"DIV",{class:!0});var c=S(e);l=z(c,"DIV",{class:!0});var d=S(l);t=G(d,"Filters"),d.forEach(h),n=Y(c),o=z(c,"DIV",{class:!0});var m=S(o);for(let g=0;g<a.length;g+=1)a[g].l(m);m.forEach(h),c.forEach(h),this.h()},h(){V(l,"class","text-xs font-light"),V(o,"class","flex flex-row gap-x-1"),V(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-p0dl4l")},m(u,c){C(u,e,c),v(e,l),v(l,t),v(e,n),v(e,o);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(o,null);r=!0},p(u,c){if(c[0]&256){s=u[8];let d;for(d=0;d<s.length;d+=1){const m=Il(u,s,d);a[d]?(a[d].p(m,c),_(a[d],1)):(a[d]=Fl(m),a[d].c(),_(a[d],1),a[d].m(o,null))}for(ee(),d=s.length;d<a.length;d+=1)f(d);te()}},i(u){if(!r){for(let c=0;c<s.length;c+=1)_(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)p(a[c]);r=!1},d(u){u&&h(e),ze(a,u)}}}function Fl(i){let e,l;return e=new xt({props:{filter:i[33]}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n[0]&256&&(o.filter=t[33]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Al(i){let e=Ie(i[0])+"",l,t,n=Ie(i[1].dataset_manifest.num_items)+"",o,r;return{c(){l=J(e),t=J(" of "),o=J(n),r=J(" rows")},l(s){l=G(s,e),t=G(s," of "),o=G(s,n),r=G(s," rows")},m(s,a){C(s,l,a),C(s,t,a),C(s,o,a),C(s,r,a)},p(s,a){a[0]&1&&e!==(e=Ie(s[0])+"")&&ue(l,e),a[0]&2&&n!==(n=Ie(s[1].dataset_manifest.num_items)+"")&&ue(o,n)},d(s){s&&h(l),s&&h(t),s&&h(o),s&&h(r)}}}function Bl(i){let e,l;return e=new $t({props:{value:i[30].path!=null?ye(i[30].path):void 0,text:i[30].text,disabled:i[30].disabled}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.value=t[30].path!=null?ye(t[30].path):void 0),n[0]&128&&(o.text=t[30].text),n[0]&128&&(o.disabled=t[30].disabled),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ps(i){let e,l,t=i[27],n=[];for(let r=0;r<t.length;r+=1)n[r]=Bl(Dl(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=U()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=Y(r)},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s[0]&128){t=r[27];let a;for(a=0;a<t.length;a+=1){const f=Dl(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Bl(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){ze(n,r),r&&h(e)}}}function Pl(i){let e,l;return e=new Gr({props:{label:i[26],$$slots:{default:[Ps]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.label=t[26]),n[0]&128|n[1]&2048&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Rs(i){let e,l,t=Object.entries(i[7]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Pl(El(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=re()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s[0]&128){t=Object.entries(r[7]);let a;for(a=0;a<t.length;a+=1){const f=El(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Pl(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){ze(n,r),r&&h(e)}}}function Rl(i){let e,l,t,n,o,r;return l=new ki({}),{c(){e=M("button"),q(l.$$.fragment),this.h()},l(s){e=z(s,"BUTTON",{class:!0});var a=S(e);L(l.$$.fragment,a),a.forEach(h),this.h()},h(){e.disabled=t=i[4]==null,V(e,"class","svelte-p0dl4l")},m(s,a){C(s,e,a),O(l,e,null),n=!0,o||(r=[Ce(Ne.call(null,e,{text:"Clear sort"})),Ve(e,"click",i[18])],o=!0)},p(s,a){(!n||a[0]&16&&t!==(t=s[4]==null))&&(e.disabled=t)},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){p(l.$$.fragment,s),n=!1},d(s){s&&h(e),H(l),o=!1,Qe(r)}}}function qs(i){let e,l;return e=new Xt({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Os(i){let e,l;return e=new Kt({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Hs(i){let e,l;return e=new ps({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ql(i){let e,l;return e=new Jt({props:{open:!0,modalHeading:"Concept",passiveModal:!0,size:"lg",$$slots:{default:[Ys]},$$scope:{ctx:i}}}),e.$on("close",i[24]),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n[0]&1024|n[1]&2048&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ls(i){let e,l;return e=new Kr({props:{concept:i[10].data}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n[0]&1024&&(o.concept=t[10].data),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function js(i){let e,l=i[10].error.message+"",t;return{c(){e=M("p"),t=J(l)},l(n){e=z(n,"P",{});var o=S(e);t=G(o,l),o.forEach(h)},m(n,o){C(n,e,o),v(e,t)},p(n,o){o[0]&1024&&l!==(l=n[10].error.message+"")&&ue(t,l)},i:X,o:X,d(n){n&&h(e)}}}function Us(i){let e,l;return e=new He({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ys(i){let e,l,t,n;const o=[Us,js,Ls],r=[];function s(a,f){var u,c,d;return(u=a[10])!=null&&u.isLoading?0:(c=a[10])!=null&&c.isError?1:(d=a[10])!=null&&d.isSuccess?2:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=re()},l(a){l&&l.l(a),t=re()},m(a,f){~e&&r[e].m(a,f),C(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?~e&&r[e].p(a,f):(l&&(ee(),p(r[u],1,1,()=>{r[u]=null}),te()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(_(l),n=!0)},o(a){p(l),n=!1},d(a){~e&&r[e].d(a),a&&h(t)}}}function Qs(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,b,w,I,T,$,y,A,F,E=i[13].length>0&&Bs(i),D=i[0]&&i[1]&&Al(i);u=new Mt({props:{noLabel:!0,size:"sm",class:"w-60",selected:i[5],$$slots:{default:[Rs]},$$scope:{ctx:i}}}),u.$on("update",i[16]);let P=i[6]!=null&&Rl(i);const k=[Hs,Os,qs],N=[];function R(Q,B){var W,Z,x;return((W=Q[4])==null?void 0:W.order)==null?0:((Z=Q[4])==null?void 0:Z.order)==="ASC"?1:((x=Q[4])==null?void 0:x.order)==="DESC"?2:-1}~(g=R(i))&&(b=N[g]=k[g](i));let j=i[2]&&ql(i);return{c(){e=M("div"),E&&E.c(),l=U(),t=M("div"),n=M("div"),D&&D.c(),o=U(),r=M("div"),s=M("div"),a=J("Sort by"),f=U(),q(u.$$.fragment),c=U(),P&&P.c(),d=U(),m=M("button"),b&&b.c(),T=U(),j&&j.c(),$=re(),this.h()},l(Q){e=z(Q,"DIV",{class:!0});var B=S(e);E&&E.l(B),l=Y(B),t=z(B,"DIV",{class:!0});var W=S(t);n=z(W,"DIV",{class:!0});var Z=S(n);D&&D.l(Z),Z.forEach(h),o=Y(W),r=z(W,"DIV",{class:!0});var x=S(r);s=z(x,"DIV",{class:!0});var fe=S(s);a=G(fe,"Sort by"),fe.forEach(h),f=Y(x),L(u.$$.fragment,x),c=Y(x),P&&P.l(x),d=Y(x),m=z(x,"BUTTON",{class:!0});var le=S(m);b&&b.l(le),le.forEach(h),x.forEach(h),W.forEach(h),B.forEach(h),T=Y(Q),j&&j.l(Q),$=re(),this.h()},h(){V(n,"class","py-1"),V(s,"class","mr-1"),m.disabled=w=i[4]==null,V(m,"class","svelte-p0dl4l"),V(r,"class","sort-container flex flex-row items-center gap-x-1"),V(t,"class","flex w-full flex-row items-center justify-between"),V(e,"class","mx-5 my-2 flex flex-col gap-y-2")},m(Q,B){var W;C(Q,e,B),E&&E.m(e,null),v(e,l),v(e,t),v(t,n),D&&D.m(n,null),v(t,o),v(t,r),v(r,s),v(s,a),v(r,f),O(u,r,null),v(r,c),P&&P.m(r,null),v(r,d),v(r,m),~g&&N[g].m(m,null),C(Q,T,B),j&&j.m(Q,B),C(Q,$,B),y=!0,A||(F=[Ce(I=Ne.call(null,m,{text:((W=i[4])==null?void 0:W.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."})),Ve(m,"click",i[17])],A=!0)},p(Q,B){var x;Q[13].length>0&&E.p(Q,B),Q[0]&&Q[1]?D?D.p(Q,B):(D=Al(Q),D.c(),D.m(n,null)):D&&(D.d(1),D=null);const W={};B[0]&32&&(W.selected=Q[5]),B[0]&128|B[1]&2048&&(W.$$scope={dirty:B,ctx:Q}),u.$set(W),Q[6]!=null?P?(P.p(Q,B),B[0]&64&&_(P,1)):(P=Rl(Q),P.c(),_(P,1),P.m(r,d)):P&&(ee(),p(P,1,1,()=>{P=null}),te());let Z=g;g=R(Q),g!==Z&&(b&&(ee(),p(N[Z],1,1,()=>{N[Z]=null}),te()),~g?(b=N[g],b||(b=N[g]=k[g](Q),b.c()),_(b,1),b.m(m,null)):b=null),(!y||B[0]&16&&w!==(w=Q[4]==null))&&(m.disabled=w),I&&Oe(I.update)&&B[0]&16&&I.update.call(null,{text:((x=Q[4])==null?void 0:x.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."}),Q[2]?j?(j.p(Q,B),B[0]&4&&_(j,1)):(j=ql(Q),j.c(),_(j,1),j.m($.parentNode,$)):j&&(ee(),p(j,1,1,()=>{j=null}),te())},i(Q){y||(_(E),_(u.$$.fragment,Q),_(P),_(b),_(j),y=!0)},o(Q){p(E),p(u.$$.fragment,Q),p(P),p(b),p(j),y=!1},d(Q){Q&&h(e),E&&E.d(),D&&D.d(),H(u),P&&P.d(),~g&&N[g].d(),Q&&h(T),j&&j.d(Q),Q&&h($),A=!1,Qe(F)}}}function Ws(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g=X,b=()=>(g(),g=Be(t,B=>l(10,m=B)),t);i.$$.on_destroy.push(()=>g());let{totalNumRows:w}=e,{manifest:I}=e,T=Re();me(i,T,B=>l(22,d=B));let $=We();me(i,$,B=>l(21,c=B));let y=null;const A=["keyword","semantic","concept"],F={keyword:"Keyword",semantic:"Semantic",concept:"Concepts"};let E={};function D(B){if(B.query.type==="concept"){const W=B.query;l(2,y={namespace:W.concept_namespace,name:W.concept_name})}}let P={};const k=B=>{const W=B.detail;W!==s&&T.setSortBy(W===""?null:Lt(W))},N=()=>{r!=null&&T.setSortBy(r.path),T.setSortOrder((r==null?void 0:r.order)==="ASC"?"DESC":"ASC")},R=()=>{T.clearSorts()},j=B=>D(B),Q=()=>l(2,y=null);return i.$$set=B=>{"totalNumRows"in B&&l(0,w=B.totalNumRows),"manifest"in B&&l(1,I=B.manifest)},i.$$.update=()=>{var B,W,Z,x;if(i.$$.dirty[0]&4&&b(l(9,t=y?Cr(y.namespace,y.name):void 0)),i.$$.dirty[0]&4194304&&l(20,n=Qt(d)),i.$$.dirty[0]&4194304&&l(8,o=d.query.filters),i.$$.dirty[0]&1048584){l(3,E={});for(const fe of n)fe.query.type&&(fe.query.type in E||l(3,E[fe.query.type]=[],E),E[fe.query.type].push(fe))}if(i.$$.dirty[0]&2097152&&l(4,r=Jr(c)),i.$$.dirty[0]&2097152)for(const fe of((W=(B=c.selectRowsSchema)==null?void 0:B.data)==null?void 0:W.search_results)||[])P[ye(fe.result_path)]=fe;i.$$.dirty[0]&16&&l(5,s=r!=null&&r.path?ye(r.path):""),i.$$.dirty[0]&4194304&&l(6,a=d.query.sort_by),i.$$.dirty[0]&2097248&&l(19,f=((x=(Z=c.selectRowsSchema)==null?void 0:Z.data)==null?void 0:x.schema)!=null?[{path:[""],text:"None",disabled:a==null&&s!==""},...jt(c.selectRowsSchema.data.schema).filter(fe=>fe.dtype!="embedding"&&fe.dtype!="string_span").map(fe=>({path:fe.path,text:ye(fe.path.slice(1)),disabled:!1}))]:[]),i.$$.dirty[0]&524288&&l(7,u=f.reduce((fe,le)=>{const ne=le.path[0];return(fe[ne]=fe[ne]||[]).push(le),fe},{}))},[w,I,y,E,r,s,a,u,o,t,m,T,$,A,F,D,k,N,R,f,n,c,d,j,Q]}class Zs extends be{constructor(e){super(),ve(this,e,Ws,Qs,_e,{totalNumRows:0,manifest:1},null,[-1,-1])}}function Ol(i,e,l){var r,s,a;const t=i.slice();t[19]=e[l],t[23]=l;const n=t[2].length>1?`[${t[23]}]`:"";t[20]=n;const o=((a=(s=(r=t[6].data)==null?void 0:r.ui)==null?void 0:s.markdown_paths)==null?void 0:a.find(f=>qe(f,t[0])))!=null;return t[21]=o,t}function Hl(i){let e,l,t,n=i[0].join(".")+i[20]+"",o,r,s,a,f,u;return a=new Xr({props:{text:Ie(i[19]),row:i[1],markdown:i[21],spanPaths:i[4],valuePaths:i[7],datasetViewStore:i[8],datasetStore:i[5]}}),{c(){e=M("div"),l=M("div"),t=M("div"),o=J(n),r=U(),s=M("div"),q(a.$$.fragment),f=U(),this.h()},l(c){e=z(c,"DIV",{class:!0});var d=S(e);l=z(d,"DIV",{class:!0});var m=S(l);t=z(m,"DIV",{class:!0});var g=S(t);o=G(g,n),g.forEach(h),r=Y(m),s=z(m,"DIV",{class:!0});var b=S(s);L(a.$$.fragment,b),b.forEach(h),m.forEach(h),f=Y(d),d.forEach(h),this.h()},h(){V(t,"class","sticky top-0 z-10 w-full self-start border-t border-neutral-200 bg-neutral-100 px-2 py-2 pb-2 font-mono font-medium text-neutral-500"),V(s,"class","font-normal"),V(l,"class","flex w-full flex-col"),V(e,"class","flex flex-row")},m(c,d){C(c,e,d),v(e,l),v(l,t),v(t,o),v(l,r),v(l,s),O(a,s,null),v(e,f),u=!0},p(c,d){(!u||d&5)&&n!==(n=c[0].join(".")+c[20]+"")&&ue(o,n);const m={};d&4&&(m.text=Ie(c[19])),d&2&&(m.row=c[1]),d&65&&(m.markdown=c[21]),d&16&&(m.spanPaths=c[4]),d&32&&(m.datasetStore=c[5]),a.$set(m)},i(c){u||(_(a.$$.fragment,c),u=!0)},o(c){p(a.$$.fragment,c),u=!1},d(c){c&&h(e),H(a)}}}function Js(i){let e,l,t=i[2],n=[];for(let r=0;r<t.length;r+=1)n[r]=Hl(Ol(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=re()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,[s]){if(s&503){t=r[2];let a;for(a=0;a<t.length;a+=1){const f=Ol(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Hl(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){ze(n,r),r&&h(e)}}}function Gs(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g,b=X,w=()=>(b(),b=Be(u,D=>l(6,g=D)),u);i.$$.on_destroy.push(()=>b());let{path:I}=e,{row:T}=e,{field:$}=e,y=[];const A=Re();me(i,A,D=>l(17,d=D));const F=We();me(i,F,D=>l(5,m=D));const E=m.visibleFields||[];return i.$$set=D=>{"path"in D&&l(0,I=D.path),"row"in D&&l(1,T=D.row),"field"in D&&l(10,$=D.field)},i.$$.update=()=>{if(i.$$.dirty&1024&&l(16,t=et($)),i.$$.dirty&65536&&l(13,n=t.filter(D=>Nr(D.signal))),i.$$.dirty&65536&&l(12,o=t.filter(D=>{var P;return((P=D.signal)==null?void 0:P.signal_name)==="concept_labels"})),i.$$.dirty&65536&&l(11,r=t.filter(D=>{var P;return((P=D.signal)==null?void 0:P.signal_name)==="semantic_similarity"})),i.$$.dirty&65536&&l(14,s=t.filter(D=>{var P;return((P=D.signal)==null?void 0:P.signal_name)==="substring_search"})),i.$$.dirty&65536&&l(15,a=t.filter(D=>D.dtype==="string_span")),i.$$.dirty&32768&&l(4,f=a.map(D=>D.path)),i.$$.dirty&63488)for(const D of a){const k=et(D).filter(j=>j.dtype!="string_span").filter(j=>E==null?void 0:E.some(Q=>qe(Q.path,j.path))).filter(j=>j.dtype!=null&&j.dtype!="embedding"),N=D.path,R=s.find(j=>ht(D.path,j.path));if(R!=null){const j=R.signal;y.push({path:D.path,spanPath:N,type:"keyword",name:j.query,dtype:D.dtype,signal:j})}for(const j of k){const Q=n.find(Z=>ht(j.path,Z.path)),B=o.find(Z=>ht(j.path,Z.path)),W=r.find(Z=>ht(j.path,Z.path));if(Q!=null){const Z=Q.signal;y.push({path:j.path,spanPath:N,type:"concept_score",name:`${Z.namespace}/${Z.concept_name}`,dtype:j.dtype,signal:Z})}else if(B!=null){const Z=B.signal;y.push({path:j.path,spanPath:N,type:"label",name:`${Z.namespace}/${Z.concept_name} label`,dtype:j.dtype,signal:Z})}else if(W!=null){const Z=W.signal;y.push({path:j.path,spanPath:N,type:"semantic_similarity",name:`similarity: ${Z.query}`,dtype:j.dtype,signal:Z})}else y.push({path:j.path,spanPath:N,type:"metadata",name:j.path[j.path.length-1],dtype:j.dtype})}}i.$$.dirty&131072&&w(l(3,u=Nt(d.namespace,d.datasetName))),i.$$.dirty&3&&l(2,c=Tr(T,I).map(D=>Ze.value(D)).filter($i))},[I,T,c,u,f,m,g,y,A,F,$,r,o,n,s,a,t,d]}class Ks extends be{constructor(e){super(),ve(this,e,Gs,Js,_e,{path:0,row:1,field:10})}}function Xs(i){let e,l,t,n,o;const r=[i[3],{type:i[0]?"green":"blue"},{icon:i[2]}];let s={};for(let a=0;a<r.length;a+=1)s=ce(s,r[a]);return l=new nt({props:s}),{c(){e=M("div"),q(l.$$.fragment),this.h()},l(a){e=z(a,"DIV",{class:!0});var f=S(e);L(l.$$.fragment,f),f.forEach(h),this.h()},h(){V(e,"class","signal-badge")},m(a,f){C(a,e,f),O(l,e,null),t=!0,n||(o=Ce(Ne.call(null,e,{text:i[1]})),n=!0)},p(a,[f]){const u=f&13?Fe(r,[f&8&&or(a[3]),f&1&&{type:a[0]?"green":"blue"},f&4&&{icon:a[2]}]):{};l.$set(u)},i(a){t||(_(l.$$.fragment,a),t=!0)},o(a){p(l.$$.fragment,a),t=!1},d(a){a&&h(e),H(l),n=!1,o()}}}function xs(i,e,l){const t=["isPreview"];let n=ke(e,t),{isPreview:o=!1}=e;const r=o?"Signal is in preview mode and has not been computed for the whole dataset.":"Generated by a signal.",s=o?ws:ls;return i.$$set=a=>{e=ce(ce({},e),Se(a)),l(3,n=ke(e,t)),"isPreview"in a&&l(0,o=a.isPreview)},[o,r,s,n]}class el extends be{constructor(e){super(),ve(this,e,xs,Xs,_e,{isPreview:0})}}function Ll(i,e,l){const t=i.slice();return t[0]=e[l],t}function jl(i){let e,l,t=[],n=new Map,o,r=i[1];const s=a=>ye(a[0].path);for(let a=0;a<r.length;a+=1){let f=Ll(i,r,a),u=s(f);n.set(u,t[a]=Ul(u,f))}return{c(){e=M("div"),l=M("table");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=z(a,"DIV",{class:!0});var f=S(e);l=z(f,"TABLE",{class:!0});var u=S(l);for(let c=0;c<t.length;c+=1)t[c].l(u);u.forEach(h),f.forEach(h),this.h()},h(){V(l,"class","table w-full table-fixed border-collapse px-2 pt-1"),V(e,"class","border-t border-neutral-200 px-2 py-4")},m(a,f){C(a,e,f),v(e,l);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(l,null);o=!0},p(a,f){f&2&&(r=a[1],ee(),t=vt(t,f,s,1,a,r,n,l,wt,Ul,null,Ll),te())},i(a){if(!o){for(let f=0;f<r.length;f+=1)_(t[f]);o=!0}},o(a){for(let f=0;f<t.length;f+=1)p(t[f]);o=!1},d(a){a&&h(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function ea(i){let e,l;return e=new el({props:{isPreview:i[0].isPreviewSignal}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n&2&&(o.isPreview=t[0].isPreviewSignal),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ta(i){var t;let e,l;return e=new Yt({props:{hideEmbeddingName:!0,embedding:(t=i[0].field.signal)==null?void 0:t.signal_name}}),{c(){q(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){O(e,n,o),l=!0},p(n,o){var s;const r={};o&2&&(r.embedding=(s=n[0].field.signal)==null?void 0:s.signal_name),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function Ul(i,e){let l,t,n,o=e[0].fieldName+"",r,s,a,f,u,c,d,m,g,b=e[0].formattedValue+"",w,I,T,$;const y=[ta,ea],A=[];function F(E,D){return E[0].isEmbeddingSignal?0:E[0].isSignal?1:-1}return~(u=F(e))&&(c=A[u]=y[u](e)),{key:i,first:null,c(){l=M("tr"),t=M("td"),n=M("span"),r=J(o),a=U(),f=M("td"),c&&c.c(),d=U(),m=M("td"),g=M("div"),w=J(b),T=U(),this.h()},l(E){l=z(E,"TR",{class:!0});var D=S(l);t=z(D,"TD",{class:!0});var P=S(t);n=z(P,"SPAN",{title:!0});var k=S(n);r=G(k,o),k.forEach(h),P.forEach(h),a=Y(D),f=z(D,"TD",{class:!0});var N=S(f);c&&c.l(N),N.forEach(h),d=Y(D),m=z(D,"TD",{class:!0});var R=S(m);g=z(R,"DIV",{title:!0,class:!0});var j=S(g);w=G(j,b),j.forEach(h),R.forEach(h),T=Y(D),D.forEach(h),this.h()},h(){V(n,"title",s=e[0].fieldName),Ye(n,"padding-left",`${e[0].indentLevel*12}px`),V(t,"class","truncate p-2 font-mono text-xs font-medium text-neutral-500"),V(f,"class","w-10"),V(g,"title",I=`${e[0].value}`),V(g,"class","truncate pr-2 text-xs"),de(g,"italic",e[0].formattedValue===null),V(m,"class","p-2"),V(l,"class","border-gray-300"),this.first=l},m(E,D){C(E,l,D),v(l,t),v(t,n),v(n,r),v(l,a),v(l,f),~u&&A[u].m(f,null),v(l,d),v(l,m),v(m,g),v(g,w),v(l,T),$=!0},p(E,D){e=E,(!$||D&2)&&o!==(o=e[0].fieldName+"")&&ue(r,o),(!$||D&2&&s!==(s=e[0].fieldName))&&V(n,"title",s),D&2&&Ye(n,"padding-left",`${e[0].indentLevel*12}px`);let P=u;u=F(e),u===P?~u&&A[u].p(e,D):(c&&(ee(),p(A[P],1,1,()=>{A[P]=null}),te()),~u?(c=A[u],c?c.p(e,D):(c=A[u]=y[u](e),c.c()),_(c,1),c.m(f,null)):c=null),(!$||D&2)&&b!==(b=e[0].formattedValue+"")&&ue(w,b),(!$||D&2&&I!==(I=`${e[0].value}`))&&V(g,"title",I),(!$||D&2)&&de(g,"italic",e[0].formattedValue===null)},i(E){$||(_(c),$=!0)},o(E){p(c),$=!1},d(E){E&&h(l),~u&&A[u].d()}}}function la(i){let e,l,t=i[1].length>0&&jl(i);return{c(){t&&t.c(),e=re()},l(n){t&&t.l(n),e=re()},m(n,o){t&&t.m(n,o),C(n,e,o),l=!0},p(n,[o]){n[1].length>0?t?(t.p(n,o),o&2&&_(t,1)):(t=jl(n),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(ee(),p(t,1,1,()=>{t=null}),te())},i(n){l||(_(t),l=!0)},o(n){p(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function na(i,e,l){let t,n,o,{row:r}=e,{visibleFields:s}=e;const a=We();me(i,a,c=>l(5,n=c));const f=Gt();me(i,f,c=>l(6,o=c));function u(c){const d=Mr(c).filter(g=>xr(g,s)),m=d.filter(g=>{var b;return((b=Ze.field(g))==null?void 0:b.dtype)==="string_span"}).map(g=>Ze.path(g));return d.filter(g=>!m.some(b=>ht(Ze.path(g),b))).map(g=>{var A,F;const b=Ze.field(g),w=Ze.path(g);let I=Ze.value(g);if(b.dtype==="string_span")return null;const T=((A=o.data)==null?void 0:A.some(E=>{var D;return E.name===((D=b.signal)==null?void 0:D.signal_name)}))||!1,$=tt(b);let y;return T||$&&b.dtype==null||b.dtype==="embedding"||b.repeated_field!=null?y="":I==null?y=null:y=Ie(I),{indentLevel:w.length-1,fieldName:w[w.length-1],field:b,path:w,isSignal:$,isPreviewSignal:Tt(((F=n.selectRowsSchema)==null?void 0:F.data)||null,w),isEmbeddingSignal:T,value:I,formattedValue:y}}).filter(g=>g!=null)}return i.$$set=c=>{"row"in c&&l(0,r=c.row),"visibleFields"in c&&l(4,s=c.visibleFields)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=u(r))},[r,t,a,f,s]}class ra extends be{constructor(e){super(),ve(this,e,na,la,_e,{row:0,visibleFields:4})}}function Yl(i,e,l){const t=i.slice();return t[5]=e[l],t[7]=l,t}function Ql(i){let e,l=[],t=new Map,n,o,r=i[1];const s=a=>ye(a[5].path);for(let a=0;a<r.length;a+=1){let f=Yl(i,r,a),u=s(f);t.set(u,l[a]=Wl(u,f))}return{c(){e=M("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=z(a,"DIV",{class:!0});var f=S(e);for(let u=0;u<l.length;u+=1)l[u].l(f);f.forEach(h),this.h()},h(){V(e,"class","w-2/3 overflow-hidden"),kt(()=>i[4].call(e))},m(a,f){C(a,e,f);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);n=Dr(e,i[4].bind(e)),o=!0},p(a,f){f&3&&(r=a[1],ee(),l=vt(l,f,s,1,a,r,t,e,wt,Wl,null,Yl),te())},i(a){if(!o){for(let f=0;f<r.length;f+=1)_(l[f]);o=!0}},o(a){for(let f=0;f<l.length;f+=1)p(l[f]);o=!1},d(a){a&&h(e);for(let f=0;f<l.length;f+=1)l[f].d();n()}}}function Wl(i,e){let l,t,n,o;return t=new Ks({props:{row:e[0],path:e[5].path,field:e[5]}}),{key:i,first:null,c(){l=M("div"),q(t.$$.fragment),n=U(),this.h()},l(r){l=z(r,"DIV",{class:!0});var s=S(l);L(t.$$.fragment,s),n=Y(s),s.forEach(h),this.h()},h(){V(l,"class","border-gray-100"),de(l,"border-b",e[7]<e[1].length-1),this.first=l},m(r,s){C(r,l,s),O(t,l,null),v(l,n),o=!0},p(r,s){e=r;const a={};s&1&&(a.row=e[0]),s&2&&(a.path=e[5].path),s&2&&(a.field=e[5]),t.$set(a),(!o||s&2)&&de(l,"border-b",e[7]<e[1].length-1)},i(r){o||(_(t.$$.fragment,r),o=!0)},o(r){p(t.$$.fragment,r),o=!1},d(r){r&&h(l),H(t)}}}function ia(i){let e,l,t,n,o,r,s,a,f,u=i[1].length>0&&Ql(i);return s=new ra({props:{row:i[0],visibleFields:i[2]}}),{c(){e=M("div"),l=M("div"),u&&u.c(),t=U(),n=M("div"),o=M("div"),r=M("div"),q(s.$$.fragment),this.h()},l(c){e=z(c,"DIV",{class:!0});var d=S(e);l=z(d,"DIV",{class:!0});var m=S(l);u&&u.l(m),t=Y(m),n=z(m,"DIV",{class:!0});var g=S(n);o=z(g,"DIV",{class:!0});var b=S(o);r=z(b,"DIV",{style:!0,class:!0});var w=S(r);L(s.$$.fragment,w),w.forEach(h),b.forEach(h),g.forEach(h),m.forEach(h),d.forEach(h),this.h()},h(){V(r,"style",a=`max-height: ${Math.max(Zl,i[3])}px`),V(r,"class","overflow-y-auto"),V(o,"class","sticky top-0 self-start"),V(n,"class","flex h-full w-1/3 bg-neutral-100"),V(l,"class","flex h-full w-full flex-row"),V(e,"class","rounded border-x border-b border-neutral-200 shadow-md")},m(c,d){C(c,e,d),v(e,l),u&&u.m(l,null),v(l,t),v(l,n),v(n,o),v(o,r),O(s,r,null),f=!0},p(c,[d]){c[1].length>0?u?(u.p(c,d),d&2&&_(u,1)):(u=Ql(c),u.c(),_(u,1),u.m(l,t)):u&&(ee(),p(u,1,1,()=>{u=null}),te());const m={};d&1&&(m.row=c[0]),d&4&&(m.visibleFields=c[2]),s.$set(m),(!f||d&8&&a!==(a=`max-height: ${Math.max(Zl,c[3])}px`))&&V(r,"style",a)},i(c){f||(_(u),_(s.$$.fragment,c),f=!0)},o(c){p(u),p(s.$$.fragment,c),f=!1},d(c){c&&h(e),u&&u.d(),H(s)}}}const Zl=320;function sa(i,e,l){let{row:t}=e,{mediaFields:n}=e,{visibleFields:o}=e,r=0;function s(){r=this.clientHeight,l(3,r)}return i.$$set=a=>{"row"in a&&l(0,t=a.row),"mediaFields"in a&&l(1,n=a.mediaFields),"visibleFields"in a&&l(2,o=a.visibleFields)},[t,n,o,r,s]}class aa extends be{constructor(e){super(),ve(this,e,sa,ia,_e,{row:0,mediaFields:1,visibleFields:2})}}function Jl(i,e,l){const t=i.slice();return t[21]=e[l],t}function oa(i){let e,l;return{c(){e=M("div"),l=J("No results."),this.h()},l(t){e=z(t,"DIV",{class:!0});var n=S(e);l=G(n,"No results."),n.forEach(h),this.h()},h(){V(e,"class","mx-4 mt-8 w-full text-gray-600")},m(t,n){C(t,e,n),v(e,l)},p:X,i:X,o:X,d(t){t&&h(e)}}}function fa(i){let e,l;return{c(){e=M("div"),l=J("Select fields to display"),this.h()},l(t){e=z(t,"DIV",{class:!0});var n=S(e);l=G(n,"Select fields to display"),n.forEach(h),this.h()},h(){V(e,"class","mt-12 w-full text-center text-gray-600")},m(t,n){C(t,e,n),v(e,l)},p:X,i:X,o:X,d(t){t&&h(e)}}}function ua(i){let e,l;return e=new He({props:{paragraph:!0,lines:3}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ca(i){var t,n;let e,l;return e=new Zt({props:{lowContrast:!0,title:"Could not fetch schema:",subtitle:((t=i[2].error.body)==null?void 0:t.detail)||((n=i[2])==null?void 0:n.error.message)}}),{c(){q(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,r){O(e,o,r),l=!0},p(o,r){var a,f;const s={};r&4&&(s.subtitle=((a=o[2].error.body)==null?void 0:a.detail)||((f=o[2])==null?void 0:f.error.message)),e.$set(s)},i(o){l||(_(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){H(e,o)}}}function da(i){var t;let e,l;return e=new Zt({props:{lowContrast:!0,title:"Could not fetch rows:",subtitle:((t=i[3].error.body)==null?void 0:t.detail)||i[3].error.message}}),{c(){q(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){O(e,n,o),l=!0},p(n,o){var s;const r={};o&8&&(r.subtitle=((s=n[3].error.body)==null?void 0:s.detail)||n[3].error.message),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function Gl(i){let e,l=[],t=new Map,n,o,r=i[5];const s=f=>Ze.value(f[21][Ut]);for(let f=0;f<r.length;f+=1){let u=Jl(i,r,f),c=s(u);t.set(c,l[f]=Kl(c,u))}let a=i[5].length>0&&Xl(i);return{c(){e=M("div");for(let f=0;f<l.length;f+=1)l[f].c();n=U(),a&&a.c(),this.h()},l(f){e=z(f,"DIV",{class:!0});var u=S(e);for(let c=0;c<l.length;c+=1)l[c].l(u);n=Y(u),a&&a.l(u),u.forEach(h),this.h()},h(){V(e,"class","flex h-full w-full flex-col gap-y-10 overflow-y-scroll px-5 pb-32")},m(f,u){C(f,e,u);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);v(e,n),a&&a.m(e,null),i[19](e),o=!0},p(f,u){u&50&&(r=f[5],ee(),l=vt(l,u,s,1,f,r,t,e,wt,Kl,n,Jl),te()),f[5].length>0?a?(a.p(f,u),u&32&&_(a,1)):(a=Xl(f),a.c(),_(a,1),a.m(e,null)):a&&(ee(),p(a,1,1,()=>{a=null}),te())},i(f){if(!o){for(let u=0;u<r.length;u+=1)_(l[u]);_(a),o=!0}},o(f){for(let u=0;u<l.length;u+=1)p(l[u]);p(a),o=!1},d(f){f&&h(e);for(let u=0;u<l.length;u+=1)l[u].d();a&&a.d(),i[19](null)}}}function Kl(i,e){let l,t,n;return t=new aa({props:{visibleFields:e[1],row:e[21],mediaFields:e[4]}}),{key:i,first:null,c(){l=re(),q(t.$$.fragment),this.h()},l(o){l=re(),L(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){C(o,l,r),O(t,o,r),n=!0},p(o,r){e=o;const s={};r&2&&(s.visibleFields=e[1]),r&32&&(s.row=e[21]),r&16&&(s.mediaFields=e[4]),t.$set(s)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){p(t.$$.fragment,o),n=!1},d(o){o&&h(l),H(t,o)}}}function Xl(i){let e,l;return e=new Ss({props:{threshold:100}}),e.$on("loadMore",i[18]),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ha(i){let e,l,t,n,o,r,s;e=new Zs({props:{totalNumRows:i[6],manifest:i[9].data}});const a=[da,ca,ua,fa,oa],f=[];function u(d,m){var g,b,w,I;return d[3].isError?0:(g=d[2])!=null&&g.isError?1:(b=d[3])!=null&&b.isLoading||d[10].isLoading||(w=d[2])!=null&&w.isLoading?2:d[1].length===0?3:(I=d[3])!=null&&I.isSuccess&&d[5]&&d[5].length===0?4:-1}~(t=u(i))&&(n=f[t]=a[t](i));let c=i[5]&&i[1].length>0&&i[10].isSuccess&&i[4]!=null&&Gl(i);return{c(){q(e.$$.fragment),l=U(),n&&n.c(),o=U(),c&&c.c(),r=re()},l(d){L(e.$$.fragment,d),l=Y(d),n&&n.l(d),o=Y(d),c&&c.l(d),r=re()},m(d,m){O(e,d,m),C(d,l,m),~t&&f[t].m(d,m),C(d,o,m),c&&c.m(d,m),C(d,r,m),s=!0},p(d,[m]){const g={};m&64&&(g.totalNumRows=d[6]),m&512&&(g.manifest=d[9].data),e.$set(g);let b=t;t=u(d),t===b?~t&&f[t].p(d,m):(n&&(ee(),p(f[b],1,1,()=>{f[b]=null}),te()),~t?(n=f[t],n?n.p(d,m):(n=f[t]=a[t](d),n.c()),_(n,1),n.m(o.parentNode,o)):n=null),d[5]&&d[1].length>0&&d[10].isSuccess&&d[4]!=null?c?(c.p(d,m),m&1074&&_(c,1)):(c=Gl(d),c.c(),_(c,1),c.m(r.parentNode,r)):c&&(ee(),p(c,1,1,()=>{c=null}),te())},i(d){s||(_(e.$$.fragment,d),_(n),_(c),s=!0)},o(d){p(e.$$.fragment,d),p(n),p(c),s=!1},d(d){H(e,d),d&&h(l),~t&&f[t].d(d),d&&h(o),c&&c.d(d),d&&h(r)}}}function ma(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g=X,b=()=>(g(),g=Be(r,R=>l(3,m=R)),r),w,I,T,$=X,y=()=>($(),$=Be(t,R=>l(10,T=R)),t);i.$$.on_destroy.push(()=>g()),i.$$.on_destroy.push(()=>$());let A=Re();me(i,A,R=>l(17,w=R));let F=We();me(i,F,R=>l(16,d=R));const E=zr(w.namespace,w.datasetName);me(i,E,R=>l(9,I=R));let D=null;const P=it(D),k=()=>m==null?void 0:m.fetchNextPage();function N(R){Pe[R?"unshift":"push"](()=>{D=R,l(0,D)})}return i.$$.update=()=>{var R,j,Q,B;i.$$.dirty&131072&&y(l(8,t=fr(w.namespace,w.datasetName))),i.$$.dirty&131072&&l(15,n=ei(w)),i.$$.dirty&65536&&l(2,o=d.selectRowsSchema),i.$$.dirty&163844&&b(l(7,r=Fr(w.namespace,w.datasetName,n||{},o!=null&&o.isSuccess?o.data.schema:void 0))),i.$$.dirty&8&&l(6,s=(R=m.data)==null?void 0:R.pages[0].total_num_rows),i.$$.dirty&8&&l(5,a=(j=m.data)==null?void 0:j.pages.flatMap(W=>W.rows)),i.$$.dirty&65536&&l(1,f=(d.visibleFields||[]).sort((W,Z)=>ye(W.path)>ye(Z.path)?1:-1)),i.$$.dirty&6&&l(14,u=((Q=o==null?void 0:o.data)==null?void 0:Q.schema)!=null?ti((B=o==null?void 0:o.data)==null?void 0:B.schema,f):null),i.$$.dirty&81920&&l(4,c=li(u,d.settings)),i.$$.dirty&1&&P.set(D)},sr(ni,P),[D,f,o,m,c,a,s,r,t,I,T,A,F,E,u,n,d,w,k,N]}class _a extends be{constructor(e){super(),ve(this,e,ma,ha,_e,{})}}function xl(i,e,l){const t=i.slice();return t[43]=e[l],t}function en(i,e,l){const t=i.slice();return t[46]=e[l],t}function ga(i){let e,l=i[49].text+"",t;return{c(){e=M("div"),t=J(l)},l(n){e=z(n,"DIV",{});var o=S(e);t=G(o,l),o.forEach(h)},m(n,o){C(n,e,o),v(e,t)},p(n,o){o[1]&262144&&l!==(l=n[49].text+"")&&ue(t,l)},i:X,o:X,d(n){n&&h(e)}}}function pa(i){let e,l,t,n,o,r,s;return l=new nt({props:{$$slots:{default:[va]},$$scope:{ctx:i}}}),{c(){e=M("div"),q(l.$$.fragment),t=U(),n=M("div"),o=J(`Keyword search:
                    `),r=J(i[0]),this.h()},l(a){e=z(a,"DIV",{class:!0});var f=S(e);L(l.$$.fragment,f),t=Y(f),n=z(f,"DIV",{class:!0});var u=S(n);o=G(u,`Keyword search:
                    `),r=G(u,i[0]),u.forEach(h),f.forEach(h),this.h()},h(){V(n,"class","ml-2"),V(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(a,f){C(a,e,f),O(l,e,null),v(e,t),v(e,n),v(n,o),v(n,r),s=!0},p(a,f){const u={};f[1]&524288&&(u.$$scope={dirty:f,ctx:a}),l.$set(u),(!s||f[0]&1)&&ue(r,a[0])},i(a){s||(_(l.$$.fragment,a),s=!0)},o(a){p(l.$$.fragment,a),s=!1},d(a){a&&h(e),H(l)}}}function ba(i){let e,l,t,n,o,r=i[0]!=""?":":"",s,a,f,u;return l=new nt({props:{$$slots:{default:[wa]},$$scope:{ctx:i}}}),{c(){e=M("div"),q(l.$$.fragment),t=U(),n=M("div"),o=J("New concept"),s=J(r),a=U(),f=J(i[0]),this.h()},l(c){e=z(c,"DIV",{class:!0});var d=S(e);L(l.$$.fragment,d),t=Y(d),n=z(d,"DIV",{class:!0});var m=S(n);o=G(m,"New concept"),s=G(m,r),a=Y(m),f=G(m,i[0]),m.forEach(h),d.forEach(h),this.h()},h(){V(n,"class","ml-2"),V(e,"class","new-concept flex flex-row items-center justify-items-center")},m(c,d){C(c,e,d),O(l,e,null),v(e,t),v(e,n),v(n,o),v(n,s),v(n,a),v(n,f),u=!0},p(c,d){const m={};d[1]&524288&&(m.$$scope={dirty:d,ctx:c}),l.$set(m),(!u||d[0]&1)&&r!==(r=c[0]!=""?":":"")&&ue(s,r),(!u||d[0]&1)&&ue(f,c[0])},i(c){u||(_(l.$$.fragment,c),u=!0)},o(c){p(l.$$.fragment,c),u=!1},d(c){c&&h(e),H(l)}}}function va(i){let e,l;return e=new as({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function wa(i){let e,l;return e=new Hi({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ka(i){let e,l,t,n;const o=[ba,pa,ga],r=[];function s(a,f){return a[49].id==="new-concept"?0:a[49].id==="keyword-search"?1:2}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=re()},l(a){l.l(a),t=re()},m(a,f){r[e].m(a,f),C(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(ee(),p(r[u],1,1,()=>{r[u]=null}),te(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t))},i(a){n||(_(l),n=!0)},o(a){p(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function tn(i){let e,l;return e=new $t({props:{value:ye(i[46]),text:ye(i[46])}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n[0]&512&&(o.value=ye(t[46])),n[0]&512&&(o.text=ye(t[46])),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function $a(i){let e,l,t=i[9],n=[];for(let r=0;r<t.length;r+=1)n[r]=tn(en(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=re()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s[0]&512){t=r[9];let a;for(a=0;a<t.length;a+=1){const f=en(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=tn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){ze(n,r),r&&h(e)}}}function ln(i){let e,l;return e=new Mt({props:{size:"xl",class:"field-select w-28",selected:i[1]?ye(i[1]):"",disabled:i[9].length===0,warn:i[9].length===0,$$slots:{default:[$a]},$$scope:{ctx:i}}}),e.$on("change",i[21]),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n[0]&2&&(o.selected=t[1]?ye(t[1]):""),n[0]&512&&(o.disabled=t[9].length===0),n[0]&512&&(o.warn=t[9].length===0),n[0]&512|n[1]&524288&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function nn(i){let e,l;return e=new $t({props:{value:i[43].name,text:i[43].name}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n[0]&16&&(o.value=t[43].name),n[0]&16&&(o.text=t[43].name),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Sa(i){let e,l,t=i[4].data||[],n=[];for(let r=0;r<t.length;r+=1)n[r]=nn(xl(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=re()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s[0]&16){t=r[4].data||[];let a;for(a=0;a<t.length;a+=1){const f=xl(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=nn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){ze(n,r),r&&h(e)}}}function ya(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g=i[9],b,w,I,T,$,y,A;t=new Je({props:{disabled:i[3]||i[8],iconDescription:"Compute embedding index. This may be expensive.",icon:i[3]?ll:i[8]?nl:qt}}),t.$on("click",i[35]);function F(P){i[37](P)}let E={size:"xl",items:i[5],shouldFilterItem:Ea,placeholder:i[7],$$slots:{default:[ka,({item:P})=>({49:P}),({item:P})=>[0,P?262144:0]]},$$scope:{ctx:i}};i[0]!==void 0&&(E.value=i[0]),u=new Ei({props:E}),i[36](u),Pe.push(()=>Ge(u,"value",F)),u.$on("select",i[20]);let D=ln(i);return T=new Mt({props:{size:"xl",selected:i[2]||"",name:i[2]||"",$$slots:{default:[Sa]},$$scope:{ctx:i}}}),T.$on("change",i[18]),{c(){e=M("div"),l=M("div"),q(t.$$.fragment),n=U(),o=M("div"),r=M("div"),s=M("div"),a=M("div"),f=M("div"),q(u.$$.fragment),d=U(),m=M("div"),D.c(),b=U(),w=M("div"),I=M("div"),q(T.$$.fragment),this.h()},l(P){e=z(P,"DIV",{class:!0});var k=S(e);l=z(k,"DIV",{class:!0});var N=S(l);L(t.$$.fragment,N),N.forEach(h),n=Y(k),o=z(k,"DIV",{class:!0});var R=S(o);r=z(R,"DIV",{class:!0});var j=S(r);s=z(j,"DIV",{class:!0});var Q=S(s);a=z(Q,"DIV",{class:!0});var B=S(a);f=z(B,"DIV",{class:!0});var W=S(f);L(u.$$.fragment,W),W.forEach(h),B.forEach(h),Q.forEach(h),j.forEach(h),R.forEach(h),d=Y(k),m=z(k,"DIV",{class:!0});var Z=S(m);D.l(Z),Z.forEach(h),b=Y(k),w=z(k,"DIV",{class:!0});var x=S(w);I=z(x,"DIV",{class:!0});var fe=S(I);L(T.$$.fragment,fe),fe.forEach(h),x.forEach(h),k.forEach(h),this.h()},h(){V(l,"class","compute-embedding mr-1"),de(l,"compute-embedding-indexing",i[8]),V(f,"class","flex-grow"),V(a,"class","flex w-full flex-row items-start justify-items-start"),V(s,"class","flex flex-row"),V(r,"class","w-full"),V(o,"class","search-container flex w-full flex-grow flex-row"),V(m,"class","mx-1"),V(I,"class","w-28"),V(w,"class","embedding-select mr-8 flex flex-row"),V(e,"class","border-1 flex w-full flex-row items-center px-4")},m(P,k){C(P,e,k),v(e,l),O(t,l,null),v(e,n),v(e,o),v(o,r),v(r,s),v(s,a),v(a,f),O(u,f,null),v(e,d),v(e,m),D.m(m,null),v(e,b),v(e,w),v(w,I),O(T,I,null),$=!0,y||(A=[Ce(Ne.call(null,m,{text:"Select the field to search over."})),Ce(Ne.call(null,I,{text:"Select the embedding to use."}))],y=!0)},p(P,k){const N={};k[0]&264&&(N.disabled=P[3]||P[8]),k[0]&264&&(N.icon=P[3]?ll:P[8]?nl:qt),t.$set(N),(!$||k[0]&256)&&de(l,"compute-embedding-indexing",P[8]);const R={};k[0]&32&&(R.items=P[5]),k[0]&128&&(R.placeholder=P[7]),k[0]&1|k[1]&786432&&(R.$$scope={dirty:k,ctx:P}),!c&&k[0]&1&&(c=!0,R.value=P[0],Ke(()=>c=!1)),u.$set(R),k[0]&512&&_e(g,g=P[9])?(ee(),p(D,1,1,X),te(),D=ln(P),D.c(),_(D,1),D.m(m,null)):D.p(P,k);const j={};k[0]&4&&(j.selected=P[2]||""),k[0]&4&&(j.name=P[2]||""),k[0]&16|k[1]&524288&&(j.$$scope={dirty:k,ctx:P}),T.$set(j)},i(P){$||(_(t.$$.fragment,P),_(u.$$.fragment,P),_(D),_(T.$$.fragment,P),$=!0)},o(P){p(t.$$.fragment,P),p(u.$$.fragment,P),p(D),p(T.$$.fragment,P),$=!1},d(P){P&&h(e),H(t),i[36](null),H(u),D.d(P),H(T),y=!1,Qe(A)}}}const Ea=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-concept";function Da(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g,b,w,I,T,$,y,A,F,E,D=X,P=()=>(D(),D=Be(t,se=>l(33,E=se)),t),k;i.$$.on_destroy.push(()=>D());const N=Re();me(i,N,se=>l(32,F=se));const R=We();me(i,R,se=>l(31,y=se));const j=br();me(i,j,se=>l(34,k=se));const Q=ur();me(i,Q,se=>l(40,I=se));const B=Gt();me(i,B,se=>l(4,A=se));const W=(se,Te)=>`${ye(se||"")}_${Te}`;let Z={};const x=Ar();me(i,x,se=>l(30,$=se));const fe=zt();me(i,fe,se=>l(29,T=se));let le=[],ne="",Ee;const we=se=>{l(2,f=se.target.value),N.setSearchEmbedding(se.target.value)},$e=()=>{f!=null&&(l(22,Z[W(r,f)]=!0,Z),I.mutate([n,o,{leaf_path:Lt(r||[]),signal:{signal_name:f}}]))};let oe;const ae=(se,Te)=>{r==null||f==null||(N.addSearch({path:[ye(r)],query:{type:"concept",concept_namespace:se,concept_name:Te,embedding:f}}),oe.clear())},K=se=>{if(!(r==null||f==null)){if(se.detail.selectedId==="new-concept"){ne===Ee.id&&l(0,ne="");const Te=ne.split("/",2);let Me="",je="";Te.length===2?[Me,je]=Te:[je]=Te,Xe({command:xe.CreateConcept,namespace:Me,conceptName:je,onCreate:rt=>ae(rt.detail.namespace,rt.detail.name)}),oe.clear();return}else if(se.detail.selectedId==="keyword-search"){if(ne=="")return;N.addSearch({path:[ye(r)],query:{type:"keyword",search:ne}}),oe.clear();return}ae(se.detail.selectedId.namespace,se.detail.selectedId.name)}},ie=se=>{N.setSearchPath(se.target.value)},he=()=>{$e()};function Ae(se){Pe[se?"unshift":"push"](()=>{oe=se,l(6,oe)})}function Le(se){ne=se,l(0,ne)}return i.$$.update=()=>{var se,Te;i.$$.dirty[1]&2&&P(l(10,t=Nt(F.namespace,F.datasetName))),i.$$.dirty[1]&2&&(n=F.namespace),i.$$.dirty[1]&2&&(o=F.datasetName),i.$$.dirty[1]&3&&l(1,r=ri(F,y)),i.$$.dirty[0]&2|i.$$.dirty[1]&2&&l(24,s=Qt(F,r)),i.$$.dirty[1]&1&&l(9,a=(y.visibleFields||[]).filter(Me=>Me.dtype==="string").map(Me=>ye(Me.path))),i.$$.dirty[0]&18|i.$$.dirty[1]&15&&l(2,f=ii(k,E.data,F,y,r,(A.data||[]).map(Me=>Me.name))),i.$$.dirty[0]&2|i.$$.dirty[1]&1&&l(28,u=si(y,r)),i.$$.dirty[0]&268435460&&l(3,c=u!=null&&!!u.includes(f||"")),i.$$.dirty[0]&4194318&&l(8,d=!c&&Z[W(r,f)]),i.$$.dirty[0]&8&&l(7,m=c?"Search by concept or keyword.":'Search by keyword. Click "compute embedding" to search by concept.'),i.$$.dirty[0]&536870912&&l(27,g=(Te=(se=T.data)==null?void 0:se.user)==null?void 0:Te.id),i.$$.dirty[0]&1207959552&&l(25,b=ai($.data||[],g)),i.$$.dirty[0]&9&&l(23,Ee={id:"new-concept",text:ne,disabled:!c}),i.$$.dirty[0]&1&&l(26,w={id:"keyword-search",text:ne}),i.$$.dirty[0]&1736441865&&l(5,le=$!=null&&$.data?[Ee,...ne!=""?[w]:[],...b.flatMap(Me=>Me.concepts.map(je=>({id:{namespace:je.namespace,name:je.name},text:oi(je.namespace,je.name,T.data),disabled:!c||s.some(rt=>rt.query.type==="concept"&&rt.query.concept_namespace===je.namespace&&rt.query.concept_name===je.name)})))]:[])},[ne,r,f,c,A,le,oe,m,d,a,t,N,R,j,Q,B,x,fe,we,$e,K,ie,Z,Ee,s,b,w,g,u,T,$,y,F,E,k,he,Ae,Le]}class Ia extends be{constructor(e){super(),ve(this,e,Da,ya,_e,{},null,[-1,-1])}}function Va(i){let e,l;return e=new Je({props:{$$slots:{default:[Na]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n&512&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Ca(i){let e,l;return{c(){e=M("span"),l=J("Invalid query"),this.h()},l(t){e=z(t,"SPAN",{class:!0});var n=S(e);l=G(n,"Invalid query"),n.forEach(h),this.h()},h(){V(e,"class","text-red-500")},m(t,n){C(t,e,n),v(e,l)},p:X,i:X,o:X,d(t){t&&h(e)}}}function Na(i){let e;return{c(){e=J("Apply")},l(l){e=G(l,"Apply")},m(l,t){C(l,e,t)},d(l){l&&h(e)}}}function Ta(i){let e,l,t,n,o,r,s,a,f,u,c;const d=[Ca,Va],m=[];function g(b,w){return b[0]?b[3]?1:-1:0}return~(r=g(i))&&(s=m[r]=d[r](i)),{c(){e=M("pre"),l=J(""),t=J(i[2]),n=J(`
`),o=U(),s&&s.c(),a=re(),this.h()},l(b){e=z(b,"PRE",{class:!0,contenteditable:!0});var w=S(e);l=G(w,""),t=G(w,i[2]),n=G(w,`
`),w.forEach(h),o=Y(b),s&&s.l(b),a=re(),this.h()},h(){V(e,"class","whitespace-pre bg-gray-50 p-4 font-mono"),V(e,"contenteditable",""),i[1]===void 0&&kt(()=>i[8].call(e)),de(e,"outline-red-500",!i[0])},m(b,w){C(b,e,w),v(e,l),v(e,t),v(e,n),i[1]!==void 0&&(e.innerText=i[1]),C(b,o,w),~r&&m[r].m(b,w),C(b,a,w),f=!0,u||(c=Ve(e,"input",i[8]),u=!0)},p(b,[w]){(!f||w&4)&&Ir(t,b[2]),w&2&&b[1]!==e.innerText&&(e.innerText=b[1]),(!f||w&1)&&de(e,"outline-red-500",!b[0]);let I=r;r=g(b),r===I?~r&&m[r].p(b,w):(s&&(ee(),p(m[I],1,1,()=>{m[I]=null}),te()),~r?(s=m[r],s?s.p(b,w):(s=m[r]=d[r](b),s.c()),_(s,1),s.m(a.parentNode,a)):s=null)},i(b){f||(_(s),f=!0)},o(b){p(s),f=!1},d(b){b&&h(e),b&&h(o),~r&&m[r].d(b),b&&h(a),u=!1,c()}}}function Ma(i,e,l){let t,n,o,r,s;const a=Re();me(i,a,d=>l(7,s=d));let f=!0;function u(){at(a,s.query=JSON.parse(o),s)}function c(){o=this.innerText,l(1,o),l(2,n),l(6,t),l(7,s)}return i.$$.update=()=>{if(i.$$.dirty&128&&l(6,t=s.query),i.$$.dirty&64&&l(2,n=t?JSON.stringify(t,null,2):""),i.$$.dirty&4&&l(1,o=n),i.$$.dirty&2)try{JSON.parse(o),l(0,f=!0)}catch{l(0,f=!1)}i.$$.dirty&67&&l(3,r=f&&!fi(JSON.parse(o),t))},[f,o,n,r,a,u,t,s,c]}class za extends be{constructor(e){super(),ve(this,e,Ma,Ta,_e,{})}}function rn(i){let e,l;return e=new Pr({props:{light:!0,flipped:!0,$$slots:{default:[Fa]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n&1073742079&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function sn(i){let e,l;return e=new dt({props:{text:"Sort by"}}),e.$on("click",i[20]),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function an(i){let e,l;return e=new dt({props:{text:"Filter"}}),e.$on("click",i[21]),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function on(i){let e,l,t,n,o,r;return l=new dt({props:{disabled:!i[7],text:"Compute embedding"}}),l.$on("click",i[22]),{c(){e=M("div"),q(l.$$.fragment),this.h()},l(s){e=z(s,"DIV",{class:!0});var a=S(e);L(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","w-full")},m(s,a){C(s,e,a),O(l,e,null),n=!0,o||(r=Ce(t=Ne.call(null,e,{text:i[7]?"":"User does not have access to compute embeddings over this dataset."})),o=!0)},p(s,a){const f={};a&128&&(f.disabled=!s[7]),l.$set(f),t&&Oe(t.update)&&a&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute embeddings over this dataset."})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){p(l.$$.fragment,s),n=!1},d(s){s&&h(e),H(l),o=!1,r()}}}function fn(i){let e,l;return e=new dt({props:{text:"Preview signal"}}),e.$on("click",i[23]),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function un(i){let e,l,t,n,o,r;return l=new dt({props:{text:"Compute signal",disabled:!i[7]}}),l.$on("click",i[24]),{c(){e=M("div"),q(l.$$.fragment),this.h()},l(s){e=z(s,"DIV",{class:!0});var a=S(e);L(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","w-full")},m(s,a){C(s,e,a),O(l,e,null),n=!0,o||(r=Ce(t=Ne.call(null,e,{text:i[7]?"":"User does not have access to compute signals over this dataset."})),o=!0)},p(s,a){const f={};a&128&&(f.disabled=!s[7]),l.$set(f),t&&Oe(t.update)&&a&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute signals over this dataset."})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){p(l.$$.fragment,s),n=!1},d(s){s&&h(e),H(l),o=!1,r()}}}function cn(i){let e,l,t,n,o,r;return l=new dt({props:{disabled:!i[6],text:"Delete signal"}}),l.$on("click",i[25]),{c(){e=M("div"),q(l.$$.fragment),this.h()},l(s){e=z(s,"DIV",{class:!0});var a=S(e);L(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","w-full")},m(s,a){C(s,e,a),O(l,e,null),n=!0,o||(r=Ce(t=Ne.call(null,e,{text:i[6]?"":"User does not have access to delete signals for this dataset."})),o=!0)},p(s,a){const f={};a&64&&(f.disabled=!s[6]),l.$set(f),t&&Oe(t.update)&&a&64&&t.update.call(null,{text:s[6]?"":"User does not have access to delete signals for this dataset."})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){p(l.$$.fragment,s),n=!1},d(s){s&&h(e),H(l),o=!1,r()}}}function Fa(i){let e=Dt(i[0]),l,t=Rt(i[0]),n,o,r,s,a,f,u=e&&sn(i),c=t&&an(i),d=!i[2]&&on(i),m=!i[2]&&fn(i),g=!i[2]&&un(i),b=i[1]&&cn(i);return{c(){u&&u.c(),l=U(),c&&c.c(),n=U(),d&&d.c(),o=U(),m&&m.c(),r=U(),g&&g.c(),s=U(),b&&b.c(),a=re()},l(w){u&&u.l(w),l=Y(w),c&&c.l(w),n=Y(w),d&&d.l(w),o=Y(w),m&&m.l(w),r=Y(w),g&&g.l(w),s=Y(w),b&&b.l(w),a=re()},m(w,I){u&&u.m(w,I),C(w,l,I),c&&c.m(w,I),C(w,n,I),d&&d.m(w,I),C(w,o,I),m&&m.m(w,I),C(w,r,I),g&&g.m(w,I),C(w,s,I),b&&b.m(w,I),C(w,a,I),f=!0},p(w,I){I&1&&(e=Dt(w[0])),e?u?(u.p(w,I),I&1&&_(u,1)):(u=sn(w),u.c(),_(u,1),u.m(l.parentNode,l)):u&&(ee(),p(u,1,1,()=>{u=null}),te()),I&1&&(t=Rt(w[0])),t?c?(c.p(w,I),I&1&&_(c,1)):(c=an(w),c.c(),_(c,1),c.m(n.parentNode,n)):c&&(ee(),p(c,1,1,()=>{c=null}),te()),w[2]?d&&(ee(),p(d,1,1,()=>{d=null}),te()):d?(d.p(w,I),I&4&&_(d,1)):(d=on(w),d.c(),_(d,1),d.m(o.parentNode,o)),w[2]?m&&(ee(),p(m,1,1,()=>{m=null}),te()):m?(m.p(w,I),I&4&&_(m,1)):(m=fn(w),m.c(),_(m,1),m.m(r.parentNode,r)),w[2]?g&&(ee(),p(g,1,1,()=>{g=null}),te()):g?(g.p(w,I),I&4&&_(g,1)):(g=un(w),g.c(),_(g,1),g.m(s.parentNode,s)),w[1]?b?(b.p(w,I),I&2&&_(b,1)):(b=cn(w),b.c(),_(b,1),b.m(a.parentNode,a)):b&&(ee(),p(b,1,1,()=>{b=null}),te())},i(w){f||(_(u),_(c),_(d),_(m),_(g),_(b),f=!0)},o(w){p(u),p(c),p(d),p(m),p(g),p(b),f=!1},d(w){u&&u.d(w),w&&h(l),c&&c.d(w),w&&h(n),d&&d.d(w),w&&h(o),m&&m.d(w),w&&h(r),g&&g.d(w),w&&h(s),b&&b.d(w),w&&h(a)}}}function Aa(i){let e,l,t,n=ye(i[0].path)+"",o,r,s,a,f;return{c(){e=M("p"),l=J("Confirm deleting "),t=M("code"),o=J(n),r=J(" ?"),s=U(),a=M("p"),f=J("This is a permanent action and cannot be undone."),this.h()},l(u){e=z(u,"P",{class:!0});var c=S(e);l=G(c,"Confirm deleting "),t=z(c,"CODE",{});var d=S(t);o=G(d,n),d.forEach(h),r=G(c," ?"),c.forEach(h),s=Y(u),a=z(u,"P",{class:!0});var m=S(a);f=G(m,"This is a permanent action and cannot be undone."),m.forEach(h),this.h()},h(){V(e,"class","!text-lg"),V(a,"class","mt-2")},m(u,c){C(u,e,c),v(e,l),v(e,t),v(t,o),v(e,r),C(u,s,c),C(u,a,c),v(a,f)},p(u,c){c&1&&n!==(n=ye(u[0].path)+"")&&ue(o,n)},d(u){u&&h(e),u&&h(s),u&&h(a)}}}function Ba(i){let e,l,t,n,o=i[8]&&rn(i);function r(a){i[26](a)}let s={danger:!0,modalHeading:"Delete signal",primaryButtonText:"Delete",primaryButtonIcon:i[9].isLoading?Vt:void 0,secondaryButtonText:"Cancel",$$slots:{default:[Aa]},$$scope:{ctx:i}};return i[3]!==void 0&&(s.open=i[3]),l=new Jt({props:s}),Pe.push(()=>Ge(l,"open",r)),l.$on("click:button--secondary",i[27]),l.$on("open",i[28]),l.$on("close",i[29]),l.$on("submit",i[14]),{c(){o&&o.c(),e=U(),q(l.$$.fragment)},l(a){o&&o.l(a),e=Y(a),L(l.$$.fragment,a)},m(a,f){o&&o.m(a,f),C(a,e,f),O(l,a,f),n=!0},p(a,[f]){a[8]?o?(o.p(a,f),f&256&&_(o,1)):(o=rn(a),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(ee(),p(o,1,1,()=>{o=null}),te());const u={};f&512&&(u.primaryButtonIcon=a[9].isLoading?Vt:void 0),f&1073741825&&(u.$$scope={dirty:f,ctx:a}),!t&&f&8&&(t=!0,u.open=a[3],Ke(()=>t=!1)),l.$set(u)},i(a){n||(_(o),_(l.$$.fragment,a),n=!0)},o(a){p(o),p(l.$$.fragment,a),n=!1},d(a){o&&o.d(a),a&&h(e),H(l,a)}}}function Pa(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g,{field:b}=e,{schema:w}=e,I=!1;const T=Re();me(i,T,Z=>l(19,g=Z));const $=We();me(i,$,Z=>l(18,m=Z));const y=Br();me(i,y,Z=>l(9,c=Z));const A=zt();me(i,A,Z=>l(17,d=Z));function F(){c.mutate([t,n,{signal_path:b.path}],{onSuccess:()=>{l(3,I=!1),T.deleteSignal(b.path)}})}const E=()=>T.addSortBy(b.path),D=()=>Xe({command:xe.EditFilter,namespace:t,datasetName:n,path:b.path}),P=()=>Xe({command:xe.ComputeEmbedding,namespace:t,datasetName:n,path:b==null?void 0:b.path}),k=()=>Xe({command:xe.PreviewConcept,namespace:t,datasetName:n,path:b==null?void 0:b.path}),N=()=>Xe({command:xe.ComputeSignal,namespace:t,datasetName:n,path:b==null?void 0:b.path}),R=()=>l(3,I=!0);function j(Z){I=Z,l(3,I)}const Q=()=>l(3,I=!1);function B(Z){Ue.call(this,i,Z)}function W(Z){Ue.call(this,i,Z)}return i.$$set=Z=>{"field"in Z&&l(0,b=Z.field),"schema"in Z&&l(15,w=Z.schema)},i.$$.update=()=>{var Z,x,fe;i.$$.dirty&524288&&l(5,t=g.namespace),i.$$.dirty&524288&&l(4,n=g.datasetName),i.$$.dirty&32769&&l(2,o=lt(b,w)),i.$$.dirty&1&&l(1,r=tt(b)),i.$$.dirty&262145&&l(16,s=Tt(((Z=m.selectRowsSchema)==null?void 0:Z.data)||null,b.path)),i.$$.dirty&65543&&l(8,a=(Dt(b)||Rt(b)||!o||r)&&!s),i.$$.dirty&131072&&l(7,f=(x=d.data)==null?void 0:x.access.dataset.compute_signals),i.$$.dirty&131072&&l(6,u=(fe=d.data)==null?void 0:fe.access.dataset.delete_signals)},[b,r,o,I,n,t,u,f,a,c,T,$,y,A,F,w,s,d,m,g,E,D,P,k,N,R,j,Q,B,W]}class wr extends be{constructor(e){super(),ve(this,e,Pa,Ba,_e,{field:0,schema:15})}}function dn(i,e,l){const t=i.slice();t[7]=e[l][0],t[8]=e[l][1];const n=t[2](t[7]);t[9]=n;const o=`${t[8]/t[1]*100}%`;t[10]=o;const r=Ie(t[8]);return t[11]=r,t}function hn(i){let e,l,t=i[9]+"",n,o,r,s,a,f=i[11]+"",u,c,d,m,g;function b(){return i[6](i[7])}return{c(){e=M("button"),l=M("div"),n=J(t),r=U(),s=M("div"),a=M("div"),u=J(f),d=U(),this.h()},l(w){e=z(w,"BUTTON",{class:!0});var I=S(e);l=z(I,"DIV",{title:!0,class:!0});var T=S(l);n=G(T,t),T.forEach(h),r=Y(I),s=z(I,"DIV",{class:!0});var $=S(s);a=z($,"DIV",{title:!0,class:!0});var y=S(a);u=G(y,f),y.forEach(h),$.forEach(h),d=Y(I),I.forEach(h),this.h()},h(){V(l,"title",o=i[9]),V(l,"class","w-48 flex-none truncate px-2"),V(a,"title",c=i[11]),V(a,"class","histogram-bar my-px bg-indigo-200 pl-2 text-xs leading-5"),Ye(a,"width",i[10]),V(s,"class","w-36 border-l border-gray-300 pl-2"),V(e,"class","flex items-center text-left text-xs text-black hover:bg-gray-200")},m(w,I){C(w,e,I),v(e,l),v(l,n),v(e,r),v(e,s),v(s,a),v(a,u),v(e,d),m||(g=Ve(e,"click",b),m=!0)},p(w,I){i=w,I&1&&t!==(t=i[9]+"")&&ue(n,t),I&1&&o!==(o=i[9])&&V(l,"title",o),I&1&&f!==(f=i[11]+"")&&ue(u,f),I&1&&c!==(c=i[11])&&V(a,"title",c),I&3&&Ye(a,"width",i[10])},d(w){w&&h(e),m=!1,g()}}}function Ra(i){let e,l=i[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=hn(dn(i,l,n));return{c(){e=M("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=z(n,"DIV",{class:!0});var o=S(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(h),this.h()},h(){V(e,"class","histogram")},m(n,o){C(n,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(n,[o]){if(o&15){l=n[0];let r;for(r=0;r<l.length;r+=1){const s=dn(n,l,r);t[r]?t[r].p(s,o):(t[r]=hn(s),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},i:X,o:X,d(n){n&&h(e),ze(t,n)}}}function qa(i,e,l){let t,{field:n}=e,{counts:o}=e,{bins:r}=e;function s(u){if(u==null)return Ie(u);if(r==null||n.bins!=null)return Ie(u);const[c,d]=r[u.toString()];return c==null?`< ${Ie(d)}`:d==null?`≥ ${Ie(c)}`:`${Ie(c)} .. ${Ie(d)}`}const a=bt(),f=u=>a("row-click",{value:u});return i.$$set=u=>{"field"in u&&l(4,n=u.field),"counts"in u&&l(0,o=u.counts),"bins"in u&&l(5,r=u.bins)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=Math.max(...o.map(([u,c])=>c)))},[o,t,s,a,n,r,f]}class Oa extends be{constructor(e){super(),ve(this,e,qa,Ra,_e,{field:4,counts:0,bins:5})}}function Ha(i){let e,l,t,n,o,r,s,a,f,u,c,d=Ie(i[4].total_count)+"",m,g,b,w,I,T,$,y,A,F,E,D,P=Ie(i[4].approx_count_distinct)+"",k,N,R,j,Q,B;r=new Ct({props:{class:"inline"}}),T=new Ct({props:{class:"inline"}});let W=i[4].avg_text_length&&mn(i),Z=i[4].min_val&&i[4].max_val&&_n(i);return{c(){e=M("table"),l=M("tbody"),t=M("tr"),n=M("td"),o=M("span"),q(r.$$.fragment),s=U(),a=M("span"),f=J("Total count"),u=U(),c=M("td"),m=J(d),g=U(),b=M("tr"),w=M("td"),I=M("span"),q(T.$$.fragment),$=U(),y=M("span"),A=J("Unique values"),F=U(),E=M("td"),D=J("~"),k=J(P),N=U(),W&&W.c(),R=U(),Z&&Z.c(),this.h()},l(x){e=z(x,"TABLE",{class:!0});var fe=S(e);l=z(fe,"TBODY",{});var le=S(l);t=z(le,"TR",{});var ne=S(t);n=z(ne,"TD",{class:!0});var Ee=S(n);o=z(Ee,"SPAN",{});var we=S(o);L(r.$$.fragment,we),we.forEach(h),s=Y(Ee),a=z(Ee,"SPAN",{});var $e=S(a);f=G($e,"Total count"),$e.forEach(h),Ee.forEach(h),u=Y(ne),c=z(ne,"TD",{class:!0});var oe=S(c);m=G(oe,d),oe.forEach(h),ne.forEach(h),g=Y(le),b=z(le,"TR",{});var ae=S(b);w=z(ae,"TD",{class:!0});var K=S(w);I=z(K,"SPAN",{});var ie=S(I);L(T.$$.fragment,ie),ie.forEach(h),$=Y(K),y=z(K,"SPAN",{});var he=S(y);A=G(he,"Unique values"),he.forEach(h),K.forEach(h),F=Y(ae),E=z(ae,"TD",{class:!0});var Ae=S(E);D=G(Ae,"~"),k=G(Ae,P),Ae.forEach(h),ae.forEach(h),N=Y(le),W&&W.l(le),R=Y(le),Z&&Z.l(le),le.forEach(h),fe.forEach(h),this.h()},h(){V(n,"class","svelte-1tctrjz"),V(c,"class","svelte-1tctrjz"),V(w,"class","svelte-1tctrjz"),V(E,"class","svelte-1tctrjz"),V(e,"class","stats-table w-full svelte-1tctrjz")},m(x,fe){C(x,e,fe),v(e,l),v(l,t),v(t,n),v(n,o),O(r,o,null),v(n,s),v(n,a),v(a,f),v(t,u),v(t,c),v(c,m),v(l,g),v(l,b),v(b,w),v(w,I),O(T,I,null),v(w,$),v(w,y),v(y,A),v(b,F),v(b,E),v(E,D),v(E,k),v(l,N),W&&W.m(l,null),v(l,R),Z&&Z.m(l,null),j=!0,Q||(B=[Ce(Ne.call(null,o,{text:"Total number of rows where the value is defined."})),Ce(Ne.call(null,I,{text:"An approximation of the total number of unique values."}))],Q=!0)},p(x,fe){(!j||fe&16)&&d!==(d=Ie(x[4].total_count)+"")&&ue(m,d),(!j||fe&16)&&P!==(P=Ie(x[4].approx_count_distinct)+"")&&ue(k,P),x[4].avg_text_length?W?(W.p(x,fe),fe&16&&_(W,1)):(W=mn(x),W.c(),_(W,1),W.m(l,R)):W&&(ee(),p(W,1,1,()=>{W=null}),te()),x[4].min_val&&x[4].max_val?Z?(Z.p(x,fe),fe&16&&_(Z,1)):(Z=_n(x),Z.c(),_(Z,1),Z.m(l,null)):Z&&(ee(),p(Z,1,1,()=>{Z=null}),te())},i(x){j||(_(r.$$.fragment,x),_(T.$$.fragment,x),_(W),_(Z),j=!0)},o(x){p(r.$$.fragment,x),p(T.$$.fragment,x),p(W),p(Z),j=!1},d(x){x&&h(e),H(r),H(T),W&&W.d(),Z&&Z.d(),Q=!1,Qe(B)}}}function La(i){let e,l;return e=new He({props:{paragraph:!0,width:"50%"}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ja(i){let e,l,t=i[2].error.message+"",n;return{c(){e=M("p"),l=J("Error: "),n=J(t)},l(o){e=z(o,"P",{});var r=S(e);l=G(r,"Error: "),n=G(r,t),r.forEach(h)},m(o,r){C(o,e,r),v(e,l),v(e,n)},p(o,r){r&4&&t!==(t=o[2].error.message+"")&&ue(n,t)},i:X,o:X,d(o){o&&h(e)}}}function mn(i){let e,l,t,n,o,r,s,a,f,u=Ie(i[4].avg_text_length)+"",c,d,m,g;return n=new Ct({props:{class:"inline"}}),{c(){e=M("tr"),l=M("td"),t=M("span"),q(n.$$.fragment),o=U(),r=M("span"),s=J("Average text length"),a=U(),f=M("td"),c=J(u),this.h()},l(b){e=z(b,"TR",{});var w=S(e);l=z(w,"TD",{class:!0});var I=S(l);t=z(I,"SPAN",{});var T=S(t);L(n.$$.fragment,T),T.forEach(h),o=Y(I),r=z(I,"SPAN",{});var $=S(r);s=G($,"Average text length"),$.forEach(h),I.forEach(h),a=Y(w),f=z(w,"TD",{class:!0});var y=S(f);c=G(y,u),y.forEach(h),w.forEach(h),this.h()},h(){V(l,"class","svelte-1tctrjz"),V(f,"class","svelte-1tctrjz")},m(b,w){C(b,e,w),v(e,l),v(l,t),O(n,t,null),v(l,o),v(l,r),v(r,s),v(e,a),v(e,f),v(f,c),d=!0,m||(g=Ce(Ne.call(null,t,{text:"The average length of the text in characters."})),m=!0)},p(b,w){(!d||w&16)&&u!==(u=Ie(b[4].avg_text_length)+"")&&ue(c,u)},i(b){d||(_(n.$$.fragment,b),d=!0)},o(b){p(n.$$.fragment,b),d=!1},d(b){b&&h(e),H(n),m=!1,g()}}}function _n(i){let e,l,t,n,o,r,s,a,f,u=Ie(i[4].min_val)+"",c,d,m=Ie(i[4].max_val)+"",g,b,w,I;return n=new Ct({props:{class:"inline"}}),{c(){e=M("tr"),l=M("td"),t=M("span"),q(n.$$.fragment),o=U(),r=M("span"),s=J("Range"),a=U(),f=M("td"),c=J(u),d=J(" .. "),g=J(m),this.h()},l(T){e=z(T,"TR",{});var $=S(e);l=z($,"TD",{class:!0});var y=S(l);t=z(y,"SPAN",{});var A=S(t);L(n.$$.fragment,A),A.forEach(h),o=Y(y),r=z(y,"SPAN",{});var F=S(r);s=G(F,"Range"),F.forEach(h),y.forEach(h),a=Y($),f=z($,"TD",{class:!0});var E=S(f);c=G(E,u),d=G(E," .. "),g=G(E,m),E.forEach(h),$.forEach(h),this.h()},h(){V(l,"class","svelte-1tctrjz"),V(f,"class","svelte-1tctrjz")},m(T,$){C(T,e,$),v(e,l),v(l,t),O(n,t,null),v(l,o),v(l,r),v(r,s),v(e,a),v(e,f),v(f,c),v(f,d),v(f,g),b=!0,w||(I=Ce(Ne.call(null,t,{text:"The minimum and maximum value across the dataset"})),w=!0)},p(T,$){(!b||$&16)&&u!==(u=Ie(T[4].min_val)+"")&&ue(c,u),(!b||$&16)&&m!==(m=Ie(T[4].max_val)+"")&&ue(g,m)},i(T){b||(_(n.$$.fragment,T),b=!0)},o(T){p(n.$$.fragment,T),b=!1},d(T){T&&h(e),H(n),w=!1,I()}}}function Ua(i){let e,l,t;return l=new Oa({props:{counts:i[5],bins:i[3],field:i[0]}}),l.$on("row-click",i[11]),{c(){e=M("div"),q(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{class:!0});var o=S(e);L(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"class","mt-4")},m(n,o){C(n,e,o),O(l,e,null),t=!0},p(n,o){const r={};o&32&&(r.counts=n[5]),o&8&&(r.bins=n[3]),o&1&&(r.field=n[0]),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){p(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function Ya(i){let e,l;return e=new He({props:{paragraph:!0,width:"50%"}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Qa(i){let e,l,t=i[1].error.message+"",n;return{c(){e=M("p"),l=J("Error: "),n=J(t)},l(o){e=z(o,"P",{});var r=S(e);l=G(r,"Error: "),n=G(r,t),r.forEach(h)},m(o,r){C(o,e,r),v(e,l),v(e,n)},p(o,r){r&2&&t!==(t=o[1].error.message+"")&&ue(n,t)},i:X,o:X,d(o){o&&h(e)}}}function Wa(i){let e,l,t,n,o,r,s;const a=[ja,La,Ha],f=[];function u(g,b){return g[2].error?0:g[4]==null?1:2}l=u(i),t=f[l]=a[l](i);const c=[Qa,Ya,Ua],d=[];function m(g,b){return g[1].error?0:g[5]==null?1:g[5].length>0?2:-1}return~(o=m(i))&&(r=d[o]=c[o](i)),{c(){e=M("div"),t.c(),n=U(),r&&r.c(),this.h()},l(g){e=z(g,"DIV",{class:!0});var b=S(e);t.l(b),n=Y(b),r&&r.l(b),b.forEach(h),this.h()},h(){V(e,"class","p-4")},m(g,b){C(g,e,b),f[l].m(e,null),v(e,n),~o&&d[o].m(e,null),s=!0},p(g,[b]){let w=l;l=u(g),l===w?f[l].p(g,b):(ee(),p(f[w],1,1,()=>{f[w]=null}),te(),t=f[l],t?t.p(g,b):(t=f[l]=a[l](g),t.c()),_(t,1),t.m(e,n));let I=o;o=m(g),o===I?~o&&d[o].p(g,b):(r&&(ee(),p(d[I],1,1,()=>{d[I]=null}),te()),~o?(r=d[o],r?r.p(g,b):(r=d[o]=c[o](g),r.c()),_(r,1),r.m(e,null)):r=null)},i(g){s||(_(t),_(r),s=!0)},o(g){p(t),p(r),s=!1},d(g){g&&h(e),f[l].d(),~o&&d[o].d()}}}function Za(i,e,l){let t,n,o,r,s,a=X,f=()=>(a(),a=Be(n,$=>l(1,s=$)),n),u,c=X,d=()=>(c(),c=Be(t,$=>l(2,u=$)),t),m;i.$$.on_destroy.push(()=>a()),i.$$.on_destroy.push(()=>c());let{field:g}=e;const b=Re();me(i,b,$=>l(10,m=$));let w=null;function I($){if($==null)return;if(w!=null){const[A,F]=w[$.toString()];if(A!=null){const E={path:g.path,op:"greater_equal",value:A};b.addFilter(E)}if(F!=null){const E={path:g.path,op:"less",value:F};b.addFilter(E)}return}const y={path:g.path,op:"equals",value:$};b.addFilter(y)}const T=$=>I($.detail.value);return i.$$set=$=>{"field"in $&&l(0,g=$.field)},i.$$.update=()=>{var $;if(i.$$.dirty&1025&&d(l(7,t=Rr(m.namespace,m.datasetName,{leaf_path:g.path}))),i.$$.dirty&1025&&f(l(6,n=qr(m.namespace,m.datasetName,{leaf_path:g.path,filters:m.query.filters}))),i.$$.dirty&2&&l(5,o=s.data!=null?s.data.counts:null),i.$$.dirty&4&&l(4,r=u.data!=null?u.data:null),i.$$.dirty&2)if((($=s.data)==null?void 0:$.bins)!=null){l(3,w={});for(const[y,A,F]of Object.values(s.data.bins))l(3,w[y]=[A,F],w)}else l(3,w=null)},[g,s,u,w,r,o,n,t,b,I,m,T]}class Ja extends be{constructor(e){super(),ve(this,e,Za,Wa,_e,{field:0})}}function gn(i,e,l){const t=i.slice();return t[38]=e[l],t}function pn(i,e,l){const t=i.slice();return t[41]=e[l],t}function bn(i,e,l){const t=i.slice();return t[44]=e[l],t}function vn(i,e,l){const t=i.slice();return t[47]=e[l],t}function Ga(i){let e,l="{}",t;return{c(){e=M("span"),t=J(l),this.h()},l(n){e=z(n,"SPAN",{class:!0});var o=S(e);t=G(o,l),o.forEach(h),this.h()},h(){V(e,"class","font-mono")},m(n,o){C(n,e,o),v(e,t)},p:X,i:X,o:X,d(n){n&&h(e)}}}function Ka(i){let e,l,t,n;var o=ct[i[1].repeated_field.dtype];function r(s){return{props:{title:s[1].dtype}}}return o&&(l=ft(o,r(i))),{c(){e=M("div"),l&&q(l.$$.fragment),t=J("[]"),this.h()},l(s){e=z(s,"DIV",{class:!0});var a=S(e);l&&L(l.$$.fragment,a),t=G(a,"[]"),a.forEach(h),this.h()},h(){V(e,"class","flex")},m(s,a){C(s,e,a),l&&O(l,e,null),v(e,t),n=!0},p(s,a){const f={};if(a[0]&2&&(f.title=s[1].dtype),a[0]&2&&o!==(o=ct[s[1].repeated_field.dtype])){if(l){ee();const u=l;p(u.$$.fragment,1,0,()=>{H(u,1)}),te()}o?(l=ft(o,r(s)),q(l.$$.fragment),_(l.$$.fragment,1),O(l,e,t)):l=null}else o&&l.$set(f)},i(s){n||(l&&_(l.$$.fragment,s),n=!0)},o(s){l&&p(l.$$.fragment,s),n=!1},d(s){s&&h(e),l&&H(l)}}}function Xa(i){let e,l,t;var n=ct[i[1].dtype];function o(r){return{props:{title:r[1].dtype}}}return n&&(e=ft(n,o(i))),{c(){e&&q(e.$$.fragment),l=re()},l(r){e&&L(e.$$.fragment,r),l=re()},m(r,s){e&&O(e,r,s),C(r,l,s),t=!0},p(r,s){const a={};if(s[0]&2&&(a.title=r[1].dtype),s[0]&2&&n!==(n=ct[r[1].dtype])){if(e){ee();const f=e;p(f.$$.fragment,1,0,()=>{H(f,1)}),te()}n?(e=ft(n,o(r)),q(e.$$.fragment),_(e.$$.fragment,1),O(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&_(e.$$.fragment,r),t=!0)},o(r){e&&p(e.$$.fragment,r),t=!1},d(r){r&&h(l),e&&H(e,r)}}}function wn(i){let e,l;return e=new Ft({props:{interactive:!0,type:"green",$$slots:{default:[to]},$$scope:{ctx:i}}}),e.$on("click",i[32]),e.$on("remove",i[33]),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n[0]&16384|n[1]&524288&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function xa(i){let e,l;return e=new Xt({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function eo(i){let e,l;return e=new Kt({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function to(i){let e,l,t,n,o,r,s,a;const f=[eo,xa],u=[];function c(d,m){return d[14]=="ASC"?0:1}return r=c(i),s=u[r]=f[r](i),{c(){e=M("div"),l=M("div"),t=J("Sorted"),n=U(),o=M("span"),s.c(),this.h()},l(d){e=z(d,"DIV",{class:!0});var m=S(e);l=z(m,"DIV",{class:!0});var g=S(l);t=G(g,"Sorted"),g.forEach(h),n=Y(m),o=z(m,"SPAN",{});var b=S(o);s.l(b),b.forEach(h),m.forEach(h),this.h()},h(){V(l,"class","mr-1"),V(e,"class","flex flex-row")},m(d,m){C(d,e,m),v(e,l),v(l,t),v(e,n),v(e,o),u[r].m(o,null),a=!0},p(d,m){let g=r;r=c(d),r!==g&&(ee(),p(u[g],1,1,()=>{u[g]=null}),te(),s=u[r],s||(s=u[r]=f[r](d),s.c()),_(s,1),s.m(o,null))},i(d){a||(_(s),a=!0)},o(d){p(s),a=!1},d(d){d&&h(e),u[r].d()}}}function kn(i){let e,l,t=i[7],n=[];for(let r=0;r<t.length;r+=1)n[r]=$n(vn(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=re()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s[0]&128){t=r[7];let a;for(a=0;a<t.length;a+=1){const f=vn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=$n(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){ze(n,r),r&&h(e)}}}function $n(i){let e,l;return e=new xt({props:{filter:i[47],hidePath:!0}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.filter=t[47]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Sn(i){let e,l;return e=new vr({props:{search:i[44]}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n[0]&4096&&(o.search=t[44]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function yn(i){var t;let e,l;return e=new Yt({props:{embedding:(t=i[41].signal)==null?void 0:t.signal_name}}),{c(){q(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){O(e,n,o),l=!0},p(n,o){var s;const r={};o[0]&65536&&(r.embedding=(s=n[41].signal)==null?void 0:s.signal_name),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function En(i){let e,l,t,n,o,r,s;return l=new nt({props:{type:"cyan",icon:qt}}),l.$on("click",i[34]),n=new el({props:{isPreview:!0}}),n.$on("click",i[35]),{c(){e=M("div"),q(l.$$.fragment),t=U(),q(n.$$.fragment),this.h()},l(a){e=z(a,"DIV",{class:!0});var f=S(e);L(l.$$.fragment,f),f.forEach(h),t=Y(a),L(n.$$.fragment,a),this.h()},h(){V(e,"class","compute-signal-preview pointer-events-auto")},m(a,f){C(a,e,f),O(l,e,null),C(a,t,f),O(n,a,f),o=!0,r||(s=Ce(Ne.call(null,e,{text:`Compute signal over the column and save the result.

This may be expensive.`})),r=!0)},p:X,i(a){o||(_(l.$$.fragment,a),_(n.$$.fragment,a),o=!0)},o(a){p(l.$$.fragment,a),p(n.$$.fragment,a),o=!1},d(a){a&&h(e),H(l),a&&h(t),H(n,a),r=!1,s()}}}function Dn(i){let e,l,t,n,o,r;return l=new Je({props:{isSelected:i[20],kind:"ghost",size:"field",icon:ui}}),l.$on("click",i[36]),{c(){e=M("div"),q(l.$$.fragment),this.h()},l(s){e=z(s,"DIV",{class:!0});var a=S(e);L(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","stats-button flex")},m(s,a){C(s,e,a),O(l,e,null),n=!0,o||(r=Ce(t=Ne.call(null,e,{text:i[20]?"Close statistics":"See statistics"})),o=!0)},p(s,a){const f={};a[0]&1048576&&(f.isSelected=s[20]),l.$set(f),t&&Oe(t.update)&&a[0]&1048576&&t.update.call(null,{text:s[20]?"Close statistics":"See statistics"})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){p(l.$$.fragment,s),n=!1},d(s){s&&h(e),H(l),o=!1,r()}}}function In(i){let e,l,t,n;return l=new Ja({props:{field:i[1]}}),{c(){e=M("div"),q(l.$$.fragment),this.h()},l(o){e=z(o,"DIV",{class:!0});var r=S(e);L(l.$$.fragment,r),r.forEach(h),this.h()},h(){V(e,"class","px-2")},m(o,r){C(o,e,r),O(l,e,null),n=!0},p(o,r){const s={};r[0]&2&&(s.field=o[1]),l.$set(s)},i(o){n||(_(l.$$.fragment,o),o&&kt(()=>{n&&(t||(t=ot(e,ut,{},!0)),t.run(1))}),n=!0)},o(o){p(l.$$.fragment,o),o&&(t||(t=ot(e,ut,{},!1)),t.run(0)),n=!1},d(o){o&&h(e),H(l),o&&t&&t.end()}}}function Vn(i){let e,l,t=i[18],n=[];for(let r=0;r<t.length;r+=1)n[r]=Cn(gn(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=re()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s[0]&262415){t=r[18];let a;for(a=0;a<t.length;a+=1){const f=gn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Cn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){ze(n,r),r&&h(e)}}}function Cn(i){let e,l;return e=new kr({props:{schema:i[0],field:i[38],indent:i[3]+1,sourceField:i[8]&&lt(i[38],i[0])?i[1]:i[2]}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&262144&&(o.field=t[38]),n[0]&8&&(o.indent=t[3]+1),n[0]&262407&&(o.sourceField=t[8]&&lt(t[38],t[0])?t[1]:t[2]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function lo(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,b,w,I,T,$,y,A,F,E,D,P,k,N;n=new Wt({props:{labelText:"Show",hideLabel:!0,checked:i[17]}}),n.$on("change",i[30]);const R=[Xa,Ka,Ga],j=[];function Q(K,ie){return K[1].dtype?0:K[1].repeated_field&&K[1].repeated_field.dtype?1:2}s=Q(i),a=j[s]=R[s](i);let B=i[15]&&wn(i),W=i[13]&&kn(i),Z=i[12],x=[];for(let K=0;K<Z.length;K+=1)x[K]=Sn(bn(i,Z,K));const fe=K=>p(x[K],1,1,()=>{x[K]=null});let le=i[16],ne=[];for(let K=0;K<le.length;K+=1)ne[K]=yn(pn(i,le,K));const Ee=K=>p(ne[K],1,1,()=>{ne[K]=null});let we=i[4]&&i[21]&&En(i),$e=i[10]&&Dn(i);y=new wr({props:{field:i[1],schema:i[0]}});let oe=i[20]&&In(i),ae=i[18].length&&Vn(i);return{c(){e=M("div"),l=M("div"),t=M("div"),q(n.$$.fragment),o=U(),r=M("div"),a.c(),u=U(),c=M("button"),d=J(i[19]),m=U(),B&&B.c(),g=U(),W&&W.c(),b=U();for(let K=0;K<x.length;K+=1)x[K].c();w=U();for(let K=0;K<ne.length;K+=1)ne[K].c();I=U(),we&&we.c(),T=U(),$e&&$e.c(),$=U(),q(y.$$.fragment),A=U(),oe&&oe.c(),F=U(),E=M("div"),ae&&ae.c(),this.h()},l(K){e=z(K,"DIV",{class:!0});var ie=S(e);l=z(ie,"DIV",{class:!0});var he=S(l);t=z(he,"DIV",{});var Ae=S(t);L(n.$$.fragment,Ae),Ae.forEach(h),o=Y(he),r=z(he,"DIV",{class:!0});var Le=S(r);a.l(Le),Le.forEach(h),u=Y(he),c=z(he,"BUTTON",{class:!0});var se=S(c);d=G(se,i[19]),se.forEach(h),m=Y(he),B&&B.l(he),g=Y(he),W&&W.l(he),b=Y(he);for(let Me=0;Me<x.length;Me+=1)x[Me].l(he);w=Y(he);for(let Me=0;Me<ne.length;Me+=1)ne[Me].l(he);I=Y(he),we&&we.l(he),T=Y(he),$e&&$e.l(he),$=Y(he),L(y.$$.fragment,he),he.forEach(h),A=Y(ie),oe&&oe.l(ie),F=Y(ie),E=z(ie,"DIV",{});var Te=S(E);ae&&ae.l(Te),Te.forEach(h),ie.forEach(h),this.h()},h(){Ye(t,"margin-left",i[3]*1.5+"rem"),V(r,"class","rounded-md bg-blue-200 p-0.5"),de(r,"bg-blue-200",i[5]),V(c,"class","ml-2 grow cursor-pointer truncate whitespace-nowrap text-left text-gray-900"),de(c,"cursor-default",!i[10]),Ye(c,"line-height","2.5rem"),V(l,"class","flex w-full flex-row items-center gap-x-2 border-gray-300 px-4 hover:bg-gray-100"),de(l,"bg-blue-50",i[5]),de(l,"bg-emerald-100",i[4]),de(l,"hover:bg-blue-100",i[5]),V(e,"class","border-gray-300"),de(e,"border-b",!i[5])},m(K,ie){C(K,e,ie),v(e,l),v(l,t),O(n,t,null),v(l,o),v(l,r),j[s].m(r,null),v(l,u),v(l,c),v(c,d),v(l,m),B&&B.m(l,null),v(l,g),W&&W.m(l,null),v(l,b);for(let he=0;he<x.length;he+=1)x[he]&&x[he].m(l,null);v(l,w);for(let he=0;he<ne.length;he+=1)ne[he]&&ne[he].m(l,null);v(l,I),we&&we.m(l,null),v(l,T),$e&&$e.m(l,null),v(l,$),O(y,l,null),v(e,A),oe&&oe.m(e,null),v(e,F),v(e,E),ae&&ae.m(E,null),P=!0,k||(N=[Ce(f=Ne.call(null,r,{text:i[11]})),Ve(c,"click",i[31])],k=!0)},p(K,ie){const he={};ie[0]&131072&&(he.checked=K[17]),n.$set(he),ie[0]&8&&Ye(t,"margin-left",K[3]*1.5+"rem");let Ae=s;if(s=Q(K),s===Ae?j[s].p(K,ie):(ee(),p(j[Ae],1,1,()=>{j[Ae]=null}),te(),a=j[s],a?a.p(K,ie):(a=j[s]=R[s](K),a.c()),_(a,1),a.m(r,null)),f&&Oe(f.update)&&ie[0]&2048&&f.update.call(null,{text:K[11]}),(!P||ie[0]&32)&&de(r,"bg-blue-200",K[5]),(!P||ie[0]&524288)&&ue(d,K[19]),(!P||ie[0]&1024)&&de(c,"cursor-default",!K[10]),K[15]?B?(B.p(K,ie),ie[0]&32768&&_(B,1)):(B=wn(K),B.c(),_(B,1),B.m(l,g)):B&&(ee(),p(B,1,1,()=>{B=null}),te()),K[13]?W?(W.p(K,ie),ie[0]&8192&&_(W,1)):(W=kn(K),W.c(),_(W,1),W.m(l,b)):W&&(ee(),p(W,1,1,()=>{W=null}),te()),ie[0]&4096){Z=K[12];let se;for(se=0;se<Z.length;se+=1){const Te=bn(K,Z,se);x[se]?(x[se].p(Te,ie),_(x[se],1)):(x[se]=Sn(Te),x[se].c(),_(x[se],1),x[se].m(l,w))}for(ee(),se=Z.length;se<x.length;se+=1)fe(se);te()}if(ie[0]&65536){le=K[16];let se;for(se=0;se<le.length;se+=1){const Te=pn(K,le,se);ne[se]?(ne[se].p(Te,ie),_(ne[se],1)):(ne[se]=yn(Te),ne[se].c(),_(ne[se],1),ne[se].m(l,I))}for(ee(),se=le.length;se<ne.length;se+=1)Ee(se);te()}K[4]&&K[21]?we?(we.p(K,ie),ie[0]&2097168&&_(we,1)):(we=En(K),we.c(),_(we,1),we.m(l,T)):we&&(ee(),p(we,1,1,()=>{we=null}),te()),K[10]?$e?($e.p(K,ie),ie[0]&1024&&_($e,1)):($e=Dn(K),$e.c(),_($e,1),$e.m(l,$)):$e&&(ee(),p($e,1,1,()=>{$e=null}),te());const Le={};ie[0]&2&&(Le.field=K[1]),ie[0]&1&&(Le.schema=K[0]),y.$set(Le),(!P||ie[0]&32)&&de(l,"bg-blue-50",K[5]),(!P||ie[0]&16)&&de(l,"bg-emerald-100",K[4]),(!P||ie[0]&32)&&de(l,"hover:bg-blue-100",K[5]),K[20]?oe?(oe.p(K,ie),ie[0]&1048576&&_(oe,1)):(oe=In(K),oe.c(),_(oe,1),oe.m(e,F)):oe&&(ee(),p(oe,1,1,()=>{oe=null}),te()),K[18].length?ae?(ae.p(K,ie),ie[0]&262144&&_(ae,1)):(ae=Vn(K),ae.c(),_(ae,1),ae.m(E,null)):ae&&(ee(),p(ae,1,1,()=>{ae=null}),te()),(!P||ie[0]&32)&&de(e,"border-b",!K[5])},i(K){if(!P){_(n.$$.fragment,K),_(a),_(B),_(W);for(let ie=0;ie<Z.length;ie+=1)_(x[ie]);for(let ie=0;ie<le.length;ie+=1)_(ne[ie]);_(we),_($e),_(y.$$.fragment,K),_(oe),_(ae),K&&kt(()=>{P&&(D||(D=ot(E,ut,{},!0)),D.run(1))}),P=!0}},o(K){p(n.$$.fragment,K),p(a),p(B),p(W),x=x.filter(Boolean);for(let ie=0;ie<x.length;ie+=1)p(x[ie]);ne=ne.filter(Boolean);for(let ie=0;ie<ne.length;ie+=1)p(ne[ie]);p(we),p($e),p(y.$$.fragment,K),p(oe),p(ae),K&&(D||(D=ot(E,ut,{},!1)),D.run(0)),P=!1},d(K){K&&h(e),H(n),j[s].d(),B&&B.d(),W&&W.d(),ze(x,K),ze(ne,K),we&&we.d(),$e&&$e.d(),H(y),oe&&oe.d(),ae&&ae.d(),K&&D&&D.end(),k=!1,Qe(N)}}}function no(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g,b,w,I,T,$,y,A,F,E,D,P,{schema:k}=e,{field:N}=e,{sourceField:R=void 0}=e,{indent:j=0}=e;const Q=ur();me(i,Q,oe=>l(22,P=oe));const B=Re();me(i,B,oe=>l(9,E=oe));const W=We();me(i,W,oe=>l(29,D=oe));function Z(oe){return oe!=null&&oe.repeated_field?Z(oe.repeated_field):oe!=null&&oe.fields?[...Object.values(oe.fields).filter(ae=>ae.path.at(-1)!==cr)].flatMap(ae=>{const K=Z(ae);return K.some(ie=>tt(ie))?K:[ae]}).filter(ae=>{var K,ie,he,Ae;return!(ae.dtype==="embedding"||ae.signal!=null&&et(ae).some(Le=>Le.dtype==="embedding")||((K=ae.signal)==null?void 0:K.signal_name)==="sentences"||((ie=ae.signal)==null?void 0:ie.signal_name)==="substring_search"||((he=ae.signal)==null?void 0:he.signal_name)==="semantic_similarity"||((Ae=ae.signal)==null?void 0:Ae.signal_name)==="concept_labels")}):[]}const x=()=>{c?B.removeSelectedColumn(r):B.addSelectedColumn(r)},fe=()=>{F&&(s?B.removeExpandedColumn(r):B.addExpandedColumn(r))},le=()=>g==="ASC"?at(B,E.query.sort_order="DESC",E):at(B,E.query.sort_order="ASC",E),ne=()=>B.removeSortBy(r),Ee=()=>N.signal&&I&&R&&P.mutate([E.namespace,E.datasetName,{leaf_path:R.path,signal:N.signal}]),we=()=>{var oe;return N.signal&&I&&Xe({command:xe.EditPreviewConcept,namespace:E.namespace,datasetName:E.datasetName,path:R==null?void 0:R.path,signalName:(oe=N.signal)==null?void 0:oe.signal_name,value:N.signal})},$e=()=>{s?B.removeExpandedColumn(r):B.addExpandedColumn(r)};return i.$$set=oe=>{"schema"in oe&&l(0,k=oe.schema),"field"in oe&&l(1,N=oe.field),"sourceField"in oe&&l(2,R=oe.sourceField),"indent"in oe&&l(3,j=oe.indent)},i.$$.update=()=>{var oe,ae,K,ie;i.$$.dirty[0]&3&&l(5,t=lt(N,k)),i.$$.dirty[0]&2&&l(21,n=tt(N)),i.$$.dirty[0]&32&&l(8,o=!t),i.$$.dirty[0]&2&&l(6,r=N.path),i.$$.dirty[0]&576&&l(20,s=E.expandedColumns[ye(r)]||!1),i.$$.dirty[0]&64&&l(28,a=r.at(-1)===It),i.$$.dirty[0]&268435520&&l(19,f=a?r.at(-2):r.at(-1)),i.$$.dirty[0]&2&&l(18,u=Z(N)),i.$$.dirty[0]&536870976&&l(17,c=(oe=D.visibleFields)==null?void 0:oe.some(he=>qe(he.path,r))),i.$$.dirty[0]&258&&l(16,d=o?et(N).filter(he=>he.signal!=null&&et(he).some(Ae=>Ae.dtype==="embedding")):[]),i.$$.dirty[0]&576&&l(15,m=(ae=E.query.sort_by)==null?void 0:ae.some(he=>qe(he,r))),i.$$.dirty[0]&512&&l(14,g=E.query.sort_order),i.$$.dirty[0]&576&&l(7,b=((K=E.query.filters)==null?void 0:K.filter(he=>qe(he.path,r)))||[]),i.$$.dirty[0]&128&&l(13,w=b.length>0),i.$$.dirty[0]&536870976&&l(4,I=Tt(((ie=D.selectRowsSchema)==null?void 0:ie.data)||null,r)),i.$$.dirty[0]&576&&l(12,T=Qt(E,r)),i.$$.dirty[0]&32&&l(26,$=t?". Generated by a signal":""),i.$$.dirty[0]&2&&l(27,y=N.dtype??(N.repeated_field&&N.repeated_field.dtype?`${N.repeated_field.dtype}[]`:"object")),i.$$.dirty[0]&201326592&&l(11,A=`Data type: ${y}${$}`),i.$$.dirty[0]&18&&l(10,F=Dt(N)&&!I)},[k,N,R,j,I,t,r,b,o,E,F,A,T,w,g,m,d,c,u,f,s,n,P,Q,B,W,$,y,a,D,x,fe,le,ne,Ee,we,$e]}class kr extends be{constructor(e){super(),ve(this,e,no,lo,_e,{schema:0,field:1,sourceField:2,indent:3},null,[-1,-1])}}function Nn(i,e,l){const t=i.slice();return t[28]=e[l],t}function Tn(i,e,l){const t=i.slice();return t[31]=e[l],t}function ro(i){var P;let e,l,t,n,o,r,s,a,f,u,c,d,m,g,b,w,I,T;t=new Wt({props:{labelText:"Show",hideLabel:!0,checked:i[14],disabled:i[10]}}),t.$on("change",i[23]);let $=i[15]&&Mn(i),y=i[13]&&zn(i),A=i[11]&&Fn(i),F=i[17]&&Bn(i),E=((P=i[1])==null?void 0:P.dtype)&&Pn(i);b=new wr({props:{field:i[1],schema:i[0]}});let D=i[8]&&Rn(i);return{c(){e=M("div"),l=M("div"),q(t.$$.fragment),n=U(),o=M("div"),$&&$.c(),r=U(),s=M("div"),a=J(i[16]),f=U(),y&&y.c(),u=U(),A&&A.c(),c=U(),F&&F.c(),d=U(),E&&E.c(),m=U(),g=M("div"),q(b.$$.fragment),w=U(),D&&D.c(),I=re(),this.h()},l(k){e=z(k,"DIV",{class:!0});var N=S(e);l=z(N,"DIV",{class:!0});var R=S(l);L(t.$$.fragment,R),R.forEach(h),n=Y(N),o=z(N,"DIV",{class:!0});var j=S(o);$&&$.l(j),j.forEach(h),r=Y(N),s=z(N,"DIV",{class:!0,title:!0});var Q=S(s);a=G(Q,i[16]),Q.forEach(h),f=Y(N),y&&y.l(N),u=Y(N),A&&A.l(N),c=Y(N),F&&F.l(N),d=Y(N),E&&E.l(N),m=Y(N),g=z(N,"DIV",{});var B=S(g);L(b.$$.fragment,B),B.forEach(h),N.forEach(h),w=Y(k),D&&D.l(k),I=re(),this.h()},h(){V(l,"class","w-6"),V(o,"class","w-6"),Ye(o,"margin-left",i[2]*24+"px"),V(s,"class","grow truncate whitespace-nowrap pr-2 text-gray-900"),V(s,"title",i[16]),V(e,"class","flex w-full flex-row items-center border-b border-gray-200 px-4 py-2 hover:bg-gray-100"),de(e,"bg-blue-50",i[18]),de(e,"hover:bg-blue-100",i[18])},m(k,N){C(k,e,N),v(e,l),O(t,l,null),v(e,n),v(e,o),$&&$.m(o,null),v(e,r),v(e,s),v(s,a),v(e,f),y&&y.m(e,null),v(e,u),A&&A.m(e,null),v(e,c),F&&F.m(e,null),v(e,d),E&&E.m(e,null),v(e,m),v(e,g),O(b,g,null),C(k,w,N),D&&D.m(k,N),C(k,I,N),T=!0},p(k,N){var Q;const R={};N[0]&16384&&(R.checked=k[14]),N[0]&1024&&(R.disabled=k[10]),t.$set(R),k[15]?$?($.p(k,N),N[0]&32768&&_($,1)):($=Mn(k),$.c(),_($,1),$.m(o,null)):$&&(ee(),p($,1,1,()=>{$=null}),te()),N[0]&4&&Ye(o,"margin-left",k[2]*24+"px"),(!T||N[0]&65536)&&ue(a,k[16]),(!T||N[0]&65536)&&V(s,"title",k[16]),k[13]?y?(y.p(k,N),N[0]&8192&&_(y,1)):(y=zn(k),y.c(),_(y,1),y.m(e,u)):y&&(ee(),p(y,1,1,()=>{y=null}),te()),k[11]?A?(A.p(k,N),N[0]&2048&&_(A,1)):(A=Fn(k),A.c(),_(A,1),A.m(e,c)):A&&(ee(),p(A,1,1,()=>{A=null}),te()),k[17]?F?(F.p(k,N),N[0]&131072&&_(F,1)):(F=Bn(k),F.c(),_(F,1),F.m(e,d)):F&&(ee(),p(F,1,1,()=>{F=null}),te()),(Q=k[1])!=null&&Q.dtype?E?E.p(k,N):(E=Pn(k),E.c(),E.m(e,m)):E&&(E.d(1),E=null);const j={};N[0]&2&&(j.field=k[1]),N[0]&1&&(j.schema=k[0]),b.$set(j),(!T||N[0]&262144)&&de(e,"bg-blue-50",k[18]),(!T||N[0]&262144)&&de(e,"hover:bg-blue-100",k[18]),k[8]?D?(D.p(k,N),N[0]&256&&_(D,1)):(D=Rn(k),D.c(),_(D,1),D.m(I.parentNode,I)):D&&(ee(),p(D,1,1,()=>{D=null}),te())},i(k){T||(_(t.$$.fragment,k),_($),_(y),_(A),_(F),_(b.$$.fragment,k),_(D),T=!0)},o(k){p(t.$$.fragment,k),p($),p(y),p(A),p(F),p(b.$$.fragment,k),p(D),T=!1},d(k){k&&h(e),H(t),$&&$.d(),y&&y.d(),A&&A.d(),F&&F.d(),E&&E.d(),H(b),k&&h(w),D&&D.d(k),k&&h(I)}}}function io(i){let e,l;return e=new tl({props:{field:i[1].repeated_field,indent:i[2],schema:i[0]}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n[0]&2&&(o.field=t[1].repeated_field),n[0]&4&&(o.indent=t[2]),n[0]&1&&(o.schema=t[0]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Mn(i){let e,l,t,n,o;return l=new Ui({props:{class:"w-3"}}),{c(){e=M("button"),q(l.$$.fragment),this.h()},l(r){e=z(r,"BUTTON",{class:!0});var s=S(e);L(l.$$.fragment,s),s.forEach(h),this.h()},h(){V(e,"class","p-2 transition hover:opacity-60"),de(e,"rotate-180",!i[8])},m(r,s){C(r,e,s),O(l,e,null),t=!0,n||(o=Ve(e,"click",i[24]),n=!0)},p(r,s){(!t||s[0]&256)&&de(e,"rotate-180",!r[8])},i(r){t||(_(l.$$.fragment,r),t=!0)},o(r){p(l.$$.fragment,r),t=!1},d(r){r&&h(e),H(l),n=!1,o()}}}function zn(i){let e,l;return e=new Ft({props:{interactive:!0,type:"green",$$slots:{default:[oo]},$$scope:{ctx:i}}}),e.$on("click",i[25]),e.$on("remove",i[26]),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n[0]&4096|n[1]&8&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function so(i){let e,l;return e=new Xt({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function ao(i){let e,l;return e=new Kt({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function oo(i){let e,l,t,n,o;const r=[ao,so],s=[];function a(f,u){return f[12]=="ASC"?0:1}return l=a(i),t=s[l]=r[l](i),{c(){e=J(`Sorted
        `),t.c(),n=re()},l(f){e=G(f,`Sorted
        `),t.l(f),n=re()},m(f,u){C(f,e,u),s[l].m(f,u),C(f,n,u),o=!0},p(f,u){let c=l;l=a(f),l!==c&&(ee(),p(s[c],1,1,()=>{s[c]=null}),te(),t=s[l],t||(t=s[l]=r[l](f),t.c()),_(t,1),t.m(n.parentNode,n))},i(f){o||(_(t),o=!0)},o(f){p(t),o=!1},d(f){f&&h(e),s[l].d(f),f&&h(n)}}}function Fn(i){let e,l,t=i[4],n=[];for(let r=0;r<t.length;r+=1)n[r]=An(Tn(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=re()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s[0]&16){t=r[4];let a;for(a=0;a<t.length;a+=1){const f=Tn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=An(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){ze(n,r),r&&h(e)}}}function An(i){let e,l,t,n;return l=new xt({props:{filter:i[31],hidePath:!0}}),{c(){e=M("div"),q(l.$$.fragment),t=U(),this.h()},l(o){e=z(o,"DIV",{class:!0});var r=S(e);L(l.$$.fragment,r),t=Y(r),r.forEach(h),this.h()},h(){V(e,"class","mx-1")},m(o,r){C(o,e,r),O(l,e,null),v(e,t),n=!0},p(o,r){const s={};r[0]&16&&(s.filter=o[31]),l.$set(s)},i(o){n||(_(l.$$.fragment,o),n=!0)},o(o){p(l.$$.fragment,o),n=!1},d(o){o&&h(e),H(l)}}}function Bn(i){let e,l;return e=new el({props:{isPreview:i[9]}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n[0]&512&&(o.isPreview=t[9]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Pn(i){let e,l=i[1].dtype+"",t,n=i[6]?"[]":"",o;return{c(){e=M("div"),t=J(l),o=J(n),this.h()},l(r){e=z(r,"DIV",{class:!0});var s=S(e);t=G(s,l),o=G(s,n),s.forEach(h),this.h()},h(){V(e,"class","w-24 px-2 text-right")},m(r,s){C(r,e,s),v(e,t),v(e,o)},p(r,s){s[0]&2&&l!==(l=r[1].dtype+"")&&ue(t,l),s[0]&64&&n!==(n=r[6]?"[]":"")&&ue(o,n)},d(r){r&&h(e)}}}function Rn(i){let e,l,t,n=i[5].length&&qn(i);return{c(){e=M("div"),n&&n.c()},l(o){e=z(o,"DIV",{});var r=S(e);n&&n.l(r),r.forEach(h)},m(o,r){C(o,e,r),n&&n.m(e,null),t=!0},p(o,r){o[5].length?n?(n.p(o,r),r[0]&32&&_(n,1)):(n=qn(o),n.c(),_(n,1),n.m(e,null)):n&&(ee(),p(n,1,1,()=>{n=null}),te())},i(o){t||(_(n),o&&kt(()=>{t&&(l||(l=ot(e,ut,{},!0)),l.run(1))}),t=!0)},o(o){p(n),o&&(l||(l=ot(e,ut,{},!1)),l.run(0)),t=!1},d(o){o&&h(e),n&&n.d(),o&&l&&l.end()}}}function qn(i){let e,l,t=i[5],n=[];for(let r=0;r<t.length;r+=1)n[r]=On(Nn(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=re()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s[0]&37){t=r[5];let a;for(a=0;a<t.length;a+=1){const f=Nn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=On(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){ze(n,r),r&&h(e)}}}function On(i){let e,l;return e=new tl({props:{schema:i[0],field:i[28],indent:i[2]+1}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&32&&(o.field=t[28]),n[0]&4&&(o.indent=t[2]+1),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function fo(i){let e,l,t,n;const o=[io,ro],r=[];function s(a,f){return a[1].repeated_field?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=re()},l(a){l.l(a),t=re()},m(a,f){r[e].m(a,f),C(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(ee(),p(r[u],1,1,()=>{r[u]=null}),te(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t))},i(a){n||(_(l),n=!0)},o(a){p(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function uo(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g,b,w,I,T,$,{schema:y}=e,{field:A}=e,{indent:F=0}=e;const E=Re();me(i,E,B=>l(7,$=B));const D=We();me(i,D,B=>l(22,T=B));let P=!0;function k(B){return B!=null&&B.fields?Object.values(B.fields).filter(W=>W.path.at(-1)!==cr):[]}const N=()=>{c?E.removeSelectedColumn(t):E.addSelectedColumn(t)},R=()=>l(8,P=!P),j=()=>m==="ASC"?at(E,$.query.sort_order="DESC",$):at(E,$.query.sort_order="ASC",$),Q=()=>E.removeSortBy(t);return i.$$set=B=>{"schema"in B&&l(0,y=B.schema),"field"in B&&l(1,A=B.field),"indent"in B&&l(2,F=B.indent)},i.$$.update=()=>{var B,W,Z,x;i.$$.dirty[0]&2&&l(3,t=A.path),i.$$.dirty[0]&3&&l(21,n=Or(y,A.path.slice(0,-1))),i.$$.dirty[0]&3&&l(18,o=lt(A,y)),i.$$.dirty[0]&2&&l(6,s=A.path.at(-1)===It),i.$$.dirty[0]&2097218&&l(17,r=s&&n?tt(n):tt(A)),i.$$.dirty[0]&66&&l(16,a=s?A.path.at(-2):A.path.at(-1)),i.$$.dirty[0]&2&&l(5,f=k(A)),i.$$.dirty[0]&32&&l(15,u=f.length>0),i.$$.dirty[0]&4194312&&l(14,c=(B=T.visibleFields)==null?void 0:B.some(fe=>qe(fe.path,t))),i.$$.dirty[0]&136&&l(13,d=(W=$.query.sort_by)==null?void 0:W.some(fe=>qe(fe,t))),i.$$.dirty[0]&128&&l(12,m=$.query.sort_order),i.$$.dirty[0]&136&&l(4,g=((Z=$.query.filters)==null?void 0:Z.filter(fe=>qe(fe.path,t)))||[]),i.$$.dirty[0]&16&&l(11,b=g.length>0),i.$$.dirty[0]&2&&l(10,w=!A.dtype||A.dtype==="embedding"),i.$$.dirty[0]&4194312&&l(9,I=Tt(((x=T.selectRowsSchema)==null?void 0:x.data)||null,t))},[y,A,F,t,g,f,s,$,P,I,w,b,m,d,c,u,a,r,o,E,D,n,T,N,R,j,Q]}class tl extends be{constructor(e){super(),ve(this,e,uo,fo,_e,{schema:0,field:1,indent:2},null,[-1,-1])}}function Hn(i,e,l){const t=i.slice();return t[3]=e[l],t}function Ln(i,e,l){const t=i.slice();return t[3]=e[l],t}function co(i){let e,l,t,n,o,r;return e=new Bt({props:{label:"Schema",class:"w-1/3"}}),t=new Bt({props:{label:"Tree View",class:"w-1/3"}}),o=new Bt({props:{label:"Raw Query",class:"w-1/3"}}),{c(){q(e.$$.fragment),l=U(),q(t.$$.fragment),n=U(),q(o.$$.fragment)},l(s){L(e.$$.fragment,s),l=Y(s),L(t.$$.fragment,s),n=Y(s),L(o.$$.fragment,s)},m(s,a){O(e,s,a),C(s,l,a),O(t,s,a),C(s,n,a),O(o,s,a),r=!0},p:X,i(s){r||(_(e.$$.fragment,s),_(t.$$.fragment,s),_(o.$$.fragment,s),r=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),p(o.$$.fragment,s),r=!1},d(s){H(e,s),s&&h(l),H(t,s),s&&h(n),H(o,s)}}}function ho(i){let e=[],l=new Map,t,n,o=Object.keys(i[0].data.schema.fields);const r=s=>s[3];for(let s=0;s<o.length;s+=1){let a=Ln(i,o,s),f=r(a);l.set(f,e[s]=jn(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=re()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=re()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);C(s,t,a),n=!0},p(s,a){a&1&&(o=Object.keys(s[0].data.schema.fields),ee(),e=vt(e,a,r,1,s,o,l,t.parentNode,wt,jn,t,Ln),te())},i(s){if(!n){for(let a=0;a<o.length;a+=1)_(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)p(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&h(t)}}}function mo(i){let e,l;return e=new He({props:{paragraph:!0,lines:3}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function jn(i,e){let l,t,n;return t=new kr({props:{schema:e[0].data.schema,field:e[0].data.schema.fields[e[3]]}}),{key:i,first:null,c(){l=re(),q(t.$$.fragment),this.h()},l(o){l=re(),L(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){C(o,l,r),O(t,o,r),n=!0},p(o,r){e=o;const s={};r&1&&(s.schema=e[0].data.schema),r&1&&(s.field=e[0].data.schema.fields[e[3]]),t.$set(s)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){p(t.$$.fragment,o),n=!1},d(o){o&&h(l),H(t,o)}}}function _o(i){let e,l,t,n;const o=[mo,ho],r=[];function s(a,f){var u,c;return(u=a[0])!=null&&u.isLoading?0:(c=a[0])!=null&&c.isSuccess&&a[0].data.schema.fields!=null?1:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=re()},l(a){l&&l.l(a),t=re()},m(a,f){~e&&r[e].m(a,f),C(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?~e&&r[e].p(a,f):(l&&(ee(),p(r[u],1,1,()=>{r[u]=null}),te()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(_(l),n=!0)},o(a){p(l),n=!1},d(a){~e&&r[e].d(a),a&&h(t)}}}function go(i){let e=[],l=new Map,t,n,o=Object.keys(i[0].data.schema.fields);const r=s=>s[3];for(let s=0;s<o.length;s+=1){let a=Hn(i,o,s),f=r(a);l.set(f,e[s]=Un(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=re()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=re()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);C(s,t,a),n=!0},p(s,a){a&1&&(o=Object.keys(s[0].data.schema.fields),ee(),e=vt(e,a,r,1,s,o,l,t.parentNode,wt,Un,t,Hn),te())},i(s){if(!n){for(let a=0;a<o.length;a+=1)_(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)p(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&h(t)}}}function po(i){let e,l;return e=new He({props:{paragraph:!0,lines:3}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Un(i,e){let l,t,n;return t=new tl({props:{schema:e[0].data.schema,field:e[0].data.schema.fields[e[3]]}}),{key:i,first:null,c(){l=re(),q(t.$$.fragment),this.h()},l(o){l=re(),L(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){C(o,l,r),O(t,o,r),n=!0},p(o,r){e=o;const s={};r&1&&(s.schema=e[0].data.schema),r&1&&(s.field=e[0].data.schema.fields[e[3]]),t.$set(s)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){p(t.$$.fragment,o),n=!1},d(o){o&&h(l),H(t,o)}}}function bo(i){let e,l,t,n;const o=[po,go],r=[];function s(a,f){var u,c;return(u=a[0])!=null&&u.isLoading?0:(c=a[0])!=null&&c.isSuccess&&a[0].data.schema.fields!=null?1:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=re()},l(a){l&&l.l(a),t=re()},m(a,f){~e&&r[e].m(a,f),C(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?~e&&r[e].p(a,f):(l&&(ee(),p(r[u],1,1,()=>{r[u]=null}),te()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(_(l),n=!0)},o(a){p(l),n=!1},d(a){~e&&r[e].d(a),a&&h(t)}}}function vo(i){let e,l;return e=new za({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function wo(i){let e,l,t,n,o,r,s;return l=new Pt({props:{$$slots:{default:[_o]},$$scope:{ctx:i}}}),n=new Pt({props:{$$slots:{default:[bo]},$$scope:{ctx:i}}}),r=new Pt({props:{$$slots:{default:[vo]},$$scope:{ctx:i}}}),{c(){e=M("div"),q(l.$$.fragment),t=U(),q(n.$$.fragment),o=U(),q(r.$$.fragment),this.h()},l(a){e=z(a,"DIV",{class:!0,slot:!0});var f=S(e);L(l.$$.fragment,f),t=Y(f),L(n.$$.fragment,f),o=Y(f),L(r.$$.fragment,f),f.forEach(h),this.h()},h(){V(e,"class","h-full overflow-y-auto"),V(e,"slot","content")},m(a,f){C(a,e,f),O(l,e,null),v(e,t),O(n,e,null),v(e,o),O(r,e,null),s=!0},p(a,f){const u={};f&257&&(u.$$scope={dirty:f,ctx:a}),l.$set(u);const c={};f&257&&(c.$$scope={dirty:f,ctx:a}),n.$set(c);const d={};f&256&&(d.$$scope={dirty:f,ctx:a}),r.$set(d)},i(a){s||(_(l.$$.fragment,a),_(n.$$.fragment,a),_(r.$$.fragment,a),s=!0)},o(a){p(l.$$.fragment,a),p(n.$$.fragment,a),p(r.$$.fragment,a),s=!1},d(a){a&&h(e),H(l),H(n),H(r)}}}function ko(i){let e,l,t;return l=new Ti({props:{class:"overflow-hidden border-b border-gray-200",$$slots:{content:[wo],default:[co]},$$scope:{ctx:i}}}),{c(){e=M("div"),q(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{class:!0});var o=S(e);L(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"class","flex h-full flex-col pt-4")},m(n,o){C(n,e,o),O(l,e,null),t=!0},p(n,[o]){const r={};o&257&&(r.$$scope={dirty:o,ctx:n}),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){p(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function $o(i,e,l){let t,n;const o=We();return me(i,o,r=>l(2,n=r)),i.$$.update=()=>{i.$$.dirty&4&&l(0,t=n.selectRowsSchema)},[t,o,n]}class So extends be{constructor(e){super(),ve(this,e,$o,ko,_e,{})}}function Yn(i,e,l){const t=i.slice();return t[5]=e[l],t}function yo(i){let e,l="{}",t;return{c(){e=M("span"),t=J(l),this.h()},l(n){e=z(n,"SPAN",{class:!0});var o=S(e);t=G(o,l),o.forEach(h),this.h()},h(){V(e,"class","font-mono")},m(n,o){C(n,e,o),v(e,t)},p:X,i:X,o:X,d(n){n&&h(e)}}}function Eo(i){let e,l,t;var n=ct[i[5].dtype];function o(r){return{props:{title:r[5].dtype}}}return n&&(e=ft(n,o(i))),{c(){e&&q(e.$$.fragment),l=re()},l(r){e&&L(e.$$.fragment,r),l=re()},m(r,s){e&&O(e,r,s),C(r,l,s),t=!0},p(r,s){const a={};if(s&2&&(a.title=r[5].dtype),s&2&&n!==(n=ct[r[5].dtype])){if(e){ee();const f=e;p(f.$$.fragment,1,0,()=>{H(f,1)}),te()}n?(e=ft(n,o(r)),q(e.$$.fragment),_(e.$$.fragment,1),O(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&_(e.$$.fragment,r),t=!0)},o(r){e&&p(e.$$.fragment,r),t=!1},d(r){r&&h(l),e&&H(e,r)}}}function Qn(i){let e;return{c(){e=J("[]")},l(l){e=G(l,"[]")},m(l,t){C(l,e,t)},d(l){l&&h(e)}}}function Wn(i){let e,l,t,n,o,r,s,a,f,u=i[5].path.indexOf(It)>=0,c,d,m=ye(i[5].path)+"",g,b,w;function I(...E){return i[3](i[5],...E)}function T(...E){return i[4](i[5],...E)}t=new Wt({props:{labelText:"Download",hideLabel:!0,checked:i[0].find(I)!=null}}),t.$on("change",T);const $=[Eo,yo],y=[];function A(E,D){return E[5].dtype?0:1}s=A(i),a=y[s]=$[s](i);let F=u&&Qn();return{c(){e=M("div"),l=M("div"),q(t.$$.fragment),n=U(),o=M("div"),r=M("div"),a.c(),f=U(),F&&F.c(),c=U(),d=M("div"),g=J(m),b=U(),this.h()},l(E){e=z(E,"DIV",{class:!0});var D=S(e);l=z(D,"DIV",{class:!0});var P=S(l);L(t.$$.fragment,P),P.forEach(h),n=Y(D),o=z(D,"DIV",{class:!0});var k=S(o);r=z(k,"DIV",{class:!0});var N=S(r);a.l(N),f=Y(N),F&&F.l(N),N.forEach(h),k.forEach(h),c=Y(D),d=z(D,"DIV",{class:!0});var R=S(d);g=G(R,m),R.forEach(h),b=Y(D),D.forEach(h),this.h()},h(){V(l,"class","mr-2"),V(r,"class","inline-flex items-center rounded-md bg-blue-200 p-0.5"),V(o,"class","flex w-10"),V(d,"class","flex-grow"),V(e,"class","flex items-center")},m(E,D){C(E,e,D),v(e,l),O(t,l,null),v(e,n),v(e,o),v(o,r),y[s].m(r,null),v(r,f),F&&F.m(r,null),v(e,c),v(e,d),v(d,g),v(e,b),w=!0},p(E,D){i=E;const P={};D&3&&(P.checked=i[0].find(I)!=null),t.$set(P);let k=s;s=A(i),s===k?y[s].p(i,D):(ee(),p(y[k],1,1,()=>{y[k]=null}),te(),a=y[s],a?a.p(i,D):(a=y[s]=$[s](i),a.c()),_(a,1),a.m(r,f)),D&2&&(u=i[5].path.indexOf(It)>=0),u?F||(F=Qn(),F.c(),F.m(r,null)):F&&(F.d(1),F=null),(!w||D&2)&&m!==(m=ye(i[5].path)+"")&&ue(g,m)},i(E){w||(_(t.$$.fragment,E),_(a),w=!0)},o(E){p(t.$$.fragment,E),p(a),w=!1},d(E){E&&h(e),H(t),y[s].d(),F&&F.d()}}}function Do(i){let e,l,t=i[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=Wn(Yn(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=re()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,[s]){if(s&7){t=r[1];let a;for(a=0;a<t.length;a+=1){const f=Yn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Wn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){ze(n,r),r&&h(e)}}}function Io(i,e,l){let{fields:t}=e,{checkedFields:n}=e;function o(a,f){f.target.checked?(n.push(a),l(0,n)):l(0,n=n.filter(c=>c!==a))}const r=(a,f)=>qe(f.path,a.path),s=(a,f)=>o(a,f);return i.$$set=a=>{"fields"in a&&l(1,t=a.fields),"checkedFields"in a&&l(0,n=a.checkedFields)},[n,t,o,r,s]}class At extends be{constructor(e){super(),ve(this,e,Io,Do,_e,{fields:1,checkedFields:0})}}function Zn(i,e,l){const t=i.slice();return t[21]=e[l],t}function Vo(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,b,w,I,T,$,y,A,F,E,D,P,k=i[1]!=null&&Jn(i);const N=[To,No],R=[];function j(B,W){return B[6].isFetching?0:1}T=j(i),$=R[T]=N[T](i);let Q=i[1]!=null&&i[2]!=null&&Kn(i);return{c(){e=M("div"),l=M("section"),t=M("div"),n=J("Media fields"),o=U(),r=M("div"),s=J("These fields will be presented differently from the rest of the metadata fields."),a=U(),k&&k.c(),f=U(),u=M("section"),c=M("div"),d=J("Preferred embedding"),m=U(),g=M("div"),b=J("This embedding will be used by default when indexing and querying the data."),w=U(),I=M("div"),$.c(),y=U(),A=M("section"),F=M("div"),E=J("Render as markdown"),D=U(),Q&&Q.c(),this.h()},l(B){e=z(B,"DIV",{class:!0});var W=S(e);l=z(W,"SECTION",{class:!0});var Z=S(l);t=z(Z,"DIV",{class:!0});var x=S(t);n=G(x,"Media fields"),x.forEach(h),o=Y(Z),r=z(Z,"DIV",{class:!0});var fe=S(r);s=G(fe,"These fields will be presented differently from the rest of the metadata fields."),fe.forEach(h),a=Y(Z),k&&k.l(Z),Z.forEach(h),f=Y(W),u=z(W,"SECTION",{class:!0});var le=S(u);c=z(le,"DIV",{class:!0});var ne=S(c);d=G(ne,"Preferred embedding"),ne.forEach(h),m=Y(le),g=z(le,"DIV",{class:!0});var Ee=S(g);b=G(Ee,"This embedding will be used by default when indexing and querying the data."),Ee.forEach(h),w=Y(le),I=z(le,"DIV",{class:!0});var we=S(I);$.l(we),we.forEach(h),le.forEach(h),y=Y(W),A=z(W,"SECTION",{class:!0});var $e=S(A);F=z($e,"DIV",{class:!0});var oe=S(F);E=G(oe,"Render as markdown"),oe.forEach(h),D=Y($e),Q&&Q.l($e),$e.forEach(h),W.forEach(h),this.h()},h(){V(t,"class","text-lg text-gray-700"),V(r,"class","text-sm text-gray-500"),V(l,"class","flex flex-col gap-y-1"),V(c,"class","text-lg text-gray-700"),V(g,"class","text-sm text-gray-500"),V(I,"class","w-60"),V(u,"class","flex flex-col gap-y-1"),V(F,"class","text-lg text-gray-700"),V(A,"class","flex flex-col gap-y-1"),V(e,"class","flex flex-col gap-y-6")},m(B,W){C(B,e,W),v(e,l),v(l,t),v(t,n),v(l,o),v(l,r),v(r,s),v(l,a),k&&k.m(l,null),v(e,f),v(e,u),v(u,c),v(c,d),v(u,m),v(u,g),v(g,b),v(u,w),v(u,I),R[T].m(I,null),v(e,y),v(e,A),v(A,F),v(F,E),v(A,D),Q&&Q.m(A,null),P=!0},p(B,W){B[1]!=null?k?(k.p(B,W),W&2&&_(k,1)):(k=Jn(B),k.c(),_(k,1),k.m(l,null)):k&&(ee(),p(k,1,1,()=>{k=null}),te());let Z=T;T=j(B),T===Z?R[T].p(B,W):(ee(),p(R[Z],1,1,()=>{R[Z]=null}),te(),$=R[T],$?$.p(B,W):($=R[T]=N[T](B),$.c()),_($,1),$.m(I,null)),B[1]!=null&&B[2]!=null?Q?(Q.p(B,W),W&6&&_(Q,1)):(Q=Kn(B),Q.c(),_(Q,1),Q.m(A,null)):Q&&(ee(),p(Q,1,1,()=>{Q=null}),te())},i(B){P||(_(k),_($),_(Q),P=!0)},o(B){p(k),p($),p(Q),P=!1},d(B){B&&h(e),k&&k.d(),R[T].d(),Q&&Q.d()}}}function Co(i){let e,l;return e=new He({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Jn(i){let e,l,t;function n(r){i[15](r)}let o={fields:i[3]};return i[1]!==void 0&&(o.checkedFields=i[1]),e=new At({props:o}),Pe.push(()=>Ge(e,"checkedFields",n)),{c(){q(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,s){O(e,r,s),t=!0},p(r,s){const a={};s&8&&(a.fields=r[3]),!l&&s&2&&(l=!0,a.checkedFields=r[1],Ke(()=>l=!1)),e.$set(a)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){p(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function No(i){var t;let e,l;return e=new Mt({props:{selected:(t=i[4].data)==null?void 0:t.preferred_embedding,$$slots:{default:[Mo]},$$scope:{ctx:i}}}),e.$on("change",i[11]),{c(){q(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){O(e,n,o),l=!0},p(n,o){var s;const r={};o&16&&(r.selected=(s=n[4].data)==null?void 0:s.preferred_embedding),o&16777280&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),l=!1},d(n){H(e,n)}}}function To(i){let e,l;return e=new yi({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Gn(i){let e,l;return e=new $t({props:{value:i[21].name}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n&64&&(o.value=t[21].name),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Mo(i){let e,l,t,n;e=new $t({props:{value:void 0,text:"None"}});let o=i[6].data||[],r=[];for(let a=0;a<o.length;a+=1)r[a]=Gn(Zn(i,o,a));const s=a=>p(r[a],1,1,()=>{r[a]=null});return{c(){q(e.$$.fragment),l=U();for(let a=0;a<r.length;a+=1)r[a].c();t=re()},l(a){L(e.$$.fragment,a),l=Y(a);for(let f=0;f<r.length;f+=1)r[f].l(a);t=re()},m(a,f){O(e,a,f),C(a,l,f);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,f);C(a,t,f),n=!0},p(a,f){if(f&64){o=a[6].data||[];let u;for(u=0;u<o.length;u+=1){const c=Zn(a,o,u);r[u]?(r[u].p(c,f),_(r[u],1)):(r[u]=Gn(c),r[u].c(),_(r[u],1),r[u].m(t.parentNode,t))}for(ee(),u=o.length;u<r.length;u+=1)s(u);te()}},i(a){if(!n){_(e.$$.fragment,a);for(let f=0;f<o.length;f+=1)_(r[f]);n=!0}},o(a){p(e.$$.fragment,a),r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)p(r[f]);n=!1},d(a){H(e,a),a&&h(l),ze(r,a),a&&h(t)}}}function Kn(i){let e,l,t;function n(r){i[16](r)}let o={fields:i[1]};return i[2]!==void 0&&(o.checkedFields=i[2]),e=new At({props:o}),Pe.push(()=>Ge(e,"checkedFields",n)),{c(){q(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,s){O(e,r,s),t=!0},p(r,s){const a={};s&2&&(a.fields=r[1]),!l&&s&4&&(l=!0,a.checkedFields=r[2],Ke(()=>l=!1)),e.$set(a)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){p(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function zo(i){let e,l,t,n;const o=[Co,Vo],r=[];function s(a,f){return a[4].isFetching?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=re()},l(a){l.l(a),t=re()},m(a,f){r[e].m(a,f),C(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(ee(),p(r[u],1,1,()=>{r[u]=null}),te(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t))},i(a){n||(_(l),n=!0)},o(a){p(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function Fo(i){let e,l,t,n,o,r;return e=new mr({props:{label:"Changes",title:"Dataset settings"}}),t=new _r({props:{hasForm:!0,$$slots:{default:[zo]},$$scope:{ctx:i}}}),o=new gr({props:{primaryButtonText:"Save"}}),{c(){q(e.$$.fragment),l=U(),q(t.$$.fragment),n=U(),q(o.$$.fragment)},l(s){L(e.$$.fragment,s),l=Y(s),L(t.$$.fragment,s),n=Y(s),L(o.$$.fragment,s)},m(s,a){O(e,s,a),C(s,l,a),O(t,s,a),C(s,n,a),O(o,s,a),r=!0},p(s,a){const f={};a&16777310&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){r||(_(e.$$.fragment,s),_(t.$$.fragment,s),_(o.$$.fragment,s),r=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),p(o.$$.fragment,s),r=!1},d(s){H(e,s),s&&h(l),H(t,s),s&&h(n),H(o,s)}}}function Ao(i){let e,l;return e=new hr({props:{open:i[0],$$slots:{default:[Fo]},$$scope:{ctx:i}}}),e.$on("submit",i[12]),e.$on("close",i[17]),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&16777310&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Bo(i,e,l){let t,n,o,r,s,a=X,f=()=>(a(),a=Be(t,k=>l(4,s=k)),t),u,c;i.$$.on_destroy.push(()=>a());let{open:d=!1}=e,{schema:m}=e;const g=Re();me(i,g,k=>l(14,o=k));const b=br();me(i,b,k=>l(20,u=k));const w=Gt();me(i,w,k=>l(6,c=k));const I=Hr();me(i,I,k=>l(19,r=k));let T=null,$=null,y=u.embedding;function A(k){y=k.target.value,y===""&&(y=void 0)}function F(){if(T==null)return;const k={ui:{media_paths:T.map(N=>N.path),markdown_paths:$==null?void 0:$.map(N=>N.path)},preferred_embedding:y};r.mutate([o.namespace,o.datasetName,k],{onSuccess:()=>{l(0,d=!1)}})}function E(k){T=k,l(1,T),l(4,s),l(3,n),l(13,m)}function D(k){$=k,l(2,$),l(4,s),l(3,n),l(13,m)}const P=()=>l(0,d=!1);return i.$$set=k=>{"open"in k&&l(0,d=k.open),"schema"in k&&l(13,m=k.schema)},i.$$.update=()=>{var k,N,R,j;if(i.$$.dirty&16384&&f(l(5,t=Nt(o.namespace,o.datasetName))),i.$$.dirty&8192&&l(3,n=jt(m).filter(Q=>Q.dtype==="string"&&!qe(Q.path,[Ut])&&!lt(Q,m))),i.$$.dirty&26&&T==null){const Q=(N=(k=s.data)==null?void 0:k.ui)==null?void 0:N.media_paths;Q!=null&&l(1,T=n.filter(B=>Q.some(W=>qe(B.path,W))))}if(i.$$.dirty&28&&$==null){const Q=(j=(R=s.data)==null?void 0:R.ui)==null?void 0:j.markdown_paths;Q!=null&&l(2,$=n.filter(B=>Q.some(W=>qe(B.path,W))))}},[d,T,$,n,s,t,c,g,b,w,I,A,F,m,o,E,D,P]}class Po extends be{constructor(e){super(),ve(this,e,Bo,Ao,_e,{open:0,schema:13})}}function Ro(i){let e,l,t;function n(r){i[13](r)}let o={fields:i[6]};return i[1]!==void 0&&(o.checkedFields=i[1]),e=new At({props:o}),Pe.push(()=>Ge(e,"checkedFields",n)),{c(){q(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,s){O(e,r,s),t=!0},p(r,s){const a={};s&64&&(a.fields=r[6]),!l&&s&2&&(l=!0,a.checkedFields=r[1],Ke(()=>l=!1)),e.$set(a)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){p(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function qo(i){let e,l;return e=new He({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Xn(i){let e,l,t,n,o,r,s;const a=[Ho,Oo],f=[];function u(c,d){return c[5]==null?0:1}return o=u(i),r=f[o]=a[o](i),{c(){e=M("section"),l=M("h4"),t=J("Select enriched fields"),n=U(),r.c(),this.h()},l(c){e=z(c,"SECTION",{});var d=S(e);l=z(d,"H4",{class:!0});var m=S(l);t=G(m,"Select enriched fields"),m.forEach(h),n=Y(d),r.l(d),d.forEach(h),this.h()},h(){V(l,"class","svelte-1ge817j")},m(c,d){C(c,e,d),v(e,l),v(l,t),v(e,n),f[o].m(e,null),s=!0},p(c,d){let m=o;o=u(c),o===m?f[o].p(c,d):(ee(),p(f[m],1,1,()=>{f[m]=null}),te(),r=f[o],r?r.p(c,d):(r=f[o]=a[o](c),r.c()),_(r,1),r.m(e,null))},i(c){s||(_(r),s=!0)},o(c){p(r),s=!1},d(c){c&&h(e),f[o].d()}}}function Oo(i){let e,l,t;function n(r){i[14](r)}let o={fields:i[5]};return i[2]!==void 0&&(o.checkedFields=i[2]),e=new At({props:o}),Pe.push(()=>Ge(e,"checkedFields",n)),{c(){q(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,s){O(e,r,s),t=!0},p(r,s){const a={};s&32&&(a.fields=r[5]),!l&&s&4&&(l=!0,a.checkedFields=r[2],Ke(()=>l=!1)),e.$set(a)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){p(e.$$.fragment,r),t=!1},d(r){H(e,r)}}}function Ho(i){let e,l;return e=new He({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function xn(i){let e,l;return{c(){e=M("p"),l=J("No fields selected. Please select at least one field to download."),this.h()},l(t){e=z(t,"P",{class:!0});var n=S(e);l=G(n,"No fields selected. Please select at least one field to download."),n.forEach(h),this.h()},h(){V(e,"class","text-gray-600")},m(t,n){C(t,e,n),v(e,l)},d(t){t&&h(e)}}}function Lo(i){let e,l;return e=new ci({props:{value:JSON.stringify(i[7].data,null,2),readonly:!0,rows:30,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n&128&&(o.value=JSON.stringify(t[7].data,null,2)),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function jo(i){let e,l;return e=new He({props:{paragraph:!0}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Uo(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,b,w,I;const T=[qo,Ro],$=[];function y(k,N){return k[6]==null?0:1}o=y(i),r=$[o]=T[o](i);let A=(i[5]==null||i[5].length>0)&&Xn(i),F=i[3].length===0&&xn();const E=[jo,Lo],D=[];function P(k,N){return k[7]&&k[7].isFetching?0:k[4]&&k[7]?1:-1}return~(b=P(i))&&(w=D[b]=E[b](i)),{c(){e=M("section"),l=M("h4"),t=J("Select source fields"),n=U(),r.c(),s=U(),A&&A.c(),a=U(),f=M("section"),u=M("h4"),c=J("Download preview"),d=U(),F&&F.c(),m=U(),g=M("div"),w&&w.c(),this.h()},l(k){e=z(k,"SECTION",{});var N=S(e);l=z(N,"H4",{class:!0});var R=S(l);t=G(R,"Select source fields"),R.forEach(h),n=Y(N),r.l(N),N.forEach(h),s=Y(k),A&&A.l(k),a=Y(k),f=z(k,"SECTION",{});var j=S(f);u=z(j,"H4",{class:!0});var Q=S(u);c=G(Q,"Download preview"),Q.forEach(h),d=Y(j),F&&F.l(j),m=Y(j),g=z(j,"DIV",{class:!0});var B=S(g);w&&w.l(B),B.forEach(h),j.forEach(h),this.h()},h(){V(l,"class","svelte-1ge817j"),V(u,"class","svelte-1ge817j"),V(g,"class","preview svelte-1ge817j")},m(k,N){C(k,e,N),v(e,l),v(l,t),v(e,n),$[o].m(e,null),C(k,s,N),A&&A.m(k,N),C(k,a,N),C(k,f,N),v(f,u),v(u,c),v(f,d),F&&F.m(f,null),v(f,m),v(f,g),~b&&D[b].m(g,null),I=!0},p(k,N){let R=o;o=y(k),o===R?$[o].p(k,N):(ee(),p($[R],1,1,()=>{$[R]=null}),te(),r=$[o],r?r.p(k,N):(r=$[o]=T[o](k),r.c()),_(r,1),r.m(e,null)),k[5]==null||k[5].length>0?A?(A.p(k,N),N&32&&_(A,1)):(A=Xn(k),A.c(),_(A,1),A.m(a.parentNode,a)):A&&(ee(),p(A,1,1,()=>{A=null}),te()),k[3].length===0?F||(F=xn(),F.c(),F.m(f,m)):F&&(F.d(1),F=null);let j=b;b=P(k),b===j?~b&&D[b].p(k,N):(w&&(ee(),p(D[j],1,1,()=>{D[j]=null}),te()),~b?(w=D[b],w?w.p(k,N):(w=D[b]=E[b](k),w.c()),_(w,1),w.m(g,null)):w=null)},i(k){I||(_(r),_(A),_(w),I=!0)},o(k){p(r),p(A),p(w),I=!1},d(k){k&&h(e),$[o].d(),k&&h(s),A&&A.d(k),k&&h(a),k&&h(f),F&&F.d(),~b&&D[b].d()}}}function Yo(i){let e,l,t,n,o,r;return e=new mr({props:{title:"Download data"}}),t=new _r({props:{hasForm:!0,$$slots:{default:[Uo]},$$scope:{ctx:i}}}),o=new gr({props:{primaryButtonText:"Download",primaryButtonDisabled:i[3].length===0,secondaryButtonText:"Cancel"}}),o.$on("click:button--secondary",i[10]),{c(){q(e.$$.fragment),l=U(),q(t.$$.fragment),n=U(),q(o.$$.fragment)},l(s){L(e.$$.fragment,s),l=Y(s),L(t.$$.fragment,s),n=Y(s),L(o.$$.fragment,s)},m(s,a){O(e,s,a),C(s,l,a),O(t,s,a),C(s,n,a),O(o,s,a),r=!0},p(s,a){const f={};a&262398&&(f.$$scope={dirty:a,ctx:s}),t.$set(f);const u={};a&8&&(u.primaryButtonDisabled=s[3].length===0),o.$set(u)},i(s){r||(_(e.$$.fragment,s),_(t.$$.fragment,s),_(o.$$.fragment,s),r=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),p(o.$$.fragment,s),r=!1},d(s){H(e,s),s&&h(l),H(t,s),s&&h(n),H(o,s)}}}function Qo(i){let e,l;return e=new hr({props:{size:"lg",open:i[0],$$slots:{default:[Yo]},$$scope:{ctx:i}}}),e.$on("submit",i[9]),e.$on("close",i[15]),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&262398&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Wo(i,e,l){let t,n,o,r,s,a,f=X,u=()=>(f(),f=Be(r,E=>l(7,a=E)),r);i.$$.on_destroy.push(()=>f());let{open:c=!1}=e,{schema:d}=e;const m=bt(),g=Re();me(i,g,E=>l(12,s=E));let b=[],w=[];function I(E){if(E==null)return{sourceFields:null,enrichedFields:null};const P=jt(E).filter(N=>["embedding"].indexOf(N.dtype)===-1).filter(N=>!lt(N,E)&&N.path.at(-1)!==Ut),k=et(E).filter(N=>tt(N)).filter(N=>!et(N).some(R=>R.dtype==="embedding"));return{sourceFields:P,enrichedFields:k}}async function T(){const E=s.namespace,D=s.datasetName,P={combine_columns:!1,columns:o.map(R=>R.path)},k=`/api/v1/datasets/${E}/${D}/select_rows_download?url_safe_options=${encodeURIComponent(JSON.stringify(P))}`,N=document.createElement("a");N.download=`${E}_${D}.json`,N.href=k,document.body.appendChild(N),N.click(),N.remove()}function $(){l(0,c=!1),m("close")}function y(E){b=E,l(1,b)}function A(E){w=E,l(2,w)}const F=()=>l(0,c=!1);return i.$$set=E=>{"open"in E&&l(0,c=E.open),"schema"in E&&l(11,d=E.schema)},i.$$.update=()=>{i.$$.dirty&2048&&l(6,{sourceFields:t,enrichedFields:n}=I(d),t,(l(5,n),l(11,d))),i.$$.dirty&6&&l(3,o=[...b,...w]),i.$$.dirty&4104&&u(l(4,r=o.length>0?Lr(s.namespace,s.datasetName,{columns:o.map(E=>E.path),limit:3,combine_columns:!1}):null))},[c,b,w,o,r,n,t,a,g,T,$,d,s,y,A,F]}class Zo extends be{constructor(e){super(),ve(this,e,Wo,Qo,_e,{open:0,schema:11})}}function Jo(i){let e,l;return e=new Gi({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function Go(i){let e,l;return e=new Wi({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function er(i){let e,l,t,n,o,r;function s(c){i[26](c)}let a={schema:i[4].data};i[5]!==void 0&&(a.open=i[5]),e=new Po({props:a}),Pe.push(()=>Ge(e,"open",s));function f(c){i[27](c)}let u={schema:i[4].data};return i[6]!==void 0&&(u.open=i[6]),n=new Zo({props:u}),Pe.push(()=>Ge(n,"open",f)),{c(){q(e.$$.fragment),t=U(),q(n.$$.fragment)},l(c){L(e.$$.fragment,c),t=Y(c),L(n.$$.fragment,c)},m(c,d){O(e,c,d),C(c,t,d),O(n,c,d),r=!0},p(c,d){const m={};d&16&&(m.schema=c[4].data),!l&&d&32&&(l=!0,m.open=c[5],Ke(()=>l=!1)),e.$set(m);const g={};d&16&&(g.schema=c[4].data),!o&&d&64&&(o=!0,g.open=c[6],Ke(()=>o=!1)),n.$set(g)},i(c){r||(_(e.$$.fragment,c),_(n.$$.fragment,c),r=!0)},o(c){p(e.$$.fragment,c),p(n.$$.fragment,c),r=!1},d(c){H(e,c),c&&h(t),H(n,c)}}}function Ko(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,b,w,I,T;t=new So({});const $=[Go,Jo],y=[];function A(E,D){return E[13]?1:0}r=A(i),s=y[r]=$[r](i),m=new _a({});let F=i[4].data&&er(i);return{c(){e=M("div"),l=M("div"),q(t.$$.fragment),n=U(),o=M("div"),s.c(),c=U(),d=M("div"),q(m.$$.fragment),g=U(),F&&F.c(),b=re(),this.h()},l(E){e=z(E,"DIV",{class:!0});var D=S(e);l=z(D,"DIV",{class:!0});var P=S(l);L(t.$$.fragment,P),n=Y(P),o=z(P,"DIV",{class:!0});var k=S(o);s.l(k),k.forEach(h),P.forEach(h),c=Y(D),d=z(D,"DIV",{class:!0});var N=S(d);L(m.$$.fragment,N),N.forEach(h),D.forEach(h),g=Y(E),F&&F.l(E),b=re(),this.h()},h(){V(o,"class",a=St(`absolute right-0 top-1/2 flex
                h-8 w-4 cursor-pointer items-center justify-center
                rounded border
                border-neutral-200 bg-neutral-100
                opacity-60 hover:bg-neutral-200
                hover:opacity-100
                ${i[13]?" translate-x-full":" translate-x-1/2"}`)+" svelte-1nu5kbu"),V(l,"class",u=St(`schema-container relative h-full ${i[13]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1nu5kbu"),V(d,"class","h-full w-2/3 flex-grow"),V(e,"class","flex h-full w-full")},m(E,D){C(E,e,D),v(e,l),O(t,l,null),v(l,n),v(l,o),y[r].m(o,null),v(e,c),v(e,d),O(m,d,null),C(E,g,D),F&&F.m(E,D),C(E,b,D),w=!0,I||(T=[Ce(f=Ne.call(null,o,{text:i[13]?"Show Schema":"Hide Schema"})),Ve(o,"click",i[14]),Ve(o,"keypress",i[14])],I=!0)},p(E,D){let P=r;r=A(E),r!==P&&(ee(),p(y[P],1,1,()=>{y[P]=null}),te(),s=y[r],s||(s=y[r]=$[r](E),s.c()),_(s,1),s.m(o,null)),(!w||D&8192&&a!==(a=St(`absolute right-0 top-1/2 flex
                h-8 w-4 cursor-pointer items-center justify-center
                rounded border
                border-neutral-200 bg-neutral-100
                opacity-60 hover:bg-neutral-200
                hover:opacity-100
                ${E[13]?" translate-x-full":" translate-x-1/2"}`)+" svelte-1nu5kbu"))&&V(o,"class",a),f&&Oe(f.update)&&D&8192&&f.update.call(null,{text:E[13]?"Show Schema":"Hide Schema"}),(!w||D&8192&&u!==(u=St(`schema-container relative h-full ${E[13]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1nu5kbu"))&&V(l,"class",u),E[4].data?F?(F.p(E,D),D&16&&_(F,1)):(F=er(E),F.c(),_(F,1),F.m(b.parentNode,b)):F&&(ee(),p(F,1,1,()=>{F=null}),te())},i(E){w||(_(t.$$.fragment,E),_(s),_(m.$$.fragment,E),_(F),w=!0)},o(E){p(t.$$.fragment,E),p(s),p(m.$$.fragment,E),p(F),w=!1},d(E){E&&h(e),H(t),y[r].d(),H(m),E&&h(g),F&&F.d(E),E&&h(b),I=!1,Qe(T)}}}function Xo(i){let e=i[3].datasetName+"",l;return{c(){l=J(e)},l(t){l=G(t,e)},m(t,n){C(t,l,n)},p(t,n){n&8&&e!==(e=t[3].datasetName+"")&&ue(l,e)},d(t){t&&h(l)}}}function xo(i){let e,l,t,n,o,r,s;return t=new nt({props:{type:"outline",class:"!cursor-pointer",$$slots:{default:[Xo]},$$scope:{ctx:i}}}),t.$on("click",i[25]),{c(){e=M("div"),l=M("div"),q(t.$$.fragment),this.h()},l(a){e=z(a,"DIV",{slot:!0});var f=S(e);l=z(f,"DIV",{});var u=S(l);L(t.$$.fragment,u),u.forEach(h),f.forEach(h),this.h()},h(){V(e,"slot","header-subtext")},m(a,f){C(a,e,f),v(e,l),O(t,l,null),o=!0,r||(s=Ce(n=Ne.call(null,l,{text:`${i[3].namespace}/${i[3].datasetName}`})),r=!0)},p(a,f){const u={};f&536870920&&(u.$$scope={dirty:f,ctx:a}),t.$set(u),n&&Oe(n.update)&&f&8&&n.update.call(null,{text:`${a[3].namespace}/${a[3].datasetName}`})},i(a){o||(_(t.$$.fragment,a),o=!0)},o(a){p(t.$$.fragment,a),o=!1},d(a){a&&h(e),H(t),r=!1,s()}}}function ef(i){let e,l,t;return l=new Ia({}),{c(){e=M("div"),q(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{slot:!0,class:!0});var o=S(e);L(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"slot","header-center"),V(e,"class","flex w-full items-center")},m(n,o){C(n,e,o),O(l,e,null),t=!0},p:X,i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){p(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function tr(i){let e,l,t,n;return{c(){e=M("div"),l=J("Copied!"),this.h()},l(o){e=z(o,"DIV",{class:!0});var r=S(e);l=G(r,"Copied!"),r.forEach(h),this.h()},h(){V(e,"class","absolute right-12 z-50 mt-2 rounded border border-neutral-300 bg-neutral-50 px-4 py-1 text-xs")},m(o,r){C(o,e,r),v(e,l),n=!0},i(o){n||(t&&t.end(1),n=!0)},o(o){t=Vr(e,vi,{}),n=!1},d(o){o&&h(e),o&&t&&t.end()}}}function tf(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,b,w=i[7]&&tr();return r=new Je({props:{size:"field",kind:"ghost",icon:us,iconDescription:"Copy the URL"}}),r.$on("click",i[22]),a=new Je({props:{size:"field",kind:"ghost",icon:xi,iconDescription:"Download data"}}),a.$on("click",i[23]),c=new Je({props:{disabled:!i[8],size:"field",kind:"ghost",icon:Di,iconDescription:"Dataset settings"}}),c.$on("click",i[24]),{c(){e=M("div"),l=M("div"),t=M("div"),n=M("div"),w&&w.c(),o=U(),q(r.$$.fragment),s=U(),q(a.$$.fragment),f=U(),u=M("div"),q(c.$$.fragment),this.h()},l(I){e=z(I,"DIV",{slot:!0});var T=S(e);l=z(T,"DIV",{class:!0});var $=S(l);t=z($,"DIV",{class:!0});var y=S(t);n=z(y,"DIV",{class:!0});var A=S(n);w&&w.l(A),o=Y(A),L(r.$$.fragment,A),A.forEach(h),s=Y(y),L(a.$$.fragment,y),f=Y(y),u=z(y,"DIV",{});var F=S(u);L(c.$$.fragment,F),F.forEach(h),y.forEach(h),$.forEach(h),T.forEach(h),this.h()},h(){V(n,"class","relative"),de(u,"opacity-40",!i[8]),V(t,"class","flex"),V(l,"class","flex h-full flex-col"),V(e,"slot","header-right")},m(I,T){C(I,e,T),v(e,l),v(l,t),v(t,n),w&&w.m(n,null),v(n,o),O(r,n,null),v(t,s),O(a,t,null),v(t,f),v(t,u),O(c,u,null),m=!0,g||(b=Ce(d=Ne.call(null,u,{text:i[8]?"":"User does not have access to update settings of this dataset."})),g=!0)},p(I,T){I[7]?w?T&128&&_(w,1):(w=tr(),w.c(),_(w,1),w.m(n,o)):w&&(ee(),p(w,1,1,()=>{w=null}),te());const $={};T&256&&($.disabled=!I[8]),c.$set($),d&&Oe(d.update)&&T&256&&d.update.call(null,{text:I[8]?"":"User does not have access to update settings of this dataset."}),(!m||T&256)&&de(u,"opacity-40",!I[8])},i(I){m||(_(w),_(r.$$.fragment,I),_(a.$$.fragment,I),_(c.$$.fragment,I),m=!0)},o(I){p(w),p(r.$$.fragment,I),p(a.$$.fragment,I),p(c.$$.fragment,I),m=!1},d(I){I&&h(e),w&&w.d(),H(r),H(a),H(c),g=!1,b()}}}function lf(i){let e,l,t,n;return e=new dr({props:{title:"Datasets",$$slots:{"header-right":[tf],"header-center":[ef],"header-subtext":[xo],default:[Ko]},$$scope:{ctx:i}}}),t=new di({}),{c(){q(e.$$.fragment),l=U(),q(t.$$.fragment)},l(o){L(e.$$.fragment,o),l=Y(o),L(t.$$.fragment,o)},m(o,r){O(e,o,r),C(o,l,r),O(t,o,r),n=!0},p(o,[r]){const s={};r&536879611&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){n||(_(e.$$.fragment,o),_(t.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),p(t.$$.fragment,o),n=!1},d(o){H(e,o),o&&h(l),H(t,o)}}}function nf(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g=X,b=()=>(g(),g=Be(u,ae=>l(19,m=ae)),u),w,I=X,T=()=>(I(),I=Be(f,ae=>l(20,w=ae)),f),$,y=X,A=()=>(y(),y=Be(n,ae=>l(3,$=ae)),n),F,E=X,D=()=>(E(),E=Be(r,ae=>l(4,F=ae)),r),P,k=X,N=()=>(k(),k=Be(a,ae=>l(21,P=ae)),a);i.$$.on_destroy.push(()=>g()),i.$$.on_destroy.push(()=>I()),i.$$.on_destroy.push(()=>y()),i.$$.on_destroy.push(()=>E()),i.$$.on_destroy.push(()=>k());let{namespace:R}=e,{datasetName:j}=e;function Q(){at(n,$.schemaCollapsed=!$.schemaCollapsed,$)}const B=hi(R,j);mi(B);let W=!1,Z=!1;const x=zt();me(i,x,ae=>l(18,d=ae));let fe=!1;const le=()=>navigator.clipboard.writeText(location.href).then(()=>{l(7,fe=!0),setTimeout(()=>l(7,fe=!1),2e3)},()=>{throw Error("Error copying link to clipboard.")}),ne=()=>l(6,Z=!0),Ee=()=>l(5,W=!0),we=()=>{const ae=Ot(R,j);ae!=location.pathname+location.hash&&yt(ae)};function $e(ae){W=ae,l(5,W)}function oe(ae){Z=ae,l(6,Z)}return i.$$set=ae=>{"namespace"in ae&&l(0,R=ae.namespace),"datasetName"in ae&&l(1,j=ae.datasetName)},i.$$.update=()=>{var ae,K;if(i.$$.dirty&131075&&A(l(2,n=_i(t,R,j))),i.$$.dirty&4&&gi(n),i.$$.dirty&8&&l(13,o=$.schemaCollapsed),i.$$.dirty&8&&D(l(12,r=fr($.namespace,$.datasetName))),i.$$.dirty&16&&l(16,s=jr("string",F.data)),i.$$.dirty&65544&&N(l(11,a=Ur($.namespace,$.datasetName,s.map(ie=>ie.path)))),i.$$.dirty&8&&T(l(10,f=Yr($.namespace,$.datasetName,pi($)))),i.$$.dirty&8&&b(l(9,u=Nt($.namespace,$.datasetName))),i.$$.dirty&2097168&&F.data!=null&&P.data&&!P.isFetching&&B.setStats(P.data),i.$$.dirty&16&&F.data!=null&&B.setSchema(F.data),i.$$.dirty&1048576&&w!=null&&B.setSelectRowsSchema(w),i.$$.dirty&1048584){const ie=bi($.selectedColumns,((ae=w==null?void 0:w.data)==null?void 0:ae.schema)||null);B.setVisibleFields(ie)}i.$$.dirty&524288&&m.data!=null&&B.setSettings(m.data),i.$$.dirty&262144&&l(8,c=(K=d.data)==null?void 0:K.access.dataset.update_settings)},l(17,t=pr()),[R,j,n,$,F,W,Z,fe,c,u,f,a,r,o,Q,x,s,t,d,m,w,P,le,ne,Ee,we,$e,oe]}class rf extends be{constructor(e){super(),ve(this,e,nf,lf,_e,{namespace:0,datasetName:1})}}function lr(i,e,l){const t=i.slice();return t[17]=e[l],t}function sf(i){let e,l,t=i[4].data,n=[];for(let r=0;r<t.length;r+=1)n[r]=rr(lr(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=re()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=re()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s&21){t=r[4].data;let a;for(a=0;a<t.length;a+=1){const f=lr(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=rr(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)o(a);te()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){ze(n,r),r&&h(e)}}}function af(i){let e,l;return e=new Zt({props:{kind:"error",title:"Error loading datasets",lowContrast:!0,subtitle:i[4].error.message}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n&16&&(o.subtitle=t[4].error.message),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function of(i){let e,l;return e=new He({props:{paragraph:!0,lines:3,width:"30%"}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function nr(i){let e,l=i[17].description+"",t;return{c(){e=M("div"),t=J(l),this.h()},l(n){e=z(n,"DIV",{class:!0});var o=S(e);t=G(o,l),o.forEach(h),this.h()},h(){V(e,"class","my-4")},m(n,o){C(n,e,o),v(e,t)},p(n,o){o&16&&l!==(l=n[17].description+"")&&ue(t,l)},d(n){n&&h(e)}}}function ff(i){let e;return{c(){e=J("Open")},l(l){e=G(l,"Open")},m(l,t){C(l,e,t)},d(l){l&&h(e)}}}function rr(i){let e,l,t=i[17].namespace+"",n,o,r=i[17].dataset_name+"",s,a,f,u,c,d,m,g,b,w,I,T,$,y,A,F=i[17].description&&nr(i);function E(){return i[11](i[17])}c=new Je({props:{kind:"tertiary",$$slots:{default:[ff]},$$scope:{ctx:i}}}),c.$on("click",E),b=new wi({props:{size:16}});function D(){return i[12](i[17])}function P(){return i[13](i[17])}return{c(){e=M("button"),l=M("div"),n=J(t),o=J(" / "),s=J(r),a=U(),F&&F.c(),f=U(),u=M("div"),q(c.$$.fragment),d=U(),m=M("div"),g=M("button"),q(b.$$.fragment),T=U(),this.h()},l(k){e=z(k,"BUTTON",{class:!0});var N=S(e);l=z(N,"DIV",{class:!0});var R=S(l);n=G(R,t),o=G(R," / "),s=G(R,r),R.forEach(h),a=Y(N),F&&F.l(N),f=Y(N),u=z(N,"DIV",{class:!0});var j=S(u);L(c.$$.fragment,j),d=Y(j),m=z(j,"DIV",{});var Q=S(m);g=z(Q,"BUTTON",{title:!0,class:!0});var B=S(g);L(b.$$.fragment,B),B.forEach(h),Q.forEach(h),j.forEach(h),T=Y(N),N.forEach(h),this.h()},h(){V(l,"class","truncate text-xl"),V(g,"title","Delete dataset"),g.disabled=w=!i[2],V(g,"class","h-full w-full rounded border border-gray-300 p-2"),de(g,"hover:border-red-400",i[2]),de(g,"hover:text-red-400",i[2]),de(m,"opacity-40",!i[2]),V(u,"class","mt-4 flex gap-x-2"),V(e,"class","w-80 cursor-pointer rounded-md border border-gray-200 px-3 py-4 text-left hover:border-gray-400")},m(k,N){C(k,e,N),v(e,l),v(l,n),v(l,o),v(l,s),v(e,a),F&&F.m(e,null),v(e,f),v(e,u),O(c,u,null),v(u,d),v(u,m),v(m,g),O(b,g,null),v(e,T),$=!0,y||(A=[Ve(g,"click",Ht(D)),Ce(I=Ne.call(null,m,{text:i[2]?"":"User does not have access to delete this dataset."})),Ve(e,"click",P)],y=!0)},p(k,N){i=k,(!$||N&16)&&t!==(t=i[17].namespace+"")&&ue(n,t),(!$||N&16)&&r!==(r=i[17].dataset_name+"")&&ue(s,r),i[17].description?F?F.p(i,N):(F=nr(i),F.c(),F.m(e,f)):F&&(F.d(1),F=null);const R={};N&1048576&&(R.$$scope={dirty:N,ctx:i}),c.$set(R),(!$||N&4&&w!==(w=!i[2]))&&(g.disabled=w),(!$||N&4)&&de(g,"hover:border-red-400",i[2]),(!$||N&4)&&de(g,"hover:text-red-400",i[2]),I&&Oe(I.update)&&N&4&&I.update.call(null,{text:i[2]?"":"User does not have access to delete this dataset."}),(!$||N&4)&&de(m,"opacity-40",!i[2])},i(k){$||(_(c.$$.fragment,k),_(b.$$.fragment,k),$=!0)},o(k){p(c.$$.fragment,k),p(b.$$.fragment,k),$=!1},d(k){k&&h(e),F&&F.d(),H(c),H(b),y=!1,Qe(A)}}}function ir(i){let e,l;return e=new Jt({props:{danger:!0,open:!0,modalHeading:"Delete dataset",primaryButtonText:"Delete",primaryButtonIcon:i[3].isLoading?Vt:void 0,secondaryButtonText:"Cancel",$$slots:{default:[uf]},$$scope:{ctx:i}}}),e.$on("click:button--secondary",i[14]),e.$on("close",i[15]),e.$on("submit",i[16]),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n&8&&(o.primaryButtonIcon=t[3].isLoading?Vt:void 0),n&1048577&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function uf(i){let e,l,t,n=i[0].namespace+"",o,r,s=i[0].name+"",a,f,u,c,d;return{c(){e=M("p"),l=J("Confirm deleting "),t=M("code"),o=J(n),r=J("/"),a=J(s),f=J(" ?"),u=U(),c=M("p"),d=J("This is a permanent action and cannot be undone."),this.h()},l(m){e=z(m,"P",{class:!0});var g=S(e);l=G(g,"Confirm deleting "),t=z(g,"CODE",{});var b=S(t);o=G(b,n),r=G(b,"/"),a=G(b,s),b.forEach(h),f=G(g," ?"),g.forEach(h),u=Y(m),c=z(m,"P",{class:!0});var w=S(c);d=G(w,"This is a permanent action and cannot be undone."),w.forEach(h),this.h()},h(){V(e,"class","!text-lg"),V(c,"class","mt-2")},m(m,g){C(m,e,g),v(e,l),v(e,t),v(t,o),v(t,r),v(t,a),v(e,f),C(m,u,g),C(m,c,g),v(c,d)},p(m,g){g&1&&n!==(n=m[0].namespace+"")&&ue(o,n),g&1&&s!==(s=m[0].name+"")&&ue(a,s)},d(m){m&&h(e),m&&h(u),m&&h(c)}}}function cf(i){let e,l,t,n,o,r,s;const a=[of,af,sf],f=[];function u(d,m){return d[4].isLoading?0:d[4].isError?1:d[4].isSuccess?2:-1}~(t=u(i))&&(n=f[t]=a[t](i));let c=i[0]&&ir(i);return{c(){e=M("div"),l=M("div"),n&&n.c(),o=U(),c&&c.c(),r=re(),this.h()},l(d){e=z(d,"DIV",{class:!0});var m=S(e);l=z(m,"DIV",{class:!0});var g=S(l);n&&n.l(g),g.forEach(h),m.forEach(h),o=Y(d),c&&c.l(d),r=re(),this.h()},h(){V(l,"class","flex flex-wrap gap-x-4 gap-y-4 pb-4"),V(e,"class","flex w-full flex-col items-center gap-y-4 overflow-y-scroll p-4")},m(d,m){C(d,e,m),v(e,l),~t&&f[t].m(l,null),C(d,o,m),c&&c.m(d,m),C(d,r,m),s=!0},p(d,m){let g=t;t=u(d),t===g?~t&&f[t].p(d,m):(n&&(ee(),p(f[g],1,1,()=>{f[g]=null}),te()),~t?(n=f[t],n?n.p(d,m):(n=f[t]=a[t](d),n.c()),_(n,1),n.m(l,null)):n=null),d[0]?c?(c.p(d,m),m&1&&_(c,1)):(c=ir(d),c.c(),_(c,1),c.m(r.parentNode,r)):c&&(ee(),p(c,1,1,()=>{c=null}),te())},i(d){s||(_(n),_(c),s=!0)},o(d){p(n),p(c),s=!1},d(d){d&&h(e),~t&&f[t].d(),d&&h(o),c&&c.d(d),d&&h(r)}}}function df(i){let e;return{c(){e=J("+ Add Dataset")},l(l){e=G(l,"+ Add Dataset")},m(l,t){C(l,e,t)},d(l){l&&h(e)}}}function hf(i){let e,l,t;return l=new Je({props:{size:"small",disabled:!i[1],$$slots:{default:[df]},$$scope:{ctx:i}}}),l.$on("click",i[10]),{c(){e=M("div"),q(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{slot:!0});var o=S(e);L(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"slot","header-right")},m(n,o){C(n,e,o),O(l,e,null),t=!0},p(n,o){const r={};o&2&&(r.disabled=!n[1]),o&1048576&&(r.$$scope={dirty:o,ctx:n}),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){p(l.$$.fragment,n),t=!1},d(n){n&&h(e),H(l)}}}function mf(i){let e,l;return e=new dr({props:{title:"Datasets",$$slots:{"header-right":[hf],default:[cf]},$$scope:{ctx:i}}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,[n]){const o={};n&1048607&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function _f(i,e,l){let t,n,o,r,s;const a=Qr();me(i,a,y=>l(4,s=y));const f=Wr();me(i,f,y=>l(3,o=y));const u=zt();me(i,u,y=>l(9,r=y));let c=null;function d(){if(c==null)return;const{namespace:y,name:A}=c;o.mutate([y,A],{onSuccess:()=>l(0,c=null)})}const m=()=>yt("/datasets/new"),g=y=>yt(Ot(y.namespace,y.dataset_name)),b=y=>l(0,c={namespace:y.namespace,name:y.dataset_name}),w=y=>yt(Ot(y.namespace,y.dataset_name)),I=()=>l(0,c=null),T=()=>l(0,c=null),$=()=>d();return i.$$.update=()=>{var y,A;i.$$.dirty&512&&l(2,t=(y=r.data)==null?void 0:y.access.dataset.delete_dataset),i.$$.dirty&512&&l(1,n=(A=r.data)==null?void 0:A.access.create_dataset)},[c,n,t,o,s,a,f,u,d,r,m,g,b,w,I,T,$]}class gf extends be{constructor(e){super(),ve(this,e,_f,mf,_e,{})}}function pf(i){let e,l;return e=new gf({}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function bf(i){let e,l;return e=new rf({props:{namespace:i[0],datasetName:i[1]}}),{c(){q(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){O(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.namespace=t[0]),n&2&&(o.datasetName=t[1]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){H(e,t)}}}function vf(i){let e,l,t,n;const o=[bf,pf],r=[];function s(a,f){return a[0]!=null&&a[1]!=null?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=re()},l(a){l.l(a),t=re()},m(a,f){r[e].m(a,f),C(a,t,f),n=!0},p(a,[f]){let u=e;e=s(a),e===u?r[e].p(a,f):(ee(),p(r[u],1,1,()=>{r[u]=null}),te(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t))},i(a){n||(_(l),n=!0)},o(a){p(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function wf(i,e,l){let t,n,o;const r=pr();return me(i,r,s=>l(3,t=s)),i.$$.update=()=>{if(i.$$.dirty&11&&t.page==="datasets")if(t.identifier==""||t.identifier==null)l(0,n=void 0),l(1,o=void 0);else{const[s,a]=t.identifier.split("/");(n!=s||o!=a)&&(l(0,n=s),l(1,o=a))}},[n,o,r,t]}class Ff extends be{constructor(e){super(),ve(this,e,wf,vf,_e,{})}}export{Ff as component};
