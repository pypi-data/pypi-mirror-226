import{S as he,i as me,s as _e,E as le,k as D,a as G,l as z,m as V,c as X,h as d,I as wt,H as J,n as M,b as A,J as p,aj as Et,K as de,g as S,v as re,d as y,f as se,O as ze,P as Je,D as fe,ak as Ol,F as ge,G as ct,L as ft,M as ut,N as dt,q as R,r as L,u as K,y as U,z as j,A as q,B as W,Q as Ie,w as xe,_ as ne,$ as ie,a0 as ve,a1 as Q,U as ht,V as mt,a4 as Le,C as zl,a6 as St,a7 as Ye,W as Fl,X as Pl,Y as Yl,a2 as Nl,a3 as Vt,p as Re,ag as Ul,al as jl,R as Me,af as ql,e as we,ab as Ue,aa as lt,o as Wl}from"./index.f491bb8d.js";import{l as Ae,h as $e,X as nt,m as _t,u as Al,Y as je,L as He,n as De,Z as gt,x as Gl,B as Ge,_ as Xl,P as it,$ as Ql,a0 as Zl,U as Bl,R as Tt,b as Kl,a1 as Jl,r as qe,G as xl,M as $l,a as en,a2 as tn,a3 as ln,a4 as nn}from"./HoverTooltip.b4b82cd7.js";import{q as Hl,g as Rl,S as Ll}from"./settingsStore.9112b208.js";import{f as rn,g as sn,S as pt,d as rt}from"./JSONSchemaForm.42d7a47d.js";import{C as an,a as on,V as Ct,T as cn,L as yt,I as fn,W as un,x as dn,z as hn,X as mn,g as _n,Q as gn,w as st}from"./Commands.e68f9867.js";import{W as pn,S as et,a as Xe}from"./SelectItem.5ef0037f.js";import{g as bn}from"./navigation.bdcdc485.js";import{I as bt}from"./InlineNotification.ad05f6bb.js";const vn=i=>({}),It=i=>({});function Mt(i){let e,l,t,n;const o=i[20].labelText,r=ct(o,i,i[19],It),s=r||kn(i);let a=i[5]&&Dt(i);return{c(){e=D("div"),l=D("label"),s&&s.c(),t=G(),a&&a.c(),this.h()},l(c){e=z(c,"DIV",{});var f=V(e);l=z(f,"LABEL",{for:!0});var b=V(l);s&&s.l(b),b.forEach(d),t=X(f),a&&a.l(f),f.forEach(d),this.h()},h(){M(l,"for",i[14]),J(l,"bx--label",!0),J(l,"bx--visually-hidden",i[11]),J(l,"bx--label--disabled",i[7]),J(e,"bx--text-area__label-wrapper",!0)},m(c,f){A(c,e,f),p(e,l),s&&s.m(l,null),p(e,t),a&&a.m(e,null),n=!0},p(c,f){r?r.p&&(!n||f[0]&524288)&&ft(r,o,c,c[19],n?dt(o,c[19],f,vn):ut(c[19]),It):s&&s.p&&(!n||f[0]&1024)&&s.p(c,n?f:[-1,-1]),(!n||f[0]&16384)&&M(l,"for",c[14]),(!n||f[0]&2048)&&J(l,"bx--visually-hidden",c[11]),(!n||f[0]&128)&&J(l,"bx--label--disabled",c[7]),c[5]?a?a.p(c,f):(a=Dt(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(c){n||(S(s,c),n=!0)},o(c){y(s,c),n=!1},d(c){c&&d(e),s&&s.d(c),a&&a.d()}}}function kn(i){let e;return{c(){e=R(i[10])},l(l){e=L(l,i[10])},m(l,t){A(l,e,t)},p(l,t){t[0]&1024&&K(e,l[10])},d(l){l&&d(e)}}}function Dt(i){let e,l=i[0].length+"",t,n,o;return{c(){e=D("div"),t=R(l),n=R("/"),o=R(i[5]),this.h()},l(r){e=z(r,"DIV",{});var s=V(e);t=L(s,l),n=L(s,"/"),o=L(s,i[5]),s.forEach(d),this.h()},h(){J(e,"bx--label",!0),J(e,"bx--label--disabled",i[7])},m(r,s){A(r,e,s),p(e,t),p(e,n),p(e,o)},p(r,s){s[0]&1&&l!==(l=r[0].length+"")&&K(t,l),s[0]&32&&K(o,r[5]),s[0]&128&&J(e,"bx--label--disabled",r[7])},d(r){r&&d(e)}}}function zt(i){let e,l;return e=new pn({props:{class:"bx--text-area__invalid-icon"}}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Pt(i){let e,l;return{c(){e=D("div"),l=R(i[9]),this.h()},l(t){e=z(t,"DIV",{});var n=V(e);l=L(n,i[9]),n.forEach(d),this.h()},h(){J(e,"bx--form__helper-text",!0),J(e,"bx--form__helper-text--disabled",i[7])},m(t,n){A(t,e,n),p(e,l)},p(t,n){n[0]&512&&K(l,t[9]),n[0]&128&&J(e,"bx--form__helper-text--disabled",t[7])},d(t){t&&d(e)}}}function Nt(i){let e,l;return{c(){e=D("div"),l=R(i[13]),this.h()},l(t){e=z(t,"DIV",{id:!0});var n=V(e);l=L(n,i[13]),n.forEach(d),this.h()},h(){M(e,"id",i[16]),J(e,"bx--form-requirement",!0)},m(t,n){A(t,e,n),p(e,l)},p(t,n){n[0]&8192&&K(l,t[13]),n[0]&65536&&M(e,"id",t[16])},d(t){t&&d(e)}}}function wn(i){let e,l,t,n,o,r,s,a,c,f,b,g,m,u,h=(i[10]||i[17].labelText)&&!i[11]&&Mt(i),_=i[12]&&zt(),I=[{"aria-invalid":r=i[12]||void 0},{"aria-describedby":s=i[12]?i[16]:void 0},{disabled:i[7]},{id:i[14]},{name:i[15]},{cols:i[3]},{rows:i[4]},{placeholder:i[2]},{readOnly:i[8]},{maxlength:a=i[5]??void 0},i[18]],T={};for(let k=0;k<I.length;k+=1)T=le(T,I[k]);let w=!i[12]&&i[9]&&Pt(i),C=i[12]&&Nt(i);return{c(){e=D("div"),h&&h.c(),l=G(),t=D("div"),_&&_.c(),n=G(),o=D("textarea"),f=G(),w&&w.c(),b=G(),C&&C.c(),this.h()},l(k){e=z(k,"DIV",{});var E=V(e);h&&h.l(E),l=X(E),t=z(E,"DIV",{"data-invalid":!0});var P=V(t);_&&_.l(P),n=X(P),o=z(P,"TEXTAREA",{"aria-invalid":!0,"aria-describedby":!0,id:!0,name:!0,cols:!0,rows:!0,placeholder:!0,maxlength:!0}),V(o).forEach(d),P.forEach(d),f=X(E),w&&w.l(E),b=X(E),C&&C.l(E),E.forEach(d),this.h()},h(){wt(o,T),J(o,"bx--text-area",!0),J(o,"bx--text-area--light",i[6]),J(o,"bx--text-area--invalid",i[12]),M(t,"data-invalid",c=i[12]||void 0),J(t,"bx--text-area__wrapper",!0),J(e,"bx--form-item",!0)},m(k,E){A(k,e,E),h&&h.m(e,null),p(e,l),p(e,t),_&&_.m(t,null),p(t,n),p(t,o),o.autofocus&&o.focus(),i[32](o),Et(o,i[0]),p(e,f),w&&w.m(e,null),p(e,b),C&&C.m(e,null),g=!0,m||(u=[de(o,"input",i[33]),de(o,"change",i[25]),de(o,"input",i[26]),de(o,"keydown",i[27]),de(o,"keyup",i[28]),de(o,"focus",i[29]),de(o,"blur",i[30]),de(o,"paste",i[31]),de(e,"click",i[21]),de(e,"mouseover",i[22]),de(e,"mouseenter",i[23]),de(e,"mouseleave",i[24])],m=!0)},p(k,E){(k[10]||k[17].labelText)&&!k[11]?h?(h.p(k,E),E[0]&134144&&S(h,1)):(h=Mt(k),h.c(),S(h,1),h.m(e,l)):h&&(re(),y(h,1,1,()=>{h=null}),se()),k[12]?_?E[0]&4096&&S(_,1):(_=zt(),_.c(),S(_,1),_.m(t,n)):_&&(re(),y(_,1,1,()=>{_=null}),se()),wt(o,T=ze(I,[(!g||E[0]&4096&&r!==(r=k[12]||void 0))&&{"aria-invalid":r},(!g||E[0]&69632&&s!==(s=k[12]?k[16]:void 0))&&{"aria-describedby":s},(!g||E[0]&128)&&{disabled:k[7]},(!g||E[0]&16384)&&{id:k[14]},(!g||E[0]&32768)&&{name:k[15]},(!g||E[0]&8)&&{cols:k[3]},(!g||E[0]&16)&&{rows:k[4]},(!g||E[0]&4)&&{placeholder:k[2]},(!g||E[0]&256)&&{readOnly:k[8]},(!g||E[0]&32&&a!==(a=k[5]??void 0))&&{maxlength:a},E[0]&262144&&k[18]])),E[0]&1&&Et(o,k[0]),J(o,"bx--text-area",!0),J(o,"bx--text-area--light",k[6]),J(o,"bx--text-area--invalid",k[12]),(!g||E[0]&4096&&c!==(c=k[12]||void 0))&&M(t,"data-invalid",c),!k[12]&&k[9]?w?w.p(k,E):(w=Pt(k),w.c(),w.m(e,b)):w&&(w.d(1),w=null),k[12]?C?C.p(k,E):(C=Nt(k),C.c(),C.m(e,null)):C&&(C.d(1),C=null)},i(k){g||(S(h),S(_),g=!0)},o(k){y(h),y(_),g=!1},d(k){k&&d(e),h&&h.d(),_&&_.d(),i[32](null),w&&w.d(),C&&C.d(),m=!1,Je(u)}}}function En(i,e,l){let t;const n=["value","placeholder","cols","rows","maxCount","light","disabled","readonly","helperText","labelText","hideLabel","invalid","invalidText","id","name","ref"];let o=fe(e,n),{$$slots:r={},$$scope:s}=e;const a=Ol(r);let{value:c=""}=e,{placeholder:f=""}=e,{cols:b=50}=e,{rows:g=4}=e,{maxCount:m=void 0}=e,{light:u=!1}=e,{disabled:h=!1}=e,{readonly:_=!1}=e,{helperText:I=""}=e,{labelText:T=""}=e,{hideLabel:w=!1}=e,{invalid:C=!1}=e,{invalidText:k=""}=e,{id:E="ccs-"+Math.random().toString(36)}=e,{name:P=void 0}=e,{ref:H=null}=e;function x(v){Ie.call(this,i,v)}function O(v){Ie.call(this,i,v)}function N(v){Ie.call(this,i,v)}function B(v){Ie.call(this,i,v)}function Z(v){Ie.call(this,i,v)}function te(v){Ie.call(this,i,v)}function ae(v){Ie.call(this,i,v)}function F(v){Ie.call(this,i,v)}function ke(v){Ie.call(this,i,v)}function ue(v){Ie.call(this,i,v)}function Ee(v){Ie.call(this,i,v)}function pe(v){xe[v?"unshift":"push"](()=>{H=v,l(1,H)})}function ce(){c=this.value,l(0,c)}return i.$$set=v=>{e=le(le({},e),ge(v)),l(18,o=fe(e,n)),"value"in v&&l(0,c=v.value),"placeholder"in v&&l(2,f=v.placeholder),"cols"in v&&l(3,b=v.cols),"rows"in v&&l(4,g=v.rows),"maxCount"in v&&l(5,m=v.maxCount),"light"in v&&l(6,u=v.light),"disabled"in v&&l(7,h=v.disabled),"readonly"in v&&l(8,_=v.readonly),"helperText"in v&&l(9,I=v.helperText),"labelText"in v&&l(10,T=v.labelText),"hideLabel"in v&&l(11,w=v.hideLabel),"invalid"in v&&l(12,C=v.invalid),"invalidText"in v&&l(13,k=v.invalidText),"id"in v&&l(14,E=v.id),"name"in v&&l(15,P=v.name),"ref"in v&&l(1,H=v.ref),"$$scope"in v&&l(19,s=v.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&16384&&l(16,t=`error-${E}`)},[c,H,f,b,g,m,u,h,_,I,T,w,C,k,E,P,t,a,o,s,r,x,O,N,B,Z,te,ae,F,ke,ue,Ee,pe,ce]}class Sn extends he{constructor(e){super(),me(this,e,En,wn,_e,{value:0,placeholder:2,cols:3,rows:4,maxCount:5,light:6,disabled:7,readonly:8,helperText:9,labelText:10,hideLabel:11,invalid:12,invalidText:13,id:14,name:15,ref:1},null,[-1,-1])}}const Vn=Sn;function At(i){let e,l;return{c(){e=ne("title"),l=R(i[1])},l(t){e=ie(t,"title",{});var n=V(e);l=L(n,i[1]),n.forEach(d)},m(t,n){A(t,e,n),p(e,l)},p(t,n){n&2&&K(l,t[1])},d(t){t&&d(e)}}}function Tn(i){let e,l,t=i[1]&&At(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=le(o,n[r]);return{c(){e=ne("svg"),t&&t.c(),l=ne("path"),this.h()},l(r){e=ie(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=V(e);t&&t.l(s),l=ie(s,"path",{d:!0}),V(l).forEach(d),s.forEach(d),this.h()},h(){M(l,"d","M24.59 16.59L17 24.17 17 4 15 4 15 24.17 7.41 16.59 6 18 16 28 26 18 24.59 16.59z"),ve(e,o)},m(r,s){A(r,e,s),t&&t.m(e,null),p(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=At(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),ve(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:Q,o:Q,d(r){r&&d(e),t&&t.d()}}}function Cn(i,e,l){let t,n;const o=["size","title"];let r=fe(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=c=>{l(5,e=le(le({},e),ge(c))),l(3,r=fe(e,o)),"size"in c&&l(0,s=c.size),"title"in c&&l(1,a=c.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ge(e),[s,a,n,r,t]}class yn extends he{constructor(e){super(),me(this,e,Cn,Tn,_e,{size:0,title:1})}}function Bt(i){let e,l;return{c(){e=ne("title"),l=R(i[1])},l(t){e=ie(t,"title",{});var n=V(e);l=L(n,i[1]),n.forEach(d)},m(t,n){A(t,e,n),p(e,l)},p(t,n){n&2&&K(l,t[1])},d(t){t&&d(e)}}}function In(i){let e,l,t=i[1]&&Bt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=le(o,n[r]);return{c(){e=ne("svg"),t&&t.c(),l=ne("path"),this.h()},l(r){e=ie(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=V(e);t&&t.l(s),l=ie(s,"path",{d:!0}),V(l).forEach(d),s.forEach(d),this.h()},h(){M(l,"d","M16 4L6 14 7.41 15.41 15 7.83 15 28 17 28 17 7.83 24.59 15.41 26 14 16 4z"),ve(e,o)},m(r,s){A(r,e,s),t&&t.m(e,null),p(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=Bt(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),ve(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:Q,o:Q,d(r){r&&d(e),t&&t.d()}}}function Mn(i,e,l){let t,n;const o=["size","title"];let r=fe(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=c=>{l(5,e=le(le({},e),ge(c))),l(3,r=fe(e,o)),"size"in c&&l(0,s=c.size),"title"in c&&l(1,a=c.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ge(e),[s,a,n,r,t]}class Dn extends he{constructor(e){super(),me(this,e,Mn,In,_e,{size:0,title:1})}}function Ht(i){let e,l;return{c(){e=ne("title"),l=R(i[1])},l(t){e=ie(t,"title",{});var n=V(e);l=L(n,i[1]),n.forEach(d)},m(t,n){A(t,e,n),p(e,l)},p(t,n){n&2&&K(l,t[1])},d(t){t&&d(e)}}}function zn(i){let e,l,t=i[1]&&Ht(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=le(o,n[r]);return{c(){e=ne("svg"),t&&t.c(),l=ne("path"),this.h()},l(r){e=ie(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=V(e);t&&t.l(s),l=ie(s,"path",{d:!0}),V(l).forEach(d),s.forEach(d),this.h()},h(){M(l,"d","M10 6L10 8 22.59 8 6 24.59 7.41 26 24 9.41 24 22 26 22 26 6 10 6z"),ve(e,o)},m(r,s){A(r,e,s),t&&t.m(e,null),p(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=Ht(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),ve(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:Q,o:Q,d(r){r&&d(e),t&&t.d()}}}function Pn(i,e,l){let t,n;const o=["size","title"];let r=fe(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=c=>{l(5,e=le(le({},e),ge(c))),l(3,r=fe(e,o)),"size"in c&&l(0,s=c.size),"title"in c&&l(1,a=c.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ge(e),[s,a,n,r,t]}class Nn extends he{constructor(e){super(),me(this,e,Pn,zn,_e,{size:0,title:1})}}function Rt(i){let e,l;return{c(){e=ne("title"),l=R(i[1])},l(t){e=ie(t,"title",{});var n=V(e);l=L(n,i[1]),n.forEach(d)},m(t,n){A(t,e,n),p(e,l)},p(t,n){n&2&&K(l,t[1])},d(t){t&&d(e)}}}function An(i){let e,l,t,n=i[1]&&Rt(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=le(r,o[s]);return{c(){e=ne("svg"),n&&n.c(),l=ne("path"),t=ne("path"),this.h()},l(s){e=ie(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=V(e);n&&n.l(a),l=ie(a,"path",{d:!0}),V(l).forEach(d),t=ie(a,"path",{d:!0}),V(t).forEach(d),a.forEach(d),this.h()},h(){M(l,"d","M11,11V21H21V11Zm8,8H13V13h6Z"),M(t,"d","M30,13V11H26V8a2,2,0,0,0-2-2H21V2H19V6H13V2H11V6H8A2,2,0,0,0,6,8v3H2v2H6v6H2v2H6v3a2,2,0,0,0,2,2h3v4h2V26h6v4h2V26h3a2,2,0,0,0,2-2V21h4V19H26V13ZM24,24H8V8H24Z"),ve(e,r)},m(s,a){A(s,e,a),n&&n.m(e,null),p(e,l),p(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=Rt(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),ve(e,r=ze(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:Q,o:Q,d(s){s&&d(e),n&&n.d()}}}function Bn(i,e,l){let t,n;const o=["size","title"];let r=fe(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=c=>{l(5,e=le(le({},e),ge(c))),l(3,r=fe(e,o)),"size"in c&&l(0,s=c.size),"title"in c&&l(1,a=c.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ge(e),[s,a,n,r,t]}class Lt extends he{constructor(e){super(),me(this,e,Bn,An,_e,{size:0,title:1})}}function Ot(i){let e,l;return{c(){e=ne("title"),l=R(i[1])},l(t){e=ie(t,"title",{});var n=V(e);l=L(n,i[1]),n.forEach(d)},m(t,n){A(t,e,n),p(e,l)},p(t,n){n&2&&K(l,t[1])},d(t){t&&d(e)}}}function Hn(i){let e,l,t=i[1]&&Ot(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=le(o,n[r]);return{c(){e=ne("svg"),t&&t.c(),l=ne("path"),this.h()},l(r){e=ie(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=V(e);t&&t.l(s),l=ie(s,"path",{d:!0}),V(l).forEach(d),s.forEach(d),this.h()},h(){M(l,"d","M16,2A14,14,0,1,0,30,16,14.0158,14.0158,0,0,0,16,2Zm0,26A12,12,0,0,1,16,4V16l8.4812,8.4814A11.9625,11.9625,0,0,1,16,28Z"),ve(e,o)},m(r,s){A(r,e,s),t&&t.m(e,null),p(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=Ot(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),ve(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:Q,o:Q,d(r){r&&d(e),t&&t.d()}}}function Rn(i,e,l){let t,n;const o=["size","title"];let r=fe(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=c=>{l(5,e=le(le({},e),ge(c))),l(3,r=fe(e,o)),"size"in c&&l(0,s=c.size),"title"in c&&l(1,a=c.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ge(e),[s,a,n,r,t]}class Pr extends he{constructor(e){super(),me(this,e,Rn,Hn,_e,{size:0,title:1})}}function Ft(i){let e,l;return{c(){e=ne("title"),l=R(i[1])},l(t){e=ie(t,"title",{});var n=V(e);l=L(n,i[1]),n.forEach(d)},m(t,n){A(t,e,n),p(e,l)},p(t,n){n&2&&K(l,t[1])},d(t){t&&d(e)}}}function Ln(i){let e,l,t=i[1]&&Ft(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=le(o,n[r]);return{c(){e=ne("svg"),t&&t.c(),l=ne("path"),this.h()},l(r){e=ie(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=V(e);t&&t.l(s),l=ie(s,"path",{d:!0}),V(l).forEach(d),s.forEach(d),this.h()},h(){M(l,"d","M2 2H7V16H2zM23 2H9V16.8027l3.0422 4.5635.8453 5.9165A2.0094 2.0094 0 0014.8672 29H15a3.0033 3.0033 0 003-3V20h8a4.0045 4.0045 0 004-4V9A7.0078 7.0078 0 0023 2z"),ve(e,o)},m(r,s){A(r,e,s),t&&t.m(e,null),p(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=Ft(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),ve(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:Q,o:Q,d(r){r&&d(e),t&&t.d()}}}function On(i,e,l){let t,n;const o=["size","title"];let r=fe(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=c=>{l(5,e=le(le({},e),ge(c))),l(3,r=fe(e,o)),"size"in c&&l(0,s=c.size),"title"in c&&l(1,a=c.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ge(e),[s,a,n,r,t]}class vt extends he{constructor(e){super(),me(this,e,On,Ln,_e,{size:0,title:1})}}function Yt(i){let e,l;return{c(){e=ne("title"),l=R(i[1])},l(t){e=ie(t,"title",{});var n=V(e);l=L(n,i[1]),n.forEach(d)},m(t,n){A(t,e,n),p(e,l)},p(t,n){n&2&&K(l,t[1])},d(t){t&&d(e)}}}function Fn(i){let e,l,t=i[1]&&Yt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=le(o,n[r]);return{c(){e=ne("svg"),t&&t.c(),l=ne("path"),this.h()},l(r){e=ie(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=V(e);t&&t.l(s),l=ie(s,"path",{d:!0}),V(l).forEach(d),s.forEach(d),this.h()},h(){M(l,"d","M2 16H7V30H2zM23 30H9V15.1973l3.0422-4.5635.8453-5.9165A2.0094 2.0094 0 0114.8672 3H15a3.0033 3.0033 0 013 3v6h8a4.0045 4.0045 0 014 4v7A7.0078 7.0078 0 0123 30z"),ve(e,o)},m(r,s){A(r,e,s),t&&t.m(e,null),p(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=Yt(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),ve(e,o=ze(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:Q,o:Q,d(r){r&&d(e),t&&t.d()}}}function Yn(i,e,l){let t,n;const o=["size","title"];let r=fe(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=c=>{l(5,e=le(le({},e),ge(c))),l(3,r=fe(e,o)),"size"in c&&l(0,s=c.size),"title"in c&&l(1,a=c.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ge(e),[s,a,n,r,t]}class kt extends he{constructor(e){super(),me(this,e,Yn,Fn,_e,{size:0,title:1})}}function Ut(i){let e,l;return{c(){e=ne("title"),l=R(i[1])},l(t){e=ie(t,"title",{});var n=V(e);l=L(n,i[1]),n.forEach(d)},m(t,n){A(t,e,n),p(e,l)},p(t,n){n&2&&K(l,t[1])},d(t){t&&d(e)}}}function Un(i){let e,l,t,n=i[1]&&Ut(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=le(r,o[s]);return{c(){e=ne("svg"),n&&n.c(),l=ne("path"),t=ne("path"),this.h()},l(s){e=ie(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=V(e);n&&n.l(a),l=ie(a,"path",{d:!0}),V(l).forEach(d),t=ie(a,"path",{d:!0}),V(t).forEach(d),a.forEach(d),this.h()},h(){M(l,"d","M12 12H14V24H12zM18 12H20V24H18z"),M(t,"d","M4 6V8H6V28a2 2 0 002 2H24a2 2 0 002-2V8h2V6zM8 28V8H24V28zM12 2H20V4H12z"),ve(e,r)},m(s,a){A(s,e,a),n&&n.m(e,null),p(e,l),p(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=Ut(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),ve(e,r=ze(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:Q,o:Q,d(s){s&&d(e),n&&n.d()}}}function jn(i,e,l){let t,n;const o=["size","title"];let r=fe(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=c=>{l(5,e=le(le({},e),ge(c))),l(3,r=fe(e,o)),"size"in c&&l(0,s=c.size),"title"in c&&l(1,a=c.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ge(e),[s,a,n,r,t]}class qn extends he{constructor(e){super(),me(this,e,jn,Un,_e,{size:0,title:1})}}function jt(i){let e,l;return{c(){e=ne("title"),l=R(i[1])},l(t){e=ie(t,"title",{});var n=V(e);l=L(n,i[1]),n.forEach(d)},m(t,n){A(t,e,n),p(e,l)},p(t,n){n&2&&K(l,t[1])},d(t){t&&d(e)}}}function Wn(i){let e,l,t,n=i[1]&&jt(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=le(r,o[s]);return{c(){e=ne("svg"),n&&n.c(),l=ne("path"),t=ne("path"),this.h()},l(s){e=ie(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=V(e);n&&n.l(a),l=ie(a,"path",{d:!0}),V(l).forEach(d),t=ie(a,"path",{d:!0}),V(t).forEach(d),a.forEach(d),this.h()},h(){M(l,"d","M5.24,22.51l1.43-1.42A14.06,14.06,0,0,1,3.07,16C5.1,10.93,10.7,7,16,7a12.38,12.38,0,0,1,4,.72l1.55-1.56A14.72,14.72,0,0,0,16,5,16.69,16.69,0,0,0,1.06,15.66a1,1,0,0,0,0,.68A16,16,0,0,0,5.24,22.51Z"),M(t,"d","M12 15.73a4 4 0 013.7-3.7l1.81-1.82a6 6 0 00-7.33 7.33zM30.94 15.66A16.4 16.4 0 0025.2 8.22L30 3.41 28.59 2 2 28.59 3.41 30l5.1-5.1A15.29 15.29 0 0016 27 16.69 16.69 0 0030.94 16.34 1 1 0 0030.94 15.66zM20 16a4 4 0 01-6 3.44L19.44 14A4 4 0 0120 16zm-4 9a13.05 13.05 0 01-6-1.58l2.54-2.54a6 6 0 008.35-8.35l2.87-2.87A14.54 14.54 0 0128.93 16C26.9 21.07 21.3 25 16 25z"),ve(e,r)},m(s,a){A(s,e,a),n&&n.m(e,null),p(e,l),p(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=jt(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),ve(e,r=ze(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:Q,o:Q,d(s){s&&d(e),n&&n.d()}}}function Gn(i,e,l){let t,n;const o=["size","title"];let r=fe(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=c=>{l(5,e=le(le({},e),ge(c))),l(3,r=fe(e,o)),"size"in c&&l(0,s=c.size),"title"in c&&l(1,a=c.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=ge(e),[s,a,n,r,t]}class Xn extends he{constructor(e){super(),me(this,e,Gn,Wn,_e,{size:0,title:1})}}const Qn=i=>({}),qt=i=>({}),Zn=i=>({}),Wt=i=>({});function Kn(i){let e,l;return e=new an({}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Jn(i){let e,l;return e=new on({}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Gt(i){let e,l;const t=i[2].below,n=ct(t,i,i[1],qt);return{c(){e=D("div"),n&&n.c(),this.h()},l(o){e=z(o,"DIV",{class:!0});var r=V(e);n&&n.l(r),r.forEach(d),this.h()},h(){M(e,"class","p-4")},m(o,r){A(o,e,r),n&&n.m(e,null),l=!0},p(o,r){n&&n.p&&(!l||r&2)&&ft(n,t,o,o[1],l?dt(t,o[1],r,Qn):ut(o[1]),qt)},i(o){l||(S(n,o),l=!0)},o(o){y(n,o),l=!1},d(o){o&&d(e),n&&n.d(o)}}}function xn(i){let e,l,t,n,o,r,s,a,c,f;const b=i[2].above,g=ct(b,i,i[1],Wt),m=[Jn,Kn],u=[];function h(I,T){return I[0]?0:1}o=h(i),r=u[o]=m[o](i);let _=i[0]&&Gt(i);return{c(){e=D("div"),l=D("button"),t=D("div"),g&&g.c(),n=G(),r.c(),s=G(),_&&_.c(),this.h()},l(I){e=z(I,"DIV",{class:!0});var T=V(e);l=z(T,"BUTTON",{class:!0});var w=V(l);t=z(w,"DIV",{class:!0});var C=V(t);g&&g.l(C),n=X(C),r.l(C),C.forEach(d),w.forEach(d),s=X(T),_&&_.l(T),T.forEach(d),this.h()},h(){M(t,"class","flex items-center justify-between"),M(l,"class","w-full p-4 text-left hover:bg-gray-200"),M(e,"class","rounded-xl border border-gray-200")},m(I,T){A(I,e,T),p(e,l),p(l,t),g&&g.m(t,null),p(t,n),u[o].m(t,null),p(e,s),_&&_.m(e,null),a=!0,c||(f=de(l,"click",i[3]),c=!0)},p(I,[T]){g&&g.p&&(!a||T&2)&&ft(g,b,I,I[1],a?dt(b,I[1],T,Zn):ut(I[1]),Wt);let w=o;o=h(I),o!==w&&(re(),y(u[w],1,1,()=>{u[w]=null}),se(),r=u[o],r||(r=u[o]=m[o](I),r.c()),S(r,1),r.m(t,null)),I[0]?_?(_.p(I,T),T&1&&S(_,1)):(_=Gt(I),_.c(),S(_,1),_.m(e,null)):_&&(re(),y(_,1,1,()=>{_=null}),se())},i(I){a||(S(g,I),S(r),S(_),a=!0)},o(I){y(g,I),y(r),y(_),a=!1},d(I){I&&d(e),g&&g.d(I),u[o].d(),_&&_.d(),c=!1,f()}}}function $n(i,e,l){let{$$slots:t={},$$scope:n}=e,{expanded:o=!1}=e;const r=()=>l(0,o=!o);return i.$$set=s=>{"expanded"in s&&l(0,o=s.expanded),"$$scope"in s&&l(1,n=s.$$scope)},[o,n,t,r]}class Qe extends he{constructor(e){super(),me(this,e,$n,xn,_e,{expanded:0})}}function Xt(i,e,l){const t=i.slice();return t[6]=e[l],t}function Qt(i){let e,l,t=i[6].text+"",n,o,r,s,a,c,f,b;s=new qn({props:{size:16}});function g(){return i[5](i[6])}return{c(){e=D("div"),l=D("span"),n=R(t),o=G(),r=D("button"),U(s.$$.fragment),a=G(),this.h()},l(m){e=z(m,"DIV",{class:!0});var u=V(e);l=z(u,"SPAN",{class:!0});var h=V(l);n=L(h,t),h.forEach(d),o=X(u),r=z(u,"BUTTON",{title:!0,class:!0});var _=V(r);j(s.$$.fragment,_),_.forEach(d),a=X(u),u.forEach(d),this.h()},h(){M(l,"class","shrink"),M(r,"title","Remove sample"),M(r,"class","shrink-0 opacity-50 hover:text-red-400 hover:opacity-100"),M(e,"class","flex w-full justify-between gap-x-2 border-b border-gray-200 p-2 hover:bg-gray-50")},m(m,u){A(m,e,u),p(e,l),p(l,n),p(e,o),p(e,r),q(s,r,null),p(e,a),c=!0,f||(b=de(r,"click",g),f=!0)},p(m,u){i=m,(!c||u&1)&&t!==(t=i[6].text+"")&&K(n,t)},i(m){c||(S(s.$$.fragment,m),c=!0)},o(m){y(s.$$.fragment,m),c=!1},d(m){m&&d(e),W(s),f=!1,b()}}}function ei(i){let e,l,t,n,o,r;function s(g){i[3](g)}let a={labelText:"Add example"};i[1]!==void 0&&(a.value=i[1]),l=new rn({props:a}),xe.push(()=>ht(l,"value",s)),l.$on("keydown",i[4]);let c=[...i[0]].reverse(),f=[];for(let g=0;g<c.length;g+=1)f[g]=Qt(Xt(i,c,g));const b=g=>y(f[g],1,1,()=>{f[g]=null});return{c(){e=D("div"),U(l.$$.fragment),n=G(),o=D("div");for(let g=0;g<f.length;g+=1)f[g].c();this.h()},l(g){e=z(g,"DIV",{class:!0});var m=V(e);j(l.$$.fragment,m),m.forEach(d),n=X(g),o=z(g,"DIV",{class:!0});var u=V(o);for(let h=0;h<f.length;h+=1)f[h].l(u);u.forEach(d),this.h()},h(){M(e,"class",""),M(o,"class","flex h-full w-full flex-col overflow-y-auto overflow-x-clip border border-gray-200")},m(g,m){A(g,e,m),q(l,e,null),A(g,n,m),A(g,o,m);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(o,null);r=!0},p(g,[m]){const u={};if(!t&&m&2&&(t=!0,u.value=g[1],mt(()=>t=!1)),l.$set(u),m&5){c=[...g[0]].reverse();let h;for(h=0;h<c.length;h+=1){const _=Xt(g,c,h);f[h]?(f[h].p(_,m),S(f[h],1)):(f[h]=Qt(_),f[h].c(),S(f[h],1),f[h].m(o,null))}for(re(),h=c.length;h<f.length;h+=1)b(h);se()}},i(g){if(!r){S(l.$$.fragment,g);for(let m=0;m<c.length;m+=1)S(f[m]);r=!0}},o(g){y(l.$$.fragment,g),f=f.filter(Boolean);for(let m=0;m<f.length;m+=1)y(f[m]);r=!1},d(g){g&&d(e),W(l),g&&d(n),g&&d(o),Le(f,g)}}}function ti(i,e,l){let{data:t}=e,n;const o=zl();function r(c){n=c,l(1,n)}const s=c=>{c.key==="Enter"&&(o("add",n),l(1,n=""))},a=c=>o("remove",c.id);return i.$$set=c=>{"data"in c&&l(0,t=c.data)},[t,n,o,r,s,a]}class Zt extends he{constructor(e){super(),me(this,e,ti,ei,_e,{data:0})}}const Ze={not_good:"text-red-600",ok:"text-yellow-600",good:"text-green-600",very_good:"text-blue-600",great:"text-purple-600"},Ke={not_good:"Not good",ok:"OK",good:"Good",very_good:"Very good",great:"Great"};function li(i){let e,l,t,n,o,r=Ke[i[0].overall]+"",s,a,c,f,b,g,m,u=Ae(i[0].f1)+"",h,_,I,T,w,C,k=Ae(i[0].recall)+"",E,P,H,x,O,N,B=Ae(i[0].precision)+"",Z,te,ae,F,ke,ue,Ee=Ae(i[0].roc_auc)+"",pe;return{c(){e=D("table"),l=D("tr"),t=D("td"),n=R("Overall score"),o=D("td"),s=R(r),c=G(),f=D("tr"),b=D("td"),g=R("F1"),m=D("td"),h=R(u),_=G(),I=D("tr"),T=D("td"),w=R("Recall"),C=D("td"),E=R(k),P=G(),H=D("tr"),x=D("td"),O=R("Precision"),N=D("td"),Z=R(B),te=G(),ae=D("tr"),F=D("td"),ke=R("Area under ROC"),ue=D("td"),pe=R(Ee),this.h()},l(ce){e=z(ce,"TABLE",{class:!0});var v=V(e);l=z(v,"TR",{});var $=V(l);t=z($,"TD",{class:!0});var oe=V(t);n=L(oe,"Overall score"),oe.forEach(d),o=z($,"TD",{class:!0});var Te=V(o);s=L(Te,r),Te.forEach(d),$.forEach(d),c=X(v),f=z(v,"TR",{});var be=V(f);b=z(be,"TD",{class:!0});var Be=V(b);g=L(Be,"F1"),Be.forEach(d),m=z(be,"TD",{class:!0});var Se=V(m);h=L(Se,u),Se.forEach(d),be.forEach(d),_=X(v),I=z(v,"TR",{});var Y=V(I);T=z(Y,"TD",{class:!0});var ee=V(T);w=L(ee,"Recall"),ee.forEach(d),C=z(Y,"TD",{class:!0});var Pe=V(C);E=L(Pe,k),Pe.forEach(d),Y.forEach(d),P=X(v),H=z(v,"TR",{});var Ce=V(H);x=z(Ce,"TD",{class:!0});var ye=V(x);O=L(ye,"Precision"),ye.forEach(d),N=z(Ce,"TD",{class:!0});var Ne=V(N);Z=L(Ne,B),Ne.forEach(d),Ce.forEach(d),te=X(v),ae=z(v,"TR",{});var Ve=V(ae);F=z(Ve,"TD",{class:!0});var Fe=V(F);ke=L(Fe,"Area under ROC"),Fe.forEach(d),ue=z(Ve,"TD",{class:!0});var Oe=V(ue);pe=L(Oe,Ee),Oe.forEach(d),Ve.forEach(d),v.forEach(d),this.h()},h(){M(t,"class","svelte-zc5pc5"),M(o,"class",a=St(Ze[i[0].overall])+" svelte-zc5pc5"),M(b,"class","svelte-zc5pc5"),M(m,"class","svelte-zc5pc5"),M(T,"class","svelte-zc5pc5"),M(C,"class","svelte-zc5pc5"),M(x,"class","svelte-zc5pc5"),M(N,"class","svelte-zc5pc5"),M(F,"class","svelte-zc5pc5"),M(ue,"class","svelte-zc5pc5"),M(e,"class","svelte-zc5pc5")},m(ce,v){A(ce,e,v),p(e,l),p(l,t),p(t,n),p(l,o),p(o,s),p(e,c),p(e,f),p(f,b),p(b,g),p(f,m),p(m,h),p(e,_),p(e,I),p(I,T),p(T,w),p(I,C),p(C,E),p(e,P),p(e,H),p(H,x),p(x,O),p(H,N),p(N,Z),p(e,te),p(e,ae),p(ae,F),p(F,ke),p(ae,ue),p(ue,pe)},p(ce,[v]){v&1&&r!==(r=Ke[ce[0].overall]+"")&&K(s,r),v&1&&a!==(a=St(Ze[ce[0].overall])+" svelte-zc5pc5")&&M(o,"class",a),v&1&&u!==(u=Ae(ce[0].f1)+"")&&K(h,u),v&1&&k!==(k=Ae(ce[0].recall)+"")&&K(E,k),v&1&&B!==(B=Ae(ce[0].precision)+"")&&K(Z,B),v&1&&Ee!==(Ee=Ae(ce[0].roc_auc)+"")&&K(pe,Ee)},i:Q,o:Q,d(ce){ce&&d(e)}}}function ni(i,e,l){let{metrics:t}=e;return i.$$set=n=>{"metrics"in n&&l(0,t=n.metrics)},[t]}class Kt extends he{constructor(e){super(),me(this,e,ni,li,_e,{metrics:0})}}function ii(i,e){const l=t=>i&&!i.contains(t.target)&&!t.defaultPrevented&&e();return document.addEventListener("click",l,!0),{destroy(){document.removeEventListener("click",l,!0)}}}function ri(i){let e=(i[1]?"":i[0])+"",l;return{c(){l=R(e)},l(t){l=L(t,e)},m(t,n){A(t,l,n)},p(t,n){n&3&&e!==(e=(t[1]?"":t[0])+"")&&K(l,e)},d(t){t&&d(l)}}}function si(i){let e,l,t,n,o;const r=[i[2],{type:"purple"},{icon:Ct}];let s={$$slots:{default:[ri]},$$scope:{ctx:i}};for(let a=0;a<r.length;a+=1)s=le(s,r[a]);return l=new cn({props:s}),{c(){e=D("div"),U(l.$$.fragment),this.h()},l(a){e=z(a,"DIV",{class:!0});var c=V(e);j(l.$$.fragment,c),c.forEach(d),this.h()},h(){M(e,"class","embedding-badge truncate"),J(e,"embedding-badge-nolabel",i[1])},m(a,c){A(a,e,c),q(l,e,null),t=!0,n||(o=Ye($e.call(null,e,{text:"Embedding index"})),n=!0)},p(a,[c]){const f=c&4?ze(r,[c&4&&Fl(a[2]),r[1],c&0&&{icon:Ct}]):{};c&11&&(f.$$scope={dirty:c,ctx:a}),l.$set(f),(!t||c&2)&&J(e,"embedding-badge-nolabel",a[1])},i(a){t||(S(l.$$.fragment,a),t=!0)},o(a){y(l.$$.fragment,a),t=!1},d(a){a&&d(e),W(l),n=!1,o()}}}function ai(i,e,l){const t=["embedding","hideEmbeddingName"];let n=fe(e,t),{embedding:o}=e,{hideEmbeddingName:r=!1}=e;return i.$$set=s=>{e=le(le({},e),ge(s)),l(2,n=fe(e,t)),"embedding"in s&&l(0,o=s.embedding),"hideEmbeddingName"in s&&l(1,r=s.hideEmbeddingName)},[o,r,n]}class oi extends he{constructor(e){super(),me(this,e,ai,si,_e,{embedding:0,hideEmbeddingName:1})}}function Jt(i,e,l){const t=i.slice();return t[11]=e[l],t}function xt(i){let e,l,t=i[0].conceptNamespace+"",n,o,r=i[0].conceptName+"",s,a,c,f,b,g,m,u,h,_,I;return b=new kt({}),u=new vt({}),{c(){e=D("div"),l=D("div"),n=R(t),o=R(" / "),s=R(r),a=G(),c=D("div"),f=D("button"),U(b.$$.fragment),g=G(),m=D("button"),U(u.$$.fragment),this.h()},l(T){e=z(T,"DIV",{class:!0});var w=V(e);l=z(w,"DIV",{class:!0});var C=V(l);n=L(C,t),o=L(C," / "),s=L(C,r),C.forEach(d),a=X(w),c=z(w,"DIV",{class:!0});var k=V(c);f=z(k,"BUTTON",{class:!0});var E=V(f);j(b.$$.fragment,E),E.forEach(d),g=X(k),m=z(k,"BUTTON",{class:!0});var P=V(m);j(u.$$.fragment,P),P.forEach(d),k.forEach(d),w.forEach(d),this.h()},h(){M(l,"class","flex-grow"),M(f,"class","p-1"),M(m,"class","p-1"),M(c,"class","shrink-0"),M(e,"class","flex flex-row items-center justify-between gap-x-4 p-2")},m(T,w){A(T,e,w),p(e,l),p(l,n),p(l,o),p(l,s),p(e,a),p(e,c),p(c,f),q(b,f,null),p(c,g),p(c,m),q(u,m,null),h=!0,_||(I=[de(f,"click",i[7]),de(m,"click",i[8])],_=!0)},p(T,w){(!h||w&1)&&t!==(t=T[0].conceptNamespace+"")&&K(n,t),(!h||w&1)&&r!==(r=T[0].conceptName+"")&&K(s,r)},i(T){h||(S(b.$$.fragment,T),S(u.$$.fragment,T),h=!0)},o(T){y(b.$$.fragment,T),y(u.$$.fragment,T),h=!1},d(T){T&&d(e),W(b),W(u),_=!1,Je(I)}}}function $t(i,e){let l,t,n,o,r,s,a,c,f;r=new oi({props:{class:"hover:cursor-pointer",embedding:e[11]}});function b(){return e[9](e[11])}return{key:i,first:null,c(){l=D("button"),t=D("div"),n=R("Find similar"),o=G(),U(r.$$.fragment),s=G(),this.h()},l(g){l=z(g,"BUTTON",{class:!0});var m=V(l);t=z(m,"DIV",{});var u=V(t);n=L(u,"Find similar"),u.forEach(d),o=X(m),j(r.$$.fragment,m),s=X(m),m.forEach(d),this.h()},h(){M(l,"class","flex w-full items-center justify-between"),this.first=l},m(g,m){A(g,l,m),p(l,t),p(t,n),p(l,o),q(r,l,null),p(l,s),a=!0,c||(f=de(l,"click",b),c=!0)},p(g,m){e=g;const u={};m&4&&(u.embedding=e[11]),r.$set(u)},i(g){a||(S(r.$$.fragment,g),a=!0)},o(g){y(r.$$.fragment,g),a=!1},d(g){g&&d(l),W(r),c=!1,f()}}}function ci(i){let e,l,t,n=[],o=new Map,r,s,a,c,f,b=i[0].conceptName!=null&&i[0].conceptNamespace!=null&&xt(i),g=i[2];const m=u=>u[11];for(let u=0;u<g.length;u+=1){let h=Jt(i,g,u),_=m(h);o.set(_,n[u]=$t(_,h))}return{c(){e=D("div"),b&&b.c(),l=G(),t=D("div");for(let u=0;u<n.length;u+=1)n[u].c();this.h()},l(u){e=z(u,"DIV",{style:!0,class:!0});var h=V(e);b&&b.l(h),l=X(h),t=z(h,"DIV",{class:!0});var _=V(t);for(let I=0;I<n.length;I+=1)n[I].l(_);_.forEach(d),h.forEach(d),this.h()},h(){M(t,"class","more-button flex flex-col"),M(e,"style",r=i[1]!=null?`left: ${i[1].x}px; top: ${i[1].y}px`:""),M(e,"class","absolute z-10 inline-flex -translate-x-1/2 translate-y-6 flex-col divide-y divide-gray-200 rounded border border-gray-200 bg-white shadow")},m(u,h){A(u,e,h),b&&b.m(e,null),p(e,l),p(e,t);for(let _=0;_<n.length;_+=1)n[_]&&n[_].m(t,null);a=!0,c||(f=Ye(ii.call(null,e,i[10])),c=!0)},p(u,[h]){u[0].conceptName!=null&&u[0].conceptNamespace!=null?b?(b.p(u,h),h&1&&S(b,1)):(b=xt(u),b.c(),S(b,1),b.m(e,l)):b&&(re(),y(b,1,1,()=>{b=null}),se()),h&29&&(g=u[2],re(),n=Pl(n,h,m,1,u,g,o,t,Yl,$t,null,Jt),se()),(!a||h&2&&r!==(r=u[1]!=null?`left: ${u[1].x}px; top: ${u[1].y}px`:""))&&M(e,"style",r)},i(u){if(!a){S(b);for(let h=0;h<g.length;h+=1)S(n[h]);Nl(()=>{a&&(s||(s=Vt(e,yt,{duration:60},!0)),s.run(1))}),a=!0}},o(u){y(b);for(let h=0;h<n.length;h+=1)y(n[h]);s||(s=Vt(e,yt,{duration:60},!1)),s.run(0),a=!1},d(u){u&&d(e),b&&b.d();for(let h=0;h<n.length;h+=1)n[h].d();u&&s&&s.end(),c=!1,f()}}}function fi(i,e,l){let{details:t}=e,{clickPosition:n}=e,{computedEmbeddings:o}=e,{addConceptLabel:r}=e,{findSimilar:s}=e;const a=zl();function c(u){if(!t.conceptName||!t.conceptNamespace)throw Error("Label could not be added, no active concept.");r(t.conceptNamespace,t.conceptName,t.text,u),a("click")}const f=()=>c(!0),b=()=>c(!1),g=u=>{s(u,t.text),a("click")},m=()=>a("close");return i.$$set=u=>{"details"in u&&l(0,t=u.details),"clickPosition"in u&&l(1,n=u.clickPosition),"computedEmbeddings"in u&&l(2,o=u.computedEmbeddings),"addConceptLabel"in u&&l(6,r=u.addConceptLabel),"findSimilar"in u&&l(3,s=u.findSimilar)},[t,n,o,s,a,c,r,f,b,g,m]}class ui extends he{constructor(e){super(),me(this,e,fi,ci,_e,{details:0,clickPosition:1,computedEmbeddings:2,addConceptLabel:6,findSimilar:3})}}function di(i,e){let l,t=e;i.addEventListener("click",r=>n(r));function n(r){l=new ui({props:{details:t.details(),clickPosition:{x:r.clientX,y:r.clientY},computedEmbeddings:t.computedEmbeddings,addConceptLabel:t.addConceptLabel,findSimilar:t.findSimilar},target:document.body}),l.$on("close",o),l.$on("click",o)}function o(){l==null||l.$destroy(),l=void 0}return{update(r){t=r,l==null||l.$set({details:t.details()})},destroy(){o()}}}const tt=.5,el=.3,hi=.8,tl="#3366cc";function at(i){return`rgba(180,215,255,${i})`}function ot(i){let e=0;if(i>tt){const l=(i-tt)/(1-tt);e=el+l*(hi-el)}return at(e)}function ll(i,e,l){const t=i.slice();return t[7]=e[l],t}function nl(i,e){let l,t,n=e[7].info.name+"",o,r,s,a,c=il(e[7])+"",f,b;return{key:i,first:null,c(){l=D("div"),t=D("div"),o=R(n),r=G(),s=D("div"),a=D("span"),f=R(c),b=G(),this.h()},l(g){l=z(g,"DIV",{class:!0});var m=V(l);t=z(m,"DIV",{class:!0});var u=V(t);o=L(u,n),u.forEach(d),r=X(m),s=z(m,"DIV",{class:!0});var h=V(s);a=z(h,"SPAN",{class:!0});var _=V(a);f=L(_,c),_.forEach(d),h.forEach(d),b=X(m),m.forEach(d),this.h()},h(){M(t,"class","named-value-name table-cell max-w-xs truncate pr-2 svelte-1689hje"),M(a,"class","px-1"),J(a,"font-bold",e[7].info.type==="keyword"||e[7].info.type==="metadata"&&!nt(e[7].info.dtype)),Re(a,"background-color",(e[7].info.type==="concept_score"||e[7].info.type==="semantic_similarity")&&typeof e[7].value=="number"?ot(e[7].value):""),M(s,"class","table-cell rounded text-right"),M(l,"class","table-row"),this.first=l},m(g,m){A(g,l,m),p(l,t),p(t,o),p(l,r),p(l,s),p(s,a),p(a,f),p(l,b)},p(g,m){e=g,m&1&&n!==(n=e[7].info.name+"")&&K(o,n),m&1&&c!==(c=il(e[7])+"")&&K(f,c),m&1&&J(a,"font-bold",e[7].info.type==="keyword"||e[7].info.type==="metadata"&&!nt(e[7].info.dtype)),m&1&&Re(a,"background-color",(e[7].info.type==="concept_score"||e[7].info.type==="semantic_similarity")&&typeof e[7].value=="number"?ot(e[7].value):"")},d(g){g&&d(l)}}}function mi(i){let e,l,t=[],n=new Map,o,r=`${i[4]}px`,s=`${Math.min(i[1],i[3]-i[2]-20)}px`,a=i[0];const c=f=>f[7];for(let f=0;f<a.length;f+=1){let b=ll(i,a,f),g=c(b);n.set(g,t[f]=nl(g,b))}return{c(){e=D("div"),l=D("div");for(let f=0;f<t.length;f+=1)t[f].c();this.h()},l(f){e=z(f,"DIV",{role:!0,class:!0});var b=V(e);l=z(b,"DIV",{class:!0});var g=V(l);for(let m=0;m<t.length;m+=1)t[m].l(g);g.forEach(d),b.forEach(d),this.h()},h(){M(l,"class","table border-spacing-y-2"),M(e,"role","tooltip"),M(e,"class","absolute max-w-fit -translate-y-full break-words border border-gray-300 bg-white px-2 shadow-md"),Nl(()=>i[6].call(e)),J(e,"hidden",i[0].length===0),Re(e,"top",r),Re(e,"left",s)},m(f,b){A(f,e,b),p(e,l);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(l,null);o=Ul(e,i[6].bind(e))},p(f,[b]){b&1&&(a=f[0],t=Pl(t,b,c,1,f,a,n,l,jl,nl,null,ll)),b&1&&J(e,"hidden",f[0].length===0),b&6&&s!==(s=`${Math.min(f[1],f[3]-f[2]-20)}px`)&&Re(e,"left",s)},i:Q,o:Q,d(f){f&&d(e);for(let b=0;b<t.length;b+=1)t[b].d();o()}}}function il(i){return typeof i.value=="number"?i.value.toFixed(3):i.info.dtype==="string_span"?"true":i.value}function _i(i,e,l){let{namedValues:t}=e,{x:n}=e,{y:o}=e;const r=window.innerWidth;let s=0;const a=o-1;function c(){s=this.clientWidth,l(2,s)}return i.$$set=f=>{"namedValues"in f&&l(0,t=f.namedValues),"x"in f&&l(1,n=f.x),"y"in f&&l(5,o=f.y)},[t,n,s,r,a,o,c]}class gi extends he{constructor(e){super(),me(this,e,_i,mi,_e,{namedValues:0,x:1,y:5})}}function pi(i,e){let l,t=e;const n=()=>r();t.isHovered&&o();function o(){const s=t.namedValues.filter(g=>Array.from(t.spansHovered).some(m=>{const u=_t(m);return Al(g.specificPath.slice(0,u.length),u)}));t.itemScrollContainer!=null&&t.itemScrollContainer.addEventListener("scroll",n);const a=i.getBoundingClientRect(),c=window.getComputedStyle(i),f=parseInt(c.getPropertyValue("line-height")),b=a.height>f?a.x+i.offsetLeft||i.clientLeft:a.x;l=new gi({props:{namedValues:s,x:b,y:a.top},target:document.body})}function r(){l==null||l.$destroy(),l=void 0,t.itemScrollContainer!=null&&t.itemScrollContainer.removeEventListener("scroll",n)}return{update(s){t=s,t.isHovered?o():r()},destroy(){r()}}}const bi=500,We=100;function vi(i,e,l){const t=[],n=new Set;for(const o of i){let r=!1;const s=[];for(const _ of o.paths)n.has(_)||(s.push(_),n.add(_));const a=[],c=[];let f=-1/0;for(const[_,I]of Object.entries(o.originalSpans)){const T=e[_],w=_t(_);if(!(T==null||T.length===0))for(const C of I)for(const k of T){const E=k.path.slice(w.length),P=je(C,E);if(P==null)continue;const H=He.value(P);if(H==null)continue;if(k.dtype==="float32"){const B=He.value(P);B!=null&&(f=Math.max(f,B))}const x=De(He.path(C)),O=!s.includes(x),N={value:H,info:k,specificPath:He.path(P)};O||a.push(N),c.push(N),k.type==="concept_score"||k.type==="semantic_similarity"?H>.5&&(r=!0):r=!0}}const b=c.some(_=>_.info.type==="label"),g=c.some(_=>_.info.type==="keyword"),m=c.some(_=>_.info.type==="metadata"&&!nt(_.info.dtype)),u=o.paths.some(_=>l.has(_)),h=u&&s.length>0&&Array.from(l).some(_=>s.includes(_));t.push({backgroundColor:ot(f),isBlackBolded:g||m,isHighlightBolded:b,isShownSnippet:r,snippetScore:f,namedValues:a,paths:o.paths,text:o.text,snippetText:o.text,originalSpans:o.originalSpans,isHovered:u,isFirstHover:h})}return t}function ki(i,e){var r,s,a;if(i=i.map(c=>{if(c.isShownSnippet&&c.text.length>We){const f={...c,text:c.text.slice(0,We),snippetText:c.snippetText.slice(0,We)},b={...c,text:c.text.slice(We),snippetText:c.snippetText.slice(We),isShownSnippet:!1,namedValues:[]};return[f,b]}else return[c]}).flat(),e)return{snippetSpans:i.map(c=>({renderSpan:c,isShown:!0})),someSnippetsHidden:!1};const l=[];let t=0;for(const c of i)c.isShownSnippet&&(t+=c.text.length);const n=i.filter(c=>!c.isShownSnippet).sort((c,f)=>f.snippetScore-c.snippetScore);for(const c of n)if(c.isShownSnippet=!0,t+=c.text.length,t>bi)break;let o=!1;for(const[c,f]of i.entries())if(f.isShownSnippet)l.push({renderSpan:f,isShown:!0});else{const b=((r=i[c+1])==null?void 0:r.isShownSnippet)===!0,g=((s=i[c-1])==null?void 0:s.isShownSnippet)===!0,m=((a=l[l.length-1])==null?void 0:a.isShown)===!0;l.push({renderSpan:f,isShown:!1,isEllipsis:(b||g)&&m,hasNewline:f.text.includes(`
`)}),o=!0}return{snippetSpans:l,someSnippetsHidden:o}}function rl(i,e,l){const t=i.slice();t[33]=e[l];const n=t[33].renderSpan;return t[34]=n,t}function wi(i){let e,l,t,n,o,r=i[33].hasNewline&&sl();return{c(){e=D("span"),l=R("..."),r&&r.c(),t=we(),this.h()},l(s){e=z(s,"SPAN",{class:!0});var a=V(e);l=L(a,"..."),a.forEach(d),r&&r.l(s),t=we(),this.h()},h(){M(e,"class","highlight-span text-sm leading-5 svelte-8ox5pu")},m(s,a){A(s,e,a),p(e,l),r&&r.m(s,a),A(s,t,a),n||(o=Ye($e.call(null,e,{text:`Some text was hidden to improve readability. 
Click "Show all" to show the entire document.`})),n=!0)},p(s,a){s[33].hasNewline?r||(r=sl(),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:Q,o:Q,d(s){s&&d(e),r&&r.d(s),s&&d(t),n=!1,o()}}}function Ei(i){let e,l,t,n,o,r,s,a;const c=[Vi,Si],f=[];function b(h,_){return h[1]?0:1}l=b(i),t=f[l]=c[l](i);function g(){return i[27](i[34])}function m(){return i[28](i[34])}function u(){return i[29](i[34])}return{c(){e=D("span"),t.c(),this.h()},l(h){e=z(h,"SPAN",{class:!0});var _=V(e);t.l(_),_.forEach(d),this.h()},h(){M(e,"class","hover:cursor-poiner highlight-span break-words text-sm leading-5 svelte-8ox5pu"),J(e,"hover:cursor-pointer",i[0].length>0),J(e,"font-bold",i[34].isBlackBolded),J(e,"font-medium",i[34].isHighlightBolded&&!i[34].isBlackBolded),Re(e,"color",i[34].isHighlightBolded&&!i[34].isBlackBolded?tl:""),Re(e,"background-color",i[34].isHovered?at(cl):i[34].backgroundColor)},m(h,_){A(h,e,_),f[l].m(e,null),r=!0,s||(a=[Ye(n=pi.call(null,e,{namedValues:i[34].namedValues,isHovered:i[34].isFirstHover,spansHovered:i[3],itemScrollContainer:i[8]})),Ye(o=di.call(null,e,{details:g,findSimilar:i[15],computedEmbeddings:i[5],addConceptLabel:i[13]})),de(e,"mouseenter",m),de(e,"mouseleave",u)],s=!0)},p(h,_){i=h;let I=l;l=b(i),l===I?f[l].p(i,_):(re(),y(f[I],1,1,()=>{f[I]=null}),se(),t=f[l],t?t.p(i,_):(t=f[l]=c[l](i),t.c()),S(t,1),t.m(e,null)),n&&lt(n.update)&&_[0]&392&&n.update.call(null,{namedValues:i[34].namedValues,isHovered:i[34].isFirstHover,spansHovered:i[3],itemScrollContainer:i[8]}),o&&lt(o.update)&&_[0]&160&&o.update.call(null,{details:g,findSimilar:i[15],computedEmbeddings:i[5],addConceptLabel:i[13]}),(!r||_[0]&1)&&J(e,"hover:cursor-pointer",i[0].length>0),(!r||_[0]&128)&&J(e,"font-bold",i[34].isBlackBolded),(!r||_[0]&128)&&J(e,"font-medium",i[34].isHighlightBolded&&!i[34].isBlackBolded),_[0]&128&&Re(e,"color",i[34].isHighlightBolded&&!i[34].isBlackBolded?tl:""),_[0]&128&&Re(e,"background-color",i[34].isHovered?at(cl):i[34].backgroundColor)},i(h){r||(S(t),r=!0)},o(h){y(t),r=!1},d(h){h&&d(e),f[l].d(),s=!1,Je(a)}}}function sl(i){let e,l;return{c(){e=D("span"),l=D("br")},l(t){e=z(t,"SPAN",{});var n=V(e);l=z(n,"BR",{}),n.forEach(d)},m(t,n){A(t,e,n),p(e,l)},d(t){t&&d(e)}}}function Si(i){let e=i[34].snippetText+"",l;return{c(){l=R(e)},l(t){l=L(t,e)},m(t,n){A(t,l,n)},p(t,n){n[0]&128&&e!==(e=t[34].snippetText+"")&&K(l,e)},i:Q,o:Q,d(t){t&&d(l)}}}function Vi(i){let e,l;return e=new sn({props:{source:i[34].snippetText}}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.source=t[34].snippetText),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function al(i){let e,l,t,n;const o=[Ei,wi],r=[];function s(a,c){return a[33].isShown?0:a[33].isEllipsis?1:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=we()},l(a){l&&l.l(a),t=we()},m(a,c){~e&&r[e].m(a,c),A(a,t,c),n=!0},p(a,c){let f=e;e=s(a),e===f?~e&&r[e].p(a,c):(l&&(re(),y(r[f],1,1,()=>{r[f]=null}),se()),~e?(l=r[e],l?l.p(a,c):(l=r[e]=o[e](a),l.c()),S(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(S(l),n=!0)},o(a){y(l),n=!1},d(a){~e&&r[e].d(a),a&&d(t)}}}function ol(i){let e,l,t,n,o;const r=[Ci,Ti],s=[];function a(c,f){return c[4]?1:0}return t=a(i),n=s[t]=r[t](i),{c(){e=D("div"),l=D("div"),n.c(),this.h()},l(c){e=z(c,"DIV",{class:!0});var f=V(e);l=z(f,"DIV",{class:!0});var b=V(l);n.l(b),b.forEach(d),f.forEach(d),this.h()},h(){M(l,"class","w-30 mt-2 rounded border border-neutral-300 text-center"),M(e,"class","flex flex-row justify-center")},m(c,f){A(c,e,f),p(e,l),s[t].m(l,null),o=!0},p(c,f){let b=t;t=a(c),t===b?s[t].p(c,f):(re(),y(s[b],1,1,()=>{s[b]=null}),se(),n=s[t],n?n.p(c,f):(n=s[t]=r[t](c),n.c()),S(n,1),n.m(l,null))},i(c){o||(S(n),o=!0)},o(c){y(n),o=!1},d(c){c&&d(e),s[t].d()}}}function Ti(i){let e,l;return e=new Ge({props:{size:"small",class:"w-full",kind:"ghost",icon:Dn,$$slots:{default:[yi]},$$scope:{ctx:i}}}),e.$on("click",i[31]),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[1]&64&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Ci(i){let e,l;return e=new Ge({props:{size:"small",class:"w-full",kind:"ghost",icon:yn,$$slots:{default:[Ii]},$$scope:{ctx:i}}}),e.$on("click",i[30]),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[1]&64&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function yi(i){let e;return{c(){e=R("Hide excess")},l(l){e=L(l,"Hide excess")},m(l,t){A(l,e,t)},d(l){l&&d(e)}}}function Ii(i){let e;return{c(){e=R("Show all")},l(l){e=L(l,"Show all")},m(l,t){A(l,e,t)},d(l){l&&d(e)}}}function Mi(i){let e,l,t,n=i[7],o=[];for(let a=0;a<n.length;a+=1)o[a]=al(rl(i,n,a));const r=a=>y(o[a],1,1,()=>{o[a]=null});let s=(i[6]||i[4])&&ol(i);return{c(){e=D("div");for(let a=0;a<o.length;a+=1)o[a].c();l=G(),s&&s.c(),this.h()},l(a){e=z(a,"DIV",{class:!0});var c=V(e);for(let f=0;f<o.length;f+=1)o[f].l(c);l=X(c),s&&s.l(c),c.forEach(d),this.h()},h(){M(e,"class","relative mx-4 overflow-x-hidden text-ellipsis whitespace-break-spaces py-4")},m(a,c){A(a,e,c);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);p(e,l),s&&s.m(e,null),t=!0},p(a,c){if(c[0]&44971){n=a[7];let f;for(f=0;f<n.length;f+=1){const b=rl(a,n,f);o[f]?(o[f].p(b,c),S(o[f],1)):(o[f]=al(b),o[f].c(),S(o[f],1),o[f].m(e,l))}for(re(),f=n.length;f<o.length;f+=1)r(f);se()}a[6]||a[4]?s?(s.p(a,c),c[0]&80&&S(s,1)):(s=ol(a),s.c(),S(s,1),s.m(e,null)):s&&(re(),y(s,1,1,()=>{s=null}),se())},i(a){if(!t){for(let c=0;c<n.length;c+=1)S(o[c]);S(s),t=!0}},o(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)y(o[c]);y(s),t=!1},d(a){a&&d(e),Le(o,a),s&&s.d()}}}const cl=.9;function Di(i,e,l){let t,n,o,r,s,a,c=Q,f=()=>(c(),c=Ue(T,v=>l(26,a=v)),T),b,g;i.$$.on_destroy.push(()=>c());let{text:m}=e,{row:u}=e,{spanPaths:h}=e,{valuePaths:_}=e,{markdown:I=!1}=e,{datasetViewStore:T=void 0}=e;f();let{datasetStore:w=void 0}=e,C={},k=new Set;const E=v=>{v.paths.forEach($=>k.add($)),l(3,k)},P=v=>{v.paths.forEach($=>k.delete($)),l(3,k)};let H={};const x=v=>{const Te={conceptName:null,conceptNamespace:null,text:o.filter(be=>be.paths.some(Be=>((v==null?void 0:v.paths)||[]).some(Se=>Al(Se,Be)))).map(be=>be.text).join("")};for(const be of Object.keys(v.originalSpans)){const Be=(C[be]||[]).filter(Se=>Se.type==="concept_score");for(const Se of Be){const Y=Se.signal;Te.conceptName=Y.concept_name,Te.conceptNamespace=Y.namespace;break}}return Te},O=gt();Me(i,O,v=>l(32,b=v));const N=(v,$,oe,Te)=>{if(!$||!v)throw Error("Label could not be added, no active concept.");b.mutate([v,$,{insert:[{text:oe,label:Te}]}])};let B=!1,Z=ql(fn);Me(i,Z,v=>l(8,g=v));let te,ae=[];const F=(v,$)=>{T==null||te==null||T.addSearch({path:[De(te)],query:{type:"semantic",search:$,embedding:v}})},ke=v=>x(v),ue=v=>E(v),Ee=v=>P(v),pe=()=>l(4,B=!0),ce=()=>l(4,B=!1);return i.$$set=v=>{"text"in v&&l(16,m=v.text),"row"in v&&l(17,u=v.row),"spanPaths"in v&&l(0,h=v.spanPaths),"valuePaths"in v&&l(18,_=v.valuePaths),"markdown"in v&&l(1,I=v.markdown),"datasetViewStore"in v&&f(l(2,T=v.datasetViewStore)),"datasetStore"in v&&l(19,w=v.datasetStore)},i.$$.update=()=>{if(i.$$.dirty[0]&131073&&l(25,t=Object.fromEntries(h.map(v=>[De(v),Gl(u,v)]))),i.$$.dirty[0]&1310720){l(20,C={});for(const v of _){const $=De(v.spanPath);C[$]==null&&l(20,C[$]=[],C),C[$].push(v)}}if(i.$$.dirty[0]&33619968&&l(24,n=un(m,t)),i.$$.dirty[0]&17825800&&l(23,o=vi(n,C,k)),i.$$.dirty[0]&18874368){l(21,H={});for(const v of n)for(const $ of v.paths)l(21,H[$]=H[$]||[],H),H[$].push(v)}i.$$.dirty[0]&8388624&&l(7,{snippetSpans:r,someSnippetsHidden:s}=ki(o,B),r,(l(6,s),l(23,o),l(4,B),l(24,n),l(20,C),l(3,k),l(16,m),l(25,t),l(18,_),l(0,h),l(17,u))),i.$$.dirty[0]&71827456&&a!=null&&w!=null&&(l(22,te=dn(a,w)),l(5,ae=hn(w,te)))},[h,I,T,k,B,ae,s,r,g,E,P,x,O,N,Z,F,m,u,_,w,C,H,te,o,n,t,a,ke,ue,Ee,pe,ce]}class zi extends he{constructor(e){super(),me(this,e,Di,Mi,_e,{text:16,row:17,spanPaths:0,valuePaths:18,markdown:1,datasetViewStore:2,datasetStore:19},null,[-1,-1])}}function fl(i,e,l){const t=i.slice();return t[18]=e[l],t}function Pi(i){let e;return{c(){e=R("Compute")},l(l){e=L(l,"Compute")},m(l,t){A(l,e,t)},d(l){l&&d(e)}}}function ul(i){let e,l;return e=new Xe({props:{value:i[18].name}}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&128&&(o.value=t[18].name),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Ni(i){var r;let e,l,t=((r=i[7])==null?void 0:r.data)||[],n=[];for(let s=0;s<t.length;s+=1)n[s]=ul(fl(i,t,s));const o=s=>y(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=we()},l(s){for(let a=0;a<n.length;a+=1)n[a].l(s);e=we()},m(s,a){for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(s,a);A(s,e,a),l=!0},p(s,a){var c;if(a&128){t=((c=s[7])==null?void 0:c.data)||[];let f;for(f=0;f<t.length;f+=1){const b=fl(s,t,f);n[f]?(n[f].p(b,a),S(n[f],1)):(n[f]=ul(b),n[f].c(),S(n[f],1),n[f].m(e.parentNode,e))}for(re(),f=t.length;f<n.length;f+=1)o(f);se()}},i(s){if(!l){for(let a=0;a<t.length;a+=1)S(n[a]);l=!0}},o(s){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)y(n[a]);l=!1},d(s){Le(n,s),s&&d(e)}}}function Ai(i){let e,l;return e=new zi({props:{text:i[0],row:i[4],spanPaths:[[it]],valuePaths:i[5]}}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.text=t[0]),n&16&&(o.row=t[4]),n&32&&(o.valuePaths=t[5]),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Bi(i){let e,l;return e=new pt({}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Q,i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Hi(i){let e,l,t,n,o,r,s,a,c,f,b,g,m,u,h,_;t=new Vn({props:{value:i[3],cols:50,placeholder:"Paste text to test the concept.",rows:6,class:"mb-2"}}),t.$on("input",i[10]),s=new Ge({props:{$$slots:{default:[Pi]},$$scope:{ctx:i}}}),s.$on("click",i[15]);function I(E){i[16](E)}let T={labelText:"Embedding",$$slots:{default:[Ni]},$$scope:{ctx:i}};i[1]!==void 0&&(T.selected=i[1]),f=new et({props:T}),xe.push(()=>ht(f,"selected",I));const w=[Bi,Ai],C=[];function k(E,P){var H;return(H=E[2])!=null&&H.isFetching?0:E[4]!=null&&E[0]!=null?1:-1}return~(u=k(i))&&(h=C[u]=w[u](i)),{c(){e=D("div"),l=D("div"),U(t.$$.fragment),n=G(),o=D("div"),r=D("div"),U(s.$$.fragment),a=G(),c=D("div"),U(f.$$.fragment),g=G(),m=D("div"),h&&h.c(),this.h()},l(E){e=z(E,"DIV",{class:!0});var P=V(e);l=z(P,"DIV",{});var H=V(l);j(t.$$.fragment,H),n=X(H),o=z(H,"DIV",{class:!0});var x=V(o);r=z(x,"DIV",{class:!0});var O=V(r);j(s.$$.fragment,O),O.forEach(d),a=X(x),c=z(x,"DIV",{class:!0});var N=V(c);j(f.$$.fragment,N),N.forEach(d),x.forEach(d),H.forEach(d),g=X(P),m=z(P,"DIV",{class:!0});var B=V(m);h&&h.l(B),B.forEach(d),P.forEach(d),this.h()},h(){M(r,"class","pt-4"),M(c,"class","mb-2 w-32"),M(o,"class","flex flex-row justify-between"),M(m,"class","mt-4 border-gray-200"),J(m,"border-t",i[0]!=null),M(e,"class","flex flex-col gap-x-8")},m(E,P){A(E,e,P),p(e,l),q(t,l,null),p(l,n),p(l,o),p(o,r),q(s,r,null),p(o,a),p(o,c),q(f,c,null),p(e,g),p(e,m),~u&&C[u].m(m,null),_=!0},p(E,[P]){const H={};P&8&&(H.value=E[3]),t.$set(H);const x={};P&2097152&&(x.$$scope={dirty:P,ctx:E}),s.$set(x);const O={};P&2097280&&(O.$$scope={dirty:P,ctx:E}),!b&&P&2&&(b=!0,O.selected=E[1],mt(()=>b=!1)),f.$set(O);let N=u;u=k(E),u===N?~u&&C[u].p(E,P):(h&&(re(),y(C[N],1,1,()=>{C[N]=null}),se()),~u?(h=C[u],h?h.p(E,P):(h=C[u]=w[u](E),h.c()),S(h,1),h.m(m,null)):h=null),(!_||P&1)&&J(m,"border-t",E[0]!=null)},i(E){_||(S(t.$$.fragment,E),S(s.$$.fragment,E),S(f.$$.fragment,E),S(h),_=!0)},o(E){y(t.$$.fragment,E),y(s.$$.fragment,E),y(f.$$.fragment,E),y(h),_=!1},d(E){E&&d(e),W(t),W(s),W(f),~u&&C[u].d()}}}function Ri(i,e,l){var P;let t,n,o,r=Q,s=()=>(r(),r=Ue(t,H=>l(2,o=H)),t),a,c;i.$$.on_destroy.push(()=>r());let{concept:f}=e,{example:b}=e;const g=Hl();Me(i,g,H=>l(7,c=H));const m=Rl();Me(i,m,H=>l(17,a=H));let u=(P=b.text)==null?void 0:P.trim();Wl(()=>{T()});function h(H){l(3,u=H.target.value),l(0,_=void 0)}let _,I=a.embedding;function T(){l(0,_=u)}let w,C;const k=()=>T();function E(H){I=H,l(1,I)}return i.$$set=H=>{"concept"in H&&l(12,f=H.concept),"example"in H&&l(13,b=H.example)},i.$$.update=()=>{if(i.$$.dirty&8192&&b.text&&(l(3,u=b.text.trim()),l(0,_=void 0)),i.$$.dirty&4099&&s(l(6,t=I!=null&&_!=null?Xl(f.namespace,f.concept_name,I,{examples:[{text:_}]}):null)),i.$$.dirty&4096&&l(14,n=`${f.namespace}/${f.concept_name}`),i.$$.dirty&20482&&I!=null&&l(5,C=[{spanPath:[it],path:[it,"score"],name:n,type:"concept_score",dtype:"float32",signal:{signal_name:"concept_scorer",concept_name:f.concept_name,namespace:f.namespace}}]),i.$$.dirty&6&&(o==null?void 0:o.data)!=null&&I!=null){const H=Ql({repeated_field:{dtype:"string_span",fields:{score:{dtype:"float32"}}}});l(4,w=Zl(o.data[0],H))}},[_,I,o,u,w,C,t,c,g,m,h,T,f,b,n,k,E]}class Li extends he{constructor(e){super(),me(this,e,Ri,Hi,_e,{concept:12,example:13})}}function Oi(i,e,l,t,n,o){const r={...i};if(e==null||l==null)return r;const s=[...e,...l],a=new Set,c=[];for(const u of s){const h=He.value(je(u,[Bl]),"string");if(h==null||a.has(h))continue;a.add(h);const _=je(u,n);if(_==null)continue;const I=He.value(_,"string");if(I==null)continue;const T=`${t.namespace}/${t.concept_name}`,w=je(_,[`${T}/${o}`]);if(w==null)continue;const C=je(_,[`${T}/labels`]),k=[];if(C!=null)for(const E of C){const P=He.value(E,"string_span");P!=null&&k.push(P)}for(const E of w){const P=He.value(E,"string_span");if(P==null||!k.every(N=>N.start>P.end||N.end<P.start))continue;const x=je(E,["score"]);if(x==null)continue;const O=He.value(x,"float32");O!=null&&c.push({text:I,span:P,score:O})}}function f(u){return{text:mn(u.text,u.span.start,u.span.end),score:u.score}}c.sort((u,h)=>h.score-u.score);const b=c[0],g=c.slice().reverse().find(u=>u!=b);c.sort((u,h)=>Math.abs(u.score-.5)-Math.abs(h.score-.5));const m=c.find(u=>u!=b&&u!=g);return b!=null&&r.positive==null&&(r.positive=f(b)),m!=null&&r.neutral==null&&(r.neutral=f(m)),g!=null&&r.negative==null&&(r.negative=f(g)),r}function dl(i,e,l){const t=i.slice();return t[20]=e[l],t}function Fi(i){const e=i.slice(),l=qi(e[20].score);e[23]=l;const t=Wi(e[20].score);return e[24]=t,e}function Yi(i){let e,l,t,n,o,r,s,a,c,f=i[20].text+"",b,g,m,u=i[24]+"",h,_,I=Ae(i[20].score,2)+"",T,w,C,k,E,P;n=new kt({});function H(){return i[17](i[20])}s=new vt({});function x(){return i[18](i[20])}return{c(){e=D("div"),l=D("div"),t=D("button"),U(n.$$.fragment),o=G(),r=D("button"),U(s.$$.fragment),a=G(),c=D("div"),b=R(f),g=G(),m=D("div"),h=R(u),_=G(),T=R(I),w=G(),this.h()},l(O){e=z(O,"DIV",{class:!0});var N=V(e);l=z(N,"DIV",{class:!0});var B=V(l);t=z(B,"BUTTON",{class:!0});var Z=V(t);j(n.$$.fragment,Z),Z.forEach(d),o=X(B),r=z(B,"BUTTON",{class:!0});var te=V(r);j(s.$$.fragment,te),te.forEach(d),B.forEach(d),a=X(N),c=z(N,"DIV",{class:!0});var ae=V(c);b=L(ae,f),ae.forEach(d),g=X(N),m=z(N,"DIV",{class:!0});var F=V(m);h=L(F,u),_=X(F),T=L(F,I),F.forEach(d),w=X(N),N.forEach(d),this.h()},h(){M(t,"class","p-2 hover:bg-gray-200"),J(t,"text-blue-500",i[20].label===!0),M(r,"class","p-2 hover:bg-gray-200"),J(r,"text-red-500",i[20].label===!1),M(l,"class","mr-2 flex flex-shrink-0 gap-x-1"),M(c,"class","flex-grow"),M(m,"class","w-40 flex-shrink-0 text-right"),M(e,"class",C=`flex flex-grow items-center rounded-md border border-gray-300 p-4 pl-2 ${i[23]}`)},m(O,N){A(O,e,N),p(e,l),p(l,t),q(n,t,null),p(l,o),p(l,r),q(s,r,null),p(e,a),p(e,c),p(c,b),p(e,g),p(e,m),p(m,h),p(m,_),p(m,T),p(e,w),k=!0,E||(P=[de(t,"click",H),de(r,"click",x)],E=!0)},p(O,N){i=O,(!k||N&1)&&J(t,"text-blue-500",i[20].label===!0),(!k||N&1)&&J(r,"text-red-500",i[20].label===!1),(!k||N&1)&&f!==(f=i[20].text+"")&&K(b,f),(!k||N&1)&&u!==(u=i[24]+"")&&K(h,u),(!k||N&1)&&I!==(I=Ae(i[20].score,2)+"")&&K(T,I),(!k||N&1&&C!==(C=`flex flex-grow items-center rounded-md border border-gray-300 p-4 pl-2 ${i[23]}`))&&M(e,"class",C)},i(O){k||(S(n.$$.fragment,O),S(s.$$.fragment,O),k=!0)},o(O){y(n.$$.fragment,O),y(s.$$.fragment,O),k=!1},d(O){O&&d(e),W(n),W(s),E=!1,Je(P)}}}function Ui(i){let e,l;return e=new pt({props:{paragraph:!0,lines:2}}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Q,i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function hl(i){let e,l,t,n;const o=[Ui,Yi],r=[];function s(c,f){return c[20]==null?0:1}function a(c,f){return f===1?Fi(c):c}return e=s(i),l=r[e]=o[e](a(i,e)),{c(){l.c(),t=we()},l(c){l.l(c),t=we()},m(c,f){r[e].m(c,f),A(c,t,f),n=!0},p(c,f){let b=e;e=s(c),e===b?r[e].p(a(c,e),f):(re(),y(r[b],1,1,()=>{r[b]=null}),se(),l=r[e],l?l.p(a(c,e),f):(l=r[e]=o[e](a(c,e)),l.c()),S(l,1),l.m(t.parentNode,t))},i(c){n||(S(l),n=!0)},o(c){y(l),n=!1},d(c){r[e].d(c),c&&d(t)}}}function ji(i){let e,l,t=i[0],n=[];for(let r=0;r<t.length;r+=1)n[r]=hl(dl(i,t,r));const o=r=>y(n[r],1,1,()=>{n[r]=null});return{c(){e=D("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=z(r,"DIV",{class:!0});var s=V(e);for(let a=0;a<n.length;a+=1)n[a].l(s);s.forEach(d),this.h()},h(){M(e,"class","flex flex-col gap-y-4")},m(r,s){A(r,e,s);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);l=!0},p(r,[s]){if(s&17){t=r[0];let a;for(a=0;a<t.length;a+=1){const c=dl(r,t,a);n[a]?(n[a].p(c,s),S(n[a],1)):(n[a]=hl(c),n[a].c(),S(n[a],1),n[a].m(e,null))}for(re(),a=t.length;a<n.length;a+=1)o(a);se()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)S(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)y(n[s]);l=!1},d(r){r&&d(e),Le(n,r)}}}const ml=100;function qi(i){return i<.2?"bg-red-500/10":i<.8?"bg-yellow-500/10":"bg-blue-500/10"}function Wi(i){return i<.2?"Likely not in concept":i<.8?"Uncertain":"Likely in concept"}function Gi(i,e,l){let t,n,o,r,s,a,c,f,b=Q,g=()=>(b(),b=Ue(s,N=>l(15,f=N)),s),m,u=Q,h=()=>(u(),u=Ue(n,N=>l(16,m=N)),n);i.$$.on_destroy.push(()=>b()),i.$$.on_destroy.push(()=>u());let{dataset:_}=e,{concept:I}=e,{fieldPath:T}=e,{schema:w}=e,{embedding:C}=e;const k=gt();Me(i,k,N=>l(19,c=N));let E={},P={};function H(N,B){if(N==null)return;const Z={text:N.text,label:B},te=Object.keys(P).find(ae=>P[ae]===N);l(10,E={...P}),c.mutate([I.namespace,I.concept_name,{insert:[Z]}],{onSuccess:()=>l(10,E={...E,[te]:void 0})})}const x=N=>H(N,!0),O=N=>H(N,!1);return i.$$set=N=>{"dataset"in N&&l(5,_=N.dataset),"concept"in N&&l(6,I=N.concept),"fieldPath"in N&&l(7,T=N.fieldPath),"schema"in N&&l(8,w=N.schema),"embedding"in N&&l(9,C=N.embedding)},i.$$.update=()=>{var N,B;i.$$.dirty&576&&l(14,t={type:"concept",concept_namespace:I.namespace,concept_name:I.concept_name,embedding:C}),i.$$.dirty&16800&&h(l(2,n=Tt(_.namespace,_.name,{columns:[T],limit:ml,combine_columns:!0,searches:[{path:T,query:t}]},w))),i.$$.dirty&576&&l(13,o={signal_name:"concept_score",namespace:I.namespace,concept_name:I.concept_name,embedding:C}),i.$$.dirty&64&&l(12,r={signal_name:"concept_labels",namespace:I.namespace,concept_name:I.concept_name}),i.$$.dirty&12704&&g(l(1,s=Tt(_.namespace,_.name,{columns:[T,{path:T,signal_udf:o},{path:T,signal_udf:r}],limit:ml,combine_columns:!0,sort_by:[Bl]},w))),i.$$.dirty&100032&&l(11,P=Oi(E,m.isFetching||(N=m.data)==null?void 0:N.rows,f.isFetching||(B=f.data)==null?void 0:B.rows,I,T,C)),i.$$.dirty&2048&&l(0,a=[P.positive,P.neutral,P.negative])},[a,s,n,k,H,_,I,T,w,C,E,P,r,o,t,f,m,x,O]}class Xi extends he{constructor(e){super(),me(this,e,Gi,ji,_e,{dataset:5,concept:6,fieldPath:7,schema:8,embedding:9})}}function _l(i,e,l){const t=i.slice();return t[23]=e[l],t}function gl(i,e,l){const t=i.slice();return t[26]=e[l],t}function pl(i,e,l){const t=i.slice();return t[7]=e[l],t}function Qi(i){let e,l;return e=new et({props:{labelText:"Dataset",selected:i[10],$$slots:{default:[Ji]},$$scope:{ctx:i}}}),e.$on("change",i[14]),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1024&&(o.selected=t[10]),n[0]&64|n[1]&1&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Zi(i){let e,l;return e=new bt({props:{kind:"error",title:"Error",subtitle:i[6].error.message,hideCloseButton:!0}}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&64&&(o.subtitle=t[6].error.message),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Ki(i){let e,l;return e=new Ll({}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Q,i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function bl(i){let e,l;return e=new Xe({props:{value:`${i[7].namespace}/${i[7].dataset_name}`}}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&64&&(o.value=`${t[7].namespace}/${t[7].dataset_name}`),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Ji(i){let e,l,t,n;e=new Xe({props:{value:"",text:"none"}});let o=i[6].data,r=[];for(let a=0;a<o.length;a+=1)r[a]=bl(pl(i,o,a));const s=a=>y(r[a],1,1,()=>{r[a]=null});return{c(){U(e.$$.fragment),l=G();for(let a=0;a<r.length;a+=1)r[a].c();t=we()},l(a){j(e.$$.fragment,a),l=X(a);for(let c=0;c<r.length;c+=1)r[c].l(a);t=we()},m(a,c){q(e,a,c),A(a,l,c);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(a,c);A(a,t,c),n=!0},p(a,c){if(c[0]&64){o=a[6].data;let f;for(f=0;f<o.length;f+=1){const b=pl(a,o,f);r[f]?(r[f].p(b,c),S(r[f],1)):(r[f]=bl(b),r[f].c(),S(r[f],1),r[f].m(t.parentNode,t))}for(re(),f=o.length;f<r.length;f+=1)s(f);se()}},i(a){if(!n){S(e.$$.fragment,a);for(let c=0;c<o.length;c+=1)S(r[c]);n=!0}},o(a){y(e.$$.fragment,a),r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)y(r[c]);n=!1},d(a){W(e,a),a&&d(l),Le(r,a),a&&d(t)}}}function xi(i){let e,l;return e=new et({props:{labelText:"Field with embeddings",selected:i[8],$$slots:{default:[tr]},$$scope:{ctx:i}}}),e.$on("change",i[15]),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&256&&(o.selected=t[8]),n[0]&16|n[1]&1&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function $i(i){let e,l;return e=new bt({props:{kind:"error",title:"Error",subtitle:i[5].error.message,hideCloseButton:!0}}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&32&&(o.subtitle=t[5].error.message),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function er(i){let e,l;return e=new Ll({}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Q,i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function vl(i){let e,l;return e=new Xe({props:{value:De(i[26].path)}}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&16&&(o.value=De(t[26].path)),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function tr(i){let e,l,t=i[4],n=[];for(let r=0;r<t.length;r+=1)n[r]=vl(gl(i,t,r));const o=r=>y(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=we()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=we()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);A(r,e,s),l=!0},p(r,s){if(s[0]&16){t=r[4];let a;for(a=0;a<t.length;a+=1){const c=gl(r,t,a);n[a]?(n[a].p(c,s),S(n[a],1)):(n[a]=vl(c),n[a].c(),S(n[a],1),n[a].m(e.parentNode,e))}for(re(),a=t.length;a<n.length;a+=1)o(a);se()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)S(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)y(n[s]);l=!1},d(r){Le(n,r),r&&d(e)}}}function kl(i){let e,l,t;function n(r){i[21](r)}let o={labelText:"Embedding",$$slots:{default:[lr]},$$scope:{ctx:i}};return i[3]!==void 0&&(o.selected=i[3]),e=new et({props:o}),xe.push(()=>ht(e,"selected",n)),{c(){U(e.$$.fragment)},l(r){j(e.$$.fragment,r)},m(r,s){q(e,r,s),t=!0},p(r,s){const a={};s[0]&512|s[1]&1&&(a.$$scope={dirty:s,ctx:r}),!l&&s[0]&8&&(l=!0,a.selected=r[3],mt(()=>l=!1)),e.$set(a)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){y(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function wl(i){let e,l;return e=new Xe({props:{value:i[23]}}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&512&&(o.value=t[23]),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function lr(i){let e,l,t=i[9],n=[];for(let r=0;r<t.length;r+=1)n[r]=wl(_l(i,t,r));const o=r=>y(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=we()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=we()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);A(r,e,s),l=!0},p(r,s){if(s[0]&512){t=r[9];let a;for(a=0;a<t.length;a+=1){const c=_l(r,t,a);n[a]?(n[a].p(c,s),S(n[a],1)):(n[a]=wl(c),n[a].c(),S(n[a],1),n[a].m(e.parentNode,e))}for(re(),a=t.length;a<n.length;a+=1)o(a);se()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)S(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)y(n[s]);l=!1},d(r){Le(n,r),r&&d(e)}}}function El(i){let e,l;return e=new Ge({props:{class:"dataset-link top-7 h-8",icon:Nn,iconDescription:"Open dataset and apply concept."}}),e.$on("click",i[16]),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Q,i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Sl(i){let e,l,t;return l=new Xi({props:{concept:i[0],dataset:i[7],fieldPath:i[2],schema:i[1],embedding:i[3]}}),{c(){e=D("div"),U(l.$$.fragment)},l(n){e=z(n,"DIV",{});var o=V(e);j(l.$$.fragment,o),o.forEach(d)},m(n,o){A(n,e,o),q(l,e,null),t=!0},p(n,o){const r={};o[0]&1&&(r.concept=n[0]),o[0]&128&&(r.dataset=n[7]),o[0]&4&&(r.fieldPath=n[2]),o[0]&2&&(r.schema=n[1]),o[0]&8&&(r.embedding=n[3]),l.$set(r)},i(n){t||(S(l.$$.fragment,n),t=!0)},o(n){y(l.$$.fragment,n),t=!1},d(n){n&&d(e),W(l)}}}function nr(i){let e,l,t,n,o,r,s,a,c,f,b;const g=[Ki,Zi,Qi],m=[];function u(k,E){return k[6].isLoading?0:k[6].isError?1:k[6].data.length>0?2:-1}~(t=u(i))&&(n=m[t]=g[t](i));const h=[er,$i,xi],_=[];function I(k,E){return k[5].isLoading?0:k[5].isError?1:k[4].length>0?2:-1}~(r=I(i))&&(s=_[r]=h[r](i));let T=i[9].length>0&&kl(i),w=i[8]!=null&&i[3]!=null&&El(i),C=i[7]!=null&&i[2]!=null&&i[1]!=null&&i[3]!=null&&Sl(i);return{c(){e=D("div"),l=D("div"),n&&n.c(),o=G(),s&&s.c(),a=G(),T&&T.c(),c=G(),w&&w.c(),f=G(),C&&C.c(),this.h()},l(k){e=z(k,"DIV",{class:!0});var E=V(e);l=z(E,"DIV",{class:!0});var P=V(l);n&&n.l(P),o=X(P),s&&s.l(P),a=X(P),T&&T.l(P),c=X(P),w&&w.l(P),P.forEach(d),f=X(E),C&&C.l(E),E.forEach(d),this.h()},h(){M(l,"class","flex flex-row gap-x-2"),M(e,"class","flex flex-col gap-y-4")},m(k,E){A(k,e,E),p(e,l),~t&&m[t].m(l,null),p(l,o),~r&&_[r].m(l,null),p(l,a),T&&T.m(l,null),p(l,c),w&&w.m(l,null),p(e,f),C&&C.m(e,null),b=!0},p(k,E){let P=t;t=u(k),t===P?~t&&m[t].p(k,E):(n&&(re(),y(m[P],1,1,()=>{m[P]=null}),se()),~t?(n=m[t],n?n.p(k,E):(n=m[t]=g[t](k),n.c()),S(n,1),n.m(l,o)):n=null);let H=r;r=I(k),r===H?~r&&_[r].p(k,E):(s&&(re(),y(_[H],1,1,()=>{_[H]=null}),se()),~r?(s=_[r],s?s.p(k,E):(s=_[r]=h[r](k),s.c()),S(s,1),s.m(l,a)):s=null),k[9].length>0?T?(T.p(k,E),E[0]&512&&S(T,1)):(T=kl(k),T.c(),S(T,1),T.m(l,c)):T&&(re(),y(T,1,1,()=>{T=null}),se()),k[8]!=null&&k[3]!=null?w?(w.p(k,E),E[0]&264&&S(w,1)):(w=El(k),w.c(),S(w,1),w.m(l,null)):w&&(re(),y(w,1,1,()=>{w=null}),se()),k[7]!=null&&k[2]!=null&&k[1]!=null&&k[3]!=null?C?(C.p(k,E),E[0]&142&&S(C,1)):(C=Sl(k),C.c(),S(C,1),C.m(e,null)):C&&(re(),y(C,1,1,()=>{C=null}),se())},i(k){b||(S(n),S(s),S(T),S(w),S(C),b=!0)},o(k){y(n),y(s),y(T),y(w),y(C),b=!1},d(k){k&&d(e),~t&&m[t].d(),~r&&_[r].d(),T&&T.d(),w&&w.d(),C&&C.d()}}}function ir(i,e,l){let t,n,o,r,s,a,c,f,b,g,m=Q,u=()=>(m(),m=Ue(o,B=>l(5,g=B)),o),h,_;i.$$.on_destroy.push(()=>m());let{concept:I}=e;const T=Rl();Me(i,T,B=>l(20,_=B));let w,C,k,E;const P=Kl();Me(i,P,B=>l(6,h=B));function H(B){const Z=B.target.value;if(Z==="")l(7,w=null);else{const[te,ae]=Z.split("/");l(7,w={namespace:te,name:ae})}}function x(B){const Z=B.target.value;l(2,k=_t(Z))}function O(){if(s==null||E==null||w==null)return;gn(t,w.namespace,w.name).addSearch({path:[s],query:{type:"concept",concept_namespace:I.namespace,concept_name:I.concept_name,embedding:E}}),bn(rt(w.namespace,w.name))}function N(B){E=B,l(3,E),l(17,f),l(2,k),l(1,C),l(4,c),l(5,g),l(19,a)}return i.$$set=B=>{"concept"in B&&l(0,I=B.concept)},i.$$.update=()=>{if(i.$$.dirty[0]&1048576&&l(18,n=[_.embedding,"gte-small","gte-base","openai","sbert"]),i.$$.dirty[0]&192&&h.data&&h.data.length>0&&w===void 0&&l(7,w={namespace:h.data[0].namespace,name:h.data[0].dataset_name}),i.$$.dirty[0]&128&&u(l(11,o=Jl(w==null?void 0:w.namespace,w==null?void 0:w.name))),i.$$.dirty[0]&128&&l(10,r=w?`${w.namespace}/${w.name}`:""),i.$$.dirty[0]&32&&l(1,C=g.data),i.$$.dirty[0]&2&&l(19,a=C?qe(C).filter(B=>!xl(B,C)&&B.dtype!=null):[]),i.$$.dirty[0]&524288&&l(4,c=a.filter(B=>qe(B).some(Z=>Z.signal!=null&&qe(Z).some(te=>te.dtype==="embedding")))),i.$$.dirty[0]&20&&k!=null){const B=De(k);c.some(te=>De(te.path)===B)||l(2,k=void 0)}i.$$.dirty[0]&20&&c.length>0&&k==null&&l(2,k=c[0].path),i.$$.dirty[0]&4&&l(8,s=k?De(k):void 0),i.$$.dirty[0]&6&&l(17,f=k&&C?qe($l(C,k)).filter(B=>B.signal!=null&&qe(B).some(Z=>Z.dtype==="embedding")):[]),i.$$.dirty[0]&393216&&l(9,b=f.map(B=>B.signal.signal_name).sort((B,Z)=>{let te=n.indexOf(B),ae=n.indexOf(Z);return te===-1&&(te=n.length),ae===-1&&(ae=n.length),te-ae})),i.$$.dirty[0]&131080&&E!=null&&(f.some(Z=>Z.path.at(-1)===E)||l(3,E=void 0))},t=_n(),[I,C,k,E,c,g,h,w,s,b,r,o,T,P,H,x,O,f,n,a,_,N]}class rr extends he{constructor(e){super(),me(this,e,ir,nr,_e,{concept:0},null,[-1,-1])}}function Vl(i,e,l){const t=i.slice();return t[26]=e[l],t}function sr(i){const e=i.slice(),l=e[11].data.length;return e[25]=l,e}function Tl(i,e,l){const t=i.slice();t[29]=e[l];const n=t[3][t[29].name];t[30]=n;const o=t[10].isLoading&&t[10].variables&&t[10].variables[2]==t[29].name;return t[31]=o,t}function Cl(i){let e,l,t,n,o;return l=new Xn({props:{class:"ml-2"}}),{c(){e=D("div"),U(l.$$.fragment)},l(r){e=z(r,"DIV",{});var s=V(e);j(l.$$.fragment,s),s.forEach(d)},m(r,s){A(r,e,s),q(l,e,null),t=!0,n||(o=Ye($e.call(null,e,{text:"Your concepts are only visible to you when logged in with Google."})),n=!0)},i(r){t||(S(l.$$.fragment,r),t=!0)},o(r){y(l.$$.fragment,r),t=!1},d(r){r&&d(e),W(l),n=!1,o()}}}function yl(i){let e,l=i[0].description+"",t;return{c(){e=D("div"),t=R(l),this.h()},l(n){e=z(n,"DIV",{class:!0});var o=V(e);t=L(o,l),o.forEach(d),this.h()},h(){M(e,"class","text text-base text-gray-600")},m(n,o){A(n,e,o),p(e,t)},p(n,o){o[0]&1&&l!==(l=n[0].description+"")&&K(t,l)},d(n){n&&d(e)}}}function ar(i){let e,l;return{c(){e=D("div"),l=R("Try it"),this.h()},l(t){e=z(t,"DIV",{slot:!0,class:!0});var n=V(e);l=L(n,"Try it"),n.forEach(d),this.h()},h(){M(e,"slot","above"),M(e,"class","text-md font-semibold")},m(t,n){A(t,e,n),p(e,l)},p:Q,d(t){t&&d(e)}}}function or(i){let e,l;return e=new Li({props:{example:i[4],concept:i[0],slot:"below"}}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&16&&(o.example=t[4]),n[0]&1&&(o.concept=t[0]),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function Il(i){let e,l;return e=new Qe({props:{expanded:!0,$$slots:{below:[mr],above:[cr]},$$scope:{ctx:i}}}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1549|n[1]&8&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function cr(i){let e,l;return{c(){e=D("div"),l=R("Metrics"),this.h()},l(t){e=z(t,"DIV",{slot:!0,class:!0});var n=V(e);l=L(n,"Metrics"),n.forEach(d),this.h()},h(){M(e,"slot","above"),M(e,"class","text-md font-semibold")},m(t,n){A(t,e,n),p(e,l)},p:Q,d(t){t&&d(e)}}}function fr(i){let e,l;function t(){return i[19](i[29])}return e=new Ge({props:{icon:i[31]?st:Lt,class:"w-28 text-3xl",$$slots:{default:[hr]},$$scope:{ctx:i}}}),e.$on("click",t),{c(){U(e.$$.fragment)},l(n){j(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){i=n;const r={};o[0]&1536&&(r.icon=i[31]?st:Lt),o[1]&8&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(n){l||(S(e.$$.fragment,n),l=!0)},o(n){y(e.$$.fragment,n),l=!1},d(n){W(e,n)}}}function ur(i){let e,l=Ke[i[30].metrics.overall]+"",t,n,o,r,s;return{c(){e=D("div"),t=R(l),this.h()},l(a){e=z(a,"DIV",{class:!0});var c=V(e);t=L(c,l),c.forEach(d),this.h()},h(){M(e,"class",n="concept-score-pill cursor-default text-2xl font-light "+Ze[i[30].metrics.overall])},m(a,c){A(a,e,c),p(e,t),r||(s=Ye(o=$e.call(null,e,{component:Kt,props:{metrics:i[30].metrics}})),r=!0)},p(a,c){i=a,c[0]&520&&l!==(l=Ke[i[30].metrics.overall]+"")&&K(t,l),c[0]&520&&n!==(n="concept-score-pill cursor-default text-2xl font-light "+Ze[i[30].metrics.overall])&&M(e,"class",n),o&&lt(o.update)&&c[0]&520&&o.update.call(null,{component:Kt,props:{metrics:i[30].metrics}})},i:Q,o:Q,d(a){a&&d(e),r=!1,s()}}}function dr(i){let e,l;return e=new st({}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Q,i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function hr(i){let e;return{c(){e=R("Compute")},l(l){e=L(l,"Compute")},m(l,t){A(l,e,t)},d(l){l&&d(e)}}}function Ml(i){let e,l,t=i[29].name+"",n,o,r,s,a,c;const f=[dr,ur,fr],b=[];function g(m,u){return m[2].isLoading?0:m[30]&&m[30].metrics?1:2}return r=g(i),s=b[r]=f[r](i),{c(){e=D("div"),l=D("div"),n=R(t),o=G(),s.c(),a=G(),this.h()},l(m){e=z(m,"DIV",{class:!0});var u=V(e);l=z(u,"DIV",{class:!0});var h=V(l);n=L(h,t),h.forEach(d),o=X(u),s.l(u),a=X(u),u.forEach(d),this.h()},h(){M(l,"class","text-gray-500"),M(e,"class","flex w-36 flex-col items-center gap-y-2 rounded-md border border-b-0 border-gray-200 p-4 shadow-md")},m(m,u){A(m,e,u),p(e,l),p(l,n),p(e,o),b[r].m(e,null),p(e,a),c=!0},p(m,u){(!c||u[0]&512)&&t!==(t=m[29].name+"")&&K(n,t);let h=r;r=g(m),r===h?b[r].p(m,u):(re(),y(b[h],1,1,()=>{b[h]=null}),se(),s=b[r],s?s.p(m,u):(s=b[r]=f[r](m),s.c()),S(s,1),s.m(e,a))},i(m){c||(S(s),c=!0)},o(m){y(s),c=!1},d(m){m&&d(e),b[r].d()}}}function mr(i){let e,l,t=i[9].data,n=[];for(let r=0;r<t.length;r+=1)n[r]=Ml(Tl(i,t,r));const o=r=>y(n[r],1,1,()=>{n[r]=null});return{c(){e=D("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=z(r,"DIV",{slot:!0,class:!0});var s=V(e);for(let a=0;a<n.length;a+=1)n[a].l(s);s.forEach(d),this.h()},h(){M(e,"slot","below"),M(e,"class","model-metrics flex gap-x-4")},m(r,s){A(r,e,s);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);l=!0},p(r,s){if(s[0]&1549){t=r[9].data;let a;for(a=0;a<t.length;a+=1){const c=Tl(r,t,a);n[a]?(n[a].p(c,s),S(n[a],1)):(n[a]=Ml(c),n[a].c(),S(n[a],1),n[a].m(e,null))}for(re(),a=t.length;a<n.length;a+=1)o(a);se()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)S(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)y(n[s]);l=!1},d(r){r&&d(e),Le(n,r)}}}function _r(i){let e,l;return{c(){e=D("div"),l=R("Collect labels"),this.h()},l(t){e=z(t,"DIV",{slot:!0,class:!0});var n=V(e);l=L(n,"Collect labels"),n.forEach(d),this.h()},h(){M(e,"slot","above"),M(e,"class","text-md font-semibold")},m(t,n){A(t,e,n),p(e,l)},p:Q,d(t){t&&d(e)}}}function gr(i){let e,l;return e=new rr({props:{slot:"below",concept:i[0]}}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.concept=t[0]),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function pr(i){let e,l;return e=new Qe({props:{$$slots:{below:[wr],above:[kr]},$$scope:{ctx:i}}}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&2048|n[1]&8&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function br(i){let e,l;return e=new bt({props:{kind:"error",title:"Error",subtitle:i[11].error.message,hideCloseButton:!0}}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&2048&&(o.subtitle=t[11].error.message),e.$set(o)},i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function vr(i){let e,l;return e=new pt({}),{c(){U(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:Q,i(t){l||(S(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){W(e,t)}}}function kr(i){let e,l,t=i[25]+"",n,o,r=i[25]>1?"s":"",s;return{c(){e=D("div"),l=R("Used on "),n=R(t),o=R(" dataset"),s=R(r),this.h()},l(a){e=z(a,"DIV",{slot:!0,class:!0});var c=V(e);l=L(c,"Used on "),n=L(c,t),o=L(c," dataset"),s=L(c,r),c.forEach(d),this.h()},h(){M(e,"slot","above"),M(e,"class","text-md font-semibold")},m(a,c){A(a,e,c),p(e,l),p(e,n),p(e,o),p(e,s)},p(a,c){c[0]&2048&&t!==(t=a[25]+"")&&K(n,t),c[0]&2048&&r!==(r=a[25]>1?"s":"")&&K(s,r)},d(a){a&&d(e)}}}function Dl(i){let e,l,t,n=De(i[26].path)+"",o,r,s,a=i[26].namespace+"",c,f,b=i[26].name+"",g,m,u;return{c(){e=D("div"),l=R("field "),t=D("code"),o=R(n),r=R(` of dataset
            `),s=D("a"),c=R(a),f=R("/"),g=R(b),u=G(),this.h()},l(h){e=z(h,"DIV",{});var _=V(e);l=L(_,"field "),t=z(_,"CODE",{});var I=V(t);o=L(I,n),I.forEach(d),r=L(_,` of dataset
            `),s=z(_,"A",{href:!0});var T=V(s);c=L(T,a),f=L(T,"/"),g=L(T,b),T.forEach(d),u=X(_),_.forEach(d),this.h()},h(){M(s,"href",m=rt(i[26].namespace,i[26].name))},m(h,_){A(h,e,_),p(e,l),p(e,t),p(t,o),p(e,r),p(e,s),p(s,c),p(s,f),p(s,g),p(e,u)},p(h,_){_[0]&2048&&n!==(n=De(h[26].path)+"")&&K(o,n),_[0]&2048&&a!==(a=h[26].namespace+"")&&K(c,a),_[0]&2048&&b!==(b=h[26].name+"")&&K(g,b),_[0]&2048&&m!==(m=rt(h[26].namespace,h[26].name))&&M(s,"href",m)},d(h){h&&d(e)}}}function wr(i){let e,l=i[11].data,t=[];for(let n=0;n<l.length;n+=1)t[n]=Dl(Vl(i,l,n));return{c(){e=D("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=z(n,"DIV",{slot:!0,class:!0});var o=V(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(d),this.h()},h(){M(e,"slot","below"),M(e,"class","flex flex-col gap-y-3")},m(n,o){A(n,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(n,o){if(o[0]&2048){l=n[11].data;let r;for(r=0;r<l.length;r+=1){const s=Vl(n,l,r);t[r]?t[r].p(s,o):(t[r]=Dl(s),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},d(n){n&&d(e),Le(t,n)}}}function Er(i){let e,l,t,n=i[0].concept_name+"",o,r,s,a,c,f,b,g,m,u,h,_,I,T,w,C,k,E=i[1].length+"",P,H,x,O,N,B,Z,te,ae,F=i[5].length+"",ke,ue,Ee,pe,ce,v=i[8]==i[0].namespace&&Cl(),$=i[0].description&&yl(i);c=new Qe({props:{expanded:!0,$$slots:{below:[or],above:[ar]},$$scope:{ctx:i}}});let oe=i[9].data&&Il(i);g=new Qe({props:{$$slots:{below:[gr],above:[_r]},$$scope:{ctx:i}}});const Te=[vr,br,pr],be=[];function Be(Y,ee){return Y[11].isLoading?0:Y[11].isError?1:Y[11].data.length>0?2:-1}function Se(Y,ee){return ee===2?sr(Y):Y}return~(u=Be(i))&&(h=be[u]=Te[u](Se(i,u))),C=new kt({}),O=new Zt({props:{data:i[1]}}),O.$on("remove",i[20]),O.$on("add",i[21]),te=new vt({}),pe=new Zt({props:{data:i[5]}}),pe.$on("remove",i[22]),pe.$on("add",i[23]),{c(){e=D("div"),l=D("div"),t=D("div"),o=R(n),r=G(),v&&v.c(),s=G(),$&&$.c(),a=G(),U(c.$$.fragment),f=G(),oe&&oe.c(),b=G(),U(g.$$.fragment),m=G(),h&&h.c(),_=G(),I=D("div"),T=D("div"),w=D("span"),U(C.$$.fragment),k=R(" In concept ("),P=R(E),H=R(" examples)"),x=G(),U(O.$$.fragment),N=G(),B=D("div"),Z=D("span"),U(te.$$.fragment),ae=R("Not in concept ("),ke=R(F),ue=R(" examples)"),Ee=G(),U(pe.$$.fragment),this.h()},l(Y){e=z(Y,"DIV",{class:!0});var ee=V(e);l=z(ee,"DIV",{});var Pe=V(l);t=z(Pe,"DIV",{class:!0});var Ce=V(t);o=L(Ce,n),r=X(Ce),v&&v.l(Ce),Ce.forEach(d),s=X(Pe),$&&$.l(Pe),Pe.forEach(d),a=X(ee),j(c.$$.fragment,ee),f=X(ee),oe&&oe.l(ee),b=X(ee),j(g.$$.fragment,ee),m=X(ee),h&&h.l(ee),_=X(ee),I=z(ee,"DIV",{class:!0});var ye=V(I);T=z(ye,"DIV",{class:!0});var Ne=V(T);w=z(Ne,"SPAN",{class:!0});var Ve=V(w);j(C.$$.fragment,Ve),k=L(Ve," In concept ("),P=L(Ve,E),H=L(Ve," examples)"),Ve.forEach(d),x=X(Ne),j(O.$$.fragment,Ne),Ne.forEach(d),N=X(ye),B=z(ye,"DIV",{class:!0});var Fe=V(B);Z=z(Fe,"SPAN",{class:!0});var Oe=V(Z);j(te.$$.fragment,Oe),ae=L(Oe,"Not in concept ("),ke=L(Oe,F),ue=L(Oe," examples)"),Oe.forEach(d),Ee=X(Fe),j(pe.$$.fragment,Fe),Fe.forEach(d),ye.forEach(d),ee.forEach(d),this.h()},h(){M(t,"class","flex flex-row items-center text-2xl font-semibold"),M(w,"class","flex items-center gap-x-2 text-lg"),M(T,"class","flex w-0 flex-grow flex-col gap-y-4"),M(Z,"class","flex items-center gap-x-2 text-lg"),M(B,"class","flex w-0 flex-grow flex-col gap-y-4"),M(I,"class","flex gap-x-4"),M(e,"class","flex h-full w-full flex-col gap-y-8 px-10")},m(Y,ee){A(Y,e,ee),p(e,l),p(l,t),p(t,o),p(t,r),v&&v.m(t,null),p(l,s),$&&$.m(l,null),p(e,a),q(c,e,null),p(e,f),oe&&oe.m(e,null),p(e,b),q(g,e,null),p(e,m),~u&&be[u].m(e,null),p(e,_),p(e,I),p(I,T),p(T,w),q(C,w,null),p(w,k),p(w,P),p(w,H),p(T,x),q(O,T,null),p(I,N),p(I,B),p(B,Z),q(te,Z,null),p(Z,ae),p(Z,ke),p(Z,ue),p(B,Ee),q(pe,B,null),ce=!0},p(Y,ee){(!ce||ee[0]&1)&&n!==(n=Y[0].concept_name+"")&&K(o,n),Y[8]==Y[0].namespace?v?ee[0]&257&&S(v,1):(v=Cl(),v.c(),S(v,1),v.m(t,null)):v&&(re(),y(v,1,1,()=>{v=null}),se()),Y[0].description?$?$.p(Y,ee):($=yl(Y),$.c(),$.m(l,null)):$&&($.d(1),$=null);const Pe={};ee[0]&17|ee[1]&8&&(Pe.$$scope={dirty:ee,ctx:Y}),c.$set(Pe),Y[9].data?oe?(oe.p(Y,ee),ee[0]&512&&S(oe,1)):(oe=Il(Y),oe.c(),S(oe,1),oe.m(e,b)):oe&&(re(),y(oe,1,1,()=>{oe=null}),se());const Ce={};ee[0]&1|ee[1]&8&&(Ce.$$scope={dirty:ee,ctx:Y}),g.$set(Ce);let ye=u;u=Be(Y),u===ye?~u&&be[u].p(Se(Y,u),ee):(h&&(re(),y(be[ye],1,1,()=>{be[ye]=null}),se()),~u?(h=be[u],h?h.p(Se(Y,u),ee):(h=be[u]=Te[u](Se(Y,u)),h.c()),S(h,1),h.m(e,_)):h=null),(!ce||ee[0]&2)&&E!==(E=Y[1].length+"")&&K(P,E);const Ne={};ee[0]&2&&(Ne.data=Y[1]),O.$set(Ne),(!ce||ee[0]&32)&&F!==(F=Y[5].length+"")&&K(ke,F);const Ve={};ee[0]&32&&(Ve.data=Y[5]),pe.$set(Ve)},i(Y){ce||(S(v),S(c.$$.fragment,Y),S(oe),S(g.$$.fragment,Y),S(h),S(C.$$.fragment,Y),S(O.$$.fragment,Y),S(te.$$.fragment,Y),S(pe.$$.fragment,Y),ce=!0)},o(Y){y(v),y(c.$$.fragment,Y),y(oe),y(g.$$.fragment,Y),y(h),y(C.$$.fragment,Y),y(O.$$.fragment,Y),y(te.$$.fragment,Y),y(pe.$$.fragment,Y),ce=!1},d(Y){Y&&d(e),v&&v.d(),$&&$.d(),W(c),oe&&oe.d(),W(g),~u&&be[u].d(),W(C),W(O),W(te),W(pe)}}}function Sr(i,e,l){let t,n,o,r,s,a,c,f,b=Q,g=()=>(b(),b=Ue(n,F=>l(2,f=F)),n),m,u,h,_,I=Q,T=()=>(I(),I=Ue(o,F=>l(11,_=F)),o);i.$$.on_destroy.push(()=>b()),i.$$.on_destroy.push(()=>I());let{concept:w}=e;const C=en();Me(i,C,F=>l(18,m=F));const k=gt();Me(i,k,F=>l(24,c=F));const E=Hl();Me(i,E,F=>l(9,u=F));let P={};const H=tn();Me(i,H,F=>l(10,h=F));function x(F){!w.namespace||!w.concept_name||c.mutate([w.namespace,w.concept_name,{remove:[F]}])}function O(F,ke){!w.namespace||!w.concept_name||c.mutate([w.namespace,w.concept_name,{insert:[{text:F,label:ke}]}])}const N=F=>h.mutate([w.namespace,w.concept_name,F.name]),B=F=>x(F.detail),Z=F=>O(F.detail,!0),te=F=>x(F.detail),ae=F=>O(F.detail,!1);return i.$$set=F=>{"concept"in F&&l(0,w=F.concept)},i.$$.update=()=>{var F,ke;if(i.$$.dirty[0]&262144&&l(8,t=(ke=(F=m.data)==null?void 0:F.user)==null?void 0:ke.id),i.$$.dirty[0]&1&&g(l(7,n=ln(w.namespace,w.concept_name))),i.$$.dirty[0]&4&&f.data){l(3,P={});for(const ue of f.data)l(3,P[ue.embedding_name]=ue,P)}i.$$.dirty[0]&1&&T(l(6,o=nn(w.namespace,w.concept_name))),i.$$.dirty[0]&1&&l(1,r=Object.values(w.data).filter(ue=>ue.label==!0)),i.$$.dirty[0]&1&&l(5,s=Object.values(w.data).filter(ue=>ue.label==!1)),i.$$.dirty[0]&2&&l(4,a=r[Math.floor(Math.random()*r.length)])},[w,r,f,P,a,s,o,n,t,u,h,_,C,k,E,H,x,O,m,N,B,Z,te,ae]}class Nr extends he{constructor(e){super(),me(this,e,Sr,Er,_e,{concept:0},null,[-1,-1])}}export{Nr as C,oi as E,Pr as I,zi as S,qn as T,Lt as a,Vn as b};
