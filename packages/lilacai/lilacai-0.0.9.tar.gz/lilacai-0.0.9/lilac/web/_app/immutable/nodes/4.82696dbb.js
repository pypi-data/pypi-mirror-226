import{S as we,i as ke,s as pe,G as mt,E as ce,k as M,a as Q,y as R,l as z,m as S,h,c as W,z as L,n as V,H as fe,I as st,b as C,J as v,A as q,K as Ce,a9 as Et,aa as Ht,L as _t,M as gt,N as pt,O as Ae,g as _,d as p,B as O,P as Ye,D as Se,C as bt,R as he,T as sr,t as $r,j as Sr,F as Ee,q as J,r as G,u as ue,Q as Ue,w as Re,ab as ar,_ as be,$ as ve,a0 as Ie,a1 as X,e as ne,o as yr,Z as Er,p as We,W as or,a6 as Ne,a8 as He,v as x,f as ee,a3 as Fe,a5 as Pe,X as vt,Y as wt,ac as kt,ad as Dr,U as Je,V as Ge,ae as Ir,a4 as at,af as ot,x as ft,ag as St,ah as Vr}from"../chunks/index.0caa4e13.js";import{g as yt}from"../chunks/navigation.41fc86d0.js";import{h as Te,f as Ve,b as Lt,s as De,p as jt,a as Cr,c as xe,i as Nr,e as Oe,g as ht,j as Nt,k as Tr,L as Ze,l as Mr,m as tt,n as zr,o as fr,r as Fr,U as Ut,C as ll,t as ur,q as Ar,u as Br,v as lt,w as Dt,x as Rt,O as Pr,y as dt,z as Rr,A as qr,B as It,V as cr,D as Or,E as Hr,F as Lr,P as dr,G as jr,H as Ur,I as Yr,J as Qr,K as Wr}from"../chunks/Page.41f539ef.js";import{e as nt,f as Zr,h as qe,t as Ke,a as Xe,E as Yt,i as Qe,j as Qt,k as Jr,S as Gr,b as Kr,l as Xr,m as xr,n as Tt,o as ei,p as ti,q as li,r as ni,s as nl,u as qt,v as ri,w as ii,x as si,g as ai,y as oi,z as fi,I as Vt,A as Wt,B as ui,D as ut,F as ct,G as hr,M as mr,H as _r,J as gr,K as ci,C as di,L as hi,N as mi,O as _i,P as gi,Q as pi,R as bi,U as vi,T as wi}from"../chunks/ConceptView.c57d361c.js";import{d as rl,w as it}from"../chunks/index.5c606f22.js";import{C as ki,S as Le,n as $i,I as Zt,d as Ot}from"../chunks/utils.1c6f7d43.js";import{C as Si,S as Mt,a as $t}from"../chunks/SelectItem.6bf0ffa0.js";import{M as Jt,g as pr}from"../chunks/urlHashStore.65424eb1.js";import{q as Gt,S as yi}from"../chunks/signalQueries.c8eb9e03.js";import{B as et,a as zt}from"../chunks/taskMonitoringStore.1f1b6bec.js";import{g as br}from"../chunks/settingsStore.cc81ce84.js";import{C as Ei}from"../chunks/ComboBox.b8eddb0b.js";import{S as Di}from"../chunks/Settings.9cb8d7a6.js";const Ii=i=>({}),il=i=>({});function sl(i){let e=i[3].label+"",l;return{c(){l=J(e)},l(t){l=G(t,e)},m(t,n){C(t,l,n)},p(t,n){n[0]&8&&e!==(e=t[3].label+"")&&ue(l,e)},d(t){t&&h(l)}}}function Vi(i){let e,l,t,n,o,r,s,a,f,u,c,d,m=i[3]&&sl(i);o=new Si({props:{"aria-hidden":"true",title:i[1]}});const g=i[20].default,b=mt(g,i,i[19],null);let w=[{role:"navigation"},i[10]],I={};for(let y=0;y<w.length;y+=1)I=ce(I,w[y]);const T=i[20].content,$=mt(T,i,i[19],il);return{c(){e=M("div"),l=M("div"),t=M("a"),m&&m.c(),n=Q(),R(o.$$.fragment),s=Q(),a=M("ul"),b&&b.c(),f=Q(),$&&$.c(),this.h()},l(y){e=z(y,"DIV",{role:!0});var F=S(e);l=z(F,"DIV",{role:!0,tabindex:!0,"aria-label":!0});var A=S(l);t=z(A,"A",{tabindex:!0,href:!0});var E=S(t);m&&m.l(E),E.forEach(h),n=W(A),L(o.$$.fragment,A),A.forEach(h),s=W(F),a=z(F,"UL",{role:!0});var D=S(a);b&&b.l(D),D.forEach(h),F.forEach(h),f=W(y),$&&$.l(y),this.h()},h(){V(t,"tabindex","-1"),V(t,"href",i[2]),fe(t,"bx--tabs-trigger-text",!0),V(l,"role","listbox"),V(l,"tabindex","0"),V(l,"aria-label",r=i[11]["aria-label"]||"listbox"),fe(l,"bx--tabs-trigger",!0),V(a,"role","tablist"),fe(a,"bx--tabs__nav",!0),fe(a,"bx--tabs__nav--hidden",i[5]),st(e,I),fe(e,"bx--tabs",!0),fe(e,"bx--tabs--container",i[0]==="container")},m(y,F){C(y,e,F),v(e,l),v(l,t),m&&m.m(t,null),v(l,n),q(o,l,null),v(e,s),v(e,a),b&&b.m(a,null),i[26](a),C(y,f,F),$&&$.m(y,F),u=!0,c||(d=[Ce(t,"click",Et(i[22])),Ce(t,"click",Ht(Et(i[23]))),Ce(l,"click",i[24]),Ce(l,"keypress",i[21]),Ce(l,"keypress",i[25])],c=!0)},p(y,F){y[3]?m?m.p(y,F):(m=sl(y),m.c(),m.m(t,null)):m&&(m.d(1),m=null),(!u||F[0]&4)&&V(t,"href",y[2]);const A={};F[0]&2&&(A.title=y[1]),o.$set(A),(!u||F[0]&2048&&r!==(r=y[11]["aria-label"]||"listbox"))&&V(l,"aria-label",r),b&&b.p&&(!u||F[0]&524288)&&_t(b,g,y,y[19],u?pt(g,y[19],F,null):gt(y[19]),null),(!u||F[0]&32)&&fe(a,"bx--tabs__nav--hidden",y[5]),st(e,I=Ae(w,[{role:"navigation"},F[0]&1024&&y[10]])),fe(e,"bx--tabs",!0),fe(e,"bx--tabs--container",y[0]==="container"),$&&$.p&&(!u||F[0]&524288)&&_t($,T,y,y[19],u?pt(T,y[19],F,Ii):gt(y[19]),il)},i(y){u||(_(o.$$.fragment,y),_(b,y),_($,y),u=!0)},o(y){p(o.$$.fragment,y),p(b,y),p($,y),u=!1},d(y){y&&h(e),m&&m.d(),O(o),b&&b.d(y),i[26](null),y&&h(f),$&&$.d(y),c=!1,Ye(d)}}}function Ci(i,e,l){let t,n;const o=["selected","type","autoWidth","iconDescription","triggerHref"];let r=Se(e,o),s,a,f,u,{$$slots:c={},$$scope:d}=e,{selected:m=0}=e,{type:g="default"}=e,{autoWidth:b=!1}=e,{iconDescription:w="Show menu options"}=e,{triggerHref:I="#"}=e;const T=bt(),$=it([]);he(i,$,re=>l(18,f=re));const y=rl($,re=>re.reduce((oe,de)=>({...oe,[de.id]:de}),{}));he(i,y,re=>l(28,u=re));const F=it(b),A=it(void 0);he(i,A,re=>l(16,s=re));const E=it([]);he(i,E,re=>l(17,a=re));const D=rl(E,re=>re.reduce((oe,de)=>({...oe,[de.id]:de}),{})),P=it(void 0);let k=null;sr("Tabs",{tabs:$,contentById:D,selectedTab:A,selectedContent:P,useAutoWidth:F,add:re=>{$.update(oe=>[...oe,{...re,index:oe.length}])},addContent:re=>{E.update(oe=>[...oe,{...re,index:oe.length}])},update:re=>{l(14,B=u[re].index)},change:async re=>{let oe=B+re;oe<0?oe=f.length-1:oe>=f.length&&(oe=0);let de=f[oe].disabled;for(;de;)oe=oe+re,oe<0?oe=f.length-1:oe>=f.length&&(oe=0),de=f[oe].disabled;l(14,B=oe),await $r();const Be=k==null?void 0:k.querySelectorAll("[role='tab']")[B];Be==null||Be.focus()}}),Sr(()=>{l(12,m=B),Y>-1&&Y!==B&&T("change",B),Y=B});let N=!0,B=m,Y=-1;function U(re){Ue.call(this,i,re)}function H(re){Ue.call(this,i,re)}const Z=()=>{l(5,N=!N)},j=()=>{l(5,N=!N)},se=()=>{l(5,N=!N)};function te(re){Re[re?"unshift":"push"](()=>{k=re,l(4,k)})}return i.$$set=re=>{l(11,e=ce(ce({},e),Ee(re))),l(10,r=Se(e,o)),"selected"in re&&l(12,m=re.selected),"type"in re&&l(0,g=re.type),"autoWidth"in re&&l(13,b=re.autoWidth),"iconDescription"in re&&l(1,w=re.iconDescription),"triggerHref"in re&&l(2,I=re.triggerHref),"$$scope"in re&&l(19,d=re.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&4096&&l(14,B=m),i.$$.dirty[0]&278528&&l(3,t=f[B]||void 0),i.$$.dirty[0]&147456&&l(15,n=a[B]||void 0),i.$$.dirty[0]&32776&&(t&&A.set(t.id),n&&P.set(n.id)),i.$$.dirty[0]&65536&&s&&l(5,N=!0),i.$$.dirty[0]&8192&&F.set(b)},e=Ee(e),[g,w,I,t,k,N,$,y,A,E,r,e,m,b,B,n,s,a,f,d,c,U,H,Z,j,se,te]}class Ni extends we{constructor(e){super(),ke(this,e,Ci,Vi,pe,{selected:12,type:0,autoWidth:13,iconDescription:1,triggerHref:2},null,[-1,-1])}}const Ti=Ni;function Mi(i){let e;return{c(){e=J(i[1])},l(l){e=G(l,i[1])},m(l,t){C(l,e,t)},p(l,t){t&2&&ue(e,l[1])},d(l){l&&h(e)}}}function zi(i){let e,l,t,n,o,r,s;const a=i[15].default,f=mt(a,i,i[14],null),u=f||Mi(i);let c=[{tabindex:"-1"},{role:"presentation"},i[12]],d={};for(let m=0;m<c.length;m+=1)d=ce(d,c[m]);return{c(){e=M("li"),l=M("a"),u&&u.c(),this.h()},l(m){e=z(m,"LI",{tabindex:!0,role:!0});var g=S(e);l=z(g,"A",{role:!0,tabindex:!0,"aria-selected":!0,"aria-disabled":!0,id:!0,href:!0,style:!0});var b=S(l);u&&u.l(b),b.forEach(h),g.forEach(h),this.h()},h(){V(l,"role","tab"),V(l,"tabindex",t=i[3]?"-1":i[4]),V(l,"aria-selected",i[6]),V(l,"aria-disabled",i[3]),V(l,"id",i[5]),V(l,"href",i[2]),V(l,"style",n=i[7]?"width: auto":void 0),fe(l,"bx--tabs__nav-link",!0),st(e,d),fe(e,"bx--tabs__nav-item",!0),fe(e,"bx--tabs__nav-item--disabled",i[3]),fe(e,"bx--tabs__nav-item--selected",i[6])},m(m,g){C(m,e,g),v(e,l),u&&u.m(l,null),i[20](l),o=!0,r||(s=[Ce(e,"click",Et(i[16])),Ce(e,"click",Et(i[21])),Ce(e,"mouseover",i[17]),Ce(e,"mouseenter",i[18]),Ce(e,"mouseleave",i[19]),Ce(e,"keydown",i[22])],r=!0)},p(m,[g]){f?f.p&&(!o||g&16384)&&_t(f,a,m,m[14],o?pt(a,m[14],g,null):gt(m[14]),null):u&&u.p&&(!o||g&2)&&u.p(m,o?g:-1),(!o||g&24&&t!==(t=m[3]?"-1":m[4]))&&V(l,"tabindex",t),(!o||g&64)&&V(l,"aria-selected",m[6]),(!o||g&8)&&V(l,"aria-disabled",m[3]),(!o||g&32)&&V(l,"id",m[5]),(!o||g&4)&&V(l,"href",m[2]),(!o||g&128&&n!==(n=m[7]?"width: auto":void 0))&&V(l,"style",n),st(e,d=Ae(c,[{tabindex:"-1"},{role:"presentation"},g&4096&&m[12]])),fe(e,"bx--tabs__nav-item",!0),fe(e,"bx--tabs__nav-item--disabled",m[3]),fe(e,"bx--tabs__nav-item--selected",m[6])},i(m){o||(_(u,m),o=!0)},o(m){p(u,m),o=!1},d(m){m&&h(e),u&&u.d(m),i[20](null),r=!1,Ye(s)}}}function Fi(i,e,l){let t;const n=["label","href","disabled","tabindex","id","ref"];let o=Se(e,n),r,s,{$$slots:a={},$$scope:f}=e,{label:u=""}=e,{href:c="#"}=e,{disabled:d=!1}=e,{tabindex:m="0"}=e,{id:g="ccs-"+Math.random().toString(36)}=e,{ref:b=null}=e;const{selectedTab:w,useAutoWidth:I,add:T,update:$,change:y}=ar("Tabs");he(i,w,B=>l(13,r=B)),he(i,I,B=>l(7,s=B)),T({id:g,label:u,disabled:d});function F(B){Ue.call(this,i,B)}function A(B){Ue.call(this,i,B)}function E(B){Ue.call(this,i,B)}function D(B){Ue.call(this,i,B)}function P(B){Re[B?"unshift":"push"](()=>{b=B,l(0,b)})}const k=()=>{d||$(g)},N=({key:B})=>{d||(B==="ArrowRight"?y(1):B==="ArrowLeft"?y(-1):(B===" "||B==="Enter")&&$(g))};return i.$$set=B=>{e=ce(ce({},e),Ee(B)),l(12,o=Se(e,n)),"label"in B&&l(1,u=B.label),"href"in B&&l(2,c=B.href),"disabled"in B&&l(3,d=B.disabled),"tabindex"in B&&l(4,m=B.tabindex),"id"in B&&l(5,g=B.id),"ref"in B&&l(0,b=B.ref),"$$scope"in B&&l(14,f=B.$$scope)},i.$$.update=()=>{i.$$.dirty&8224&&l(6,t=r===g)},[b,u,c,d,m,g,t,s,w,I,$,y,o,r,f,a,F,A,E,D,P,k,N]}class Ai extends we{constructor(e){super(),ke(this,e,Fi,zi,pe,{label:1,href:2,disabled:3,tabindex:4,id:5,ref:0})}}const Bt=Ai;function Bi(i){let e,l,t,n;const o=i[12].default,r=mt(o,i,i[11],null);let s=[{role:"tabpanel"},{"aria-labelledby":i[1]},{"aria-hidden":l=!i[2]},{hidden:t=i[2]?void 0:""},{id:i[0]},i[6]],a={};for(let f=0;f<s.length;f+=1)a=ce(a,s[f]);return{c(){e=M("div"),r&&r.c(),this.h()},l(f){e=z(f,"DIV",{role:!0,"aria-labelledby":!0,"aria-hidden":!0,id:!0});var u=S(e);r&&r.l(u),u.forEach(h),this.h()},h(){st(e,a),fe(e,"bx--tab-content",!0)},m(f,u){C(f,e,u),r&&r.m(e,null),n=!0},p(f,[u]){r&&r.p&&(!n||u&2048)&&_t(r,o,f,f[11],n?pt(o,f[11],u,null):gt(f[11]),null),st(e,a=Ae(s,[{role:"tabpanel"},(!n||u&2)&&{"aria-labelledby":f[1]},(!n||u&4&&l!==(l=!f[2]))&&{"aria-hidden":l},(!n||u&4&&t!==(t=f[2]?void 0:""))&&{hidden:t},(!n||u&1)&&{id:f[0]},u&64&&f[6]])),fe(e,"bx--tab-content",!0)},i(f){n||(_(r,f),n=!0)},o(f){p(r,f),n=!1},d(f){f&&h(e),r&&r.d(f)}}}function Pi(i,e,l){let t,n,o;const r=["id"];let s=Se(e,r),a,f,u,{$$slots:c={},$$scope:d}=e,{id:m="ccs-"+Math.random().toString(36)}=e;const{selectedContent:g,addContent:b,tabs:w,contentById:I}=ar("Tabs");return he(i,g,T=>l(10,u=T)),he(i,w,T=>l(8,a=T)),he(i,I,T=>l(9,f=T)),b({id:m}),i.$$set=T=>{e=ce(ce({},e),Ee(T)),l(6,s=Se(e,r)),"id"in T&&l(0,m=T.id),"$$scope"in T&&l(11,d=T.$$scope)},i.$$.update=()=>{i.$$.dirty&1025&&l(2,t=u===m),i.$$.dirty&513&&l(7,n=f[m].index),i.$$.dirty&384&&l(1,o=a[n].id)},[m,o,t,g,w,I,s,n,a,f,u,d,c]}class Ri extends we{constructor(e){super(),ke(this,e,Pi,Bi,pe,{id:0})}}const Pt=Ri;function al(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function qi(i){let e,l,t=i[1]&&al(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=ve(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),Ie(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=al(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=Ae(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function Oi(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class Hi extends we{constructor(e){super(),ke(this,e,Oi,qi,pe,{size:0,title:1})}}function ol(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Li(i){let e,l,t=i[1]&&ol(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=ve(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M24 12L16 22 8 12z"),Ie(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=ol(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=Ae(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function ji(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class Ui extends we{constructor(e){super(),ke(this,e,ji,Li,pe,{size:0,title:1})}}function fl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Yi(i){let e,l,t=i[1]&&fl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=ve(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M10 16L20 6 21.4 7.4 12.8 16 21.4 24.6 20 26z"),Ie(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=fl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=Ae(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function Qi(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class Wi extends we{constructor(e){super(),ke(this,e,Qi,Yi,pe,{size:0,title:1})}}function ul(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Zi(i){let e,l,t=i[1]&&ul(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=ve(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"),Ie(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=ul(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=Ae(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function Ji(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class Gi extends we{constructor(e){super(),ke(this,e,Ji,Zi,pe,{size:0,title:1})}}function cl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function Ki(i){let e,l,t=i[1]&&cl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=ve(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M26 24v4H6V24H4v4H4a2 2 0 002 2H26a2 2 0 002-2h0V24zM26 14L24.59 12.59 17 20.17 17 2 15 2 15 20.17 7.41 12.59 6 14 16 24 26 14z"),Ie(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=cl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=Ae(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function Xi(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class xi extends we{constructor(e){super(),ke(this,e,Xi,Ki,pe,{size:0,title:1})}}function dl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function es(i){let e,l,t=i[1]&&dl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=ve(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M16 7a3 3 0 113-3A3.0033 3.0033 0 0116 7zm0-4a1 1 0 101 1A1.001 1.001 0 0016 3zM11 30a3 3 0 113-3A3.0033 3.0033 0 0111 30zm0-4a1 1 0 101 1A1.001 1.001 0 0011 26zM7 11a3 3 0 113-3A3.0033 3.0033 0 017 11zM7 7A1 1 0 108 8 1.001 1.001 0 007 7zM21 30a3 3 0 113-3A3.0033 3.0033 0 0121 30zm0-4a1 1 0 101 1A1.001 1.001 0 0021 26zM25 11a3 3 0 113-3A3.0033 3.0033 0 0125 11zm0-4a1 1 0 101 1A1.001 1.001 0 0025 7zM4 21a3 3 0 113-3A3.0033 3.0033 0 014 21zm0-4a1 1 0 101 1A1.001 1.001 0 004 17zM28 21a3 3 0 113-3A3.0033 3.0033 0 0128 21zm0-4a1 1 0 101 1A1.001 1.001 0 0028 17zM16 22a6 6 0 116-6A6.0069 6.0069 0 0116 22zm0-10a4 4 0 104 4A4.0045 4.0045 0 0016 12z"),Ie(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=dl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=Ae(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function ts(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class ls extends we{constructor(e){super(),ke(this,e,ts,es,pe,{size:0,title:1})}}function hl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function ns(i){let e,l,t,n=i[1]&&hl(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=ce(r,o[s]);return{c(){e=be("svg"),n&&n.c(),l=be("path"),t=be("path"),this.h()},l(s){e=ve(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=S(e);n&&n.l(a),l=ve(a,"path",{d:!0}),S(l).forEach(h),t=ve(a,"path",{d:!0}),S(t).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M17 22L17 14 13 14 13 16 15 16 15 22 12 22 12 24 20 24 20 22 17 22zM16 8a1.5 1.5 0 101.5 1.5A1.5 1.5 0 0016 8z"),V(t,"d","M16,30A14,14,0,1,1,30,16,14,14,0,0,1,16,30ZM16,4A12,12,0,1,0,28,16,12,12,0,0,0,16,4Z"),Ie(e,r)},m(s,a){C(s,e,a),n&&n.m(e,null),v(e,l),v(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=hl(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),Ie(e,r=Ae(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:X,o:X,d(s){s&&h(e),n&&n.d()}}}function rs(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class Ct extends we{constructor(e){super(),ke(this,e,rs,ns,pe,{size:0,title:1})}}function ml(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function is(i){let e,l,t=i[1]&&ml(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=ve(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M30 6L26 6 26 2 24 2 24 6 20 6 20 8 24 8 24 12 26 12 26 8 30 8 30 6zM24 28.5859l-5.9751-5.9751a9.0234 9.0234 0 10-1.4141 1.4141L22.5859 30zM4 17a7 7 0 117 7A7.0078 7.0078 0 014 17z"),Ie(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=ml(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=Ae(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function ss(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class as extends we{constructor(e){super(),ke(this,e,ss,is,pe,{size:0,title:1})}}function _l(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function os(i){let e,l,t=i[1]&&_l(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=ve(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M23,20a5,5,0,0,0-3.89,1.89L11.8,17.32a4.46,4.46,0,0,0,0-2.64l7.31-4.57A5,5,0,1,0,18,7a4.79,4.79,0,0,0,.2,1.32l-7.31,4.57a5,5,0,1,0,0,6.22l7.31,4.57A4.79,4.79,0,0,0,18,25a5,5,0,1,0,5-5ZM23,4a3,3,0,1,1-3,3A3,3,0,0,1,23,4ZM7,19a3,3,0,1,1,3-3A3,3,0,0,1,7,19Zm16,9a3,3,0,1,1,3-3A3,3,0,0,1,23,28Z"),Ie(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=_l(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=Ae(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function fs(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class us extends we{constructor(e){super(),ke(this,e,fs,os,pe,{size:0,title:1})}}function gl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function cs(i){let e,l,t=i[1]&&gl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=ve(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 18H16V20H2zM6 12H16V14H6zM10 6H16V8H10z"),Ie(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=gl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=Ae(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function ds(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class Kt extends we{constructor(e){super(),ke(this,e,ds,cs,pe,{size:0,title:1})}}function pl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function hs(i){let e,l,t=i[1]&&pl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=ve(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 6H16V8H2zM6 12H16V14H6zM10 18H16V20H10z"),Ie(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=pl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=Ae(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function ms(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class Xt extends we{constructor(e){super(),ke(this,e,ms,hs,pe,{size:0,title:1})}}function bl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function _s(i){let e,l,t=i[1]&&bl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ce(o,n[r]);return{c(){e=be("svg"),t&&t.c(),l=be("path"),this.h()},l(r){e=ve(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=S(e);t&&t.l(s),l=ve(s,"path",{d:!0}),S(l).forEach(h),s.forEach(h),this.h()},h(){V(l,"d","M30 19.415L28.586 18 25 21.587 21.414 18 20 19.415 23.586 23 20 26.586 21.414 28 25 24.414 28.586 28 30 26.586 26.414 23 30 19.415zM10 18H16V20H10zM2 6H16V8H2zM6 12H16V14H6z"),Ie(e,o)},m(r,s){C(r,e,s),t&&t.m(e,null),v(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=bl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ie(e,o=Ae(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:X,o:X,d(r){r&&h(e),t&&t.d()}}}function gs(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class ps extends we{constructor(e){super(),ke(this,e,gs,_s,pe,{size:0,title:1})}}function vl(i){let e,l;return{c(){e=be("title"),l=J(i[1])},l(t){e=ve(t,"title",{});var n=S(e);l=G(n,i[1]),n.forEach(h)},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&2&&ue(l,t[1])},d(t){t&&h(e)}}}function bs(i){let e,l,t,n=i[1]&&vl(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=ce(r,o[s]);return{c(){e=be("svg"),n&&n.c(),l=be("path"),t=be("path"),this.h()},l(s){e=ve(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=S(e);n&&n.l(a),l=ve(a,"path",{d:!0}),S(l).forEach(h),t=ve(a,"path",{d:!0}),S(t).forEach(h),a.forEach(h),this.h()},h(){V(l,"d","M30.94,15.66A16.69,16.69,0,0,0,16,5,16.69,16.69,0,0,0,1.06,15.66a1,1,0,0,0,0,.68A16.69,16.69,0,0,0,16,27,16.69,16.69,0,0,0,30.94,16.34,1,1,0,0,0,30.94,15.66ZM16,25c-5.3,0-10.9-3.93-12.93-9C5.1,10.93,10.7,7,16,7s10.9,3.93,12.93,9C26.9,21.07,21.3,25,16,25Z"),V(t,"d","M16,10a6,6,0,1,0,6,6A6,6,0,0,0,16,10Zm0,10a4,4,0,1,1,4-4A4,4,0,0,1,16,20Z"),Ie(e,r)},m(s,a){C(s,e,a),n&&n.m(e,null),v(e,l),v(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=vl(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),Ie(e,r=Ae(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:X,o:X,d(s){s&&h(e),n&&n.d()}}}function vs(i,e,l){let t,n;const o=["size","title"];let r=Se(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ee(f))),l(3,r=Se(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ee(e),[s,a,n,r,t]}class ws extends we{constructor(e){super(),ke(this,e,vs,bs,pe,{size:0,title:1})}}function wl(i){let e;return{c(){e=M("div"),this.h()},l(l){e=z(l,"DIV",{id:!0,style:!0}),S(e).forEach(h),this.h()},h(){V(e,"id","svelte-infinite-scroll"),We(e,"width","0")},m(l,t){C(l,e,t),i[11](e)},p:X,d(l){l&&h(e),i[11](null)}}}function ks(i){let e,l=!i[1]&&!i[0]&&wl(i);return{c(){l&&l.c(),e=ne()},l(t){l&&l.l(t),e=ne()},m(t,n){l&&l.m(t,n),C(t,e,n)},p(t,[n]){!t[1]&&!t[0]?l?l.p(t,n):(l=wl(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:X,o:X,d(t){l&&l.d(t),t&&h(e)}}}function $s(i,e,l){let{threshold:t=0}=e,{horizontal:n=!1}=e,{elementScroll:o=null}=e,{hasMore:r=!0}=e,{reverse:s=!1}=e,{window:a=!1}=e;const f=bt();let u=!1,c,d,m,g;const b=T=>{if(!r)return;const $=T.target;w($,s,n)<=t?(!u&&r&&(f("loadMore"),l(8,d=$.scrollHeight),l(9,m=$.scrollTop)),l(7,u=!0)):l(7,u=!1)},w=(T,$,y)=>{const F=T.documentElement?T.documentElement:T;return $?y?F.scrollLeft:F.scrollTop:y?F.scrollWidth-F.clientWidth-F.scrollLeft:F.scrollHeight-F.clientHeight-F.scrollTop};yr(()=>{a?l(10,g=document):o?l(10,g=o):l(10,g=c.parentNode)}),Er(()=>{g&&(g.removeEventListener("scroll",b),g.removeEventListener("resize",b))});function I(T){Re[T?"unshift":"push"](()=>{c=T,l(2,c)})}return i.$$set=T=>{"threshold"in T&&l(3,t=T.threshold),"horizontal"in T&&l(4,n=T.horizontal),"elementScroll"in T&&l(0,o=T.elementScroll),"hasMore"in T&&l(5,r=T.hasMore),"reverse"in T&&l(6,s=T.reverse),"window"in T&&l(1,a=T.window)},i.$$.update=()=>{i.$$.dirty&1088&&g&&(s&&l(10,g.scrollTop=g.scrollHeight,g),g.addEventListener("scroll",b),g.addEventListener("resize",b)),i.$$.dirty&1984&&u&&s&&l(10,g.scrollTop=g.scrollHeight-d+m,g)},[o,a,c,t,n,r,s,u,d,m,g,I]}class Ss extends we{constructor(e){super(),ke(this,e,$s,ks,pe,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function ys(i){let e,l,t,n,o,r,s,a;t=new Zr({});const f=i[3].default,u=mt(f,i,i[6],null);return{c(){e=M("div"),l=M("button"),R(t.$$.fragment),n=Q(),o=M("span"),u&&u.c(),this.h()},l(c){e=z(c,"DIV",{class:!0});var d=S(e);l=z(d,"BUTTON",{class:!0});var m=S(l);L(t.$$.fragment,m),m.forEach(h),n=W(d),o=z(d,"SPAN",{class:!0});var g=S(o);u&&u.l(g),g.forEach(h),d.forEach(h),this.h()},h(){V(l,"class","p-0 opacity-50 hover:opacity-100"),V(o,"class","truncate"),V(e,"class","removable-tag flex items-center gap-x-1")},m(c,d){C(c,e,d),v(e,l),q(t,l,null),v(e,n),v(e,o),u&&u.m(o,null),r=!0,s||(a=Ce(l,"click",Ht(i[4])),s=!0)},p(c,d){u&&u.p&&(!r||d&64)&&_t(u,f,c,c[6],r?pt(f,c[6],d,null):gt(c[6]),null)},i(c){r||(_(t.$$.fragment,c),_(u,c),r=!0)},o(c){p(t.$$.fragment,c),p(u,c),r=!1},d(c){c&&h(e),O(t),u&&u.d(c),s=!1,a()}}}function Es(i){let e,l;const t=[{type:i[0]},i[2]];let n={$$slots:{default:[ys]},$$scope:{ctx:i}};for(let o=0;o<t.length;o+=1)n=ce(n,t[o]);return e=new nt({props:n}),e.$on("click",i[5]),{c(){R(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,r){q(e,o,r),l=!0},p(o,[r]){const s=r&5?Ae(t,[r&1&&{type:o[0]},r&4&&or(o[2])]):{};r&64&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){l||(_(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){O(e,o)}}}function Ds(i,e,l){const t=["type"];let n=Se(e,t),{$$slots:o={},$$scope:r}=e;const s=bt();let{type:a}=e;const f=()=>s("remove");function u(c){Ue.call(this,i,c)}return i.$$set=c=>{e=ce(ce({},e),Ee(c)),l(2,n=Se(e,t)),"type"in c&&l(0,a=c.type),"$$scope"in c&&l(6,r=c.$$scope)},[a,s,n,o,f,u,r]}class Ft extends we{constructor(e){super(),ke(this,e,Ds,Es,pe,{type:0})}}function Is(i){let e,l=(i[2]?"":i[5])+"",t,n,o=i[0][i[1].op]+"",r,s,a;return{c(){e=M("span"),t=J(l),n=Q(),r=J(o),s=Q(),a=J(i[4]),this.h()},l(f){e=z(f,"SPAN",{class:!0});var u=S(e);t=G(u,l),u.forEach(h),n=W(f),r=G(f,o),s=W(f),a=G(f,i[4]),this.h()},h(){V(e,"class","font-mono")},m(f,u){C(f,e,u),v(e,t),C(f,n,u),C(f,r,u),C(f,s,u),C(f,a,u)},p(f,u){u&36&&l!==(l=(f[2]?"":f[5])+"")&&ue(t,l),u&2&&o!==(o=f[0][f[1].op]+"")&&ue(r,o),u&16&&ue(a,f[4])},d(f){f&&h(e),f&&h(n),f&&h(r),f&&h(s),f&&h(a)}}}function Vs(i){let e,l,t,n,o,r;return l=new Ft({props:{interactive:!0,type:"magenta",$$slots:{default:[Is]},$$scope:{ctx:i}}}),l.$on("click",i[9]),l.$on("remove",i[10]),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(s){e=z(s,"DIV",{class:!0});var a=S(e);L(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","filter-pill items-center")},m(s,a){C(s,e,a),q(l,e,null),n=!0,o||(r=Ne(t=Te.call(null,e,{text:i[6]})),o=!0)},p(s,[a]){const f={};a&2102&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&He(t.update)&&a&64&&t.update.call(null,{text:s[6]})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){p(l.$$.fragment,s),n=!1},d(s){s&&h(e),O(l),o=!1,r()}}}function Cs(i,e,l){let t,n,o,r,s;const a={equals:"=",not_equal:"≠",less:"<",less_equal:"≤",greater:">",greater_equal:"≥",in:"in",exists:"exists"};let{filter:f}=e,{hidePath:u=!1}=e;const c=qe();he(i,c,g=>l(7,s=g));const d=()=>Ke({command:Xe.EditFilter,namespace:s.namespace,datasetName:s.datasetName,path:n}),m=()=>c.removeFilter(f);return i.$$set=g=>{"filter"in g&&l(1,f=g.filter),"hidePath"in g&&l(2,u=g.hidePath)},i.$$.update=()=>{i.$$.dirty&2&&l(4,t=Ve(f.value||"false")),i.$$.dirty&2&&l(3,n=Lt(f.path)),i.$$.dirty&18&&l(6,o=`${De(f.path)} ${a[f.op]} ${t}`),i.$$.dirty&8&&l(5,r=n.at(-1))},[a,f,u,n,t,r,o,s,c,d,m]}class xt extends we{constructor(e){super(),ke(this,e,Cs,Vs,pe,{FILTER_SHORTHANDS:0,filter:1,hidePath:2})}get FILTER_SHORTHANDS(){return this.$$.ctx[0]}}function kl(i){let e,l=i[0].query.concept_namespace+"",t,n,o=i[0].query.concept_name+"",r;return{c(){e=M("div"),t=J(l),n=J(" / "),r=J(o),this.h()},l(s){e=z(s,"DIV",{class:!0});var a=S(e);t=G(a,l),n=G(a," / "),r=G(a,o),a.forEach(h),this.h()},h(){V(e,"class","mb-2 w-full text-center text-xs")},m(s,a){C(s,e,a),v(e,t),v(e,n),v(e,r)},p(s,a){a&1&&l!==(l=s[0].query.concept_namespace+"")&&ue(t,l),a&1&&o!==(o=s[0].query.concept_name+"")&&ue(r,o)},d(s){s&&h(e)}}}function Ns(i){let e=De(i[0].path)+"",l,t,n=i[0].query.type+"",o;return{c(){l=J(e),t=J(": "),o=J(n)},l(r){l=G(r,e),t=G(r,": "),o=G(r,n)},m(r,s){C(r,l,s),C(r,t,s),C(r,o,s)},p(r,s){s&1&&e!==(e=De(r[0].path)+"")&&ue(l,e),s&1&&n!==(n=r[0].query.type+"")&&ue(o,n)},d(r){r&&h(l),r&&h(t),r&&h(o)}}}function $l(i){let e,l,t;return l=new Yt({props:{embedding:i[0].query.embedding}}),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{class:!0});var o=S(e);L(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"class","ml-2")},m(n,o){C(n,e,o),q(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.embedding=n[0].query.embedding),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){p(l.$$.fragment,n),t=!1},d(n){n&&h(e),O(l)}}}function Sl(i){let e,l;return{c(){e=M("div"),l=J(i[2]),this.h()},l(t){e=z(t,"DIV",{class:!0});var n=S(e);l=G(n,i[2]),n.forEach(h),this.h()},h(){V(e,"class","mt-2 whitespace-pre-wrap text-left")},m(t,n){C(t,e,n),v(e,l)},p(t,n){n&4&&ue(l,t[2])},d(t){t&&h(e)}}}function Ts(i){let e,l,t,n,o,r,s,a,f=i[0].query.type==="concept"&&kl(i);n=new nt({props:{type:i[1],$$slots:{default:[Ns]},$$scope:{ctx:i}}});let u=(i[0].query.type==="semantic"||i[0].query.type==="concept")&&$l(i),c=i[2]&&Sl(i);return{c(){f&&f.c(),e=Q(),l=M("div"),t=M("div"),R(n.$$.fragment),o=Q(),u&&u.c(),r=Q(),c&&c.c(),s=ne(),this.h()},l(d){f&&f.l(d),e=W(d),l=z(d,"DIV",{class:!0});var m=S(l);t=z(m,"DIV",{class:!0});var g=S(t);L(n.$$.fragment,g),g.forEach(h),o=W(m),u&&u.l(m),m.forEach(h),r=W(d),c&&c.l(d),s=ne(),this.h()},h(){V(t,"class","whitespace-nowrap"),V(l,"class","flex items-center justify-items-center")},m(d,m){f&&f.m(d,m),C(d,e,m),C(d,l,m),v(l,t),q(n,t,null),v(l,o),u&&u.m(l,null),C(d,r,m),c&&c.m(d,m),C(d,s,m),a=!0},p(d,[m]){d[0].query.type==="concept"?f?f.p(d,m):(f=kl(d),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null);const g={};m&2&&(g.type=d[1]),m&9&&(g.$$scope={dirty:m,ctx:d}),n.$set(g),d[0].query.type==="semantic"||d[0].query.type==="concept"?u?(u.p(d,m),m&1&&_(u,1)):(u=$l(d),u.c(),_(u,1),u.m(l,null)):u&&(x(),p(u,1,1,()=>{u=null}),ee()),d[2]?c?c.p(d,m):(c=Sl(d),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i(d){a||(_(n.$$.fragment,d),_(u),a=!0)},o(d){p(n.$$.fragment,d),p(u),a=!1},d(d){f&&f.d(d),d&&h(e),d&&h(l),O(n),u&&u.d(),d&&h(r),c&&c.d(d),d&&h(s)}}}function Ms(i,e,l){let t,{search:n}=e,{tagType:o="outline"}=e;return i.$$set=r=>{"search"in r&&l(0,n=r.search),"tagType"in r&&l(1,o=r.tagType)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=n.query.type==="concept"?"":n.query.search)},[n,o,t]}class yl extends we{constructor(e){super(),ke(this,e,Ms,Ts,pe,{search:0,tagType:1})}}function zs(i){let e,l=De(i[0].path)+"",t,n,o,r;return{c(){e=M("span"),t=J(l),n=J(' has "'),o=J(i[2]),r=J('"'),this.h()},l(s){e=z(s,"SPAN",{class:!0});var a=S(e);t=G(a,l),a.forEach(h),n=G(s,' has "'),o=G(s,i[2]),r=G(s,'"'),this.h()},h(){V(e,"class","font-mono")},m(s,a){C(s,e,a),v(e,t),C(s,n,a),C(s,o,a),C(s,r,a)},p(s,a){a&1&&l!==(l=De(s[0].path)+"")&&ue(t,l),a&4&&ue(o,s[2])},d(s){s&&h(e),s&&h(n),s&&h(o),s&&h(r)}}}function Fs(i){let e,l,t,n,o,r;return l=new Ft({props:{title:"query",interactive:!0,type:i[1],$$slots:{default:[zs]},$$scope:{ctx:i}}}),l.$on("click",i[6]),l.$on("remove",i[7]),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(s){e=z(s,"DIV",{class:!0});var a=S(e);L(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","search-pill items-center text-left")},m(s,a){C(s,e,a),q(l,e,null),n=!0,o||(r=Ne(t=Te.call(null,e,{component:yl,props:{search:i[0],tagType:i[1]}})),o=!0)},p(s,[a]){const f={};a&2&&(f.type=s[1]),a&517&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&He(t.update)&&a&3&&t.update.call(null,{component:yl,props:{search:s[0],tagType:s[1]}})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){p(l.$$.fragment,s),n=!1},d(s){s&&h(e),O(l),o=!1,r()}}}function As(i,e,l){let t,n,o,{search:r}=e;const s={keyword:"outline",semantic:"teal",concept:"green"},a=qe(),f=Qe();he(i,f,d=>l(3,o=d));function u(d){Ue.call(this,i,d)}const c=()=>{var d;return a.removeSearch(r,((d=o.selectRowsSchema)==null?void 0:d.data)||null)};return i.$$set=d=>{"search"in d&&l(0,r=d.search)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=r.query.type==="concept"?r.query.concept_name:r.query.search),i.$$.dirty&1&&l(1,n=r.query.type!=null?s[r.query.type]:"outline")},[r,n,t,o,a,f,u,c]}class vr extends we{constructor(e){super(),ke(this,e,As,Fs,pe,{search:0})}}function El(i,e,l){const t=i.slice();return t[26]=e[l][0],t[27]=e[l][1],t}function Dl(i,e,l){const t=i.slice();return t[30]=e[l],t}function Il(i,e,l){const t=i.slice();return t[33]=e[l],t}function Vl(i,e,l){const t=i.slice();return t[36]=e[l],t}function Cl(i,e,l){const t=i.slice();return t[39]=e[l],t}function Bs(i){let e,l,t,n=i[13],o=[];for(let a=0;a<n.length;a+=1)o[a]=Ml(Vl(i,n,a));const r=a=>p(o[a],1,1,()=>{o[a]=null});let s=i[8]!=null&&i[8].length>0&&zl(i);return{c(){e=M("div");for(let a=0;a<o.length;a+=1)o[a].c();l=Q(),s&&s.c(),this.h()},l(a){e=z(a,"DIV",{class:!0});var f=S(e);for(let u=0;u<o.length;u+=1)o[u].l(f);l=W(f),s&&s.l(f),f.forEach(h),this.h()},h(){V(e,"class","flex w-full flex-row gap-x-4")},m(a,f){C(a,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);v(e,l),s&&s.m(e,null),t=!0},p(a,f){if(f[0]&57352){n=a[13];let u;for(u=0;u<n.length;u+=1){const c=Vl(a,n,u);o[u]?(o[u].p(c,f),_(o[u],1)):(o[u]=Ml(c),o[u].c(),_(o[u],1),o[u].m(e,l))}for(x(),u=n.length;u<o.length;u+=1)r(u);ee()}a[8]!=null&&a[8].length>0?s?(s.p(a,f),f[0]&256&&_(s,1)):(s=zl(a),s.c(),_(s,1),s.m(e,null)):s&&(x(),p(s,1,1,()=>{s=null}),ee())},i(a){if(!t){for(let f=0;f<n.length;f+=1)_(o[f]);_(s),t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)p(o[f]);p(s),t=!1},d(a){a&&h(e),Fe(o,a),s&&s.d()}}}function Nl(i){let e,l,t=i[14][i[36]]+"",n,o,r,s,a,f=i[3][i[36]],u=[];for(let d=0;d<f.length;d+=1)u[d]=Tl(Cl(i,f,d));const c=d=>p(u[d],1,1,()=>{u[d]=null});return{c(){e=M("div"),l=M("div"),n=J(t),o=Q(),r=M("div");for(let d=0;d<u.length;d+=1)u[d].c();s=Q(),this.h()},l(d){e=z(d,"DIV",{class:!0});var m=S(e);l=z(m,"DIV",{class:!0});var g=S(l);n=G(g,t),g.forEach(h),o=W(m),r=z(m,"DIV",{class:!0});var b=S(r);for(let w=0;w<u.length;w+=1)u[w].l(b);b.forEach(h),s=W(m),m.forEach(h),this.h()},h(){V(l,"class","text-xs font-light"),V(r,"class","flex flex-row gap-x-1"),V(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-16ln9ke")},m(d,m){C(d,e,m),v(e,l),v(l,n),v(e,o),v(e,r);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(r,null);v(e,s),a=!0},p(d,m){if(m[0]&40968){f=d[3][d[36]];let g;for(g=0;g<f.length;g+=1){const b=Cl(d,f,g);u[g]?(u[g].p(b,m),_(u[g],1)):(u[g]=Tl(b),u[g].c(),_(u[g],1),u[g].m(r,null))}for(x(),g=f.length;g<u.length;g+=1)c(g);ee()}},i(d){if(!a){for(let m=0;m<f.length;m+=1)_(u[m]);a=!0}},o(d){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)p(u[m]);a=!1},d(d){d&&h(e),Fe(u,d)}}}function Tl(i){let e,l;function t(){return i[23](i[39])}return e=new vr({props:{search:i[39]}}),e.$on("click",t),{c(){R(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){i=n;const r={};o[0]&8&&(r.search=i[39]),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Ml(i){let e,l,t=i[3][i[36]]&&Nl(i);return{c(){t&&t.c(),e=ne()},l(n){t&&t.l(n),e=ne()},m(n,o){t&&t.m(n,o),C(n,e,o),l=!0},p(n,o){n[3][n[36]]?t?(t.p(n,o),o[0]&8&&_(t,1)):(t=Nl(n),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(x(),p(t,1,1,()=>{t=null}),ee())},i(n){l||(_(t),l=!0)},o(n){p(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function zl(i){let e,l,t,n,o,r,s=i[8],a=[];for(let u=0;u<s.length;u+=1)a[u]=Fl(Il(i,s,u));const f=u=>p(a[u],1,1,()=>{a[u]=null});return{c(){e=M("div"),l=M("div"),t=J("Filters"),n=Q(),o=M("div");for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=z(u,"DIV",{class:!0});var c=S(e);l=z(c,"DIV",{class:!0});var d=S(l);t=G(d,"Filters"),d.forEach(h),n=W(c),o=z(c,"DIV",{class:!0});var m=S(o);for(let g=0;g<a.length;g+=1)a[g].l(m);m.forEach(h),c.forEach(h),this.h()},h(){V(l,"class","text-xs font-light"),V(o,"class","flex flex-row gap-x-1"),V(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-16ln9ke")},m(u,c){C(u,e,c),v(e,l),v(l,t),v(e,n),v(e,o);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(o,null);r=!0},p(u,c){if(c[0]&256){s=u[8];let d;for(d=0;d<s.length;d+=1){const m=Il(u,s,d);a[d]?(a[d].p(m,c),_(a[d],1)):(a[d]=Fl(m),a[d].c(),_(a[d],1),a[d].m(o,null))}for(x(),d=s.length;d<a.length;d+=1)f(d);ee()}},i(u){if(!r){for(let c=0;c<s.length;c+=1)_(a[c]);r=!0}},o(u){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)p(a[c]);r=!1},d(u){u&&h(e),Fe(a,u)}}}function Fl(i){let e,l;return e=new xt({props:{filter:i[33]}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&256&&(o.filter=t[33]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Al(i){let e=Ve(i[0])+"",l,t,n=Ve(i[1].dataset_manifest.num_items)+"",o,r;return{c(){l=J(e),t=J(" of "),o=J(n),r=J(" rows")},l(s){l=G(s,e),t=G(s," of "),o=G(s,n),r=G(s," rows")},m(s,a){C(s,l,a),C(s,t,a),C(s,o,a),C(s,r,a)},p(s,a){a[0]&1&&e!==(e=Ve(s[0])+"")&&ue(l,e),a[0]&2&&n!==(n=Ve(s[1].dataset_manifest.num_items)+"")&&ue(o,n)},d(s){s&&h(l),s&&h(t),s&&h(o),s&&h(r)}}}function Bl(i){let e,l;return e=new $t({props:{value:i[30].path!=null?De(i[30].path):void 0,text:i[30].text,disabled:i[30].disabled}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.value=t[30].path!=null?De(t[30].path):void 0),n[0]&128&&(o.text=t[30].text),n[0]&128&&(o.disabled=t[30].disabled),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ps(i){let e,l,t=i[27],n=[];for(let r=0;r<t.length;r+=1)n[r]=Bl(Dl(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Q()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=W(r)},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s[0]&128){t=r[27];let a;for(a=0;a<t.length;a+=1){const f=Dl(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Bl(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(x(),a=t.length;a<n.length;a+=1)o(a);ee()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function Pl(i){let e,l;return e=new Gr({props:{label:i[26],$$slots:{default:[Ps]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.label=t[26]),n[0]&128|n[1]&2048&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Rs(i){let e,l,t=Object.entries(i[7]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Pl(El(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s[0]&128){t=Object.entries(r[7]);let a;for(a=0;a<t.length;a+=1){const f=El(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Pl(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(x(),a=t.length;a<n.length;a+=1)o(a);ee()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function Rl(i){let e,l,t,n,o,r;return l=new ki({}),{c(){e=M("button"),R(l.$$.fragment),this.h()},l(s){e=z(s,"BUTTON",{});var a=S(e);L(l.$$.fragment,a),a.forEach(h),this.h()},h(){e.disabled=t=i[4]==null},m(s,a){C(s,e,a),q(l,e,null),n=!0,o||(r=[Ne(Te.call(null,e,{text:"Clear sort"})),Ce(e,"click",i[18])],o=!0)},p(s,a){(!n||a[0]&16&&t!==(t=s[4]==null))&&(e.disabled=t)},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){p(l.$$.fragment,s),n=!1},d(s){s&&h(e),O(l),o=!1,Ye(r)}}}function qs(i){let e,l;return e=new Xt({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Os(i){let e,l;return e=new Kt({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Hs(i){let e,l;return e=new ps({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ql(i){let e,l;return e=new Jt({props:{open:!0,modalHeading:"Concept",passiveModal:!0,size:"lg",$$slots:{default:[Ys]},$$scope:{ctx:i}}}),e.$on("close",i[24]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1024|n[1]&2048&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ls(i){let e,l;return e=new Kr({props:{concept:i[10].data}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1024&&(o.concept=t[10].data),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function js(i){let e,l=i[10].error.message+"",t;return{c(){e=M("p"),t=J(l)},l(n){e=z(n,"P",{});var o=S(e);t=G(o,l),o.forEach(h)},m(n,o){C(n,e,o),v(e,t)},p(n,o){o[0]&1024&&l!==(l=n[10].error.message+"")&&ue(t,l)},i:X,o:X,d(n){n&&h(e)}}}function Us(i){let e,l;return e=new Le({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ys(i){let e,l,t,n;const o=[Us,js,Ls],r=[];function s(a,f){var u,c,d;return(u=a[10])!=null&&u.isLoading?0:(c=a[10])!=null&&c.isError?1:(d=a[10])!=null&&d.isSuccess?2:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=ne()},l(a){l&&l.l(a),t=ne()},m(a,f){~e&&r[e].m(a,f),C(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?~e&&r[e].p(a,f):(l&&(x(),p(r[u],1,1,()=>{r[u]=null}),ee()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(_(l),n=!0)},o(a){p(l),n=!1},d(a){~e&&r[e].d(a),a&&h(t)}}}function Qs(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,b,w,I,T,$,y,F,A,E=i[13].length>0&&Bs(i),D=i[0]&&i[1]&&Al(i);u=new Mt({props:{noLabel:!0,size:"sm",class:"w-60",selected:i[5],$$slots:{default:[Rs]},$$scope:{ctx:i}}}),u.$on("update",i[16]);let P=i[6]!=null&&Rl(i);const k=[Hs,Os,qs],N=[];function B(U,H){var Z,j,se;return((Z=U[4])==null?void 0:Z.order)==null?0:((j=U[4])==null?void 0:j.order)==="ASC"?1:((se=U[4])==null?void 0:se.order)==="DESC"?2:-1}~(g=B(i))&&(b=N[g]=k[g](i));let Y=i[2]&&ql(i);return{c(){e=M("div"),E&&E.c(),l=Q(),t=M("div"),n=M("div"),D&&D.c(),o=Q(),r=M("div"),s=M("div"),a=J("Sort by"),f=Q(),R(u.$$.fragment),c=Q(),P&&P.c(),d=Q(),m=M("button"),b&&b.c(),T=Q(),Y&&Y.c(),$=ne(),this.h()},l(U){e=z(U,"DIV",{class:!0});var H=S(e);E&&E.l(H),l=W(H),t=z(H,"DIV",{class:!0});var Z=S(t);n=z(Z,"DIV",{class:!0});var j=S(n);D&&D.l(j),j.forEach(h),o=W(Z),r=z(Z,"DIV",{class:!0});var se=S(r);s=z(se,"DIV",{class:!0});var te=S(s);a=G(te,"Sort by"),te.forEach(h),f=W(se),L(u.$$.fragment,se),c=W(se),P&&P.l(se),d=W(se),m=z(se,"BUTTON",{});var re=S(m);b&&b.l(re),re.forEach(h),se.forEach(h),Z.forEach(h),H.forEach(h),T=W(U),Y&&Y.l(U),$=ne(),this.h()},h(){V(n,"class","py-1"),V(s,"class","mr-1"),m.disabled=w=i[4]==null,V(r,"class","sort-container flex flex-row items-center gap-x-1"),V(t,"class","flex w-full flex-row items-center justify-between"),V(e,"class","mx-5 my-2 flex flex-col gap-y-2")},m(U,H){var Z;C(U,e,H),E&&E.m(e,null),v(e,l),v(e,t),v(t,n),D&&D.m(n,null),v(t,o),v(t,r),v(r,s),v(s,a),v(r,f),q(u,r,null),v(r,c),P&&P.m(r,null),v(r,d),v(r,m),~g&&N[g].m(m,null),C(U,T,H),Y&&Y.m(U,H),C(U,$,H),y=!0,F||(A=[Ne(I=Te.call(null,m,{text:((Z=i[4])==null?void 0:Z.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."})),Ce(m,"click",i[17])],F=!0)},p(U,H){var se;U[13].length>0&&E.p(U,H),U[0]&&U[1]?D?D.p(U,H):(D=Al(U),D.c(),D.m(n,null)):D&&(D.d(1),D=null);const Z={};H[0]&32&&(Z.selected=U[5]),H[0]&128|H[1]&2048&&(Z.$$scope={dirty:H,ctx:U}),u.$set(Z),U[6]!=null?P?(P.p(U,H),H[0]&64&&_(P,1)):(P=Rl(U),P.c(),_(P,1),P.m(r,d)):P&&(x(),p(P,1,1,()=>{P=null}),ee());let j=g;g=B(U),g!==j&&(b&&(x(),p(N[j],1,1,()=>{N[j]=null}),ee()),~g?(b=N[g],b||(b=N[g]=k[g](U),b.c()),_(b,1),b.m(m,null)):b=null),(!y||H[0]&16&&w!==(w=U[4]==null))&&(m.disabled=w),I&&He(I.update)&&H[0]&16&&I.update.call(null,{text:((se=U[4])==null?void 0:se.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."}),U[2]?Y?(Y.p(U,H),H[0]&4&&_(Y,1)):(Y=ql(U),Y.c(),_(Y,1),Y.m($.parentNode,$)):Y&&(x(),p(Y,1,1,()=>{Y=null}),ee())},i(U){y||(_(E),_(u.$$.fragment,U),_(P),_(b),_(Y),y=!0)},o(U){p(E),p(u.$$.fragment,U),p(P),p(b),p(Y),y=!1},d(U){U&&h(e),E&&E.d(),D&&D.d(),O(u),P&&P.d(),~g&&N[g].d(),U&&h(T),Y&&Y.d(U),U&&h($),F=!1,Ye(A)}}}function Ws(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g=X,b=()=>(g(),g=Pe(t,H=>l(10,m=H)),t);i.$$.on_destroy.push(()=>g());let{totalNumRows:w}=e,{manifest:I}=e,T=qe();he(i,T,H=>l(22,d=H));let $=Qe();he(i,$,H=>l(21,c=H));let y=null;const F=["keyword","semantic","concept"],A={keyword:"Keyword",semantic:"Semantic",concept:"Concepts"};let E={};function D(H){if(H.query.type==="concept"){const Z=H.query;l(2,y={namespace:Z.concept_namespace,name:Z.concept_name})}}let P={};const k=H=>{const Z=H.detail;Z!==s&&T.setSortBy(Z===""?null:Lt(Z))},N=()=>{r!=null&&T.setSortBy(r.path),T.setSortOrder((r==null?void 0:r.order)==="ASC"?"DESC":"ASC")},B=()=>{T.clearSorts()},Y=H=>D(H),U=()=>l(2,y=null);return i.$$set=H=>{"totalNumRows"in H&&l(0,w=H.totalNumRows),"manifest"in H&&l(1,I=H.manifest)},i.$$.update=()=>{var H,Z,j,se;if(i.$$.dirty[0]&4&&b(l(9,t=y?Cr(y.namespace,y.name):void 0)),i.$$.dirty[0]&4194304&&l(20,n=Qt(d)),i.$$.dirty[0]&4194304&&l(8,o=d.query.filters),i.$$.dirty[0]&1048584){l(3,E={});for(const te of n)te.query.type&&(te.query.type in E||l(3,E[te.query.type]=[],E),E[te.query.type].push(te))}if(i.$$.dirty[0]&2097152&&l(4,r=Jr(c)),i.$$.dirty[0]&2097152)for(const te of((Z=(H=c.selectRowsSchema)==null?void 0:H.data)==null?void 0:Z.search_results)||[])P[De(te.result_path)]=te;i.$$.dirty[0]&16&&l(5,s=r!=null&&r.path?De(r.path):""),i.$$.dirty[0]&4194304&&l(6,a=d.query.sort_by),i.$$.dirty[0]&2097248&&l(19,f=((se=(j=c.selectRowsSchema)==null?void 0:j.data)==null?void 0:se.schema)!=null?[{path:[""],text:"None",disabled:a==null&&s!==""},...jt(c.selectRowsSchema.data.schema).filter(te=>te.dtype!="embedding"&&te.dtype!="string_span").map(te=>({path:te.path,text:De(te.path.slice(1)),disabled:!1}))]:[]),i.$$.dirty[0]&524288&&l(7,u=f.reduce((te,re)=>{const oe=re.path[0];return(te[oe]=te[oe]||[]).push(re),te},{}))},[w,I,y,E,r,s,a,u,o,t,m,T,$,F,A,D,k,N,B,f,n,c,d,Y,U]}class Zs extends we{constructor(e){super(),ke(this,e,Ws,Qs,pe,{totalNumRows:0,manifest:1},null,[-1,-1])}}function Ol(i,e,l){var r,s,a;const t=i.slice();t[19]=e[l],t[23]=l;const n=t[2].length>1?`[${t[23]}]`:"";t[20]=n;const o=((a=(s=(r=t[6].data)==null?void 0:r.ui)==null?void 0:s.markdown_paths)==null?void 0:a.find(f=>Oe(f,t[0])))!=null;return t[21]=o,t}function Hl(i){let e,l,t,n=i[0].join(".")+i[20]+"",o,r,s,a,f,u;return a=new Xr({props:{text:Ve(i[19]),row:i[1],markdown:i[21],spanPaths:i[4],valuePaths:i[7],datasetViewStore:i[8],datasetStore:i[5]}}),{c(){e=M("div"),l=M("div"),t=M("div"),o=J(n),r=Q(),s=M("div"),R(a.$$.fragment),f=Q(),this.h()},l(c){e=z(c,"DIV",{class:!0});var d=S(e);l=z(d,"DIV",{class:!0});var m=S(l);t=z(m,"DIV",{class:!0});var g=S(t);o=G(g,n),g.forEach(h),r=W(m),s=z(m,"DIV",{class:!0});var b=S(s);L(a.$$.fragment,b),b.forEach(h),m.forEach(h),f=W(d),d.forEach(h),this.h()},h(){V(t,"class","sticky top-0 z-10 w-full self-start border-t border-neutral-200 bg-neutral-100 px-2 py-2 pb-2 font-mono font-medium text-neutral-500"),V(s,"class","font-normal"),V(l,"class","flex w-full flex-col"),V(e,"class","flex flex-row")},m(c,d){C(c,e,d),v(e,l),v(l,t),v(t,o),v(l,r),v(l,s),q(a,s,null),v(e,f),u=!0},p(c,d){(!u||d&5)&&n!==(n=c[0].join(".")+c[20]+"")&&ue(o,n);const m={};d&4&&(m.text=Ve(c[19])),d&2&&(m.row=c[1]),d&65&&(m.markdown=c[21]),d&16&&(m.spanPaths=c[4]),d&32&&(m.datasetStore=c[5]),a.$set(m)},i(c){u||(_(a.$$.fragment,c),u=!0)},o(c){p(a.$$.fragment,c),u=!1},d(c){c&&h(e),O(a)}}}function Js(i){let e,l,t=i[2],n=[];for(let r=0;r<t.length;r+=1)n[r]=Hl(Ol(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,[s]){if(s&503){t=r[2];let a;for(a=0;a<t.length;a+=1){const f=Ol(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Hl(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(x(),a=t.length;a<n.length;a+=1)o(a);ee()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function Gs(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g,b=X,w=()=>(b(),b=Pe(u,D=>l(6,g=D)),u);i.$$.on_destroy.push(()=>b());let{path:I}=e,{row:T}=e,{field:$}=e,y=[];const F=qe();he(i,F,D=>l(17,d=D));const A=Qe();he(i,A,D=>l(5,m=D));const E=m.visibleFields||[];return i.$$set=D=>{"path"in D&&l(0,I=D.path),"row"in D&&l(1,T=D.row),"field"in D&&l(10,$=D.field)},i.$$.update=()=>{if(i.$$.dirty&1024&&l(16,t=xe($)),i.$$.dirty&65536&&l(13,n=t.filter(D=>Nr(D.signal))),i.$$.dirty&65536&&l(12,o=t.filter(D=>{var P;return((P=D.signal)==null?void 0:P.signal_name)==="concept_labels"})),i.$$.dirty&65536&&l(11,r=t.filter(D=>{var P;return((P=D.signal)==null?void 0:P.signal_name)==="semantic_similarity"})),i.$$.dirty&65536&&l(14,s=t.filter(D=>{var P;return((P=D.signal)==null?void 0:P.signal_name)==="substring_search"})),i.$$.dirty&65536&&l(15,a=t.filter(D=>D.dtype==="string_span")),i.$$.dirty&32768&&l(4,f=a.map(D=>D.path)),i.$$.dirty&63488)for(const D of a){const k=xe(D).filter(Y=>Y.dtype!="string_span").filter(Y=>E==null?void 0:E.some(U=>Oe(U.path,Y.path))).filter(Y=>Y.dtype!=null&&Y.dtype!="embedding"),N=D.path,B=s.find(Y=>ht(D.path,Y.path));if(B!=null){const Y=B.signal;y.push({path:D.path,spanPath:N,type:"keyword",name:Y.query,dtype:D.dtype,signal:Y})}for(const Y of k){const U=n.find(j=>ht(Y.path,j.path)),H=o.find(j=>ht(Y.path,j.path)),Z=r.find(j=>ht(Y.path,j.path));if(U!=null){const j=U.signal;y.push({path:Y.path,spanPath:N,type:"concept_score",name:`${j.namespace}/${j.concept_name}`,dtype:Y.dtype,signal:j})}else if(H!=null){const j=H.signal;y.push({path:Y.path,spanPath:N,type:"label",name:`${j.namespace}/${j.concept_name} label`,dtype:Y.dtype,signal:j})}else if(Z!=null){const j=Z.signal;y.push({path:Y.path,spanPath:N,type:"semantic_similarity",name:`similarity: ${j.query}`,dtype:Y.dtype,signal:j})}else y.push({path:Y.path,spanPath:N,type:"metadata",name:Y.path[Y.path.length-1],dtype:Y.dtype})}}i.$$.dirty&131072&&w(l(3,u=Nt(d.namespace,d.datasetName))),i.$$.dirty&3&&l(2,c=Tr(T,I).map(D=>Ze.value(D)).filter($i))},[I,T,c,u,f,m,g,y,F,A,$,r,o,n,s,a,t,d]}class Ks extends we{constructor(e){super(),ke(this,e,Gs,Js,pe,{path:0,row:1,field:10})}}function Xs(i){let e,l,t,n,o;const r=[i[3],{type:i[0]?"green":"blue"},{icon:i[2]}];let s={};for(let a=0;a<r.length;a+=1)s=ce(s,r[a]);return l=new nt({props:s}),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(a){e=z(a,"DIV",{class:!0});var f=S(e);L(l.$$.fragment,f),f.forEach(h),this.h()},h(){V(e,"class","signal-badge")},m(a,f){C(a,e,f),q(l,e,null),t=!0,n||(o=Ne(Te.call(null,e,{text:i[1]})),n=!0)},p(a,[f]){const u=f&13?Ae(r,[f&8&&or(a[3]),f&1&&{type:a[0]?"green":"blue"},f&4&&{icon:a[2]}]):{};l.$set(u)},i(a){t||(_(l.$$.fragment,a),t=!0)},o(a){p(l.$$.fragment,a),t=!1},d(a){a&&h(e),O(l),n=!1,o()}}}function xs(i,e,l){const t=["isPreview"];let n=Se(e,t),{isPreview:o=!1}=e;const r=o?"Signal is in preview mode and has not been computed for the whole dataset.":"Generated by a signal.",s=o?ws:ls;return i.$$set=a=>{e=ce(ce({},e),Ee(a)),l(3,n=Se(e,t)),"isPreview"in a&&l(0,o=a.isPreview)},[o,r,s,n]}class el extends we{constructor(e){super(),ke(this,e,xs,Xs,pe,{isPreview:0})}}function Ll(i,e,l){const t=i.slice();return t[0]=e[l],t}function jl(i){let e,l,t=[],n=new Map,o,r=i[1];const s=a=>De(a[0].path);for(let a=0;a<r.length;a+=1){let f=Ll(i,r,a),u=s(f);n.set(u,t[a]=Ul(u,f))}return{c(){e=M("div"),l=M("table");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=z(a,"DIV",{class:!0});var f=S(e);l=z(f,"TABLE",{class:!0});var u=S(l);for(let c=0;c<t.length;c+=1)t[c].l(u);u.forEach(h),f.forEach(h),this.h()},h(){V(l,"class","table w-full table-fixed border-collapse px-2 pt-1"),V(e,"class","border-t border-neutral-200 px-2 py-4")},m(a,f){C(a,e,f),v(e,l);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(l,null);o=!0},p(a,f){f&2&&(r=a[1],x(),t=vt(t,f,s,1,a,r,n,l,wt,Ul,null,Ll),ee())},i(a){if(!o){for(let f=0;f<r.length;f+=1)_(t[f]);o=!0}},o(a){for(let f=0;f<t.length;f+=1)p(t[f]);o=!1},d(a){a&&h(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function ea(i){let e,l;return e=new el({props:{isPreview:i[0].isPreviewSignal}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&2&&(o.isPreview=t[0].isPreviewSignal),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ta(i){var t;let e,l;return e=new Yt({props:{hideEmbeddingName:!0,embedding:(t=i[0].field.signal)==null?void 0:t.signal_name}}),{c(){R(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){var s;const r={};o&2&&(r.embedding=(s=n[0].field.signal)==null?void 0:s.signal_name),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Ul(i,e){let l,t,n,o=e[0].fieldName+"",r,s,a,f,u,c,d,m,g,b=e[0].formattedValue+"",w,I,T,$;const y=[ta,ea],F=[];function A(E,D){return E[0].isEmbeddingSignal?0:E[0].isSignal?1:-1}return~(u=A(e))&&(c=F[u]=y[u](e)),{key:i,first:null,c(){l=M("tr"),t=M("td"),n=M("span"),r=J(o),a=Q(),f=M("td"),c&&c.c(),d=Q(),m=M("td"),g=M("div"),w=J(b),T=Q(),this.h()},l(E){l=z(E,"TR",{class:!0});var D=S(l);t=z(D,"TD",{class:!0});var P=S(t);n=z(P,"SPAN",{title:!0});var k=S(n);r=G(k,o),k.forEach(h),P.forEach(h),a=W(D),f=z(D,"TD",{class:!0});var N=S(f);c&&c.l(N),N.forEach(h),d=W(D),m=z(D,"TD",{class:!0});var B=S(m);g=z(B,"DIV",{title:!0,class:!0});var Y=S(g);w=G(Y,b),Y.forEach(h),B.forEach(h),T=W(D),D.forEach(h),this.h()},h(){V(n,"title",s=e[0].fieldName),We(n,"padding-left",`${e[0].indentLevel*12}px`),V(t,"class","truncate p-2 font-mono text-xs font-medium text-neutral-500"),V(f,"class","w-10"),V(g,"title",I=`${e[0].value}`),V(g,"class","truncate pr-2 text-xs"),fe(g,"italic",e[0].formattedValue===null),V(m,"class","p-2"),V(l,"class","border-gray-300"),this.first=l},m(E,D){C(E,l,D),v(l,t),v(t,n),v(n,r),v(l,a),v(l,f),~u&&F[u].m(f,null),v(l,d),v(l,m),v(m,g),v(g,w),v(l,T),$=!0},p(E,D){e=E,(!$||D&2)&&o!==(o=e[0].fieldName+"")&&ue(r,o),(!$||D&2&&s!==(s=e[0].fieldName))&&V(n,"title",s),D&2&&We(n,"padding-left",`${e[0].indentLevel*12}px`);let P=u;u=A(e),u===P?~u&&F[u].p(e,D):(c&&(x(),p(F[P],1,1,()=>{F[P]=null}),ee()),~u?(c=F[u],c?c.p(e,D):(c=F[u]=y[u](e),c.c()),_(c,1),c.m(f,null)):c=null),(!$||D&2)&&b!==(b=e[0].formattedValue+"")&&ue(w,b),(!$||D&2&&I!==(I=`${e[0].value}`))&&V(g,"title",I),(!$||D&2)&&fe(g,"italic",e[0].formattedValue===null)},i(E){$||(_(c),$=!0)},o(E){p(c),$=!1},d(E){E&&h(l),~u&&F[u].d()}}}function la(i){let e,l,t=i[1].length>0&&jl(i);return{c(){t&&t.c(),e=ne()},l(n){t&&t.l(n),e=ne()},m(n,o){t&&t.m(n,o),C(n,e,o),l=!0},p(n,[o]){n[1].length>0?t?(t.p(n,o),o&2&&_(t,1)):(t=jl(n),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(x(),p(t,1,1,()=>{t=null}),ee())},i(n){l||(_(t),l=!0)},o(n){p(t),l=!1},d(n){t&&t.d(n),n&&h(e)}}}function na(i,e,l){let t,n,o,{row:r}=e,{visibleFields:s}=e;const a=Qe();he(i,a,c=>l(5,n=c));const f=Gt();he(i,f,c=>l(6,o=c));function u(c){const d=Mr(c).filter(g=>xr(g,s)),m=d.filter(g=>{var b;return((b=Ze.field(g))==null?void 0:b.dtype)==="string_span"}).map(g=>Ze.path(g));return d.filter(g=>!m.some(b=>ht(Ze.path(g),b))).map(g=>{var F,A;const b=Ze.field(g),w=Ze.path(g);let I=Ze.value(g);if(b.dtype==="string_span")return null;const T=((F=o.data)==null?void 0:F.some(E=>{var D;return E.name===((D=b.signal)==null?void 0:D.signal_name)}))||!1,$=tt(b);let y;return T||$&&b.dtype==null||b.dtype==="embedding"||b.repeated_field!=null?y="":I==null?y=null:y=Ve(I),{indentLevel:w.length-1,fieldName:w[w.length-1],field:b,path:w,isSignal:$,isPreviewSignal:Tt(((A=n.selectRowsSchema)==null?void 0:A.data)||null,w),isEmbeddingSignal:T,value:I,formattedValue:y}}).filter(g=>g!=null)}return i.$$set=c=>{"row"in c&&l(0,r=c.row),"visibleFields"in c&&l(4,s=c.visibleFields)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=u(r))},[r,t,a,f,s]}class ra extends we{constructor(e){super(),ke(this,e,na,la,pe,{row:0,visibleFields:4})}}function Yl(i,e,l){const t=i.slice();return t[5]=e[l],t[7]=l,t}function Ql(i){let e,l=[],t=new Map,n,o,r=i[1];const s=a=>De(a[5].path);for(let a=0;a<r.length;a+=1){let f=Yl(i,r,a),u=s(f);t.set(u,l[a]=Wl(u,f))}return{c(){e=M("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=z(a,"DIV",{class:!0});var f=S(e);for(let u=0;u<l.length;u+=1)l[u].l(f);f.forEach(h),this.h()},h(){V(e,"class","w-2/3 overflow-hidden"),kt(()=>i[4].call(e))},m(a,f){C(a,e,f);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);n=Dr(e,i[4].bind(e)),o=!0},p(a,f){f&3&&(r=a[1],x(),l=vt(l,f,s,1,a,r,t,e,wt,Wl,null,Yl),ee())},i(a){if(!o){for(let f=0;f<r.length;f+=1)_(l[f]);o=!0}},o(a){for(let f=0;f<l.length;f+=1)p(l[f]);o=!1},d(a){a&&h(e);for(let f=0;f<l.length;f+=1)l[f].d();n()}}}function Wl(i,e){let l,t,n,o;return t=new Ks({props:{row:e[0],path:e[5].path,field:e[5]}}),{key:i,first:null,c(){l=M("div"),R(t.$$.fragment),n=Q(),this.h()},l(r){l=z(r,"DIV",{class:!0});var s=S(l);L(t.$$.fragment,s),n=W(s),s.forEach(h),this.h()},h(){V(l,"class","border-gray-100"),fe(l,"border-b",e[7]<e[1].length-1),this.first=l},m(r,s){C(r,l,s),q(t,l,null),v(l,n),o=!0},p(r,s){e=r;const a={};s&1&&(a.row=e[0]),s&2&&(a.path=e[5].path),s&2&&(a.field=e[5]),t.$set(a),(!o||s&2)&&fe(l,"border-b",e[7]<e[1].length-1)},i(r){o||(_(t.$$.fragment,r),o=!0)},o(r){p(t.$$.fragment,r),o=!1},d(r){r&&h(l),O(t)}}}function ia(i){let e,l,t,n,o,r,s,a,f,u=i[1].length>0&&Ql(i);return s=new ra({props:{row:i[0],visibleFields:i[2]}}),{c(){e=M("div"),l=M("div"),u&&u.c(),t=Q(),n=M("div"),o=M("div"),r=M("div"),R(s.$$.fragment),this.h()},l(c){e=z(c,"DIV",{class:!0});var d=S(e);l=z(d,"DIV",{class:!0});var m=S(l);u&&u.l(m),t=W(m),n=z(m,"DIV",{class:!0});var g=S(n);o=z(g,"DIV",{class:!0});var b=S(o);r=z(b,"DIV",{style:!0,class:!0});var w=S(r);L(s.$$.fragment,w),w.forEach(h),b.forEach(h),g.forEach(h),m.forEach(h),d.forEach(h),this.h()},h(){V(r,"style",a=`max-height: ${Math.max(Zl,i[3])}px`),V(r,"class","overflow-y-auto"),V(o,"class","sticky top-0 self-start"),V(n,"class","flex h-full w-1/3 bg-neutral-100"),V(l,"class","flex h-full w-full flex-row"),V(e,"class","rounded border-x border-b border-neutral-200 shadow-md")},m(c,d){C(c,e,d),v(e,l),u&&u.m(l,null),v(l,t),v(l,n),v(n,o),v(o,r),q(s,r,null),f=!0},p(c,[d]){c[1].length>0?u?(u.p(c,d),d&2&&_(u,1)):(u=Ql(c),u.c(),_(u,1),u.m(l,t)):u&&(x(),p(u,1,1,()=>{u=null}),ee());const m={};d&1&&(m.row=c[0]),d&4&&(m.visibleFields=c[2]),s.$set(m),(!f||d&8&&a!==(a=`max-height: ${Math.max(Zl,c[3])}px`))&&V(r,"style",a)},i(c){f||(_(u),_(s.$$.fragment,c),f=!0)},o(c){p(u),p(s.$$.fragment,c),f=!1},d(c){c&&h(e),u&&u.d(),O(s)}}}const Zl=320;function sa(i,e,l){let{row:t}=e,{mediaFields:n}=e,{visibleFields:o}=e,r=0;function s(){r=this.clientHeight,l(3,r)}return i.$$set=a=>{"row"in a&&l(0,t=a.row),"mediaFields"in a&&l(1,n=a.mediaFields),"visibleFields"in a&&l(2,o=a.visibleFields)},[t,n,o,r,s]}class aa extends we{constructor(e){super(),ke(this,e,sa,ia,pe,{row:0,mediaFields:1,visibleFields:2})}}function Jl(i,e,l){const t=i.slice();return t[21]=e[l],t}function oa(i){let e,l;return{c(){e=M("div"),l=J("No results."),this.h()},l(t){e=z(t,"DIV",{class:!0});var n=S(e);l=G(n,"No results."),n.forEach(h),this.h()},h(){V(e,"class","mx-4 mt-8 w-full text-gray-600")},m(t,n){C(t,e,n),v(e,l)},p:X,i:X,o:X,d(t){t&&h(e)}}}function fa(i){let e,l;return{c(){e=M("div"),l=J("Select fields to display"),this.h()},l(t){e=z(t,"DIV",{class:!0});var n=S(e);l=G(n,"Select fields to display"),n.forEach(h),this.h()},h(){V(e,"class","mt-12 w-full text-center text-gray-600")},m(t,n){C(t,e,n),v(e,l)},p:X,i:X,o:X,d(t){t&&h(e)}}}function ua(i){let e,l;return e=new Le({props:{paragraph:!0,lines:3}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ca(i){var t,n;let e,l;return e=new Zt({props:{lowContrast:!0,title:"Could not fetch schema:",subtitle:((t=i[2].error.body)==null?void 0:t.detail)||((n=i[2])==null?void 0:n.error.message)}}),{c(){R(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,r){q(e,o,r),l=!0},p(o,r){var a,f;const s={};r&4&&(s.subtitle=((a=o[2].error.body)==null?void 0:a.detail)||((f=o[2])==null?void 0:f.error.message)),e.$set(s)},i(o){l||(_(e.$$.fragment,o),l=!0)},o(o){p(e.$$.fragment,o),l=!1},d(o){O(e,o)}}}function da(i){var t;let e,l;return e=new Zt({props:{lowContrast:!0,title:"Could not fetch rows:",subtitle:((t=i[3].error.body)==null?void 0:t.detail)||i[3].error.message}}),{c(){R(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){var s;const r={};o&8&&(r.subtitle=((s=n[3].error.body)==null?void 0:s.detail)||n[3].error.message),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Gl(i){let e,l=[],t=new Map,n,o,r=i[5];const s=f=>Ze.value(f[21][Ut]);for(let f=0;f<r.length;f+=1){let u=Jl(i,r,f),c=s(u);t.set(c,l[f]=Kl(c,u))}let a=i[5].length>0&&Xl(i);return{c(){e=M("div");for(let f=0;f<l.length;f+=1)l[f].c();n=Q(),a&&a.c(),this.h()},l(f){e=z(f,"DIV",{class:!0});var u=S(e);for(let c=0;c<l.length;c+=1)l[c].l(u);n=W(u),a&&a.l(u),u.forEach(h),this.h()},h(){V(e,"class","flex h-full w-full flex-col gap-y-10 overflow-y-scroll px-5 pb-32")},m(f,u){C(f,e,u);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);v(e,n),a&&a.m(e,null),i[19](e),o=!0},p(f,u){u&50&&(r=f[5],x(),l=vt(l,u,s,1,f,r,t,e,wt,Kl,n,Jl),ee()),f[5].length>0?a?(a.p(f,u),u&32&&_(a,1)):(a=Xl(f),a.c(),_(a,1),a.m(e,null)):a&&(x(),p(a,1,1,()=>{a=null}),ee())},i(f){if(!o){for(let u=0;u<r.length;u+=1)_(l[u]);_(a),o=!0}},o(f){for(let u=0;u<l.length;u+=1)p(l[u]);p(a),o=!1},d(f){f&&h(e);for(let u=0;u<l.length;u+=1)l[u].d();a&&a.d(),i[19](null)}}}function Kl(i,e){let l,t,n;return t=new aa({props:{visibleFields:e[1],row:e[21],mediaFields:e[4]}}),{key:i,first:null,c(){l=ne(),R(t.$$.fragment),this.h()},l(o){l=ne(),L(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){C(o,l,r),q(t,o,r),n=!0},p(o,r){e=o;const s={};r&2&&(s.visibleFields=e[1]),r&32&&(s.row=e[21]),r&16&&(s.mediaFields=e[4]),t.$set(s)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){p(t.$$.fragment,o),n=!1},d(o){o&&h(l),O(t,o)}}}function Xl(i){let e,l;return e=new Ss({props:{threshold:100}}),e.$on("loadMore",i[18]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ha(i){let e,l,t,n,o,r,s;e=new Zs({props:{totalNumRows:i[6],manifest:i[9].data}});const a=[da,ca,ua,fa,oa],f=[];function u(d,m){var g,b,w,I;return d[3].isError?0:(g=d[2])!=null&&g.isError?1:(b=d[3])!=null&&b.isLoading||d[10].isLoading||(w=d[2])!=null&&w.isLoading?2:d[1].length===0?3:(I=d[3])!=null&&I.isSuccess&&d[5]&&d[5].length===0?4:-1}~(t=u(i))&&(n=f[t]=a[t](i));let c=i[5]&&i[1].length>0&&i[10].isSuccess&&i[4]!=null&&Gl(i);return{c(){R(e.$$.fragment),l=Q(),n&&n.c(),o=Q(),c&&c.c(),r=ne()},l(d){L(e.$$.fragment,d),l=W(d),n&&n.l(d),o=W(d),c&&c.l(d),r=ne()},m(d,m){q(e,d,m),C(d,l,m),~t&&f[t].m(d,m),C(d,o,m),c&&c.m(d,m),C(d,r,m),s=!0},p(d,[m]){const g={};m&64&&(g.totalNumRows=d[6]),m&512&&(g.manifest=d[9].data),e.$set(g);let b=t;t=u(d),t===b?~t&&f[t].p(d,m):(n&&(x(),p(f[b],1,1,()=>{f[b]=null}),ee()),~t?(n=f[t],n?n.p(d,m):(n=f[t]=a[t](d),n.c()),_(n,1),n.m(o.parentNode,o)):n=null),d[5]&&d[1].length>0&&d[10].isSuccess&&d[4]!=null?c?(c.p(d,m),m&1074&&_(c,1)):(c=Gl(d),c.c(),_(c,1),c.m(r.parentNode,r)):c&&(x(),p(c,1,1,()=>{c=null}),ee())},i(d){s||(_(e.$$.fragment,d),_(n),_(c),s=!0)},o(d){p(e.$$.fragment,d),p(n),p(c),s=!1},d(d){O(e,d),d&&h(l),~t&&f[t].d(d),d&&h(o),c&&c.d(d),d&&h(r)}}}function ma(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g=X,b=()=>(g(),g=Pe(r,B=>l(3,m=B)),r),w,I,T,$=X,y=()=>($(),$=Pe(t,B=>l(10,T=B)),t);i.$$.on_destroy.push(()=>g()),i.$$.on_destroy.push(()=>$());let F=qe();he(i,F,B=>l(17,w=B));let A=Qe();he(i,A,B=>l(16,d=B));const E=zr(w.namespace,w.datasetName);he(i,E,B=>l(9,I=B));let D=null;const P=it(D),k=()=>m==null?void 0:m.fetchNextPage();function N(B){Re[B?"unshift":"push"](()=>{D=B,l(0,D)})}return i.$$.update=()=>{var B,Y,U,H;i.$$.dirty&131072&&y(l(8,t=fr(w.namespace,w.datasetName))),i.$$.dirty&131072&&l(15,n=ei(w)),i.$$.dirty&65536&&l(2,o=d.selectRowsSchema),i.$$.dirty&163844&&b(l(7,r=Fr(w.namespace,w.datasetName,n||{},o!=null&&o.isSuccess?o.data.schema:void 0))),i.$$.dirty&8&&l(6,s=(B=m.data)==null?void 0:B.pages[0].total_num_rows),i.$$.dirty&8&&l(5,a=(Y=m.data)==null?void 0:Y.pages.flatMap(Z=>Z.rows)),i.$$.dirty&65536&&l(1,f=(d.visibleFields||[]).sort((Z,j)=>De(Z.path)>De(j.path)?1:-1)),i.$$.dirty&6&&l(14,u=((U=o==null?void 0:o.data)==null?void 0:U.schema)!=null?ti((H=o==null?void 0:o.data)==null?void 0:H.schema,f):null),i.$$.dirty&81920&&l(4,c=li(u,d.settings)),i.$$.dirty&1&&P.set(D)},sr(ni,P),[D,f,o,m,c,a,s,r,t,I,T,F,A,E,u,n,d,w,k,N]}class _a extends we{constructor(e){super(),ke(this,e,ma,ha,pe,{})}}function xl(i,e,l){const t=i.slice();return t[43]=e[l],t}function en(i,e,l){const t=i.slice();return t[46]=e[l],t}function ga(i){let e,l=i[49].text+"",t;return{c(){e=M("div"),t=J(l)},l(n){e=z(n,"DIV",{});var o=S(e);t=G(o,l),o.forEach(h)},m(n,o){C(n,e,o),v(e,t)},p(n,o){o[1]&262144&&l!==(l=n[49].text+"")&&ue(t,l)},i:X,o:X,d(n){n&&h(e)}}}function pa(i){let e,l,t,n,o,r,s;return l=new nt({props:{$$slots:{default:[va]},$$scope:{ctx:i}}}),{c(){e=M("div"),R(l.$$.fragment),t=Q(),n=M("div"),o=J(`Keyword search:
                    `),r=J(i[0]),this.h()},l(a){e=z(a,"DIV",{class:!0});var f=S(e);L(l.$$.fragment,f),t=W(f),n=z(f,"DIV",{class:!0});var u=S(n);o=G(u,`Keyword search:
                    `),r=G(u,i[0]),u.forEach(h),f.forEach(h),this.h()},h(){V(n,"class","ml-2"),V(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(a,f){C(a,e,f),q(l,e,null),v(e,t),v(e,n),v(n,o),v(n,r),s=!0},p(a,f){const u={};f[1]&524288&&(u.$$scope={dirty:f,ctx:a}),l.$set(u),(!s||f[0]&1)&&ue(r,a[0])},i(a){s||(_(l.$$.fragment,a),s=!0)},o(a){p(l.$$.fragment,a),s=!1},d(a){a&&h(e),O(l)}}}function ba(i){let e,l,t,n,o,r=i[0]!=""?":":"",s,a,f,u;return l=new nt({props:{$$slots:{default:[wa]},$$scope:{ctx:i}}}),{c(){e=M("div"),R(l.$$.fragment),t=Q(),n=M("div"),o=J("New concept"),s=J(r),a=Q(),f=J(i[0]),this.h()},l(c){e=z(c,"DIV",{class:!0});var d=S(e);L(l.$$.fragment,d),t=W(d),n=z(d,"DIV",{class:!0});var m=S(n);o=G(m,"New concept"),s=G(m,r),a=W(m),f=G(m,i[0]),m.forEach(h),d.forEach(h),this.h()},h(){V(n,"class","ml-2"),V(e,"class","new-concept flex flex-row items-center justify-items-center")},m(c,d){C(c,e,d),q(l,e,null),v(e,t),v(e,n),v(n,o),v(n,s),v(n,a),v(n,f),u=!0},p(c,d){const m={};d[1]&524288&&(m.$$scope={dirty:d,ctx:c}),l.$set(m),(!u||d[0]&1)&&r!==(r=c[0]!=""?":":"")&&ue(s,r),(!u||d[0]&1)&&ue(f,c[0])},i(c){u||(_(l.$$.fragment,c),u=!0)},o(c){p(l.$$.fragment,c),u=!1},d(c){c&&h(e),O(l)}}}function va(i){let e,l;return e=new as({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function wa(i){let e,l;return e=new Hi({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ka(i){let e,l,t,n;const o=[ba,pa,ga],r=[];function s(a,f){return a[49].id==="new-concept"?0:a[49].id==="keyword-search"?1:2}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},l(a){l.l(a),t=ne()},m(a,f){r[e].m(a,f),C(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(x(),p(r[u],1,1,()=>{r[u]=null}),ee(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t))},i(a){n||(_(l),n=!0)},o(a){p(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function tn(i){let e,l;return e=new $t({props:{value:De(i[46]),text:De(i[46])}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&512&&(o.value=De(t[46])),n[0]&512&&(o.text=De(t[46])),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function $a(i){let e,l,t=i[9],n=[];for(let r=0;r<t.length;r+=1)n[r]=tn(en(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s[0]&512){t=r[9];let a;for(a=0;a<t.length;a+=1){const f=en(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=tn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(x(),a=t.length;a<n.length;a+=1)o(a);ee()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function ln(i){let e,l;return e=new Mt({props:{size:"xl",class:"field-select w-48",selected:i[1]?De(i[1]):"",disabled:i[9].length===0,warn:i[9].length===0,$$slots:{default:[$a]},$$scope:{ctx:i}}}),e.$on("change",i[21]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&2&&(o.selected=t[1]?De(t[1]):""),n[0]&512&&(o.disabled=t[9].length===0),n[0]&512&&(o.warn=t[9].length===0),n[0]&512|n[1]&524288&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function nn(i){let e,l;return e=new $t({props:{value:i[43].name,text:i[43].name}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&16&&(o.value=t[43].name),n[0]&16&&(o.text=t[43].name),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Sa(i){let e,l,t=i[4].data||[],n=[];for(let r=0;r<t.length;r+=1)n[r]=nn(xl(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s[0]&16){t=r[4].data||[];let a;for(a=0;a<t.length;a+=1){const f=xl(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=nn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(x(),a=t.length;a<n.length;a+=1)o(a);ee()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function ya(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g=i[9],b,w,I,T,$,y,F;t=new et({props:{disabled:i[3]||i[8],iconDescription:"Compute embedding index. This may be expensive.",icon:i[3]?ll:i[8]?nl:qt}}),t.$on("click",i[35]);function A(P){i[37](P)}let E={size:"xl",items:i[5],shouldFilterItem:Ea,placeholder:i[7],$$slots:{default:[ka,({item:P})=>({49:P}),({item:P})=>[0,P?262144:0]]},$$scope:{ctx:i}};i[0]!==void 0&&(E.value=i[0]),u=new Ei({props:E}),i[36](u),Re.push(()=>Je(u,"value",A)),u.$on("select",i[20]);let D=ln(i);return T=new Mt({props:{size:"xl",selected:i[2]||"",name:i[2]||"",$$slots:{default:[Sa]},$$scope:{ctx:i}}}),T.$on("change",i[18]),{c(){e=M("div"),l=M("div"),R(t.$$.fragment),n=Q(),o=M("div"),r=M("div"),s=M("div"),a=M("div"),f=M("div"),R(u.$$.fragment),d=Q(),m=M("div"),D.c(),b=Q(),w=M("div"),I=M("div"),R(T.$$.fragment),this.h()},l(P){e=z(P,"DIV",{class:!0});var k=S(e);l=z(k,"DIV",{class:!0});var N=S(l);L(t.$$.fragment,N),N.forEach(h),n=W(k),o=z(k,"DIV",{class:!0});var B=S(o);r=z(B,"DIV",{class:!0});var Y=S(r);s=z(Y,"DIV",{class:!0});var U=S(s);a=z(U,"DIV",{class:!0});var H=S(a);f=z(H,"DIV",{class:!0});var Z=S(f);L(u.$$.fragment,Z),Z.forEach(h),H.forEach(h),U.forEach(h),Y.forEach(h),B.forEach(h),d=W(k),m=z(k,"DIV",{class:!0});var j=S(m);D.l(j),j.forEach(h),b=W(k),w=z(k,"DIV",{class:!0});var se=S(w);I=z(se,"DIV",{class:!0});var te=S(I);L(T.$$.fragment,te),te.forEach(h),se.forEach(h),k.forEach(h),this.h()},h(){V(l,"class","compute-embedding mr-1"),fe(l,"compute-embedding-indexing",i[8]),V(f,"class","flex-grow"),V(a,"class","flex w-full flex-row items-start justify-items-start"),V(s,"class","flex flex-row"),V(r,"class","w-full"),V(o,"class","search-container flex w-full flex-grow flex-row"),V(m,"class","mx-1"),V(I,"class","w-28"),V(w,"class","embedding-select mr-8 flex flex-row"),V(e,"class","border-1 flex w-full flex-row items-center px-4")},m(P,k){C(P,e,k),v(e,l),q(t,l,null),v(e,n),v(e,o),v(o,r),v(r,s),v(s,a),v(a,f),q(u,f,null),v(e,d),v(e,m),D.m(m,null),v(e,b),v(e,w),v(w,I),q(T,I,null),$=!0,y||(F=[Ne(Te.call(null,m,{text:"Select the field to search over."})),Ne(Te.call(null,I,{text:"Select the embedding to use."}))],y=!0)},p(P,k){const N={};k[0]&264&&(N.disabled=P[3]||P[8]),k[0]&264&&(N.icon=P[3]?ll:P[8]?nl:qt),t.$set(N),(!$||k[0]&256)&&fe(l,"compute-embedding-indexing",P[8]);const B={};k[0]&32&&(B.items=P[5]),k[0]&128&&(B.placeholder=P[7]),k[0]&1|k[1]&786432&&(B.$$scope={dirty:k,ctx:P}),!c&&k[0]&1&&(c=!0,B.value=P[0],Ge(()=>c=!1)),u.$set(B),k[0]&512&&pe(g,g=P[9])?(x(),p(D,1,1,X),ee(),D=ln(P),D.c(),_(D,1),D.m(m,null)):D.p(P,k);const Y={};k[0]&4&&(Y.selected=P[2]||""),k[0]&4&&(Y.name=P[2]||""),k[0]&16|k[1]&524288&&(Y.$$scope={dirty:k,ctx:P}),T.$set(Y)},i(P){$||(_(t.$$.fragment,P),_(u.$$.fragment,P),_(D),_(T.$$.fragment,P),$=!0)},o(P){p(t.$$.fragment,P),p(u.$$.fragment,P),p(D),p(T.$$.fragment,P),$=!1},d(P){P&&h(e),O(t),i[36](null),O(u),D.d(P),O(T),y=!1,Ye(F)}}}const Ea=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-concept";function Da(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g,b,w,I,T,$,y,F,A,E,D=X,P=()=>(D(),D=Pe(t,ge=>l(33,E=ge)),t),k;i.$$.on_destroy.push(()=>D());const N=qe();he(i,N,ge=>l(32,A=ge));const B=Qe();he(i,B,ge=>l(31,y=ge));const Y=br();he(i,Y,ge=>l(34,k=ge));const U=ur();he(i,U,ge=>l(40,I=ge));const H=Gt();he(i,H,ge=>l(4,F=ge));const Z=(ge,me)=>`${De(ge||"")}_${me}`;let j={};const se=Ar();he(i,se,ge=>l(30,$=ge));const te=zt();he(i,te,ge=>l(29,T=ge));let re=[],oe="",de;const Be=ge=>{l(2,f=ge.target.value),N.setSearchEmbedding(ge.target.value)},ye=()=>{f!=null&&(l(22,j[Z(r,f)]=!0,j),I.mutate([n,o,{leaf_path:Lt(r||[]),signal:{signal_name:f}}]))};let ae;const ie=(ge,me)=>{r==null||f==null||(N.addSearch({path:[De(r)],query:{type:"concept",concept_namespace:ge,concept_name:me,embedding:f}}),ae.clear())},$e=ge=>{if(!(r==null||f==null)){if(ge.detail.selectedId==="new-concept"){oe===de.id&&l(0,oe="");const me=oe.split("/",2);let Me="",ze="";me.length===2?[Me,ze]=me:[ze]=me,Ke({command:Xe.CreateConcept,namespace:Me,conceptName:ze,onCreate:rt=>ie(rt.detail.namespace,rt.detail.name)}),ae.clear();return}else if(ge.detail.selectedId==="keyword-search"){if(oe=="")return;N.addSearch({path:[De(r)],query:{type:"keyword",search:oe}}),ae.clear();return}ie(ge.detail.selectedId.namespace,ge.detail.selectedId.name)}},K=ge=>{N.setSearchPath(ge.target.value)},le=()=>{ye()};function _e(ge){Re[ge?"unshift":"push"](()=>{ae=ge,l(6,ae)})}function je(ge){oe=ge,l(0,oe)}return i.$$.update=()=>{var ge,me;i.$$.dirty[1]&2&&P(l(10,t=Nt(A.namespace,A.datasetName))),i.$$.dirty[1]&2&&(n=A.namespace),i.$$.dirty[1]&2&&(o=A.datasetName),i.$$.dirty[1]&3&&l(1,r=ri(A,y)),i.$$.dirty[0]&2|i.$$.dirty[1]&2&&l(24,s=Qt(A,r)),i.$$.dirty[1]&1&&l(9,a=(y.visibleFields||[]).filter(Me=>Me.dtype==="string").map(Me=>De(Me.path))),i.$$.dirty[0]&18|i.$$.dirty[1]&15&&l(2,f=ii(k,E.data,A,y,r,(F.data||[]).map(Me=>Me.name))),i.$$.dirty[0]&2|i.$$.dirty[1]&1&&l(28,u=si(y,r)),i.$$.dirty[0]&268435460&&l(3,c=u!=null&&!!u.includes(f||"")),i.$$.dirty[0]&4194318&&l(8,d=!c&&j[Z(r,f)]),i.$$.dirty[0]&8&&l(7,m=c?"Search by concept or keyword.":'Search by keyword. Click "compute embedding" to search by concept.'),i.$$.dirty[0]&536870912&&l(27,g=(me=(ge=T.data)==null?void 0:ge.user)==null?void 0:me.id),i.$$.dirty[0]&1207959552&&l(25,b=ai($.data||[],g)),i.$$.dirty[0]&9&&l(23,de={id:"new-concept",text:oe,disabled:!c}),i.$$.dirty[0]&1&&l(26,w={id:"keyword-search",text:oe}),i.$$.dirty[0]&1736441865&&l(5,re=$!=null&&$.data?[de,...oe!=""?[w]:[],...b.flatMap(Me=>Me.concepts.map(ze=>({id:{namespace:ze.namespace,name:ze.name},text:oi(ze.namespace,ze.name,T.data),disabled:!c||s.some(rt=>rt.query.type==="concept"&&rt.query.concept_namespace===ze.namespace&&rt.query.concept_name===ze.name)})))]:[])},[oe,r,f,c,F,re,ae,m,d,a,t,N,B,Y,U,H,se,te,Be,ye,$e,K,j,de,s,b,w,g,u,T,$,y,A,E,k,le,_e,je]}class Ia extends we{constructor(e){super(),ke(this,e,Da,ya,pe,{},null,[-1,-1])}}function Va(i){let e,l;return e=new et({props:{$$slots:{default:[Na]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&512&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ca(i){let e,l;return{c(){e=M("span"),l=J("Invalid query"),this.h()},l(t){e=z(t,"SPAN",{class:!0});var n=S(e);l=G(n,"Invalid query"),n.forEach(h),this.h()},h(){V(e,"class","text-red-500")},m(t,n){C(t,e,n),v(e,l)},p:X,i:X,o:X,d(t){t&&h(e)}}}function Na(i){let e;return{c(){e=J("Apply")},l(l){e=G(l,"Apply")},m(l,t){C(l,e,t)},d(l){l&&h(e)}}}function Ta(i){let e,l,t,n,o,r,s,a,f,u,c;const d=[Ca,Va],m=[];function g(b,w){return b[0]?b[3]?1:-1:0}return~(r=g(i))&&(s=m[r]=d[r](i)),{c(){e=M("pre"),l=J(""),t=J(i[2]),n=J(`
`),o=Q(),s&&s.c(),a=ne(),this.h()},l(b){e=z(b,"PRE",{class:!0,contenteditable:!0});var w=S(e);l=G(w,""),t=G(w,i[2]),n=G(w,`
`),w.forEach(h),o=W(b),s&&s.l(b),a=ne(),this.h()},h(){V(e,"class","whitespace-pre bg-gray-50 p-4 font-mono"),V(e,"contenteditable",""),i[1]===void 0&&kt(()=>i[8].call(e)),fe(e,"outline-red-500",!i[0])},m(b,w){C(b,e,w),v(e,l),v(e,t),v(e,n),i[1]!==void 0&&(e.innerText=i[1]),C(b,o,w),~r&&m[r].m(b,w),C(b,a,w),f=!0,u||(c=Ce(e,"input",i[8]),u=!0)},p(b,[w]){(!f||w&4)&&Ir(t,b[2]),w&2&&b[1]!==e.innerText&&(e.innerText=b[1]),(!f||w&1)&&fe(e,"outline-red-500",!b[0]);let I=r;r=g(b),r===I?~r&&m[r].p(b,w):(s&&(x(),p(m[I],1,1,()=>{m[I]=null}),ee()),~r?(s=m[r],s?s.p(b,w):(s=m[r]=d[r](b),s.c()),_(s,1),s.m(a.parentNode,a)):s=null)},i(b){f||(_(s),f=!0)},o(b){p(s),f=!1},d(b){b&&h(e),b&&h(o),~r&&m[r].d(b),b&&h(a),u=!1,c()}}}function Ma(i,e,l){let t,n,o,r,s;const a=qe();he(i,a,d=>l(7,s=d));let f=!0;function u(){at(a,s.query=JSON.parse(o),s)}function c(){o=this.innerText,l(1,o),l(2,n),l(6,t),l(7,s)}return i.$$.update=()=>{if(i.$$.dirty&128&&l(6,t=s.query),i.$$.dirty&64&&l(2,n=t?JSON.stringify(t,null,2):""),i.$$.dirty&4&&l(1,o=n),i.$$.dirty&2)try{JSON.parse(o),l(0,f=!0)}catch{l(0,f=!1)}i.$$.dirty&67&&l(3,r=f&&!fi(JSON.parse(o),t))},[f,o,n,r,a,u,t,s,c]}class za extends we{constructor(e){super(),ke(this,e,Ma,Ta,pe,{})}}function rn(i){let e,l;return e=new Pr({props:{light:!0,flipped:!0,$$slots:{default:[Fa]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&1073742079&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function sn(i){let e,l;return e=new dt({props:{text:"Sort by"}}),e.$on("click",i[20]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function an(i){let e,l;return e=new dt({props:{text:"Filter"}}),e.$on("click",i[21]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function on(i){let e,l,t,n,o,r;return l=new dt({props:{disabled:!i[7],text:"Compute embedding"}}),l.$on("click",i[22]),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(s){e=z(s,"DIV",{class:!0});var a=S(e);L(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","w-full")},m(s,a){C(s,e,a),q(l,e,null),n=!0,o||(r=Ne(t=Te.call(null,e,{text:i[7]?"":"User does not have access to compute embeddings over this dataset."})),o=!0)},p(s,a){const f={};a&128&&(f.disabled=!s[7]),l.$set(f),t&&He(t.update)&&a&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute embeddings over this dataset."})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){p(l.$$.fragment,s),n=!1},d(s){s&&h(e),O(l),o=!1,r()}}}function fn(i){let e,l;return e=new dt({props:{text:"Preview signal"}}),e.$on("click",i[23]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function un(i){let e,l,t,n,o,r;return l=new dt({props:{text:"Compute signal",disabled:!i[7]}}),l.$on("click",i[24]),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(s){e=z(s,"DIV",{class:!0});var a=S(e);L(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","w-full")},m(s,a){C(s,e,a),q(l,e,null),n=!0,o||(r=Ne(t=Te.call(null,e,{text:i[7]?"":"User does not have access to compute signals over this dataset."})),o=!0)},p(s,a){const f={};a&128&&(f.disabled=!s[7]),l.$set(f),t&&He(t.update)&&a&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute signals over this dataset."})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){p(l.$$.fragment,s),n=!1},d(s){s&&h(e),O(l),o=!1,r()}}}function cn(i){let e,l,t,n,o,r;return l=new dt({props:{disabled:!i[6],text:"Delete signal"}}),l.$on("click",i[25]),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(s){e=z(s,"DIV",{class:!0});var a=S(e);L(l.$$.fragment,a),a.forEach(h),this.h()},h(){V(e,"class","w-full")},m(s,a){C(s,e,a),q(l,e,null),n=!0,o||(r=Ne(t=Te.call(null,e,{text:i[6]?"":"User does not have access to delete signals for this dataset."})),o=!0)},p(s,a){const f={};a&64&&(f.disabled=!s[6]),l.$set(f),t&&He(t.update)&&a&64&&t.update.call(null,{text:s[6]?"":"User does not have access to delete signals for this dataset."})},i(s){n||(_(l.$$.fragment,s),n=!0)},o(s){p(l.$$.fragment,s),n=!1},d(s){s&&h(e),O(l),o=!1,r()}}}function Fa(i){let e=Dt(i[0]),l,t=Rt(i[0]),n,o,r,s,a,f,u=e&&sn(i),c=t&&an(i),d=!i[2]&&on(i),m=!i[2]&&fn(i),g=!i[2]&&un(i),b=i[1]&&cn(i);return{c(){u&&u.c(),l=Q(),c&&c.c(),n=Q(),d&&d.c(),o=Q(),m&&m.c(),r=Q(),g&&g.c(),s=Q(),b&&b.c(),a=ne()},l(w){u&&u.l(w),l=W(w),c&&c.l(w),n=W(w),d&&d.l(w),o=W(w),m&&m.l(w),r=W(w),g&&g.l(w),s=W(w),b&&b.l(w),a=ne()},m(w,I){u&&u.m(w,I),C(w,l,I),c&&c.m(w,I),C(w,n,I),d&&d.m(w,I),C(w,o,I),m&&m.m(w,I),C(w,r,I),g&&g.m(w,I),C(w,s,I),b&&b.m(w,I),C(w,a,I),f=!0},p(w,I){I&1&&(e=Dt(w[0])),e?u?(u.p(w,I),I&1&&_(u,1)):(u=sn(w),u.c(),_(u,1),u.m(l.parentNode,l)):u&&(x(),p(u,1,1,()=>{u=null}),ee()),I&1&&(t=Rt(w[0])),t?c?(c.p(w,I),I&1&&_(c,1)):(c=an(w),c.c(),_(c,1),c.m(n.parentNode,n)):c&&(x(),p(c,1,1,()=>{c=null}),ee()),w[2]?d&&(x(),p(d,1,1,()=>{d=null}),ee()):d?(d.p(w,I),I&4&&_(d,1)):(d=on(w),d.c(),_(d,1),d.m(o.parentNode,o)),w[2]?m&&(x(),p(m,1,1,()=>{m=null}),ee()):m?(m.p(w,I),I&4&&_(m,1)):(m=fn(w),m.c(),_(m,1),m.m(r.parentNode,r)),w[2]?g&&(x(),p(g,1,1,()=>{g=null}),ee()):g?(g.p(w,I),I&4&&_(g,1)):(g=un(w),g.c(),_(g,1),g.m(s.parentNode,s)),w[1]?b?(b.p(w,I),I&2&&_(b,1)):(b=cn(w),b.c(),_(b,1),b.m(a.parentNode,a)):b&&(x(),p(b,1,1,()=>{b=null}),ee())},i(w){f||(_(u),_(c),_(d),_(m),_(g),_(b),f=!0)},o(w){p(u),p(c),p(d),p(m),p(g),p(b),f=!1},d(w){u&&u.d(w),w&&h(l),c&&c.d(w),w&&h(n),d&&d.d(w),w&&h(o),m&&m.d(w),w&&h(r),g&&g.d(w),w&&h(s),b&&b.d(w),w&&h(a)}}}function Aa(i){let e,l,t,n=De(i[0].path)+"",o,r,s,a,f;return{c(){e=M("p"),l=J("Confirm deleting "),t=M("code"),o=J(n),r=J(" ?"),s=Q(),a=M("p"),f=J("This is a permanent action and cannot be undone."),this.h()},l(u){e=z(u,"P",{class:!0});var c=S(e);l=G(c,"Confirm deleting "),t=z(c,"CODE",{});var d=S(t);o=G(d,n),d.forEach(h),r=G(c," ?"),c.forEach(h),s=W(u),a=z(u,"P",{class:!0});var m=S(a);f=G(m,"This is a permanent action and cannot be undone."),m.forEach(h),this.h()},h(){V(e,"class","!text-lg"),V(a,"class","mt-2")},m(u,c){C(u,e,c),v(e,l),v(e,t),v(t,o),v(e,r),C(u,s,c),C(u,a,c),v(a,f)},p(u,c){c&1&&n!==(n=De(u[0].path)+"")&&ue(o,n)},d(u){u&&h(e),u&&h(s),u&&h(a)}}}function Ba(i){let e,l,t,n,o=i[8]&&rn(i);function r(a){i[26](a)}let s={danger:!0,modalHeading:"Delete signal",primaryButtonText:"Delete",primaryButtonIcon:i[9].isLoading?Vt:void 0,secondaryButtonText:"Cancel",$$slots:{default:[Aa]},$$scope:{ctx:i}};return i[3]!==void 0&&(s.open=i[3]),l=new Jt({props:s}),Re.push(()=>Je(l,"open",r)),l.$on("click:button--secondary",i[27]),l.$on("open",i[28]),l.$on("close",i[29]),l.$on("submit",i[14]),{c(){o&&o.c(),e=Q(),R(l.$$.fragment)},l(a){o&&o.l(a),e=W(a),L(l.$$.fragment,a)},m(a,f){o&&o.m(a,f),C(a,e,f),q(l,a,f),n=!0},p(a,[f]){a[8]?o?(o.p(a,f),f&256&&_(o,1)):(o=rn(a),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(x(),p(o,1,1,()=>{o=null}),ee());const u={};f&512&&(u.primaryButtonIcon=a[9].isLoading?Vt:void 0),f&1073741825&&(u.$$scope={dirty:f,ctx:a}),!t&&f&8&&(t=!0,u.open=a[3],Ge(()=>t=!1)),l.$set(u)},i(a){n||(_(o),_(l.$$.fragment,a),n=!0)},o(a){p(o),p(l.$$.fragment,a),n=!1},d(a){o&&o.d(a),a&&h(e),O(l,a)}}}function Pa(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g,{field:b}=e,{schema:w}=e,I=!1;const T=qe();he(i,T,j=>l(19,g=j));const $=Qe();he(i,$,j=>l(18,m=j));const y=Br();he(i,y,j=>l(9,c=j));const F=zt();he(i,F,j=>l(17,d=j));function A(){c.mutate([t,n,{signal_path:b.path}],{onSuccess:()=>{l(3,I=!1),T.deleteSignal(b.path)}})}const E=()=>T.addSortBy(b.path),D=()=>Ke({command:Xe.EditFilter,namespace:t,datasetName:n,path:b.path}),P=()=>Ke({command:Xe.ComputeEmbedding,namespace:t,datasetName:n,path:b==null?void 0:b.path}),k=()=>Ke({command:Xe.PreviewConcept,namespace:t,datasetName:n,path:b==null?void 0:b.path}),N=()=>Ke({command:Xe.ComputeSignal,namespace:t,datasetName:n,path:b==null?void 0:b.path}),B=()=>l(3,I=!0);function Y(j){I=j,l(3,I)}const U=()=>l(3,I=!1);function H(j){Ue.call(this,i,j)}function Z(j){Ue.call(this,i,j)}return i.$$set=j=>{"field"in j&&l(0,b=j.field),"schema"in j&&l(15,w=j.schema)},i.$$.update=()=>{var j,se,te;i.$$.dirty&524288&&l(5,t=g.namespace),i.$$.dirty&524288&&l(4,n=g.datasetName),i.$$.dirty&32769&&l(2,o=lt(b,w)),i.$$.dirty&1&&l(1,r=tt(b)),i.$$.dirty&262145&&l(16,s=Tt(((j=m.selectRowsSchema)==null?void 0:j.data)||null,b.path)),i.$$.dirty&65543&&l(8,a=(Dt(b)||Rt(b)||!o||r)&&!s),i.$$.dirty&131072&&l(7,f=(se=d.data)==null?void 0:se.access.dataset.compute_signals),i.$$.dirty&131072&&l(6,u=(te=d.data)==null?void 0:te.access.dataset.delete_signals)},[b,r,o,I,n,t,u,f,a,c,T,$,y,F,A,w,s,d,m,g,E,D,P,k,N,B,Y,U,H,Z]}class wr extends we{constructor(e){super(),ke(this,e,Pa,Ba,pe,{field:0,schema:15})}}function dn(i,e,l){const t=i.slice();t[7]=e[l][0],t[8]=e[l][1];const n=t[2](t[7]);t[9]=n;const o=`${t[8]/t[1]*100}%`;t[10]=o;const r=Ve(t[8]);return t[11]=r,t}function hn(i){let e,l,t=i[9]+"",n,o,r,s,a,f=i[11]+"",u,c,d,m,g;function b(){return i[6](i[7])}return{c(){e=M("button"),l=M("div"),n=J(t),r=Q(),s=M("div"),a=M("div"),u=J(f),d=Q(),this.h()},l(w){e=z(w,"BUTTON",{class:!0});var I=S(e);l=z(I,"DIV",{title:!0,class:!0});var T=S(l);n=G(T,t),T.forEach(h),r=W(I),s=z(I,"DIV",{class:!0});var $=S(s);a=z($,"DIV",{title:!0,class:!0});var y=S(a);u=G(y,f),y.forEach(h),$.forEach(h),d=W(I),I.forEach(h),this.h()},h(){V(l,"title",o=i[9]),V(l,"class","w-48 flex-none truncate px-2"),V(a,"title",c=i[11]),V(a,"class","histogram-bar my-px bg-indigo-200 pl-2 text-xs leading-5"),We(a,"width",i[10]),V(s,"class","w-36 border-l border-gray-300 pl-2"),V(e,"class","flex items-center p-0 text-left text-xs text-black hover:bg-gray-200")},m(w,I){C(w,e,I),v(e,l),v(l,n),v(e,r),v(e,s),v(s,a),v(a,u),v(e,d),m||(g=Ce(e,"click",b),m=!0)},p(w,I){i=w,I&1&&t!==(t=i[9]+"")&&ue(n,t),I&1&&o!==(o=i[9])&&V(l,"title",o),I&1&&f!==(f=i[11]+"")&&ue(u,f),I&1&&c!==(c=i[11])&&V(a,"title",c),I&3&&We(a,"width",i[10])},d(w){w&&h(e),m=!1,g()}}}function Ra(i){let e,l=i[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=hn(dn(i,l,n));return{c(){e=M("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=z(n,"DIV",{class:!0});var o=S(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(h),this.h()},h(){V(e,"class","histogram")},m(n,o){C(n,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(n,[o]){if(o&15){l=n[0];let r;for(r=0;r<l.length;r+=1){const s=dn(n,l,r);t[r]?t[r].p(s,o):(t[r]=hn(s),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},i:X,o:X,d(n){n&&h(e),Fe(t,n)}}}function qa(i,e,l){let t,{field:n}=e,{counts:o}=e,{bins:r}=e;function s(u){if(u==null)return Ve(u);if(r==null||n.bins!=null)return Ve(u);const[c,d]=r[u.toString()];return c==null?`< ${Ve(d)}`:d==null?`≥ ${Ve(c)}`:`${Ve(c)} .. ${Ve(d)}`}const a=bt(),f=u=>a("row-click",{value:u});return i.$$set=u=>{"field"in u&&l(4,n=u.field),"counts"in u&&l(0,o=u.counts),"bins"in u&&l(5,r=u.bins)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=Math.max(...o.map(([u,c])=>c)))},[o,t,s,a,n,r,f]}class Oa extends we{constructor(e){super(),ke(this,e,qa,Ra,pe,{field:4,counts:0,bins:5})}}function Ha(i){let e,l,t,n,o,r,s,a,f,u,c,d=Ve(i[4].total_count)+"",m,g,b,w,I,T,$,y,F,A,E,D,P=Ve(i[4].approx_count_distinct)+"",k,N,B,Y,U,H;r=new Ct({props:{class:"inline"}}),T=new Ct({props:{class:"inline"}});let Z=i[4].avg_text_length&&mn(i),j=i[4].min_val&&i[4].max_val&&_n(i);return{c(){e=M("table"),l=M("tbody"),t=M("tr"),n=M("td"),o=M("span"),R(r.$$.fragment),s=Q(),a=M("span"),f=J("Total count"),u=Q(),c=M("td"),m=J(d),g=Q(),b=M("tr"),w=M("td"),I=M("span"),R(T.$$.fragment),$=Q(),y=M("span"),F=J("Unique values"),A=Q(),E=M("td"),D=J("~"),k=J(P),N=Q(),Z&&Z.c(),B=Q(),j&&j.c(),this.h()},l(se){e=z(se,"TABLE",{class:!0});var te=S(e);l=z(te,"TBODY",{});var re=S(l);t=z(re,"TR",{});var oe=S(t);n=z(oe,"TD",{class:!0});var de=S(n);o=z(de,"SPAN",{});var Be=S(o);L(r.$$.fragment,Be),Be.forEach(h),s=W(de),a=z(de,"SPAN",{});var ye=S(a);f=G(ye,"Total count"),ye.forEach(h),de.forEach(h),u=W(oe),c=z(oe,"TD",{class:!0});var ae=S(c);m=G(ae,d),ae.forEach(h),oe.forEach(h),g=W(re),b=z(re,"TR",{});var ie=S(b);w=z(ie,"TD",{class:!0});var $e=S(w);I=z($e,"SPAN",{});var K=S(I);L(T.$$.fragment,K),K.forEach(h),$=W($e),y=z($e,"SPAN",{});var le=S(y);F=G(le,"Unique values"),le.forEach(h),$e.forEach(h),A=W(ie),E=z(ie,"TD",{class:!0});var _e=S(E);D=G(_e,"~"),k=G(_e,P),_e.forEach(h),ie.forEach(h),N=W(re),Z&&Z.l(re),B=W(re),j&&j.l(re),re.forEach(h),te.forEach(h),this.h()},h(){V(n,"class","svelte-1tctrjz"),V(c,"class","svelte-1tctrjz"),V(w,"class","svelte-1tctrjz"),V(E,"class","svelte-1tctrjz"),V(e,"class","stats-table w-full svelte-1tctrjz")},m(se,te){C(se,e,te),v(e,l),v(l,t),v(t,n),v(n,o),q(r,o,null),v(n,s),v(n,a),v(a,f),v(t,u),v(t,c),v(c,m),v(l,g),v(l,b),v(b,w),v(w,I),q(T,I,null),v(w,$),v(w,y),v(y,F),v(b,A),v(b,E),v(E,D),v(E,k),v(l,N),Z&&Z.m(l,null),v(l,B),j&&j.m(l,null),Y=!0,U||(H=[Ne(Te.call(null,o,{text:"Total number of rows where the value is defined."})),Ne(Te.call(null,I,{text:"An approximation of the total number of unique values."}))],U=!0)},p(se,te){(!Y||te&16)&&d!==(d=Ve(se[4].total_count)+"")&&ue(m,d),(!Y||te&16)&&P!==(P=Ve(se[4].approx_count_distinct)+"")&&ue(k,P),se[4].avg_text_length?Z?(Z.p(se,te),te&16&&_(Z,1)):(Z=mn(se),Z.c(),_(Z,1),Z.m(l,B)):Z&&(x(),p(Z,1,1,()=>{Z=null}),ee()),se[4].min_val&&se[4].max_val?j?(j.p(se,te),te&16&&_(j,1)):(j=_n(se),j.c(),_(j,1),j.m(l,null)):j&&(x(),p(j,1,1,()=>{j=null}),ee())},i(se){Y||(_(r.$$.fragment,se),_(T.$$.fragment,se),_(Z),_(j),Y=!0)},o(se){p(r.$$.fragment,se),p(T.$$.fragment,se),p(Z),p(j),Y=!1},d(se){se&&h(e),O(r),O(T),Z&&Z.d(),j&&j.d(),U=!1,Ye(H)}}}function La(i){let e,l;return e=new Le({props:{paragraph:!0,width:"50%"}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ja(i){let e,l,t=i[2].error.message+"",n;return{c(){e=M("p"),l=J("Error: "),n=J(t)},l(o){e=z(o,"P",{});var r=S(e);l=G(r,"Error: "),n=G(r,t),r.forEach(h)},m(o,r){C(o,e,r),v(e,l),v(e,n)},p(o,r){r&4&&t!==(t=o[2].error.message+"")&&ue(n,t)},i:X,o:X,d(o){o&&h(e)}}}function mn(i){let e,l,t,n,o,r,s,a,f,u=Ve(i[4].avg_text_length)+"",c,d,m,g;return n=new Ct({props:{class:"inline"}}),{c(){e=M("tr"),l=M("td"),t=M("span"),R(n.$$.fragment),o=Q(),r=M("span"),s=J("Average text length"),a=Q(),f=M("td"),c=J(u),this.h()},l(b){e=z(b,"TR",{});var w=S(e);l=z(w,"TD",{class:!0});var I=S(l);t=z(I,"SPAN",{});var T=S(t);L(n.$$.fragment,T),T.forEach(h),o=W(I),r=z(I,"SPAN",{});var $=S(r);s=G($,"Average text length"),$.forEach(h),I.forEach(h),a=W(w),f=z(w,"TD",{class:!0});var y=S(f);c=G(y,u),y.forEach(h),w.forEach(h),this.h()},h(){V(l,"class","svelte-1tctrjz"),V(f,"class","svelte-1tctrjz")},m(b,w){C(b,e,w),v(e,l),v(l,t),q(n,t,null),v(l,o),v(l,r),v(r,s),v(e,a),v(e,f),v(f,c),d=!0,m||(g=Ne(Te.call(null,t,{text:"The average length of the text in characters."})),m=!0)},p(b,w){(!d||w&16)&&u!==(u=Ve(b[4].avg_text_length)+"")&&ue(c,u)},i(b){d||(_(n.$$.fragment,b),d=!0)},o(b){p(n.$$.fragment,b),d=!1},d(b){b&&h(e),O(n),m=!1,g()}}}function _n(i){let e,l,t,n,o,r,s,a,f,u=Ve(i[4].min_val)+"",c,d,m=Ve(i[4].max_val)+"",g,b,w,I;return n=new Ct({props:{class:"inline"}}),{c(){e=M("tr"),l=M("td"),t=M("span"),R(n.$$.fragment),o=Q(),r=M("span"),s=J("Range"),a=Q(),f=M("td"),c=J(u),d=J(" .. "),g=J(m),this.h()},l(T){e=z(T,"TR",{});var $=S(e);l=z($,"TD",{class:!0});var y=S(l);t=z(y,"SPAN",{});var F=S(t);L(n.$$.fragment,F),F.forEach(h),o=W(y),r=z(y,"SPAN",{});var A=S(r);s=G(A,"Range"),A.forEach(h),y.forEach(h),a=W($),f=z($,"TD",{class:!0});var E=S(f);c=G(E,u),d=G(E," .. "),g=G(E,m),E.forEach(h),$.forEach(h),this.h()},h(){V(l,"class","svelte-1tctrjz"),V(f,"class","svelte-1tctrjz")},m(T,$){C(T,e,$),v(e,l),v(l,t),q(n,t,null),v(l,o),v(l,r),v(r,s),v(e,a),v(e,f),v(f,c),v(f,d),v(f,g),b=!0,w||(I=Ne(Te.call(null,t,{text:"The minimum and maximum value across the dataset"})),w=!0)},p(T,$){(!b||$&16)&&u!==(u=Ve(T[4].min_val)+"")&&ue(c,u),(!b||$&16)&&m!==(m=Ve(T[4].max_val)+"")&&ue(g,m)},i(T){b||(_(n.$$.fragment,T),b=!0)},o(T){p(n.$$.fragment,T),b=!1},d(T){T&&h(e),O(n),w=!1,I()}}}function Ua(i){let e,l,t;return l=new Oa({props:{counts:i[5],bins:i[3],field:i[0]}}),l.$on("row-click",i[11]),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{class:!0});var o=S(e);L(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"class","mt-4")},m(n,o){C(n,e,o),q(l,e,null),t=!0},p(n,o){const r={};o&32&&(r.counts=n[5]),o&8&&(r.bins=n[3]),o&1&&(r.field=n[0]),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){p(l.$$.fragment,n),t=!1},d(n){n&&h(e),O(l)}}}function Ya(i){let e,l;return e=new Le({props:{paragraph:!0,width:"50%"}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Qa(i){let e,l,t=i[1].error.message+"",n;return{c(){e=M("p"),l=J("Error: "),n=J(t)},l(o){e=z(o,"P",{});var r=S(e);l=G(r,"Error: "),n=G(r,t),r.forEach(h)},m(o,r){C(o,e,r),v(e,l),v(e,n)},p(o,r){r&2&&t!==(t=o[1].error.message+"")&&ue(n,t)},i:X,o:X,d(o){o&&h(e)}}}function Wa(i){let e,l,t,n,o,r,s;const a=[ja,La,Ha],f=[];function u(g,b){return g[2].error?0:g[4]==null?1:2}l=u(i),t=f[l]=a[l](i);const c=[Qa,Ya,Ua],d=[];function m(g,b){return g[1].error?0:g[5]==null?1:g[5].length>0?2:-1}return~(o=m(i))&&(r=d[o]=c[o](i)),{c(){e=M("div"),t.c(),n=Q(),r&&r.c(),this.h()},l(g){e=z(g,"DIV",{class:!0});var b=S(e);t.l(b),n=W(b),r&&r.l(b),b.forEach(h),this.h()},h(){V(e,"class","p-4")},m(g,b){C(g,e,b),f[l].m(e,null),v(e,n),~o&&d[o].m(e,null),s=!0},p(g,[b]){let w=l;l=u(g),l===w?f[l].p(g,b):(x(),p(f[w],1,1,()=>{f[w]=null}),ee(),t=f[l],t?t.p(g,b):(t=f[l]=a[l](g),t.c()),_(t,1),t.m(e,n));let I=o;o=m(g),o===I?~o&&d[o].p(g,b):(r&&(x(),p(d[I],1,1,()=>{d[I]=null}),ee()),~o?(r=d[o],r?r.p(g,b):(r=d[o]=c[o](g),r.c()),_(r,1),r.m(e,null)):r=null)},i(g){s||(_(t),_(r),s=!0)},o(g){p(t),p(r),s=!1},d(g){g&&h(e),f[l].d(),~o&&d[o].d()}}}function Za(i,e,l){let t,n,o,r,s,a=X,f=()=>(a(),a=Pe(n,$=>l(1,s=$)),n),u,c=X,d=()=>(c(),c=Pe(t,$=>l(2,u=$)),t),m;i.$$.on_destroy.push(()=>a()),i.$$.on_destroy.push(()=>c());let{field:g}=e;const b=qe();he(i,b,$=>l(10,m=$));let w=null;function I($){if($==null)return;if(w!=null){const[F,A]=w[$.toString()];if(F!=null){const E={path:g.path,op:"greater_equal",value:F};b.addFilter(E)}if(A!=null){const E={path:g.path,op:"less",value:A};b.addFilter(E)}return}const y={path:g.path,op:"equals",value:$};b.addFilter(y)}const T=$=>I($.detail.value);return i.$$set=$=>{"field"in $&&l(0,g=$.field)},i.$$.update=()=>{var $;if(i.$$.dirty&1025&&d(l(7,t=Rr(m.namespace,m.datasetName,{leaf_path:g.path}))),i.$$.dirty&1025&&f(l(6,n=qr(m.namespace,m.datasetName,{leaf_path:g.path,filters:m.query.filters}))),i.$$.dirty&2&&l(5,o=s.data!=null?s.data.counts:null),i.$$.dirty&4&&l(4,r=u.data!=null?u.data:null),i.$$.dirty&2)if((($=s.data)==null?void 0:$.bins)!=null){l(3,w={});for(const[y,F,A]of Object.values(s.data.bins))l(3,w[y]=[F,A],w)}else l(3,w=null)},[g,s,u,w,r,o,n,t,b,I,m,T]}class Ja extends we{constructor(e){super(),ke(this,e,Za,Wa,pe,{field:0})}}function gn(i,e,l){const t=i.slice();return t[38]=e[l],t}function pn(i,e,l){const t=i.slice();return t[41]=e[l],t}function bn(i,e,l){const t=i.slice();return t[44]=e[l],t}function vn(i,e,l){const t=i.slice();return t[47]=e[l],t}function Ga(i){let e,l="{}",t;return{c(){e=M("span"),t=J(l),this.h()},l(n){e=z(n,"SPAN",{class:!0});var o=S(e);t=G(o,l),o.forEach(h),this.h()},h(){V(e,"class","font-mono")},m(n,o){C(n,e,o),v(e,t)},p:X,i:X,o:X,d(n){n&&h(e)}}}function Ka(i){let e,l,t,n;var o=ct[i[1].repeated_field.dtype];function r(s){return{props:{title:s[1].dtype}}}return o&&(l=ft(o,r(i))),{c(){e=M("div"),l&&R(l.$$.fragment),t=J("[]"),this.h()},l(s){e=z(s,"DIV",{class:!0});var a=S(e);l&&L(l.$$.fragment,a),t=G(a,"[]"),a.forEach(h),this.h()},h(){V(e,"class","flex")},m(s,a){C(s,e,a),l&&q(l,e,null),v(e,t),n=!0},p(s,a){const f={};if(a[0]&2&&(f.title=s[1].dtype),a[0]&2&&o!==(o=ct[s[1].repeated_field.dtype])){if(l){x();const u=l;p(u.$$.fragment,1,0,()=>{O(u,1)}),ee()}o?(l=ft(o,r(s)),R(l.$$.fragment),_(l.$$.fragment,1),q(l,e,t)):l=null}else o&&l.$set(f)},i(s){n||(l&&_(l.$$.fragment,s),n=!0)},o(s){l&&p(l.$$.fragment,s),n=!1},d(s){s&&h(e),l&&O(l)}}}function Xa(i){let e,l,t;var n=ct[i[1].dtype];function o(r){return{props:{title:r[1].dtype}}}return n&&(e=ft(n,o(i))),{c(){e&&R(e.$$.fragment),l=ne()},l(r){e&&L(e.$$.fragment,r),l=ne()},m(r,s){e&&q(e,r,s),C(r,l,s),t=!0},p(r,s){const a={};if(s[0]&2&&(a.title=r[1].dtype),s[0]&2&&n!==(n=ct[r[1].dtype])){if(e){x();const f=e;p(f.$$.fragment,1,0,()=>{O(f,1)}),ee()}n?(e=ft(n,o(r)),R(e.$$.fragment),_(e.$$.fragment,1),q(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&_(e.$$.fragment,r),t=!0)},o(r){e&&p(e.$$.fragment,r),t=!1},d(r){r&&h(l),e&&O(e,r)}}}function wn(i){let e,l;return e=new Ft({props:{interactive:!0,type:"green",$$slots:{default:[to]},$$scope:{ctx:i}}}),e.$on("click",i[32]),e.$on("remove",i[33]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&16384|n[1]&524288&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function xa(i){let e,l;return e=new Xt({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function eo(i){let e,l;return e=new Kt({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function to(i){let e,l,t,n,o,r,s,a;const f=[eo,xa],u=[];function c(d,m){return d[14]=="ASC"?0:1}return r=c(i),s=u[r]=f[r](i),{c(){e=M("div"),l=M("div"),t=J("Sorted"),n=Q(),o=M("span"),s.c(),this.h()},l(d){e=z(d,"DIV",{class:!0});var m=S(e);l=z(m,"DIV",{class:!0});var g=S(l);t=G(g,"Sorted"),g.forEach(h),n=W(m),o=z(m,"SPAN",{});var b=S(o);s.l(b),b.forEach(h),m.forEach(h),this.h()},h(){V(l,"class","mr-1"),V(e,"class","flex flex-row")},m(d,m){C(d,e,m),v(e,l),v(l,t),v(e,n),v(e,o),u[r].m(o,null),a=!0},p(d,m){let g=r;r=c(d),r!==g&&(x(),p(u[g],1,1,()=>{u[g]=null}),ee(),s=u[r],s||(s=u[r]=f[r](d),s.c()),_(s,1),s.m(o,null))},i(d){a||(_(s),a=!0)},o(d){p(s),a=!1},d(d){d&&h(e),u[r].d()}}}function kn(i){let e,l,t=i[7],n=[];for(let r=0;r<t.length;r+=1)n[r]=$n(vn(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s[0]&128){t=r[7];let a;for(a=0;a<t.length;a+=1){const f=vn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=$n(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(x(),a=t.length;a<n.length;a+=1)o(a);ee()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function $n(i){let e,l;return e=new xt({props:{filter:i[47],hidePath:!0}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.filter=t[47]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Sn(i){let e,l;return e=new vr({props:{search:i[44]}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&4096&&(o.search=t[44]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function yn(i){var t;let e,l;return e=new Yt({props:{embedding:(t=i[41].signal)==null?void 0:t.signal_name}}),{c(){R(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){var s;const r={};o[0]&65536&&(r.embedding=(s=n[41].signal)==null?void 0:s.signal_name),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function En(i){let e,l,t,n,o,r,s;return l=new nt({props:{type:"cyan",icon:qt}}),l.$on("click",i[34]),n=new el({props:{isPreview:!0}}),n.$on("click",i[35]),{c(){e=M("div"),R(l.$$.fragment),t=Q(),R(n.$$.fragment),this.h()},l(a){e=z(a,"DIV",{class:!0});var f=S(e);L(l.$$.fragment,f),f.forEach(h),t=W(a),L(n.$$.fragment,a),this.h()},h(){V(e,"class","compute-signal-preview pointer-events-auto")},m(a,f){C(a,e,f),q(l,e,null),C(a,t,f),q(n,a,f),o=!0,r||(s=Ne(Te.call(null,e,{text:`Compute signal over the column and save the result.

This may be expensive.`})),r=!0)},p:X,i(a){o||(_(l.$$.fragment,a),_(n.$$.fragment,a),o=!0)},o(a){p(l.$$.fragment,a),p(n.$$.fragment,a),o=!1},d(a){a&&h(e),O(l),a&&h(t),O(n,a),r=!1,s()}}}function Dn(i){let e,l,t,n,o,r,s;return t=new ui({}),{c(){e=M("button"),l=M("div"),R(t.$$.fragment),this.h()},l(a){e=z(a,"BUTTON",{});var f=S(e);l=z(f,"DIV",{class:!0});var u=S(l);L(t.$$.fragment,u),u.forEach(h),f.forEach(h),this.h()},h(){V(l,"class","transition"),fe(l,"rotate-180",i[20]),fe(e,"bg-slate-300",i[20])},m(a,f){C(a,e,f),v(e,l),q(t,l,null),o=!0,r||(s=[Ne(n=Te.call(null,e,{text:i[20]?"Close statistics":"See statistics"})),Ce(e,"click",i[36])],r=!0)},p(a,f){(!o||f[0]&1048576)&&fe(l,"rotate-180",a[20]),n&&He(n.update)&&f[0]&1048576&&n.update.call(null,{text:a[20]?"Close statistics":"See statistics"}),(!o||f[0]&1048576)&&fe(e,"bg-slate-300",a[20])},i(a){o||(_(t.$$.fragment,a),o=!0)},o(a){p(t.$$.fragment,a),o=!1},d(a){a&&h(e),O(t),r=!1,Ye(s)}}}function In(i){let e,l,t,n;return l=new Ja({props:{field:i[1]}}),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(o){e=z(o,"DIV",{class:!0});var r=S(e);L(l.$$.fragment,r),r.forEach(h),this.h()},h(){V(e,"class","px-2")},m(o,r){C(o,e,r),q(l,e,null),n=!0},p(o,r){const s={};r[0]&2&&(s.field=o[1]),l.$set(s)},i(o){n||(_(l.$$.fragment,o),o&&kt(()=>{n&&(t||(t=ot(e,ut,{},!0)),t.run(1))}),n=!0)},o(o){p(l.$$.fragment,o),o&&(t||(t=ot(e,ut,{},!1)),t.run(0)),n=!1},d(o){o&&h(e),O(l),o&&t&&t.end()}}}function Vn(i){let e,l,t=i[18],n=[];for(let r=0;r<t.length;r+=1)n[r]=Cn(gn(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s[0]&262415){t=r[18];let a;for(a=0;a<t.length;a+=1){const f=gn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Cn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(x(),a=t.length;a<n.length;a+=1)o(a);ee()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function Cn(i){let e,l;return e=new kr({props:{schema:i[0],field:i[38],indent:i[3]+1,sourceField:i[8]&&lt(i[38],i[0])?i[1]:i[2]}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&262144&&(o.field=t[38]),n[0]&8&&(o.indent=t[3]+1),n[0]&262407&&(o.sourceField=t[8]&&lt(t[38],t[0])?t[1]:t[2]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function lo(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,b,w,I,T,$,y,F,A,E,D,P,k,N,B;n=new Wt({props:{labelText:"Show",hideLabel:!0,checked:i[17]}}),n.$on("change",i[30]);const Y=[Xa,Ka,Ga],U=[];function H(K,le){return K[1].dtype?0:K[1].repeated_field&&K[1].repeated_field.dtype?1:2}s=H(i),a=U[s]=Y[s](i);let Z=i[15]&&wn(i),j=i[13]&&kn(i),se=i[12],te=[];for(let K=0;K<se.length;K+=1)te[K]=Sn(bn(i,se,K));const re=K=>p(te[K],1,1,()=>{te[K]=null});let oe=i[16],de=[];for(let K=0;K<oe.length;K+=1)de[K]=yn(pn(i,oe,K));const Be=K=>p(de[K],1,1,()=>{de[K]=null});let ye=i[4]&&i[21]&&En(i),ae=i[10]&&Dn(i);F=new wr({props:{field:i[1],schema:i[0]}});let ie=i[20]&&In(i),$e=i[18].length&&Vn(i);return{c(){e=M("div"),l=M("div"),t=M("div"),R(n.$$.fragment),o=Q(),r=M("div"),a.c(),u=Q(),c=M("button"),d=J(i[19]),g=Q(),Z&&Z.c(),b=Q(),j&&j.c(),w=Q();for(let K=0;K<te.length;K+=1)te[K].c();I=Q();for(let K=0;K<de.length;K+=1)de[K].c();T=Q(),ye&&ye.c(),$=Q(),ae&&ae.c(),y=Q(),R(F.$$.fragment),A=Q(),ie&&ie.c(),E=Q(),D=M("div"),$e&&$e.c(),this.h()},l(K){e=z(K,"DIV",{class:!0});var le=S(e);l=z(le,"DIV",{class:!0});var _e=S(l);t=z(_e,"DIV",{});var je=S(t);L(n.$$.fragment,je),je.forEach(h),o=W(_e),r=z(_e,"DIV",{class:!0});var ge=S(r);a.l(ge),ge.forEach(h),u=W(_e),c=z(_e,"BUTTON",{class:!0});var me=S(c);d=G(me,i[19]),me.forEach(h),g=W(_e),Z&&Z.l(_e),b=W(_e),j&&j.l(_e),w=W(_e);for(let ze=0;ze<te.length;ze+=1)te[ze].l(_e);I=W(_e);for(let ze=0;ze<de.length;ze+=1)de[ze].l(_e);T=W(_e),ye&&ye.l(_e),$=W(_e),ae&&ae.l(_e),y=W(_e),L(F.$$.fragment,_e),_e.forEach(h),A=W(le),ie&&ie.l(le),E=W(le),D=z(le,"DIV",{});var Me=S(D);$e&&$e.l(Me),Me.forEach(h),le.forEach(h),this.h()},h(){We(t,"margin-left",i[3]*1.5+"rem"),V(r,"class","rounded-md bg-blue-200 p-0.5"),fe(r,"bg-blue-200",i[5]),V(c,"class","ml-2 grow cursor-pointer truncate whitespace-nowrap text-left text-gray-900"),c.disabled=m=!i[10],fe(c,"cursor-default",!i[10]),V(l,"class","flex w-full flex-row items-center gap-x-2 border-gray-300 px-4 hover:bg-gray-100"),fe(l,"bg-blue-50",i[5]),fe(l,"bg-emerald-100",i[4]),fe(l,"hover:bg-blue-100",i[5]),V(e,"class","border-gray-300"),fe(e,"border-b",!i[5])},m(K,le){C(K,e,le),v(e,l),v(l,t),q(n,t,null),v(l,o),v(l,r),U[s].m(r,null),v(l,u),v(l,c),v(c,d),v(l,g),Z&&Z.m(l,null),v(l,b),j&&j.m(l,null),v(l,w);for(let _e=0;_e<te.length;_e+=1)te[_e]&&te[_e].m(l,null);v(l,I);for(let _e=0;_e<de.length;_e+=1)de[_e]&&de[_e].m(l,null);v(l,T),ye&&ye.m(l,null),v(l,$),ae&&ae.m(l,null),v(l,y),q(F,l,null),v(e,A),ie&&ie.m(e,null),v(e,E),v(e,D),$e&&$e.m(D,null),k=!0,N||(B=[Ne(f=Te.call(null,r,{text:i[11]})),Ce(c,"click",i[31])],N=!0)},p(K,le){const _e={};le[0]&131072&&(_e.checked=K[17]),n.$set(_e),le[0]&8&&We(t,"margin-left",K[3]*1.5+"rem");let je=s;if(s=H(K),s===je?U[s].p(K,le):(x(),p(U[je],1,1,()=>{U[je]=null}),ee(),a=U[s],a?a.p(K,le):(a=U[s]=Y[s](K),a.c()),_(a,1),a.m(r,null)),f&&He(f.update)&&le[0]&2048&&f.update.call(null,{text:K[11]}),(!k||le[0]&32)&&fe(r,"bg-blue-200",K[5]),(!k||le[0]&524288)&&ue(d,K[19]),(!k||le[0]&1024&&m!==(m=!K[10]))&&(c.disabled=m),(!k||le[0]&1024)&&fe(c,"cursor-default",!K[10]),K[15]?Z?(Z.p(K,le),le[0]&32768&&_(Z,1)):(Z=wn(K),Z.c(),_(Z,1),Z.m(l,b)):Z&&(x(),p(Z,1,1,()=>{Z=null}),ee()),K[13]?j?(j.p(K,le),le[0]&8192&&_(j,1)):(j=kn(K),j.c(),_(j,1),j.m(l,w)):j&&(x(),p(j,1,1,()=>{j=null}),ee()),le[0]&4096){se=K[12];let me;for(me=0;me<se.length;me+=1){const Me=bn(K,se,me);te[me]?(te[me].p(Me,le),_(te[me],1)):(te[me]=Sn(Me),te[me].c(),_(te[me],1),te[me].m(l,I))}for(x(),me=se.length;me<te.length;me+=1)re(me);ee()}if(le[0]&65536){oe=K[16];let me;for(me=0;me<oe.length;me+=1){const Me=pn(K,oe,me);de[me]?(de[me].p(Me,le),_(de[me],1)):(de[me]=yn(Me),de[me].c(),_(de[me],1),de[me].m(l,T))}for(x(),me=oe.length;me<de.length;me+=1)Be(me);ee()}K[4]&&K[21]?ye?(ye.p(K,le),le[0]&2097168&&_(ye,1)):(ye=En(K),ye.c(),_(ye,1),ye.m(l,$)):ye&&(x(),p(ye,1,1,()=>{ye=null}),ee()),K[10]?ae?(ae.p(K,le),le[0]&1024&&_(ae,1)):(ae=Dn(K),ae.c(),_(ae,1),ae.m(l,y)):ae&&(x(),p(ae,1,1,()=>{ae=null}),ee());const ge={};le[0]&2&&(ge.field=K[1]),le[0]&1&&(ge.schema=K[0]),F.$set(ge),(!k||le[0]&32)&&fe(l,"bg-blue-50",K[5]),(!k||le[0]&16)&&fe(l,"bg-emerald-100",K[4]),(!k||le[0]&32)&&fe(l,"hover:bg-blue-100",K[5]),K[20]?ie?(ie.p(K,le),le[0]&1048576&&_(ie,1)):(ie=In(K),ie.c(),_(ie,1),ie.m(e,E)):ie&&(x(),p(ie,1,1,()=>{ie=null}),ee()),K[18].length?$e?($e.p(K,le),le[0]&262144&&_($e,1)):($e=Vn(K),$e.c(),_($e,1),$e.m(D,null)):$e&&(x(),p($e,1,1,()=>{$e=null}),ee()),(!k||le[0]&32)&&fe(e,"border-b",!K[5])},i(K){if(!k){_(n.$$.fragment,K),_(a),_(Z),_(j);for(let le=0;le<se.length;le+=1)_(te[le]);for(let le=0;le<oe.length;le+=1)_(de[le]);_(ye),_(ae),_(F.$$.fragment,K),_(ie),_($e),K&&kt(()=>{k&&(P||(P=ot(D,ut,{},!0)),P.run(1))}),k=!0}},o(K){p(n.$$.fragment,K),p(a),p(Z),p(j),te=te.filter(Boolean);for(let le=0;le<te.length;le+=1)p(te[le]);de=de.filter(Boolean);for(let le=0;le<de.length;le+=1)p(de[le]);p(ye),p(ae),p(F.$$.fragment,K),p(ie),p($e),K&&(P||(P=ot(D,ut,{},!1)),P.run(0)),k=!1},d(K){K&&h(e),O(n),U[s].d(),Z&&Z.d(),j&&j.d(),Fe(te,K),Fe(de,K),ye&&ye.d(),ae&&ae.d(),O(F),ie&&ie.d(),$e&&$e.d(),K&&P&&P.end(),N=!1,Ye(B)}}}function no(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g,b,w,I,T,$,y,F,A,E,D,P,{schema:k}=e,{field:N}=e,{sourceField:B=void 0}=e,{indent:Y=0}=e;const U=ur();he(i,U,ae=>l(22,P=ae));const H=qe();he(i,H,ae=>l(9,E=ae));const Z=Qe();he(i,Z,ae=>l(29,D=ae));function j(ae){return ae!=null&&ae.repeated_field?j(ae.repeated_field):ae!=null&&ae.fields?[...Object.values(ae.fields).filter(ie=>ie.path.at(-1)!==cr)].flatMap(ie=>{const $e=j(ie);return $e.some(K=>tt(K))?$e:[ie]}).filter(ie=>{var $e,K,le,_e;return!(ie.dtype==="embedding"||ie.signal!=null&&xe(ie).some(je=>je.dtype==="embedding")||(($e=ie.signal)==null?void 0:$e.signal_name)==="sentences"||((K=ie.signal)==null?void 0:K.signal_name)==="substring_search"||((le=ie.signal)==null?void 0:le.signal_name)==="semantic_similarity"||((_e=ie.signal)==null?void 0:_e.signal_name)==="concept_labels")}):[]}const se=()=>{c?H.removeSelectedColumn(r):H.addSelectedColumn(r)},te=()=>{A&&(s?H.removeExpandedColumn(r):H.addExpandedColumn(r))},re=()=>g==="ASC"?at(H,E.query.sort_order="DESC",E):at(H,E.query.sort_order="ASC",E),oe=()=>H.removeSortBy(r),de=()=>N.signal&&I&&B&&P.mutate([E.namespace,E.datasetName,{leaf_path:B.path,signal:N.signal}]),Be=()=>{var ae;return N.signal&&I&&Ke({command:Xe.EditPreviewConcept,namespace:E.namespace,datasetName:E.datasetName,path:B==null?void 0:B.path,signalName:(ae=N.signal)==null?void 0:ae.signal_name,value:N.signal})},ye=()=>{s?H.removeExpandedColumn(r):H.addExpandedColumn(r)};return i.$$set=ae=>{"schema"in ae&&l(0,k=ae.schema),"field"in ae&&l(1,N=ae.field),"sourceField"in ae&&l(2,B=ae.sourceField),"indent"in ae&&l(3,Y=ae.indent)},i.$$.update=()=>{var ae,ie,$e,K;i.$$.dirty[0]&3&&l(5,t=lt(N,k)),i.$$.dirty[0]&2&&l(21,n=tt(N)),i.$$.dirty[0]&32&&l(8,o=!t),i.$$.dirty[0]&2&&l(6,r=N.path),i.$$.dirty[0]&576&&l(20,s=E.expandedColumns[De(r)]||!1),i.$$.dirty[0]&64&&l(28,a=r.at(-1)===It),i.$$.dirty[0]&268435520&&l(19,f=a?r.at(-2):r.at(-1)),i.$$.dirty[0]&2&&l(18,u=j(N)),i.$$.dirty[0]&536870976&&l(17,c=(ae=D.visibleFields)==null?void 0:ae.some(le=>Oe(le.path,r))),i.$$.dirty[0]&258&&l(16,d=o?xe(N).filter(le=>le.signal!=null&&xe(le).some(_e=>_e.dtype==="embedding")):[]),i.$$.dirty[0]&576&&l(15,m=(ie=E.query.sort_by)==null?void 0:ie.some(le=>Oe(le,r))),i.$$.dirty[0]&512&&l(14,g=E.query.sort_order),i.$$.dirty[0]&576&&l(7,b=(($e=E.query.filters)==null?void 0:$e.filter(le=>Oe(le.path,r)))||[]),i.$$.dirty[0]&128&&l(13,w=b.length>0),i.$$.dirty[0]&536870976&&l(4,I=Tt(((K=D.selectRowsSchema)==null?void 0:K.data)||null,r)),i.$$.dirty[0]&576&&l(12,T=Qt(E,r)),i.$$.dirty[0]&32&&l(26,$=t?". Generated by a signal":""),i.$$.dirty[0]&2&&l(27,y=N.dtype??(N.repeated_field&&N.repeated_field.dtype?`${N.repeated_field.dtype}[]`:"object")),i.$$.dirty[0]&201326592&&l(11,F=`Data type: ${y}${$}`),i.$$.dirty[0]&18&&l(10,A=Dt(N)&&!I)},[k,N,B,Y,I,t,r,b,o,E,A,F,T,w,g,m,d,c,u,f,s,n,P,U,H,Z,$,y,a,D,se,te,re,oe,de,Be,ye]}class kr extends we{constructor(e){super(),ke(this,e,no,lo,pe,{schema:0,field:1,sourceField:2,indent:3},null,[-1,-1])}}function Nn(i,e,l){const t=i.slice();return t[28]=e[l],t}function Tn(i,e,l){const t=i.slice();return t[31]=e[l],t}function ro(i){var P;let e,l,t,n,o,r,s,a,f,u,c,d,m,g,b,w,I,T;t=new Wt({props:{labelText:"Show",hideLabel:!0,checked:i[14],disabled:i[10]}}),t.$on("change",i[23]);let $=i[15]&&Mn(i),y=i[13]&&zn(i),F=i[11]&&Fn(i),A=i[17]&&Bn(i),E=((P=i[1])==null?void 0:P.dtype)&&Pn(i);b=new wr({props:{field:i[1],schema:i[0]}});let D=i[8]&&Rn(i);return{c(){e=M("div"),l=M("div"),R(t.$$.fragment),n=Q(),o=M("div"),$&&$.c(),r=Q(),s=M("div"),a=J(i[16]),f=Q(),y&&y.c(),u=Q(),F&&F.c(),c=Q(),A&&A.c(),d=Q(),E&&E.c(),m=Q(),g=M("div"),R(b.$$.fragment),w=Q(),D&&D.c(),I=ne(),this.h()},l(k){e=z(k,"DIV",{class:!0});var N=S(e);l=z(N,"DIV",{class:!0});var B=S(l);L(t.$$.fragment,B),B.forEach(h),n=W(N),o=z(N,"DIV",{class:!0});var Y=S(o);$&&$.l(Y),Y.forEach(h),r=W(N),s=z(N,"DIV",{class:!0,title:!0});var U=S(s);a=G(U,i[16]),U.forEach(h),f=W(N),y&&y.l(N),u=W(N),F&&F.l(N),c=W(N),A&&A.l(N),d=W(N),E&&E.l(N),m=W(N),g=z(N,"DIV",{});var H=S(g);L(b.$$.fragment,H),H.forEach(h),N.forEach(h),w=W(k),D&&D.l(k),I=ne(),this.h()},h(){V(l,"class","w-6"),V(o,"class","w-6"),We(o,"margin-left",i[2]*24+"px"),V(s,"class","grow truncate whitespace-nowrap pr-2 text-gray-900"),V(s,"title",i[16]),V(e,"class","flex w-full flex-row items-center border-b border-gray-200 px-4 py-2 hover:bg-gray-100"),fe(e,"bg-blue-50",i[18]),fe(e,"hover:bg-blue-100",i[18])},m(k,N){C(k,e,N),v(e,l),q(t,l,null),v(e,n),v(e,o),$&&$.m(o,null),v(e,r),v(e,s),v(s,a),v(e,f),y&&y.m(e,null),v(e,u),F&&F.m(e,null),v(e,c),A&&A.m(e,null),v(e,d),E&&E.m(e,null),v(e,m),v(e,g),q(b,g,null),C(k,w,N),D&&D.m(k,N),C(k,I,N),T=!0},p(k,N){var U;const B={};N[0]&16384&&(B.checked=k[14]),N[0]&1024&&(B.disabled=k[10]),t.$set(B),k[15]?$?($.p(k,N),N[0]&32768&&_($,1)):($=Mn(k),$.c(),_($,1),$.m(o,null)):$&&(x(),p($,1,1,()=>{$=null}),ee()),N[0]&4&&We(o,"margin-left",k[2]*24+"px"),(!T||N[0]&65536)&&ue(a,k[16]),(!T||N[0]&65536)&&V(s,"title",k[16]),k[13]?y?(y.p(k,N),N[0]&8192&&_(y,1)):(y=zn(k),y.c(),_(y,1),y.m(e,u)):y&&(x(),p(y,1,1,()=>{y=null}),ee()),k[11]?F?(F.p(k,N),N[0]&2048&&_(F,1)):(F=Fn(k),F.c(),_(F,1),F.m(e,c)):F&&(x(),p(F,1,1,()=>{F=null}),ee()),k[17]?A?(A.p(k,N),N[0]&131072&&_(A,1)):(A=Bn(k),A.c(),_(A,1),A.m(e,d)):A&&(x(),p(A,1,1,()=>{A=null}),ee()),(U=k[1])!=null&&U.dtype?E?E.p(k,N):(E=Pn(k),E.c(),E.m(e,m)):E&&(E.d(1),E=null);const Y={};N[0]&2&&(Y.field=k[1]),N[0]&1&&(Y.schema=k[0]),b.$set(Y),(!T||N[0]&262144)&&fe(e,"bg-blue-50",k[18]),(!T||N[0]&262144)&&fe(e,"hover:bg-blue-100",k[18]),k[8]?D?(D.p(k,N),N[0]&256&&_(D,1)):(D=Rn(k),D.c(),_(D,1),D.m(I.parentNode,I)):D&&(x(),p(D,1,1,()=>{D=null}),ee())},i(k){T||(_(t.$$.fragment,k),_($),_(y),_(F),_(A),_(b.$$.fragment,k),_(D),T=!0)},o(k){p(t.$$.fragment,k),p($),p(y),p(F),p(A),p(b.$$.fragment,k),p(D),T=!1},d(k){k&&h(e),O(t),$&&$.d(),y&&y.d(),F&&F.d(),A&&A.d(),E&&E.d(),O(b),k&&h(w),D&&D.d(k),k&&h(I)}}}function io(i){let e,l;return e=new tl({props:{field:i[1].repeated_field,indent:i[2],schema:i[0]}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&2&&(o.field=t[1].repeated_field),n[0]&4&&(o.indent=t[2]),n[0]&1&&(o.schema=t[0]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Mn(i){let e,l,t,n,o;return l=new Ui({props:{class:"w-3"}}),{c(){e=M("button"),R(l.$$.fragment),this.h()},l(r){e=z(r,"BUTTON",{class:!0});var s=S(e);L(l.$$.fragment,s),s.forEach(h),this.h()},h(){V(e,"class","p-2 transition hover:opacity-60"),fe(e,"rotate-180",!i[8])},m(r,s){C(r,e,s),q(l,e,null),t=!0,n||(o=Ce(e,"click",i[24]),n=!0)},p(r,s){(!t||s[0]&256)&&fe(e,"rotate-180",!r[8])},i(r){t||(_(l.$$.fragment,r),t=!0)},o(r){p(l.$$.fragment,r),t=!1},d(r){r&&h(e),O(l),n=!1,o()}}}function zn(i){let e,l;return e=new Ft({props:{interactive:!0,type:"green",$$slots:{default:[oo]},$$scope:{ctx:i}}}),e.$on("click",i[25]),e.$on("remove",i[26]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&4096|n[1]&8&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function so(i){let e,l;return e=new Xt({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ao(i){let e,l;return e=new Kt({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function oo(i){let e,l,t,n,o;const r=[ao,so],s=[];function a(f,u){return f[12]=="ASC"?0:1}return l=a(i),t=s[l]=r[l](i),{c(){e=J(`Sorted
        `),t.c(),n=ne()},l(f){e=G(f,`Sorted
        `),t.l(f),n=ne()},m(f,u){C(f,e,u),s[l].m(f,u),C(f,n,u),o=!0},p(f,u){let c=l;l=a(f),l!==c&&(x(),p(s[c],1,1,()=>{s[c]=null}),ee(),t=s[l],t||(t=s[l]=r[l](f),t.c()),_(t,1),t.m(n.parentNode,n))},i(f){o||(_(t),o=!0)},o(f){p(t),o=!1},d(f){f&&h(e),s[l].d(f),f&&h(n)}}}function Fn(i){let e,l,t=i[4],n=[];for(let r=0;r<t.length;r+=1)n[r]=An(Tn(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s[0]&16){t=r[4];let a;for(a=0;a<t.length;a+=1){const f=Tn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=An(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(x(),a=t.length;a<n.length;a+=1)o(a);ee()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function An(i){let e,l,t,n;return l=new xt({props:{filter:i[31],hidePath:!0}}),{c(){e=M("div"),R(l.$$.fragment),t=Q(),this.h()},l(o){e=z(o,"DIV",{class:!0});var r=S(e);L(l.$$.fragment,r),t=W(r),r.forEach(h),this.h()},h(){V(e,"class","mx-1")},m(o,r){C(o,e,r),q(l,e,null),v(e,t),n=!0},p(o,r){const s={};r[0]&16&&(s.filter=o[31]),l.$set(s)},i(o){n||(_(l.$$.fragment,o),n=!0)},o(o){p(l.$$.fragment,o),n=!1},d(o){o&&h(e),O(l)}}}function Bn(i){let e,l;return e=new el({props:{isPreview:i[9]}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&512&&(o.isPreview=t[9]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Pn(i){let e,l=i[1].dtype+"",t,n=i[6]?"[]":"",o;return{c(){e=M("div"),t=J(l),o=J(n),this.h()},l(r){e=z(r,"DIV",{class:!0});var s=S(e);t=G(s,l),o=G(s,n),s.forEach(h),this.h()},h(){V(e,"class","w-24 px-2 text-right")},m(r,s){C(r,e,s),v(e,t),v(e,o)},p(r,s){s[0]&2&&l!==(l=r[1].dtype+"")&&ue(t,l),s[0]&64&&n!==(n=r[6]?"[]":"")&&ue(o,n)},d(r){r&&h(e)}}}function Rn(i){let e,l,t,n=i[5].length&&qn(i);return{c(){e=M("div"),n&&n.c()},l(o){e=z(o,"DIV",{});var r=S(e);n&&n.l(r),r.forEach(h)},m(o,r){C(o,e,r),n&&n.m(e,null),t=!0},p(o,r){o[5].length?n?(n.p(o,r),r[0]&32&&_(n,1)):(n=qn(o),n.c(),_(n,1),n.m(e,null)):n&&(x(),p(n,1,1,()=>{n=null}),ee())},i(o){t||(_(n),o&&kt(()=>{t&&(l||(l=ot(e,ut,{},!0)),l.run(1))}),t=!0)},o(o){p(n),o&&(l||(l=ot(e,ut,{},!1)),l.run(0)),t=!1},d(o){o&&h(e),n&&n.d(),o&&l&&l.end()}}}function qn(i){let e,l,t=i[5],n=[];for(let r=0;r<t.length;r+=1)n[r]=On(Nn(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s[0]&37){t=r[5];let a;for(a=0;a<t.length;a+=1){const f=Nn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=On(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(x(),a=t.length;a<n.length;a+=1)o(a);ee()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function On(i){let e,l;return e=new tl({props:{schema:i[0],field:i[28],indent:i[2]+1}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&32&&(o.field=t[28]),n[0]&4&&(o.indent=t[2]+1),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function fo(i){let e,l,t,n;const o=[io,ro],r=[];function s(a,f){return a[1].repeated_field?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},l(a){l.l(a),t=ne()},m(a,f){r[e].m(a,f),C(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(x(),p(r[u],1,1,()=>{r[u]=null}),ee(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t))},i(a){n||(_(l),n=!0)},o(a){p(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function uo(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g,b,w,I,T,$,{schema:y}=e,{field:F}=e,{indent:A=0}=e;const E=qe();he(i,E,H=>l(7,$=H));const D=Qe();he(i,D,H=>l(22,T=H));let P=!0;function k(H){return H!=null&&H.fields?Object.values(H.fields).filter(Z=>Z.path.at(-1)!==cr):[]}const N=()=>{c?E.removeSelectedColumn(t):E.addSelectedColumn(t)},B=()=>l(8,P=!P),Y=()=>m==="ASC"?at(E,$.query.sort_order="DESC",$):at(E,$.query.sort_order="ASC",$),U=()=>E.removeSortBy(t);return i.$$set=H=>{"schema"in H&&l(0,y=H.schema),"field"in H&&l(1,F=H.field),"indent"in H&&l(2,A=H.indent)},i.$$.update=()=>{var H,Z,j,se;i.$$.dirty[0]&2&&l(3,t=F.path),i.$$.dirty[0]&3&&l(21,n=Or(y,F.path.slice(0,-1))),i.$$.dirty[0]&3&&l(18,o=lt(F,y)),i.$$.dirty[0]&2&&l(6,s=F.path.at(-1)===It),i.$$.dirty[0]&2097218&&l(17,r=s&&n?tt(n):tt(F)),i.$$.dirty[0]&66&&l(16,a=s?F.path.at(-2):F.path.at(-1)),i.$$.dirty[0]&2&&l(5,f=k(F)),i.$$.dirty[0]&32&&l(15,u=f.length>0),i.$$.dirty[0]&4194312&&l(14,c=(H=T.visibleFields)==null?void 0:H.some(te=>Oe(te.path,t))),i.$$.dirty[0]&136&&l(13,d=(Z=$.query.sort_by)==null?void 0:Z.some(te=>Oe(te,t))),i.$$.dirty[0]&128&&l(12,m=$.query.sort_order),i.$$.dirty[0]&136&&l(4,g=((j=$.query.filters)==null?void 0:j.filter(te=>Oe(te.path,t)))||[]),i.$$.dirty[0]&16&&l(11,b=g.length>0),i.$$.dirty[0]&2&&l(10,w=!F.dtype||F.dtype==="embedding"),i.$$.dirty[0]&4194312&&l(9,I=Tt(((se=T.selectRowsSchema)==null?void 0:se.data)||null,t))},[y,F,A,t,g,f,s,$,P,I,w,b,m,d,c,u,a,r,o,E,D,n,T,N,B,Y,U]}class tl extends we{constructor(e){super(),ke(this,e,uo,fo,pe,{schema:0,field:1,indent:2},null,[-1,-1])}}function Hn(i,e,l){const t=i.slice();return t[3]=e[l],t}function Ln(i,e,l){const t=i.slice();return t[3]=e[l],t}function co(i){let e,l,t,n,o,r;return e=new Bt({props:{label:"Schema",class:"w-1/3"}}),t=new Bt({props:{label:"Tree View",class:"w-1/3"}}),o=new Bt({props:{label:"Raw Query",class:"w-1/3"}}),{c(){R(e.$$.fragment),l=Q(),R(t.$$.fragment),n=Q(),R(o.$$.fragment)},l(s){L(e.$$.fragment,s),l=W(s),L(t.$$.fragment,s),n=W(s),L(o.$$.fragment,s)},m(s,a){q(e,s,a),C(s,l,a),q(t,s,a),C(s,n,a),q(o,s,a),r=!0},p:X,i(s){r||(_(e.$$.fragment,s),_(t.$$.fragment,s),_(o.$$.fragment,s),r=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),p(o.$$.fragment,s),r=!1},d(s){O(e,s),s&&h(l),O(t,s),s&&h(n),O(o,s)}}}function ho(i){let e=[],l=new Map,t,n,o=Object.keys(i[0].data.schema.fields);const r=s=>s[3];for(let s=0;s<o.length;s+=1){let a=Ln(i,o,s),f=r(a);l.set(f,e[s]=jn(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=ne()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=ne()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);C(s,t,a),n=!0},p(s,a){a&1&&(o=Object.keys(s[0].data.schema.fields),x(),e=vt(e,a,r,1,s,o,l,t.parentNode,wt,jn,t,Ln),ee())},i(s){if(!n){for(let a=0;a<o.length;a+=1)_(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)p(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&h(t)}}}function mo(i){let e,l;return e=new Le({props:{paragraph:!0,lines:3}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function jn(i,e){let l,t,n;return t=new kr({props:{schema:e[0].data.schema,field:e[0].data.schema.fields[e[3]]}}),{key:i,first:null,c(){l=ne(),R(t.$$.fragment),this.h()},l(o){l=ne(),L(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){C(o,l,r),q(t,o,r),n=!0},p(o,r){e=o;const s={};r&1&&(s.schema=e[0].data.schema),r&1&&(s.field=e[0].data.schema.fields[e[3]]),t.$set(s)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){p(t.$$.fragment,o),n=!1},d(o){o&&h(l),O(t,o)}}}function _o(i){let e,l,t,n;const o=[mo,ho],r=[];function s(a,f){var u,c;return(u=a[0])!=null&&u.isLoading?0:(c=a[0])!=null&&c.isSuccess&&a[0].data.schema.fields!=null?1:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=ne()},l(a){l&&l.l(a),t=ne()},m(a,f){~e&&r[e].m(a,f),C(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?~e&&r[e].p(a,f):(l&&(x(),p(r[u],1,1,()=>{r[u]=null}),ee()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(_(l),n=!0)},o(a){p(l),n=!1},d(a){~e&&r[e].d(a),a&&h(t)}}}function go(i){let e=[],l=new Map,t,n,o=Object.keys(i[0].data.schema.fields);const r=s=>s[3];for(let s=0;s<o.length;s+=1){let a=Hn(i,o,s),f=r(a);l.set(f,e[s]=Un(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=ne()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=ne()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);C(s,t,a),n=!0},p(s,a){a&1&&(o=Object.keys(s[0].data.schema.fields),x(),e=vt(e,a,r,1,s,o,l,t.parentNode,wt,Un,t,Hn),ee())},i(s){if(!n){for(let a=0;a<o.length;a+=1)_(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)p(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&h(t)}}}function po(i){let e,l;return e=new Le({props:{paragraph:!0,lines:3}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Un(i,e){let l,t,n;return t=new tl({props:{schema:e[0].data.schema,field:e[0].data.schema.fields[e[3]]}}),{key:i,first:null,c(){l=ne(),R(t.$$.fragment),this.h()},l(o){l=ne(),L(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){C(o,l,r),q(t,o,r),n=!0},p(o,r){e=o;const s={};r&1&&(s.schema=e[0].data.schema),r&1&&(s.field=e[0].data.schema.fields[e[3]]),t.$set(s)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){p(t.$$.fragment,o),n=!1},d(o){o&&h(l),O(t,o)}}}function bo(i){let e,l,t,n;const o=[po,go],r=[];function s(a,f){var u,c;return(u=a[0])!=null&&u.isLoading?0:(c=a[0])!=null&&c.isSuccess&&a[0].data.schema.fields!=null?1:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=ne()},l(a){l&&l.l(a),t=ne()},m(a,f){~e&&r[e].m(a,f),C(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?~e&&r[e].p(a,f):(l&&(x(),p(r[u],1,1,()=>{r[u]=null}),ee()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(_(l),n=!0)},o(a){p(l),n=!1},d(a){~e&&r[e].d(a),a&&h(t)}}}function vo(i){let e,l;return e=new za({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function wo(i){let e,l,t,n,o,r,s;return l=new Pt({props:{$$slots:{default:[_o]},$$scope:{ctx:i}}}),n=new Pt({props:{$$slots:{default:[bo]},$$scope:{ctx:i}}}),r=new Pt({props:{$$slots:{default:[vo]},$$scope:{ctx:i}}}),{c(){e=M("div"),R(l.$$.fragment),t=Q(),R(n.$$.fragment),o=Q(),R(r.$$.fragment),this.h()},l(a){e=z(a,"DIV",{class:!0,slot:!0});var f=S(e);L(l.$$.fragment,f),t=W(f),L(n.$$.fragment,f),o=W(f),L(r.$$.fragment,f),f.forEach(h),this.h()},h(){V(e,"class","h-full overflow-y-auto"),V(e,"slot","content")},m(a,f){C(a,e,f),q(l,e,null),v(e,t),q(n,e,null),v(e,o),q(r,e,null),s=!0},p(a,f){const u={};f&257&&(u.$$scope={dirty:f,ctx:a}),l.$set(u);const c={};f&257&&(c.$$scope={dirty:f,ctx:a}),n.$set(c);const d={};f&256&&(d.$$scope={dirty:f,ctx:a}),r.$set(d)},i(a){s||(_(l.$$.fragment,a),_(n.$$.fragment,a),_(r.$$.fragment,a),s=!0)},o(a){p(l.$$.fragment,a),p(n.$$.fragment,a),p(r.$$.fragment,a),s=!1},d(a){a&&h(e),O(l),O(n),O(r)}}}function ko(i){let e,l,t;return l=new Ti({props:{class:"overflow-hidden border-b border-gray-200",$$slots:{content:[wo],default:[co]},$$scope:{ctx:i}}}),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{class:!0});var o=S(e);L(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"class","flex h-full flex-col pt-4")},m(n,o){C(n,e,o),q(l,e,null),t=!0},p(n,[o]){const r={};o&257&&(r.$$scope={dirty:o,ctx:n}),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){p(l.$$.fragment,n),t=!1},d(n){n&&h(e),O(l)}}}function $o(i,e,l){let t,n;const o=Qe();return he(i,o,r=>l(2,n=r)),i.$$.update=()=>{i.$$.dirty&4&&l(0,t=n.selectRowsSchema)},[t,o,n]}class So extends we{constructor(e){super(),ke(this,e,$o,ko,pe,{})}}function Yn(i,e,l){const t=i.slice();return t[5]=e[l],t}function yo(i){let e,l="{}",t;return{c(){e=M("span"),t=J(l),this.h()},l(n){e=z(n,"SPAN",{class:!0});var o=S(e);t=G(o,l),o.forEach(h),this.h()},h(){V(e,"class","font-mono")},m(n,o){C(n,e,o),v(e,t)},p:X,i:X,o:X,d(n){n&&h(e)}}}function Eo(i){let e,l,t;var n=ct[i[5].dtype];function o(r){return{props:{title:r[5].dtype}}}return n&&(e=ft(n,o(i))),{c(){e&&R(e.$$.fragment),l=ne()},l(r){e&&L(e.$$.fragment,r),l=ne()},m(r,s){e&&q(e,r,s),C(r,l,s),t=!0},p(r,s){const a={};if(s&2&&(a.title=r[5].dtype),s&2&&n!==(n=ct[r[5].dtype])){if(e){x();const f=e;p(f.$$.fragment,1,0,()=>{O(f,1)}),ee()}n?(e=ft(n,o(r)),R(e.$$.fragment),_(e.$$.fragment,1),q(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&_(e.$$.fragment,r),t=!0)},o(r){e&&p(e.$$.fragment,r),t=!1},d(r){r&&h(l),e&&O(e,r)}}}function Qn(i){let e;return{c(){e=J("[]")},l(l){e=G(l,"[]")},m(l,t){C(l,e,t)},d(l){l&&h(e)}}}function Wn(i){let e,l,t,n,o,r,s,a,f,u=i[5].path.indexOf(It)>=0,c,d,m=De(i[5].path)+"",g,b,w;function I(...E){return i[3](i[5],...E)}function T(...E){return i[4](i[5],...E)}t=new Wt({props:{labelText:"Download",hideLabel:!0,checked:i[0].find(I)!=null}}),t.$on("change",T);const $=[Eo,yo],y=[];function F(E,D){return E[5].dtype?0:1}s=F(i),a=y[s]=$[s](i);let A=u&&Qn();return{c(){e=M("div"),l=M("div"),R(t.$$.fragment),n=Q(),o=M("div"),r=M("div"),a.c(),f=Q(),A&&A.c(),c=Q(),d=M("div"),g=J(m),b=Q(),this.h()},l(E){e=z(E,"DIV",{class:!0});var D=S(e);l=z(D,"DIV",{class:!0});var P=S(l);L(t.$$.fragment,P),P.forEach(h),n=W(D),o=z(D,"DIV",{class:!0});var k=S(o);r=z(k,"DIV",{class:!0});var N=S(r);a.l(N),f=W(N),A&&A.l(N),N.forEach(h),k.forEach(h),c=W(D),d=z(D,"DIV",{class:!0});var B=S(d);g=G(B,m),B.forEach(h),b=W(D),D.forEach(h),this.h()},h(){V(l,"class","mr-2"),V(r,"class","inline-flex items-center rounded-md bg-blue-200 p-0.5"),V(o,"class","flex w-10"),V(d,"class","flex-grow"),V(e,"class","flex items-center")},m(E,D){C(E,e,D),v(e,l),q(t,l,null),v(e,n),v(e,o),v(o,r),y[s].m(r,null),v(r,f),A&&A.m(r,null),v(e,c),v(e,d),v(d,g),v(e,b),w=!0},p(E,D){i=E;const P={};D&3&&(P.checked=i[0].find(I)!=null),t.$set(P);let k=s;s=F(i),s===k?y[s].p(i,D):(x(),p(y[k],1,1,()=>{y[k]=null}),ee(),a=y[s],a?a.p(i,D):(a=y[s]=$[s](i),a.c()),_(a,1),a.m(r,f)),D&2&&(u=i[5].path.indexOf(It)>=0),u?A||(A=Qn(),A.c(),A.m(r,null)):A&&(A.d(1),A=null),(!w||D&2)&&m!==(m=De(i[5].path)+"")&&ue(g,m)},i(E){w||(_(t.$$.fragment,E),_(a),w=!0)},o(E){p(t.$$.fragment,E),p(a),w=!1},d(E){E&&h(e),O(t),y[s].d(),A&&A.d()}}}function Do(i){let e,l,t=i[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=Wn(Yn(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,[s]){if(s&7){t=r[1];let a;for(a=0;a<t.length;a+=1){const f=Yn(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=Wn(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(x(),a=t.length;a<n.length;a+=1)o(a);ee()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function Io(i,e,l){let{fields:t}=e,{checkedFields:n}=e;function o(a,f){f.target.checked?(n.push(a),l(0,n)):l(0,n=n.filter(c=>c!==a))}const r=(a,f)=>Oe(f.path,a.path),s=(a,f)=>o(a,f);return i.$$set=a=>{"fields"in a&&l(1,t=a.fields),"checkedFields"in a&&l(0,n=a.checkedFields)},[n,t,o,r,s]}class At extends we{constructor(e){super(),ke(this,e,Io,Do,pe,{fields:1,checkedFields:0})}}function Zn(i,e,l){const t=i.slice();return t[21]=e[l],t}function Vo(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,b,w,I,T,$,y,F,A,E,D,P,k=i[1]!=null&&Jn(i);const N=[To,No],B=[];function Y(H,Z){return H[6].isFetching?0:1}T=Y(i),$=B[T]=N[T](i);let U=i[1]!=null&&i[2]!=null&&Kn(i);return{c(){e=M("div"),l=M("section"),t=M("div"),n=J("Media fields"),o=Q(),r=M("div"),s=J("These fields will be presented differently from the rest of the metadata fields."),a=Q(),k&&k.c(),f=Q(),u=M("section"),c=M("div"),d=J("Preferred embedding"),m=Q(),g=M("div"),b=J("This embedding will be used by default when indexing and querying the data."),w=Q(),I=M("div"),$.c(),y=Q(),F=M("section"),A=M("div"),E=J("Render as markdown"),D=Q(),U&&U.c(),this.h()},l(H){e=z(H,"DIV",{class:!0});var Z=S(e);l=z(Z,"SECTION",{class:!0});var j=S(l);t=z(j,"DIV",{class:!0});var se=S(t);n=G(se,"Media fields"),se.forEach(h),o=W(j),r=z(j,"DIV",{class:!0});var te=S(r);s=G(te,"These fields will be presented differently from the rest of the metadata fields."),te.forEach(h),a=W(j),k&&k.l(j),j.forEach(h),f=W(Z),u=z(Z,"SECTION",{class:!0});var re=S(u);c=z(re,"DIV",{class:!0});var oe=S(c);d=G(oe,"Preferred embedding"),oe.forEach(h),m=W(re),g=z(re,"DIV",{class:!0});var de=S(g);b=G(de,"This embedding will be used by default when indexing and querying the data."),de.forEach(h),w=W(re),I=z(re,"DIV",{class:!0});var Be=S(I);$.l(Be),Be.forEach(h),re.forEach(h),y=W(Z),F=z(Z,"SECTION",{class:!0});var ye=S(F);A=z(ye,"DIV",{class:!0});var ae=S(A);E=G(ae,"Render as markdown"),ae.forEach(h),D=W(ye),U&&U.l(ye),ye.forEach(h),Z.forEach(h),this.h()},h(){V(t,"class","text-lg text-gray-700"),V(r,"class","text-sm text-gray-500"),V(l,"class","flex flex-col gap-y-1"),V(c,"class","text-lg text-gray-700"),V(g,"class","text-sm text-gray-500"),V(I,"class","w-60"),V(u,"class","flex flex-col gap-y-1"),V(A,"class","text-lg text-gray-700"),V(F,"class","flex flex-col gap-y-1"),V(e,"class","flex flex-col gap-y-6")},m(H,Z){C(H,e,Z),v(e,l),v(l,t),v(t,n),v(l,o),v(l,r),v(r,s),v(l,a),k&&k.m(l,null),v(e,f),v(e,u),v(u,c),v(c,d),v(u,m),v(u,g),v(g,b),v(u,w),v(u,I),B[T].m(I,null),v(e,y),v(e,F),v(F,A),v(A,E),v(F,D),U&&U.m(F,null),P=!0},p(H,Z){H[1]!=null?k?(k.p(H,Z),Z&2&&_(k,1)):(k=Jn(H),k.c(),_(k,1),k.m(l,null)):k&&(x(),p(k,1,1,()=>{k=null}),ee());let j=T;T=Y(H),T===j?B[T].p(H,Z):(x(),p(B[j],1,1,()=>{B[j]=null}),ee(),$=B[T],$?$.p(H,Z):($=B[T]=N[T](H),$.c()),_($,1),$.m(I,null)),H[1]!=null&&H[2]!=null?U?(U.p(H,Z),Z&6&&_(U,1)):(U=Kn(H),U.c(),_(U,1),U.m(F,null)):U&&(x(),p(U,1,1,()=>{U=null}),ee())},i(H){P||(_(k),_($),_(U),P=!0)},o(H){p(k),p($),p(U),P=!1},d(H){H&&h(e),k&&k.d(),B[T].d(),U&&U.d()}}}function Co(i){let e,l;return e=new Le({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Jn(i){let e,l,t;function n(r){i[15](r)}let o={fields:i[3]};return i[1]!==void 0&&(o.checkedFields=i[1]),e=new At({props:o}),Re.push(()=>Je(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,s){q(e,r,s),t=!0},p(r,s){const a={};s&8&&(a.fields=r[3]),!l&&s&2&&(l=!0,a.checkedFields=r[1],Ge(()=>l=!1)),e.$set(a)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){p(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function No(i){var t;let e,l;return e=new Mt({props:{selected:(t=i[4].data)==null?void 0:t.preferred_embedding,$$slots:{default:[Mo]},$$scope:{ctx:i}}}),e.$on("change",i[11]),{c(){R(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){q(e,n,o),l=!0},p(n,o){var s;const r={};o&16&&(r.selected=(s=n[4].data)==null?void 0:s.preferred_embedding),o&16777280&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){l||(_(e.$$.fragment,n),l=!0)},o(n){p(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function To(i){let e,l;return e=new yi({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Gn(i){let e,l;return e=new $t({props:{value:i[21].name}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&64&&(o.value=t[21].name),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Mo(i){let e,l,t,n;e=new $t({props:{value:void 0,text:"None"}});let o=i[6].data||[],r=[];for(let a=0;a<o.length;a+=1)r[a]=Gn(Zn(i,o,a));const s=a=>p(r[a],1,1,()=>{r[a]=null});return{c(){R(e.$$.fragment),l=Q();for(let a=0;a<r.length;a+=1)r[a].c();t=ne()},l(a){L(e.$$.fragment,a),l=W(a);for(let f=0;f<r.length;f+=1)r[f].l(a);t=ne()},m(a,f){q(e,a,f),C(a,l,f);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,f);C(a,t,f),n=!0},p(a,f){if(f&64){o=a[6].data||[];let u;for(u=0;u<o.length;u+=1){const c=Zn(a,o,u);r[u]?(r[u].p(c,f),_(r[u],1)):(r[u]=Gn(c),r[u].c(),_(r[u],1),r[u].m(t.parentNode,t))}for(x(),u=o.length;u<r.length;u+=1)s(u);ee()}},i(a){if(!n){_(e.$$.fragment,a);for(let f=0;f<o.length;f+=1)_(r[f]);n=!0}},o(a){p(e.$$.fragment,a),r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)p(r[f]);n=!1},d(a){O(e,a),a&&h(l),Fe(r,a),a&&h(t)}}}function Kn(i){let e,l,t;function n(r){i[16](r)}let o={fields:i[1]};return i[2]!==void 0&&(o.checkedFields=i[2]),e=new At({props:o}),Re.push(()=>Je(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,s){q(e,r,s),t=!0},p(r,s){const a={};s&2&&(a.fields=r[1]),!l&&s&4&&(l=!0,a.checkedFields=r[2],Ge(()=>l=!1)),e.$set(a)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){p(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function zo(i){let e,l,t,n;const o=[Co,Vo],r=[];function s(a,f){return a[4].isFetching?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},l(a){l.l(a),t=ne()},m(a,f){r[e].m(a,f),C(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(x(),p(r[u],1,1,()=>{r[u]=null}),ee(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t))},i(a){n||(_(l),n=!0)},o(a){p(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function Fo(i){let e,l,t,n,o,r;return e=new mr({props:{label:"Changes",title:"Dataset settings"}}),t=new _r({props:{hasForm:!0,$$slots:{default:[zo]},$$scope:{ctx:i}}}),o=new gr({props:{primaryButtonText:"Save"}}),{c(){R(e.$$.fragment),l=Q(),R(t.$$.fragment),n=Q(),R(o.$$.fragment)},l(s){L(e.$$.fragment,s),l=W(s),L(t.$$.fragment,s),n=W(s),L(o.$$.fragment,s)},m(s,a){q(e,s,a),C(s,l,a),q(t,s,a),C(s,n,a),q(o,s,a),r=!0},p(s,a){const f={};a&16777310&&(f.$$scope={dirty:a,ctx:s}),t.$set(f)},i(s){r||(_(e.$$.fragment,s),_(t.$$.fragment,s),_(o.$$.fragment,s),r=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),p(o.$$.fragment,s),r=!1},d(s){O(e,s),s&&h(l),O(t,s),s&&h(n),O(o,s)}}}function Ao(i){let e,l;return e=new hr({props:{open:i[0],$$slots:{default:[Fo]},$$scope:{ctx:i}}}),e.$on("submit",i[12]),e.$on("close",i[17]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&16777310&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Bo(i,e,l){let t,n,o,r,s,a=X,f=()=>(a(),a=Pe(t,k=>l(4,s=k)),t),u,c;i.$$.on_destroy.push(()=>a());let{open:d=!1}=e,{schema:m}=e;const g=qe();he(i,g,k=>l(14,o=k));const b=br();he(i,b,k=>l(20,u=k));const w=Gt();he(i,w,k=>l(6,c=k));const I=Hr();he(i,I,k=>l(19,r=k));let T=null,$=null,y=u.embedding;function F(k){y=k.target.value,y===""&&(y=void 0)}function A(){if(T==null)return;const k={ui:{media_paths:T.map(N=>N.path),markdown_paths:$==null?void 0:$.map(N=>N.path)},preferred_embedding:y};r.mutate([o.namespace,o.datasetName,k],{onSuccess:()=>{l(0,d=!1)}})}function E(k){T=k,l(1,T),l(4,s),l(3,n),l(13,m)}function D(k){$=k,l(2,$),l(4,s),l(3,n),l(13,m)}const P=()=>l(0,d=!1);return i.$$set=k=>{"open"in k&&l(0,d=k.open),"schema"in k&&l(13,m=k.schema)},i.$$.update=()=>{var k,N,B,Y;if(i.$$.dirty&16384&&f(l(5,t=Nt(o.namespace,o.datasetName))),i.$$.dirty&8192&&l(3,n=jt(m).filter(U=>U.dtype==="string"&&!Oe(U.path,[Ut])&&!lt(U,m))),i.$$.dirty&26&&T==null){const U=(N=(k=s.data)==null?void 0:k.ui)==null?void 0:N.media_paths;U!=null&&l(1,T=n.filter(H=>U.some(Z=>Oe(H.path,Z))))}if(i.$$.dirty&28&&$==null){const U=(Y=(B=s.data)==null?void 0:B.ui)==null?void 0:Y.markdown_paths;U!=null&&l(2,$=n.filter(H=>U.some(Z=>Oe(H.path,Z))))}},[d,T,$,n,s,t,c,g,b,w,I,F,A,m,o,E,D,P]}class Po extends we{constructor(e){super(),ke(this,e,Bo,Ao,pe,{open:0,schema:13})}}function Ro(i){let e,l,t;function n(r){i[13](r)}let o={fields:i[6]};return i[1]!==void 0&&(o.checkedFields=i[1]),e=new At({props:o}),Re.push(()=>Je(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,s){q(e,r,s),t=!0},p(r,s){const a={};s&64&&(a.fields=r[6]),!l&&s&2&&(l=!0,a.checkedFields=r[1],Ge(()=>l=!1)),e.$set(a)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){p(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function qo(i){let e,l;return e=new Le({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Xn(i){let e,l,t,n,o,r,s;const a=[Ho,Oo],f=[];function u(c,d){return c[5]==null?0:1}return o=u(i),r=f[o]=a[o](i),{c(){e=M("section"),l=M("h4"),t=J("Select enriched fields"),n=Q(),r.c(),this.h()},l(c){e=z(c,"SECTION",{});var d=S(e);l=z(d,"H4",{class:!0});var m=S(l);t=G(m,"Select enriched fields"),m.forEach(h),n=W(d),r.l(d),d.forEach(h),this.h()},h(){V(l,"class","svelte-1ge817j")},m(c,d){C(c,e,d),v(e,l),v(l,t),v(e,n),f[o].m(e,null),s=!0},p(c,d){let m=o;o=u(c),o===m?f[o].p(c,d):(x(),p(f[m],1,1,()=>{f[m]=null}),ee(),r=f[o],r?r.p(c,d):(r=f[o]=a[o](c),r.c()),_(r,1),r.m(e,null))},i(c){s||(_(r),s=!0)},o(c){p(r),s=!1},d(c){c&&h(e),f[o].d()}}}function Oo(i){let e,l,t;function n(r){i[14](r)}let o={fields:i[5]};return i[2]!==void 0&&(o.checkedFields=i[2]),e=new At({props:o}),Re.push(()=>Je(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){L(e.$$.fragment,r)},m(r,s){q(e,r,s),t=!0},p(r,s){const a={};s&32&&(a.fields=r[5]),!l&&s&4&&(l=!0,a.checkedFields=r[2],Ge(()=>l=!1)),e.$set(a)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){p(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function Ho(i){let e,l;return e=new Le({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function xn(i){let e,l;return{c(){e=M("p"),l=J("No fields selected. Please select at least one field to download."),this.h()},l(t){e=z(t,"P",{class:!0});var n=S(e);l=G(n,"No fields selected. Please select at least one field to download."),n.forEach(h),this.h()},h(){V(e,"class","text-gray-600")},m(t,n){C(t,e,n),v(e,l)},d(t){t&&h(e)}}}function Lo(i){let e,l;return e=new ci({props:{value:JSON.stringify(i[7].data,null,2),readonly:!0,rows:30,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&128&&(o.value=JSON.stringify(t[7].data,null,2)),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function jo(i){let e,l;return e=new Le({props:{paragraph:!0}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Uo(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,b,w,I;const T=[qo,Ro],$=[];function y(k,N){return k[6]==null?0:1}o=y(i),r=$[o]=T[o](i);let F=(i[5]==null||i[5].length>0)&&Xn(i),A=i[3].length===0&&xn();const E=[jo,Lo],D=[];function P(k,N){return k[7]&&k[7].isFetching?0:k[4]&&k[7]?1:-1}return~(b=P(i))&&(w=D[b]=E[b](i)),{c(){e=M("section"),l=M("h4"),t=J("Select source fields"),n=Q(),r.c(),s=Q(),F&&F.c(),a=Q(),f=M("section"),u=M("h4"),c=J("Download preview"),d=Q(),A&&A.c(),m=Q(),g=M("div"),w&&w.c(),this.h()},l(k){e=z(k,"SECTION",{});var N=S(e);l=z(N,"H4",{class:!0});var B=S(l);t=G(B,"Select source fields"),B.forEach(h),n=W(N),r.l(N),N.forEach(h),s=W(k),F&&F.l(k),a=W(k),f=z(k,"SECTION",{});var Y=S(f);u=z(Y,"H4",{class:!0});var U=S(u);c=G(U,"Download preview"),U.forEach(h),d=W(Y),A&&A.l(Y),m=W(Y),g=z(Y,"DIV",{class:!0});var H=S(g);w&&w.l(H),H.forEach(h),Y.forEach(h),this.h()},h(){V(l,"class","svelte-1ge817j"),V(u,"class","svelte-1ge817j"),V(g,"class","preview svelte-1ge817j")},m(k,N){C(k,e,N),v(e,l),v(l,t),v(e,n),$[o].m(e,null),C(k,s,N),F&&F.m(k,N),C(k,a,N),C(k,f,N),v(f,u),v(u,c),v(f,d),A&&A.m(f,null),v(f,m),v(f,g),~b&&D[b].m(g,null),I=!0},p(k,N){let B=o;o=y(k),o===B?$[o].p(k,N):(x(),p($[B],1,1,()=>{$[B]=null}),ee(),r=$[o],r?r.p(k,N):(r=$[o]=T[o](k),r.c()),_(r,1),r.m(e,null)),k[5]==null||k[5].length>0?F?(F.p(k,N),N&32&&_(F,1)):(F=Xn(k),F.c(),_(F,1),F.m(a.parentNode,a)):F&&(x(),p(F,1,1,()=>{F=null}),ee()),k[3].length===0?A||(A=xn(),A.c(),A.m(f,m)):A&&(A.d(1),A=null);let Y=b;b=P(k),b===Y?~b&&D[b].p(k,N):(w&&(x(),p(D[Y],1,1,()=>{D[Y]=null}),ee()),~b?(w=D[b],w?w.p(k,N):(w=D[b]=E[b](k),w.c()),_(w,1),w.m(g,null)):w=null)},i(k){I||(_(r),_(F),_(w),I=!0)},o(k){p(r),p(F),p(w),I=!1},d(k){k&&h(e),$[o].d(),k&&h(s),F&&F.d(k),k&&h(a),k&&h(f),A&&A.d(),~b&&D[b].d()}}}function Yo(i){let e,l,t,n,o,r;return e=new mr({props:{title:"Download data"}}),t=new _r({props:{hasForm:!0,$$slots:{default:[Uo]},$$scope:{ctx:i}}}),o=new gr({props:{primaryButtonText:"Download",primaryButtonDisabled:i[3].length===0,secondaryButtonText:"Cancel"}}),o.$on("click:button--secondary",i[10]),{c(){R(e.$$.fragment),l=Q(),R(t.$$.fragment),n=Q(),R(o.$$.fragment)},l(s){L(e.$$.fragment,s),l=W(s),L(t.$$.fragment,s),n=W(s),L(o.$$.fragment,s)},m(s,a){q(e,s,a),C(s,l,a),q(t,s,a),C(s,n,a),q(o,s,a),r=!0},p(s,a){const f={};a&262398&&(f.$$scope={dirty:a,ctx:s}),t.$set(f);const u={};a&8&&(u.primaryButtonDisabled=s[3].length===0),o.$set(u)},i(s){r||(_(e.$$.fragment,s),_(t.$$.fragment,s),_(o.$$.fragment,s),r=!0)},o(s){p(e.$$.fragment,s),p(t.$$.fragment,s),p(o.$$.fragment,s),r=!1},d(s){O(e,s),s&&h(l),O(t,s),s&&h(n),O(o,s)}}}function Qo(i){let e,l;return e=new hr({props:{size:"lg",open:i[0],$$slots:{default:[Yo]},$$scope:{ctx:i}}}),e.$on("submit",i[9]),e.$on("close",i[15]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&262398&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Wo(i,e,l){let t,n,o,r,s,a,f=X,u=()=>(f(),f=Pe(r,E=>l(7,a=E)),r);i.$$.on_destroy.push(()=>f());let{open:c=!1}=e,{schema:d}=e;const m=bt(),g=qe();he(i,g,E=>l(12,s=E));let b=[],w=[];function I(E){if(E==null)return{sourceFields:null,enrichedFields:null};const P=jt(E).filter(N=>["embedding"].indexOf(N.dtype)===-1).filter(N=>!lt(N,E)&&N.path.at(-1)!==Ut),k=xe(E).filter(N=>tt(N)).filter(N=>!xe(N).some(B=>B.dtype==="embedding"));return{sourceFields:P,enrichedFields:k}}async function T(){const E=s.namespace,D=s.datasetName,P={combine_columns:!1,columns:o.map(B=>B.path)},k=`/api/v1/datasets/${E}/${D}/select_rows_download?url_safe_options=${encodeURIComponent(JSON.stringify(P))}`,N=document.createElement("a");N.download=`${E}_${D}.json`,N.href=k,document.body.appendChild(N),N.click(),N.remove()}function $(){l(0,c=!1),m("close")}function y(E){b=E,l(1,b)}function F(E){w=E,l(2,w)}const A=()=>l(0,c=!1);return i.$$set=E=>{"open"in E&&l(0,c=E.open),"schema"in E&&l(11,d=E.schema)},i.$$.update=()=>{i.$$.dirty&2048&&l(6,{sourceFields:t,enrichedFields:n}=I(d),t,(l(5,n),l(11,d))),i.$$.dirty&6&&l(3,o=[...b,...w]),i.$$.dirty&4104&&u(l(4,r=o.length>0?Lr(s.namespace,s.datasetName,{columns:o.map(E=>E.path),limit:3,combine_columns:!1}):null))},[c,b,w,o,r,n,t,a,g,T,$,d,s,y,F,A]}class Zo extends we{constructor(e){super(),ke(this,e,Wo,Qo,pe,{open:0,schema:11})}}function Jo(i){let e,l;return e=new Gi({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Go(i){let e,l;return e=new Wi({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function er(i){let e,l,t,n,o,r;function s(c){i[26](c)}let a={schema:i[4].data};i[5]!==void 0&&(a.open=i[5]),e=new Po({props:a}),Re.push(()=>Je(e,"open",s));function f(c){i[27](c)}let u={schema:i[4].data};return i[6]!==void 0&&(u.open=i[6]),n=new Zo({props:u}),Re.push(()=>Je(n,"open",f)),{c(){R(e.$$.fragment),t=Q(),R(n.$$.fragment)},l(c){L(e.$$.fragment,c),t=W(c),L(n.$$.fragment,c)},m(c,d){q(e,c,d),C(c,t,d),q(n,c,d),r=!0},p(c,d){const m={};d&16&&(m.schema=c[4].data),!l&&d&32&&(l=!0,m.open=c[5],Ge(()=>l=!1)),e.$set(m);const g={};d&16&&(g.schema=c[4].data),!o&&d&64&&(o=!0,g.open=c[6],Ge(()=>o=!1)),n.$set(g)},i(c){r||(_(e.$$.fragment,c),_(n.$$.fragment,c),r=!0)},o(c){p(e.$$.fragment,c),p(n.$$.fragment,c),r=!1},d(c){O(e,c),c&&h(t),O(n,c)}}}function Ko(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,b,w,I,T;t=new So({});const $=[Go,Jo],y=[];function F(E,D){return E[13]?1:0}r=F(i),s=y[r]=$[r](i),m=new _a({});let A=i[4].data&&er(i);return{c(){e=M("div"),l=M("div"),R(t.$$.fragment),n=Q(),o=M("div"),s.c(),c=Q(),d=M("div"),R(m.$$.fragment),g=Q(),A&&A.c(),b=ne(),this.h()},l(E){e=z(E,"DIV",{class:!0});var D=S(e);l=z(D,"DIV",{class:!0});var P=S(l);L(t.$$.fragment,P),n=W(P),o=z(P,"DIV",{class:!0});var k=S(o);s.l(k),k.forEach(h),P.forEach(h),c=W(D),d=z(D,"DIV",{class:!0});var N=S(d);L(m.$$.fragment,N),N.forEach(h),D.forEach(h),g=W(E),A&&A.l(E),b=ne(),this.h()},h(){V(o,"class",a=St(`absolute right-0 top-1/2 flex
                h-8 w-4 cursor-pointer items-center justify-center
                rounded border
                border-neutral-200 bg-neutral-100
                opacity-60 hover:bg-neutral-200
                hover:opacity-100
                ${i[13]?" translate-x-full":" translate-x-1/2"}`)+" svelte-1nu5kbu"),V(l,"class",u=St(`schema-container relative h-full ${i[13]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1nu5kbu"),V(d,"class","h-full w-2/3 flex-grow"),V(e,"class","flex h-full w-full")},m(E,D){C(E,e,D),v(e,l),q(t,l,null),v(l,n),v(l,o),y[r].m(o,null),v(e,c),v(e,d),q(m,d,null),C(E,g,D),A&&A.m(E,D),C(E,b,D),w=!0,I||(T=[Ne(f=Te.call(null,o,{text:i[13]?"Show Schema":"Hide Schema"})),Ce(o,"click",i[14]),Ce(o,"keypress",i[14])],I=!0)},p(E,D){let P=r;r=F(E),r!==P&&(x(),p(y[P],1,1,()=>{y[P]=null}),ee(),s=y[r],s||(s=y[r]=$[r](E),s.c()),_(s,1),s.m(o,null)),(!w||D&8192&&a!==(a=St(`absolute right-0 top-1/2 flex
                h-8 w-4 cursor-pointer items-center justify-center
                rounded border
                border-neutral-200 bg-neutral-100
                opacity-60 hover:bg-neutral-200
                hover:opacity-100
                ${E[13]?" translate-x-full":" translate-x-1/2"}`)+" svelte-1nu5kbu"))&&V(o,"class",a),f&&He(f.update)&&D&8192&&f.update.call(null,{text:E[13]?"Show Schema":"Hide Schema"}),(!w||D&8192&&u!==(u=St(`schema-container relative h-full ${E[13]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1nu5kbu"))&&V(l,"class",u),E[4].data?A?(A.p(E,D),D&16&&_(A,1)):(A=er(E),A.c(),_(A,1),A.m(b.parentNode,b)):A&&(x(),p(A,1,1,()=>{A=null}),ee())},i(E){w||(_(t.$$.fragment,E),_(s),_(m.$$.fragment,E),_(A),w=!0)},o(E){p(t.$$.fragment,E),p(s),p(m.$$.fragment,E),p(A),w=!1},d(E){E&&h(e),O(t),y[r].d(),O(m),E&&h(g),A&&A.d(E),E&&h(b),I=!1,Ye(T)}}}function Xo(i){let e=i[3].datasetName+"",l;return{c(){l=J(e)},l(t){l=G(t,e)},m(t,n){C(t,l,n)},p(t,n){n&8&&e!==(e=t[3].datasetName+"")&&ue(l,e)},d(t){t&&h(l)}}}function xo(i){let e,l,t,n,o,r,s;return t=new nt({props:{type:"outline",class:"!cursor-pointer",$$slots:{default:[Xo]},$$scope:{ctx:i}}}),t.$on("click",i[25]),{c(){e=M("div"),l=M("div"),R(t.$$.fragment),this.h()},l(a){e=z(a,"DIV",{slot:!0});var f=S(e);l=z(f,"DIV",{});var u=S(l);L(t.$$.fragment,u),u.forEach(h),f.forEach(h),this.h()},h(){V(e,"slot","header-subtext")},m(a,f){C(a,e,f),v(e,l),q(t,l,null),o=!0,r||(s=Ne(n=Te.call(null,l,{text:`${i[3].namespace}/${i[3].datasetName}`})),r=!0)},p(a,f){const u={};f&536870920&&(u.$$scope={dirty:f,ctx:a}),t.$set(u),n&&He(n.update)&&f&8&&n.update.call(null,{text:`${a[3].namespace}/${a[3].datasetName}`})},i(a){o||(_(t.$$.fragment,a),o=!0)},o(a){p(t.$$.fragment,a),o=!1},d(a){a&&h(e),O(t),r=!1,s()}}}function ef(i){let e,l,t;return l=new Ia({}),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{slot:!0,class:!0});var o=S(e);L(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"slot","header-center"),V(e,"class","flex w-full items-center")},m(n,o){C(n,e,o),q(l,e,null),t=!0},p:X,i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){p(l.$$.fragment,n),t=!1},d(n){n&&h(e),O(l)}}}function tr(i){let e,l,t,n;return{c(){e=M("div"),l=J("Copied!"),this.h()},l(o){e=z(o,"DIV",{class:!0});var r=S(e);l=G(r,"Copied!"),r.forEach(h),this.h()},h(){V(e,"class","absolute right-12 z-50 mt-2 rounded border border-neutral-300 bg-neutral-50 px-4 py-1 text-xs")},m(o,r){C(o,e,r),v(e,l),n=!0},i(o){n||(t&&t.end(1),n=!0)},o(o){t=Vr(e,vi,{}),n=!1},d(o){o&&h(e),o&&t&&t.end()}}}function tf(i){let e,l,t,n,o,r,s,a,f,u,c,d,m,g,b,w=i[7]&&tr();return r=new et({props:{size:"field",kind:"ghost",icon:us,iconDescription:"Copy the URL"}}),r.$on("click",i[22]),a=new et({props:{size:"field",kind:"ghost",icon:xi,iconDescription:"Download data"}}),a.$on("click",i[23]),c=new et({props:{disabled:!i[8],size:"field",kind:"ghost",icon:Di,iconDescription:"Dataset settings"}}),c.$on("click",i[24]),{c(){e=M("div"),l=M("div"),t=M("div"),n=M("div"),w&&w.c(),o=Q(),R(r.$$.fragment),s=Q(),R(a.$$.fragment),f=Q(),u=M("div"),R(c.$$.fragment),this.h()},l(I){e=z(I,"DIV",{slot:!0});var T=S(e);l=z(T,"DIV",{class:!0});var $=S(l);t=z($,"DIV",{class:!0});var y=S(t);n=z(y,"DIV",{class:!0});var F=S(n);w&&w.l(F),o=W(F),L(r.$$.fragment,F),F.forEach(h),s=W(y),L(a.$$.fragment,y),f=W(y),u=z(y,"DIV",{});var A=S(u);L(c.$$.fragment,A),A.forEach(h),y.forEach(h),$.forEach(h),T.forEach(h),this.h()},h(){V(n,"class","relative"),fe(u,"opacity-40",!i[8]),V(t,"class","flex"),V(l,"class","flex h-full flex-col"),V(e,"slot","header-right")},m(I,T){C(I,e,T),v(e,l),v(l,t),v(t,n),w&&w.m(n,null),v(n,o),q(r,n,null),v(t,s),q(a,t,null),v(t,f),v(t,u),q(c,u,null),m=!0,g||(b=Ne(d=Te.call(null,u,{text:i[8]?"":"User does not have access to update settings of this dataset."})),g=!0)},p(I,T){I[7]?w?T&128&&_(w,1):(w=tr(),w.c(),_(w,1),w.m(n,o)):w&&(x(),p(w,1,1,()=>{w=null}),ee());const $={};T&256&&($.disabled=!I[8]),c.$set($),d&&He(d.update)&&T&256&&d.update.call(null,{text:I[8]?"":"User does not have access to update settings of this dataset."}),(!m||T&256)&&fe(u,"opacity-40",!I[8])},i(I){m||(_(w),_(r.$$.fragment,I),_(a.$$.fragment,I),_(c.$$.fragment,I),m=!0)},o(I){p(w),p(r.$$.fragment,I),p(a.$$.fragment,I),p(c.$$.fragment,I),m=!1},d(I){I&&h(e),w&&w.d(),O(r),O(a),O(c),g=!1,b()}}}function lf(i){let e,l,t,n;return e=new dr({props:{title:"Datasets",$$slots:{"header-right":[tf],"header-center":[ef],"header-subtext":[xo],default:[Ko]},$$scope:{ctx:i}}}),t=new di({}),{c(){R(e.$$.fragment),l=Q(),R(t.$$.fragment)},l(o){L(e.$$.fragment,o),l=W(o),L(t.$$.fragment,o)},m(o,r){q(e,o,r),C(o,l,r),q(t,o,r),n=!0},p(o,[r]){const s={};r&536879611&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){n||(_(e.$$.fragment,o),_(t.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),p(t.$$.fragment,o),n=!1},d(o){O(e,o),o&&h(l),O(t,o)}}}function nf(i,e,l){let t,n,o,r,s,a,f,u,c,d,m,g=X,b=()=>(g(),g=Pe(u,ie=>l(19,m=ie)),u),w,I=X,T=()=>(I(),I=Pe(f,ie=>l(20,w=ie)),f),$,y=X,F=()=>(y(),y=Pe(n,ie=>l(3,$=ie)),n),A,E=X,D=()=>(E(),E=Pe(r,ie=>l(4,A=ie)),r),P,k=X,N=()=>(k(),k=Pe(a,ie=>l(21,P=ie)),a);i.$$.on_destroy.push(()=>g()),i.$$.on_destroy.push(()=>I()),i.$$.on_destroy.push(()=>y()),i.$$.on_destroy.push(()=>E()),i.$$.on_destroy.push(()=>k());let{namespace:B}=e,{datasetName:Y}=e;function U(){at(n,$.schemaCollapsed=!$.schemaCollapsed,$)}const H=hi(B,Y);mi(H);let Z=!1,j=!1;const se=zt();he(i,se,ie=>l(18,d=ie));let te=!1;const re=()=>navigator.clipboard.writeText(location.href).then(()=>{l(7,te=!0),setTimeout(()=>l(7,te=!1),2e3)},()=>{throw Error("Error copying link to clipboard.")}),oe=()=>l(6,j=!0),de=()=>l(5,Z=!0),Be=()=>{const ie=Ot(B,Y);ie!=location.pathname+location.hash&&yt(ie)};function ye(ie){Z=ie,l(5,Z)}function ae(ie){j=ie,l(6,j)}return i.$$set=ie=>{"namespace"in ie&&l(0,B=ie.namespace),"datasetName"in ie&&l(1,Y=ie.datasetName)},i.$$.update=()=>{var ie,$e;if(i.$$.dirty&131075&&F(l(2,n=_i(t,B,Y))),i.$$.dirty&4&&gi(n),i.$$.dirty&8&&l(13,o=$.schemaCollapsed),i.$$.dirty&8&&D(l(12,r=fr($.namespace,$.datasetName))),i.$$.dirty&16&&l(16,s=jr("string",A.data)),i.$$.dirty&65544&&N(l(11,a=Ur($.namespace,$.datasetName,s.map(K=>K.path)))),i.$$.dirty&8&&T(l(10,f=Yr($.namespace,$.datasetName,pi($)))),i.$$.dirty&8&&b(l(9,u=Nt($.namespace,$.datasetName))),i.$$.dirty&2097168&&A.data!=null&&P.data&&!P.isFetching&&H.setStats(P.data),i.$$.dirty&16&&A.data!=null&&H.setSchema(A.data),i.$$.dirty&1048576&&w!=null&&H.setSelectRowsSchema(w),i.$$.dirty&1048584){const K=bi($.selectedColumns,((ie=w==null?void 0:w.data)==null?void 0:ie.schema)||null);H.setVisibleFields(K)}i.$$.dirty&524288&&m.data!=null&&H.setSettings(m.data),i.$$.dirty&262144&&l(8,c=($e=d.data)==null?void 0:$e.access.dataset.update_settings)},l(17,t=pr()),[B,Y,n,$,A,Z,j,te,c,u,f,a,r,o,U,se,s,t,d,m,w,P,re,oe,de,Be,ye,ae]}class rf extends we{constructor(e){super(),ke(this,e,nf,lf,pe,{namespace:0,datasetName:1})}}function lr(i,e,l){const t=i.slice();return t[17]=e[l],t}function sf(i){let e,l,t=i[4].data,n=[];for(let r=0;r<t.length;r+=1)n[r]=rr(lr(i,t,r));const o=r=>p(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=ne()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=ne()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);C(r,e,s),l=!0},p(r,s){if(s&21){t=r[4].data;let a;for(a=0;a<t.length;a+=1){const f=lr(r,t,a);n[a]?(n[a].p(f,s),_(n[a],1)):(n[a]=rr(f),n[a].c(),_(n[a],1),n[a].m(e.parentNode,e))}for(x(),a=t.length;a<n.length;a+=1)o(a);ee()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)_(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)p(n[s]);l=!1},d(r){Fe(n,r),r&&h(e)}}}function af(i){let e,l;return e=new Zt({props:{kind:"error",title:"Error loading datasets",lowContrast:!0,subtitle:i[4].error.message}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&16&&(o.subtitle=t[4].error.message),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function of(i){let e,l;return e=new Le({props:{paragraph:!0,lines:3,width:"30%"}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function nr(i){let e,l=i[17].description+"",t;return{c(){e=M("div"),t=J(l),this.h()},l(n){e=z(n,"DIV",{class:!0});var o=S(e);t=G(o,l),o.forEach(h),this.h()},h(){V(e,"class","my-4")},m(n,o){C(n,e,o),v(e,t)},p(n,o){o&16&&l!==(l=n[17].description+"")&&ue(t,l)},d(n){n&&h(e)}}}function ff(i){let e;return{c(){e=J("Open")},l(l){e=G(l,"Open")},m(l,t){C(l,e,t)},d(l){l&&h(e)}}}function rr(i){let e,l,t=i[17].namespace+"",n,o,r=i[17].dataset_name+"",s,a,f,u,c,d,m,g,b,w,I,T,$,y,F,A=i[17].description&&nr(i);function E(){return i[11](i[17])}c=new et({props:{kind:"tertiary",$$slots:{default:[ff]},$$scope:{ctx:i}}}),c.$on("click",E),b=new wi({props:{size:16}});function D(){return i[12](i[17])}function P(){return i[13](i[17])}return{c(){e=M("button"),l=M("div"),n=J(t),o=J(" / "),s=J(r),a=Q(),A&&A.c(),f=Q(),u=M("div"),R(c.$$.fragment),d=Q(),m=M("div"),g=M("button"),R(b.$$.fragment),T=Q(),this.h()},l(k){e=z(k,"BUTTON",{class:!0});var N=S(e);l=z(N,"DIV",{class:!0});var B=S(l);n=G(B,t),o=G(B," / "),s=G(B,r),B.forEach(h),a=W(N),A&&A.l(N),f=W(N),u=z(N,"DIV",{class:!0});var Y=S(u);L(c.$$.fragment,Y),d=W(Y),m=z(Y,"DIV",{});var U=S(m);g=z(U,"BUTTON",{title:!0,class:!0});var H=S(g);L(b.$$.fragment,H),H.forEach(h),U.forEach(h),Y.forEach(h),T=W(N),N.forEach(h),this.h()},h(){V(l,"class","truncate text-xl"),V(g,"title","Delete dataset"),g.disabled=w=!i[2],V(g,"class","h-full w-full rounded border border-gray-300 p-2"),fe(g,"hover:border-red-400",i[2]),fe(g,"hover:text-red-400",i[2]),fe(m,"opacity-40",!i[2]),V(u,"class","mt-4 flex gap-x-2"),V(e,"class","w-80 cursor-pointer rounded-md border border-gray-200 px-3 py-4 text-left hover:border-gray-400")},m(k,N){C(k,e,N),v(e,l),v(l,n),v(l,o),v(l,s),v(e,a),A&&A.m(e,null),v(e,f),v(e,u),q(c,u,null),v(u,d),v(u,m),v(m,g),q(b,g,null),v(e,T),$=!0,y||(F=[Ce(g,"click",Ht(D)),Ne(I=Te.call(null,m,{text:i[2]?"":"User does not have access to delete this dataset."})),Ce(e,"click",P)],y=!0)},p(k,N){i=k,(!$||N&16)&&t!==(t=i[17].namespace+"")&&ue(n,t),(!$||N&16)&&r!==(r=i[17].dataset_name+"")&&ue(s,r),i[17].description?A?A.p(i,N):(A=nr(i),A.c(),A.m(e,f)):A&&(A.d(1),A=null);const B={};N&1048576&&(B.$$scope={dirty:N,ctx:i}),c.$set(B),(!$||N&4&&w!==(w=!i[2]))&&(g.disabled=w),(!$||N&4)&&fe(g,"hover:border-red-400",i[2]),(!$||N&4)&&fe(g,"hover:text-red-400",i[2]),I&&He(I.update)&&N&4&&I.update.call(null,{text:i[2]?"":"User does not have access to delete this dataset."}),(!$||N&4)&&fe(m,"opacity-40",!i[2])},i(k){$||(_(c.$$.fragment,k),_(b.$$.fragment,k),$=!0)},o(k){p(c.$$.fragment,k),p(b.$$.fragment,k),$=!1},d(k){k&&h(e),A&&A.d(),O(c),O(b),y=!1,Ye(F)}}}function ir(i){let e,l;return e=new Jt({props:{danger:!0,open:!0,modalHeading:"Delete dataset",primaryButtonText:"Delete",primaryButtonIcon:i[3].isLoading?Vt:void 0,secondaryButtonText:"Cancel",$$slots:{default:[uf]},$$scope:{ctx:i}}}),e.$on("click:button--secondary",i[14]),e.$on("close",i[15]),e.$on("submit",i[16]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&8&&(o.primaryButtonIcon=t[3].isLoading?Vt:void 0),n&1048577&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function uf(i){let e,l,t,n=i[0].namespace+"",o,r,s=i[0].name+"",a,f,u,c,d;return{c(){e=M("p"),l=J("Confirm deleting "),t=M("code"),o=J(n),r=J("/"),a=J(s),f=J(" ?"),u=Q(),c=M("p"),d=J("This is a permanent action and cannot be undone."),this.h()},l(m){e=z(m,"P",{class:!0});var g=S(e);l=G(g,"Confirm deleting "),t=z(g,"CODE",{});var b=S(t);o=G(b,n),r=G(b,"/"),a=G(b,s),b.forEach(h),f=G(g," ?"),g.forEach(h),u=W(m),c=z(m,"P",{class:!0});var w=S(c);d=G(w,"This is a permanent action and cannot be undone."),w.forEach(h),this.h()},h(){V(e,"class","!text-lg"),V(c,"class","mt-2")},m(m,g){C(m,e,g),v(e,l),v(e,t),v(t,o),v(t,r),v(t,a),v(e,f),C(m,u,g),C(m,c,g),v(c,d)},p(m,g){g&1&&n!==(n=m[0].namespace+"")&&ue(o,n),g&1&&s!==(s=m[0].name+"")&&ue(a,s)},d(m){m&&h(e),m&&h(u),m&&h(c)}}}function cf(i){let e,l,t,n,o,r,s;const a=[of,af,sf],f=[];function u(d,m){return d[4].isLoading?0:d[4].isError?1:d[4].isSuccess?2:-1}~(t=u(i))&&(n=f[t]=a[t](i));let c=i[0]&&ir(i);return{c(){e=M("div"),l=M("div"),n&&n.c(),o=Q(),c&&c.c(),r=ne(),this.h()},l(d){e=z(d,"DIV",{class:!0});var m=S(e);l=z(m,"DIV",{class:!0});var g=S(l);n&&n.l(g),g.forEach(h),m.forEach(h),o=W(d),c&&c.l(d),r=ne(),this.h()},h(){V(l,"class","flex flex-wrap gap-x-4 gap-y-4 pb-4"),V(e,"class","flex w-full flex-col items-center gap-y-4 overflow-y-scroll p-4")},m(d,m){C(d,e,m),v(e,l),~t&&f[t].m(l,null),C(d,o,m),c&&c.m(d,m),C(d,r,m),s=!0},p(d,m){let g=t;t=u(d),t===g?~t&&f[t].p(d,m):(n&&(x(),p(f[g],1,1,()=>{f[g]=null}),ee()),~t?(n=f[t],n?n.p(d,m):(n=f[t]=a[t](d),n.c()),_(n,1),n.m(l,null)):n=null),d[0]?c?(c.p(d,m),m&1&&_(c,1)):(c=ir(d),c.c(),_(c,1),c.m(r.parentNode,r)):c&&(x(),p(c,1,1,()=>{c=null}),ee())},i(d){s||(_(n),_(c),s=!0)},o(d){p(n),p(c),s=!1},d(d){d&&h(e),~t&&f[t].d(),d&&h(o),c&&c.d(d),d&&h(r)}}}function df(i){let e;return{c(){e=J("+ Add Dataset")},l(l){e=G(l,"+ Add Dataset")},m(l,t){C(l,e,t)},d(l){l&&h(e)}}}function hf(i){let e,l,t;return l=new et({props:{size:"small",disabled:!i[1],$$slots:{default:[df]},$$scope:{ctx:i}}}),l.$on("click",i[10]),{c(){e=M("div"),R(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{slot:!0});var o=S(e);L(l.$$.fragment,o),o.forEach(h),this.h()},h(){V(e,"slot","header-right")},m(n,o){C(n,e,o),q(l,e,null),t=!0},p(n,o){const r={};o&2&&(r.disabled=!n[1]),o&1048576&&(r.$$scope={dirty:o,ctx:n}),l.$set(r)},i(n){t||(_(l.$$.fragment,n),t=!0)},o(n){p(l.$$.fragment,n),t=!1},d(n){n&&h(e),O(l)}}}function mf(i){let e,l;return e=new dr({props:{title:"Datasets",$$slots:{"header-right":[hf],default:[cf]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,[n]){const o={};n&1048607&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function _f(i,e,l){let t,n,o,r,s;const a=Qr();he(i,a,y=>l(4,s=y));const f=Wr();he(i,f,y=>l(3,o=y));const u=zt();he(i,u,y=>l(9,r=y));let c=null;function d(){if(c==null)return;const{namespace:y,name:F}=c;o.mutate([y,F],{onSuccess:()=>l(0,c=null)})}const m=()=>yt("/datasets/new"),g=y=>yt(Ot(y.namespace,y.dataset_name)),b=y=>l(0,c={namespace:y.namespace,name:y.dataset_name}),w=y=>yt(Ot(y.namespace,y.dataset_name)),I=()=>l(0,c=null),T=()=>l(0,c=null),$=()=>d();return i.$$.update=()=>{var y,F;i.$$.dirty&512&&l(2,t=(y=r.data)==null?void 0:y.access.dataset.delete_dataset),i.$$.dirty&512&&l(1,n=(F=r.data)==null?void 0:F.access.create_dataset)},[c,n,t,o,s,a,f,u,d,r,m,g,b,w,I,T,$]}class gf extends we{constructor(e){super(),ke(this,e,_f,mf,pe,{})}}function pf(i){let e,l;return e=new gf({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p:X,i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function bf(i){let e,l;return e=new rf({props:{namespace:i[0],datasetName:i[1]}}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.namespace=t[0]),n&2&&(o.datasetName=t[1]),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){p(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function vf(i){let e,l,t,n;const o=[bf,pf],r=[];function s(a,f){return a[0]!=null&&a[1]!=null?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=ne()},l(a){l.l(a),t=ne()},m(a,f){r[e].m(a,f),C(a,t,f),n=!0},p(a,[f]){let u=e;e=s(a),e===u?r[e].p(a,f):(x(),p(r[u],1,1,()=>{r[u]=null}),ee(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),_(l,1),l.m(t.parentNode,t))},i(a){n||(_(l),n=!0)},o(a){p(l),n=!1},d(a){r[e].d(a),a&&h(t)}}}function wf(i,e,l){let t,n,o;const r=pr();return he(i,r,s=>l(3,t=s)),i.$$.update=()=>{if(i.$$.dirty&11&&t.page==="datasets")if(t.identifier==""||t.identifier==null)l(0,n=void 0),l(1,o=void 0);else{const[s,a]=t.identifier.split("/");(n!=s||o!=a)&&(l(0,n=s),l(1,o=a))}},[n,o,r,t]}class Ff extends we{constructor(e){super(),ke(this,e,wf,vf,pe,{})}}export{Ff as component};
