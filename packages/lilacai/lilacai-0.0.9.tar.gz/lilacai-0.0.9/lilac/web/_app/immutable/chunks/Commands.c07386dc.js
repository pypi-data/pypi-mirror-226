import{S as fe,i as ue,s as se,E as le,k as O,l as A,m as q,h as v,H as V,I as Se,b as P,J as E,K as te,O as Oe,a1 as W,P as at,D as be,F as Pe,Q as oe,e as Y,v as Q,d as b,f as X,g as h,C as He,w as he,G as Xe,a as R,c as H,n as M,L as Ze,M as xe,N as et,y as B,z as I,A as N,W as wl,B as w,q as re,r as ie,u as Ve,R as ge,T as Sl,o as Tl,t as Pl,j as Vl,a8 as _t,ai as kt,a4 as De,_ as mt,$ as dt,a0 as qt,U as ve,a7 as Fl,V as Ce,ab as vt,aa as Ml}from"./index.8c57c90c.js";import{w as ht}from"./index.3d04a9ea.js";import{B as ot,h as ql,a as Ol,a9 as Al,Z as jl,b as Ll,w as Ct,I as Me,A as yl,m as Ot,n as qe,aa as zl,R as Ul,ab as Gl,T as Rl,u as bt,$ as El,c as Hl,y as Wl,ac as Yl}from"./HoverTooltip.13cf70d2.js";import{C as Jl,J as Kl}from"./JSONSchemaForm.de4f12c7.js";import{C as Ql,T as Qe,I as $l,S as Xl,f as Zl}from"./SvelteMarkdown.e407b063.js";import{H as xl,r as Dl,T as en,h as gt,i as tn,F as ln}from"./datasetStore.40f12627.js";import{S as We,a as tt}from"./SelectItem.5cf70406.js";import{S as St,a as nn,q as rn}from"./signalQueries.0b4f9031.js";function sn(r){let e,l,t,n,a=[r[0]],i={};for(let o=0;o<a.length;o+=1)i=le(i,a[o]);return{c(){e=O("div"),l=O("span"),this.h()},l(o){e=A(o,"DIV",{});var s=q(e);l=A(s,"SPAN",{}),q(l).forEach(v),s.forEach(v),this.h()},h(){V(l,"bx--checkbox-label-text",!0),V(l,"bx--skeleton",!0),Se(e,i),V(e,"bx--form-item",!0),V(e,"bx--checkbox-wrapper",!0),V(e,"bx--checkbox-label",!0)},m(o,s){P(o,e,s),E(e,l),t||(n=[te(e,"click",r[1]),te(e,"mouseover",r[2]),te(e,"mouseenter",r[3]),te(e,"mouseleave",r[4])],t=!0)},p(o,[s]){Se(e,i=Oe(a,[s&1&&o[0]])),V(e,"bx--form-item",!0),V(e,"bx--checkbox-wrapper",!0),V(e,"bx--checkbox-label",!0)},i:W,o:W,d(o){o&&v(e),t=!1,at(n)}}}function on(r,e,l){const t=[];let n=be(e,t);function a(f){oe.call(this,r,f)}function i(f){oe.call(this,r,f)}function o(f){oe.call(this,r,f)}function s(f){oe.call(this,r,f)}return r.$$set=f=>{e=le(le({},e),Pe(f)),l(0,n=be(e,t))},[n,a,i,o,s]}class an extends fe{constructor(e){super(),ue(this,e,on,sn,se,{})}}const fn=an,un=r=>({}),At=r=>({});function cn(r){let e,l,t,n,a,i,o,s;const f=r[19].labelText,u=Xe(f,r,r[18],At),c=u||dn(r);let _=[r[16]],m={};for(let g=0;g<_.length;g+=1)m=le(m,_[g]);return{c(){e=O("div"),l=O("input"),t=R(),n=O("label"),a=O("span"),c&&c.c(),this.h()},l(g){e=A(g,"DIV",{});var p=q(e);l=A(p,"INPUT",{type:!0,id:!0,name:!0}),t=H(p),n=A(p,"LABEL",{for:!0,title:!0});var d=q(n);a=A(d,"SPAN",{});var C=q(a);c&&c.l(C),C.forEach(v),d.forEach(v),p.forEach(v),this.h()},h(){M(l,"type","checkbox"),l.value=r[4],l.checked=r[0],l.disabled=r[9],M(l,"id",r[13]),l.indeterminate=r[5],M(l,"name",r[12]),l.required=r[7],l.readOnly=r[8],V(l,"bx--checkbox",!0),V(a,"bx--checkbox-label-text",!0),V(a,"bx--visually-hidden",r[11]),M(n,"for",r[13]),M(n,"title",r[2]),V(n,"bx--checkbox-label",!0),Se(e,m),V(e,"bx--form-item",!0),V(e,"bx--checkbox-wrapper",!0)},m(g,p){P(g,e,p),E(e,l),r[30](l),E(e,t),E(e,n),E(n,a),c&&c.m(a,null),r[32](a),i=!0,o||(s=[te(l,"change",r[31]),te(l,"change",r[24]),te(l,"blur",r[25]),te(e,"click",r[20]),te(e,"mouseover",r[21]),te(e,"mouseenter",r[22]),te(e,"mouseleave",r[23])],o=!0)},p(g,p){(!i||p[0]&16)&&(l.value=g[4]),(!i||p[0]&1)&&(l.checked=g[0]),(!i||p[0]&512)&&(l.disabled=g[9]),(!i||p[0]&8192)&&M(l,"id",g[13]),(!i||p[0]&32)&&(l.indeterminate=g[5]),(!i||p[0]&4096)&&M(l,"name",g[12]),(!i||p[0]&128)&&(l.required=g[7]),(!i||p[0]&256)&&(l.readOnly=g[8]),u?u.p&&(!i||p[0]&262144)&&Ze(u,f,g,g[18],i?et(f,g[18],p,un):xe(g[18]),At):c&&c.p&&(!i||p[0]&1024)&&c.p(g,i?p:[-1,-1]),(!i||p[0]&2048)&&V(a,"bx--visually-hidden",g[11]),(!i||p[0]&8192)&&M(n,"for",g[13]),(!i||p[0]&4)&&M(n,"title",g[2]),Se(e,m=Oe(_,[p[0]&65536&&g[16]])),V(e,"bx--form-item",!0),V(e,"bx--checkbox-wrapper",!0)},i(g){i||(h(c,g),i=!0)},o(g){b(c,g),i=!1},d(g){g&&v(e),r[30](null),c&&c.d(g),r[32](null),o=!1,at(s)}}}function mn(r){let e,l;const t=[r[16]];let n={};for(let a=0;a<t.length;a+=1)n=le(n,t[a]);return e=new fn({props:n}),e.$on("click",r[26]),e.$on("mouseover",r[27]),e.$on("mouseenter",r[28]),e.$on("mouseleave",r[29]),{c(){B(e.$$.fragment)},l(a){I(e.$$.fragment,a)},m(a,i){N(e,a,i),l=!0},p(a,i){const o=i[0]&65536?Oe(t,[wl(a[16])]):{};e.$set(o)},i(a){l||(h(e.$$.fragment,a),l=!0)},o(a){b(e.$$.fragment,a),l=!1},d(a){w(e,a)}}}function dn(r){let e;return{c(){e=re(r[10])},l(l){e=ie(l,r[10])},m(l,t){P(l,e,t)},p(l,t){t[0]&1024&&Ve(e,l[10])},d(l){l&&v(e)}}}function _n(r){let e,l,t,n;const a=[mn,cn],i=[];function o(s,f){return s[6]?0:1}return e=o(r),l=i[e]=a[e](r),{c(){l.c(),t=Y()},l(s){l.l(s),t=Y()},m(s,f){i[e].m(s,f),P(s,t,f),n=!0},p(s,f){let u=e;e=o(s),e===u?i[e].p(s,f):(Q(),b(i[u],1,1,()=>{i[u]=null}),X(),l=i[e],l?l.p(s,f):(l=i[e]=a[e](s),l.c()),h(l,1),l.m(t.parentNode,t))},i(s){n||(h(l),n=!0)},o(s){b(l),n=!1},d(s){i[e].d(s),s&&v(t)}}}function hn(r,e,l){let t,n;const a=["value","checked","group","indeterminate","skeleton","required","readonly","disabled","labelText","hideLabel","name","title","id","ref"];let i=be(e,a),{$$slots:o={},$$scope:s}=e,{value:f=""}=e,{checked:u=!1}=e,{group:c=void 0}=e,{indeterminate:_=!1}=e,{skeleton:m=!1}=e,{required:g=!1}=e,{readonly:p=!1}=e,{disabled:d=!1}=e,{labelText:C=""}=e,{hideLabel:T=!1}=e,{name:k=""}=e,{title:S=void 0}=e,{id:L="ccs-"+Math.random().toString(36)}=e,{ref:j=null}=e;const G=He();let U=null;function J(y){oe.call(this,r,y)}function D(y){oe.call(this,r,y)}function Z(y){oe.call(this,r,y)}function ce(y){oe.call(this,r,y)}function Te(y){oe.call(this,r,y)}function Be(y){oe.call(this,r,y)}function Ie(y){oe.call(this,r,y)}function me(y){oe.call(this,r,y)}function ne(y){oe.call(this,r,y)}function x(y){oe.call(this,r,y)}function pe(y){he[y?"unshift":"push"](()=>{j=y,l(3,j)})}const $=()=>{t?l(1,c=c.includes(f)?c.filter(y=>y!==f):[...c,f]):l(0,u=!u)};function ee(y){he[y?"unshift":"push"](()=>{U=y,l(14,U)})}return r.$$set=y=>{e=le(le({},e),Pe(y)),l(16,i=be(e,a)),"value"in y&&l(4,f=y.value),"checked"in y&&l(0,u=y.checked),"group"in y&&l(1,c=y.group),"indeterminate"in y&&l(5,_=y.indeterminate),"skeleton"in y&&l(6,m=y.skeleton),"required"in y&&l(7,g=y.required),"readonly"in y&&l(8,p=y.readonly),"disabled"in y&&l(9,d=y.disabled),"labelText"in y&&l(10,C=y.labelText),"hideLabel"in y&&l(11,T=y.hideLabel),"name"in y&&l(12,k=y.name),"title"in y&&l(2,S=y.title),"id"in y&&l(13,L=y.id),"ref"in y&&l(3,j=y.ref),"$$scope"in y&&l(18,s=y.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&2&&l(15,t=Array.isArray(c)),r.$$.dirty[0]&32787&&l(0,u=t?c.includes(f):u),r.$$.dirty[0]&1&&G("check",u),r.$$.dirty[0]&16384&&l(17,n=(U==null?void 0:U.offsetWidth)<(U==null?void 0:U.scrollWidth)),r.$$.dirty[0]&147460&&l(2,S=!S&&n?U==null?void 0:U.innerText:S)},[u,c,S,j,f,_,m,g,p,d,C,T,k,L,U,t,i,n,s,o,J,D,Z,ce,Te,Be,Ie,me,ne,x,pe,$,ee]}class gn extends fe{constructor(e){super(),ue(this,e,hn,_n,se,{value:4,checked:0,group:1,indeterminate:5,skeleton:6,required:7,readonly:8,disabled:9,labelText:10,hideLabel:11,name:12,title:2,id:13,ref:3},null,[-1,-1])}}const pn=gn;function bn(r){let e,l,t,n,a,i;const o=r[18].default,s=Xe(o,r,r[17],null);let f=[{role:"presentation"},r[14]],u={};for(let c=0;c<f.length;c+=1)u=le(u,f[c]);return{c(){e=O("div"),l=O("div"),s&&s.c(),this.h()},l(c){e=A(c,"DIV",{role:!0});var _=q(e);l=A(_,"DIV",{role:!0,"aria-modal":!0,"aria-label":!0,class:!0});var m=q(l);s&&s.l(m),m.forEach(v),_.forEach(v),this.h()},h(){M(l,"role","dialog"),M(l,"aria-modal","true"),M(l,"aria-label",t=r[15]["aria-label"]||r[9]||void 0),M(l,"class",r[5]),V(l,"bx--modal-container",!0),V(l,"bx--modal-container--xs",r[2]==="xs"),V(l,"bx--modal-container--sm",r[2]==="sm"),V(l,"bx--modal-container--lg",r[2]==="lg"),Se(e,u),V(e,"bx--modal",!0),V(e,"is-visible",r[0]),V(e,"bx--modal--danger",r[3])},m(c,_){P(c,e,_),E(e,l),s&&s.m(l,null),r[24](l),r[26](e),n=!0,a||(i=[te(l,"click",r[25]),te(e,"keydown",r[19]),te(e,"keydown",r[27]),te(e,"click",r[20]),te(e,"click",r[28]),te(e,"mouseover",r[21]),te(e,"mouseenter",r[22]),te(e,"mouseleave",r[23]),te(e,"transitionend",r[29])],a=!0)},p(c,_){s&&s.p&&(!n||_[0]&131072)&&Ze(s,o,c,c[17],n?et(o,c[17],_,null):xe(c[17]),null),(!n||_[0]&33280&&t!==(t=c[15]["aria-label"]||c[9]||void 0))&&M(l,"aria-label",t),(!n||_[0]&32)&&M(l,"class",c[5]),(!n||_[0]&32)&&V(l,"bx--modal-container",!0),(!n||_[0]&36)&&V(l,"bx--modal-container--xs",c[2]==="xs"),(!n||_[0]&36)&&V(l,"bx--modal-container--sm",c[2]==="sm"),(!n||_[0]&36)&&V(l,"bx--modal-container--lg",c[2]==="lg"),Se(e,u=Oe(f,[{role:"presentation"},_[0]&16384&&c[14]])),V(e,"bx--modal",!0),V(e,"is-visible",c[0]),V(e,"bx--modal--danger",c[3])},i(c){n||(h(s,c),n=!0)},o(c){b(s,c),n=!1},d(c){c&&v(e),s&&s.d(c),r[24](null),r[26](null),a=!1,at(i)}}}function kn(r,e,l){let t;const n=["size","open","danger","preventCloseOnClickOutside","containerClass","selectorPrimaryFocus","ref"];let a=be(e,n),i,o,{$$slots:s={},$$scope:f}=e,{size:u=void 0}=e,{open:c=!1}=e,{danger:_=!1}=e,{preventCloseOnClickOutside:m=!1}=e,{containerClass:g=""}=e,{selectorPrimaryFocus:p="[data-modal-primary-focus]"}=e,{ref:d=null}=e;const C=He(),T=ht(void 0);ge(r,T,$=>l(9,o=$));let k=null,S=null,L=!1;Sl("ComposedModal",{closeModal:()=>{l(0,c=!1)},submit:()=>{C("submit"),C("click:button--primary")},declareRef:$=>{k=$},updateLabel:$=>{T.set($)}});function j($){var y;if(p==null)return;const ee=((y=$||S)==null?void 0:y.querySelector(p))||k;ee!=null&&ee.focus()}let G=!1;const U=ht(c);ge(r,U,$=>l(32,i=$)),xl(U),Tl(()=>{Pl().then(()=>{j()})}),Vl(()=>{G?c||(G=!1,C("close")):c&&(G=!0,C("open"))});function J($){oe.call(this,r,$)}function D($){oe.call(this,r,$)}function Z($){oe.call(this,r,$)}function ce($){oe.call(this,r,$)}function Te($){oe.call(this,r,$)}function Be($){he[$?"unshift":"push"](()=>{S=$,l(6,S)})}const Ie=()=>{l(7,L=!0)};function me($){he[$?"unshift":"push"](()=>{d=$,l(1,d)})}const ne=$=>{if(c){if($.key==="Escape")l(0,c=!1);else if($.key==="Tab"){const ee=`
  a[href], area[href], input:not([disabled]):not([tabindex='-1']),
  button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
  textarea:not([disabled]):not([tabindex='-1']),
  iframe, object, embed, *[tabindex]:not([tabindex='-1']):not([disabled]), *[contenteditable=true]
`,y=Array.from(d.querySelectorAll(ee));let ke=y.indexOf(document.activeElement);ke===-1&&$.shiftKey&&(ke=0),ke+=y.length+($.shiftKey?-1:1),ke%=y.length,y[ke].focus(),$.preventDefault()}}},x=()=>{!L&&!m&&l(0,c=!1),l(7,L=!1)},pe=({propertyName:$,currentTarget:ee})=>{$==="transform"&&C("transitionend",{open:c}),t&&(j(ee),l(8,t=!1))};return r.$$set=$=>{l(15,e=le(le({},e),Pe($))),l(14,a=be(e,n)),"size"in $&&l(2,u=$.size),"open"in $&&l(0,c=$.open),"danger"in $&&l(3,_=$.danger),"preventCloseOnClickOutside"in $&&l(4,m=$.preventCloseOnClickOutside),"containerClass"in $&&l(5,g=$.containerClass),"selectorPrimaryFocus"in $&&l(16,p=$.selectorPrimaryFocus),"ref"in $&&l(1,d=$.ref),"$$scope"in $&&l(17,f=$.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&1&&l(8,t=c),r.$$.dirty[0]&1&&_t(U,i=c,i)},e=Pe(e),[c,d,u,_,m,g,S,L,t,o,C,T,j,U,a,e,p,f,s,J,D,Z,ce,Te,Be,Ie,me,ne,x,pe]}class vn extends fe{constructor(e){super(),ue(this,e,kn,bn,se,{size:2,open:0,danger:3,preventCloseOnClickOutside:4,containerClass:5,selectorPrimaryFocus:16,ref:1},null,[-1,-1])}}const Tt=vn;function jt(r){let e,l;return{c(){e=O("h2"),l=re(r[1]),this.h()},l(t){e=A(t,"H2",{class:!0});var n=q(e);l=ie(n,r[1]),n.forEach(v),this.h()},h(){M(e,"class",r[2]),V(e,"bx--modal-header__label",!0),V(e,"bx--type-delta",!0)},m(t,n){P(t,e,n),E(e,l)},p(t,n){n&2&&Ve(l,t[1]),n&4&&M(e,"class",t[2]),n&4&&V(e,"bx--modal-header__label",!0),n&4&&V(e,"bx--type-delta",!0)},d(t){t&&v(e)}}}function Lt(r){let e,l;return{c(){e=O("h3"),l=re(r[0]),this.h()},l(t){e=A(t,"H3",{class:!0});var n=q(e);l=ie(n,r[0]),n.forEach(v),this.h()},h(){M(e,"class",r[3]),V(e,"bx--modal-header__heading",!0),V(e,"bx--type-beta",!0)},m(t,n){P(t,e,n),E(e,l)},p(t,n){n&1&&Ve(l,t[0]),n&8&&M(e,"class",t[3]),n&8&&V(e,"bx--modal-header__heading",!0),n&8&&V(e,"bx--type-beta",!0)},d(t){t&&v(e)}}}function Cn(r){let e,l,t,n,a,i,o,s,f,u=r[1]&&jt(r),c=r[0]&&Lt(r);const _=r[10].default,m=Xe(_,r,r[9],null);i=new Ql({props:{size:20,class:"bx--modal-close__icon "+r[5],"aria-hidden":"true"}});let g=[r[8]],p={};for(let d=0;d<g.length;d+=1)p=le(p,g[d]);return{c(){e=O("div"),u&&u.c(),l=R(),c&&c.c(),t=R(),m&&m.c(),n=R(),a=O("button"),B(i.$$.fragment),this.h()},l(d){e=A(d,"DIV",{});var C=q(e);u&&u.l(C),l=H(C),c&&c.l(C),t=H(C),m&&m.l(C),n=H(C),a=A(C,"BUTTON",{type:!0,"aria-label":!0,class:!0});var T=q(a);I(i.$$.fragment,T),T.forEach(v),C.forEach(v),this.h()},h(){M(a,"type","button"),M(a,"aria-label",r[6]),M(a,"class",r[4]),V(a,"bx--modal-close",!0),Se(e,p),V(e,"bx--modal-header",!0)},m(d,C){P(d,e,C),u&&u.m(e,null),E(e,l),c&&c.m(e,null),E(e,t),m&&m.m(e,null),E(e,n),E(e,a),N(i,a,null),o=!0,s||(f=[te(a,"click",r[11]),te(a,"click",r[7])],s=!0)},p(d,[C]){d[1]?u?u.p(d,C):(u=jt(d),u.c(),u.m(e,l)):u&&(u.d(1),u=null),d[0]?c?c.p(d,C):(c=Lt(d),c.c(),c.m(e,t)):c&&(c.d(1),c=null),m&&m.p&&(!o||C&512)&&Ze(m,_,d,d[9],o?et(_,d[9],C,null):xe(d[9]),null);const T={};C&32&&(T.class="bx--modal-close__icon "+d[5]),i.$set(T),(!o||C&64)&&M(a,"aria-label",d[6]),(!o||C&16)&&M(a,"class",d[4]),(!o||C&16)&&V(a,"bx--modal-close",!0),Se(e,p=Oe(g,[C&256&&d[8]])),V(e,"bx--modal-header",!0)},i(d){o||(h(m,d),h(i.$$.fragment,d),o=!0)},o(d){b(m,d),b(i.$$.fragment,d),o=!1},d(d){d&&v(e),u&&u.d(),c&&c.d(),m&&m.d(d),w(i),s=!1,at(f)}}}function Sn(r,e,l){const t=["title","label","labelClass","titleClass","closeClass","closeIconClass","iconDescription"];let n=be(e,t),{$$slots:a={},$$scope:i}=e,{title:o=""}=e,{label:s=""}=e,{labelClass:f=""}=e,{titleClass:u=""}=e,{closeClass:c=""}=e,{closeIconClass:_=""}=e,{iconDescription:m="Close"}=e;const{closeModal:g,updateLabel:p}=kt("ComposedModal");function d(C){oe.call(this,r,C)}return r.$$set=C=>{e=le(le({},e),Pe(C)),l(8,n=be(e,t)),"title"in C&&l(0,o=C.title),"label"in C&&l(1,s=C.label),"labelClass"in C&&l(2,f=C.labelClass),"titleClass"in C&&l(3,u=C.titleClass),"closeClass"in C&&l(4,c=C.closeClass),"closeIconClass"in C&&l(5,_=C.closeIconClass),"iconDescription"in C&&l(6,m=C.iconDescription),"$$scope"in C&&l(9,i=C.$$scope)},r.$$.update=()=>{r.$$.dirty&2&&p(s)},[o,s,f,u,c,_,m,g,n,i,a,d]}class Tn extends fe{constructor(e){super(),ue(this,e,Sn,Cn,se,{title:0,label:1,labelClass:2,titleClass:3,closeClass:4,closeIconClass:5,iconDescription:6})}}const yt=Tn;function zt(r){let e;return{c(){e=O("div"),this.h()},l(l){e=A(l,"DIV",{}),q(e).forEach(v),this.h()},h(){V(e,"bx--modal-content--overflow-indicator",!0)},m(l,t){P(l,e,t)},d(l){l&&v(e)}}}function yn(r){let e,l,t,n,a,i;const o=r[4].default,s=Xe(o,r,r[3],null);let f=[{tabindex:l=r[1]?"0":void 0},{role:t=r[1]?"region":void 0},r[2]],u={};for(let _=0;_<f.length;_+=1)u=le(u,f[_]);let c=r[1]&&zt();return{c(){e=O("div"),s&&s.c(),n=R(),c&&c.c(),a=Y(),this.h()},l(_){e=A(_,"DIV",{tabindex:!0,role:!0});var m=q(e);s&&s.l(m),m.forEach(v),n=H(_),c&&c.l(_),a=Y(),this.h()},h(){Se(e,u),V(e,"bx--modal-content",!0),V(e,"bx--modal-content--with-form",r[0]),V(e,"bx--modal-scroll-content",r[1])},m(_,m){P(_,e,m),s&&s.m(e,null),P(_,n,m),c&&c.m(_,m),P(_,a,m),i=!0},p(_,[m]){s&&s.p&&(!i||m&8)&&Ze(s,o,_,_[3],i?et(o,_[3],m,null):xe(_[3]),null),Se(e,u=Oe(f,[(!i||m&2&&l!==(l=_[1]?"0":void 0))&&{tabindex:l},(!i||m&2&&t!==(t=_[1]?"region":void 0))&&{role:t},m&4&&_[2]])),V(e,"bx--modal-content",!0),V(e,"bx--modal-content--with-form",_[0]),V(e,"bx--modal-scroll-content",_[1]),_[1]?c||(c=zt(),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},i(_){i||(h(s,_),i=!0)},o(_){b(s,_),i=!1},d(_){_&&v(e),s&&s.d(_),_&&v(n),c&&c.d(_),_&&v(a)}}}function En(r,e,l){const t=["hasForm","hasScrollingContent"];let n=be(e,t),{$$slots:a={},$$scope:i}=e,{hasForm:o=!1}=e,{hasScrollingContent:s=!1}=e;return r.$$set=f=>{e=le(le({},e),Pe(f)),l(2,n=be(e,t)),"hasForm"in f&&l(0,o=f.hasForm),"hasScrollingContent"in f&&l(1,s=f.hasScrollingContent),"$$scope"in f&&l(3,i=f.$$scope)},[o,s,n,i,a]}class $n extends fe{constructor(e){super(),ue(this,e,En,yn,se,{hasForm:0,hasScrollingContent:1})}}const Et=$n;function Ut(r,e,l){const t=r.slice();return t[16]=e[l],t}function Dn(r){let e,l;return e=new ot({props:{kind:"secondary",class:r[6],$$slots:{default:[In]},$$scope:{ctx:r}}}),e.$on("click",r[14]),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n&64&&(a.class=t[6]),n&32784&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Bn(r){let e,l,t=r[5],n=[];for(let i=0;i<t.length;i+=1)n[i]=Gt(Ut(r,t,i));const a=i=>b(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Y()},l(i){for(let o=0;o<n.length;o+=1)n[o].l(i);e=Y()},m(i,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(i,o);P(i,e,o),l=!0},p(i,o){if(o&288){t=i[5];let s;for(s=0;s<t.length;s+=1){const f=Ut(i,t,s);n[s]?(n[s].p(f,o),h(n[s],1)):(n[s]=Gt(f),n[s].c(),h(n[s],1),n[s].m(e.parentNode,e))}for(Q(),s=t.length;s<n.length;s+=1)a(s);X()}},i(i){if(!l){for(let o=0;o<t.length;o+=1)h(n[o]);l=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)b(n[o]);l=!1},d(i){De(n,i),i&&v(e)}}}function In(r){let e;return{c(){e=re(r[4])},l(l){e=ie(l,r[4])},m(l,t){P(l,e,t)},p(l,t){t&16&&Ve(e,l[4])},d(l){l&&v(e)}}}function Nn(r){let e=r[16].text+"",l,t;return{c(){l=re(e),t=R()},l(n){l=ie(n,e),t=H(n)},m(n,a){P(n,l,a),P(n,t,a)},p(n,a){a&32&&e!==(e=n[16].text+"")&&Ve(l,e)},d(n){n&&v(l),n&&v(t)}}}function Gt(r){let e,l;function t(){return r[13](r[16])}return e=new ot({props:{kind:"secondary",$$slots:{default:[Nn]},$$scope:{ctx:r}}}),e.$on("click",t),{c(){B(e.$$.fragment)},l(n){I(e.$$.fragment,n)},m(n,a){N(e,n,a),l=!0},p(n,a){r=n;const i={};a&32800&&(i.$$scope={dirty:a,ctx:r}),e.$set(i)},i(n){l||(h(e.$$.fragment,n),l=!0)},o(n){b(e.$$.fragment,n),l=!1},d(n){w(e,n)}}}function Rt(r){let e,l;return e=new ot({props:{kind:r[7]?"danger":"primary",disabled:r[2],class:r[3],icon:r[1],$$slots:{default:[wn]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n&128&&(a.kind=t[7]?"danger":"primary"),n&4&&(a.disabled=t[2]),n&8&&(a.class=t[3]),n&2&&(a.icon=t[1]),n&32769&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function wn(r){let e;return{c(){e=re(r[0])},l(l){e=ie(l,r[0])},m(l,t){P(l,e,t)},p(l,t){t&1&&Ve(e,l[0])},d(l){l&&v(e)}}}function Pn(r){let e,l,t,n,a,i;const o=[Bn,Dn],s=[];function f(p,d){return p[5].length>0?0:p[4]?1:-1}~(l=f(r))&&(t=s[l]=o[l](r));let u=r[0]&&Rt(r);const c=r[12].default,_=Xe(c,r,r[15],null);let m=[r[11]],g={};for(let p=0;p<m.length;p+=1)g=le(g,m[p]);return{c(){e=O("div"),t&&t.c(),n=R(),u&&u.c(),a=R(),_&&_.c(),this.h()},l(p){e=A(p,"DIV",{});var d=q(e);t&&t.l(d),n=H(d),u&&u.l(d),a=H(d),_&&_.l(d),d.forEach(v),this.h()},h(){Se(e,g),V(e,"bx--modal-footer",!0),V(e,"bx--modal-footer--three-button",r[5].length===2)},m(p,d){P(p,e,d),~l&&s[l].m(e,null),E(e,n),u&&u.m(e,null),E(e,a),_&&_.m(e,null),i=!0},p(p,[d]){let C=l;l=f(p),l===C?~l&&s[l].p(p,d):(t&&(Q(),b(s[C],1,1,()=>{s[C]=null}),X()),~l?(t=s[l],t?t.p(p,d):(t=s[l]=o[l](p),t.c()),h(t,1),t.m(e,n)):t=null),p[0]?u?(u.p(p,d),d&1&&h(u,1)):(u=Rt(p),u.c(),h(u,1),u.m(e,a)):u&&(Q(),b(u,1,1,()=>{u=null}),X()),_&&_.p&&(!i||d&32768)&&Ze(_,c,p,p[15],i?et(c,p[15],d,null):xe(p[15]),null),Se(e,g=Oe(m,[d&2048&&p[11]])),V(e,"bx--modal-footer",!0),V(e,"bx--modal-footer--three-button",p[5].length===2)},i(p){i||(h(t),h(u),h(_,p),i=!0)},o(p){b(t),b(u),b(_,p),i=!1},d(p){p&&v(e),~l&&s[l].d(),u&&u.d(),_&&_.d(p)}}}function Vn(r,e,l){const t=["primaryButtonText","primaryButtonIcon","primaryButtonDisabled","primaryClass","secondaryButtonText","secondaryButtons","secondaryClass","danger"];let n=be(e,t),{$$slots:a={},$$scope:i}=e,{primaryButtonText:o=""}=e,{primaryButtonIcon:s=void 0}=e,{primaryButtonDisabled:f=!1}=e,{primaryClass:u=void 0}=e,{secondaryButtonText:c=""}=e,{secondaryButtons:_=[]}=e,{secondaryClass:m=void 0}=e,{danger:g=!1}=e;const p=He(),{closeModal:d,submit:C}=kt("ComposedModal"),T=S=>{p("click:button--secondary",{text:S.text})},k=()=>{d(),p("click:button--secondary",{text:c})};return r.$$set=S=>{e=le(le({},e),Pe(S)),l(11,n=be(e,t)),"primaryButtonText"in S&&l(0,o=S.primaryButtonText),"primaryButtonIcon"in S&&l(1,s=S.primaryButtonIcon),"primaryButtonDisabled"in S&&l(2,f=S.primaryButtonDisabled),"primaryClass"in S&&l(3,u=S.primaryClass),"secondaryButtonText"in S&&l(4,c=S.secondaryButtonText),"secondaryButtons"in S&&l(5,_=S.secondaryButtons),"secondaryClass"in S&&l(6,m=S.secondaryClass),"danger"in S&&l(7,g=S.danger),"$$scope"in S&&l(15,i=S.$$scope)},[o,s,f,u,c,_,m,g,p,d,C,n,a,T,k,i]}class Fn extends fe{constructor(e){super(),ue(this,e,Vn,Pn,se,{primaryButtonText:0,primaryButtonIcon:1,primaryButtonDisabled:2,primaryClass:3,secondaryButtonText:4,secondaryButtons:5,secondaryClass:6,danger:7})}}const $t=Fn;function Mn(r){let e,l;const t=r[4].default,n=Xe(t,r,r[3],null);let a=[{label:r[1]},{disabled:r[0]},r[2]],i={};for(let o=0;o<a.length;o+=1)i=le(i,a[o]);return{c(){e=O("optgroup"),n&&n.c(),this.h()},l(o){e=A(o,"OPTGROUP",{label:!0});var s=q(e);n&&n.l(s),s.forEach(v),this.h()},h(){Se(e,i),V(e,"bx--select-optgroup",!0)},m(o,s){P(o,e,s),n&&n.m(e,null),l=!0},p(o,[s]){n&&n.p&&(!l||s&8)&&Ze(n,t,o,o[3],l?et(t,o[3],s,null):xe(o[3]),null),Se(e,i=Oe(a,[(!l||s&2)&&{label:o[1]},(!l||s&1)&&{disabled:o[0]},s&4&&o[2]])),V(e,"bx--select-optgroup",!0)},i(o){l||(h(n,o),l=!0)},o(o){b(n,o),l=!1},d(o){o&&v(e),n&&n.d(o)}}}function qn(r,e,l){const t=["disabled","label"];let n=be(e,t),{$$slots:a={},$$scope:i}=e,{disabled:o=!1}=e,{label:s="Provide label"}=e;return r.$$set=f=>{e=le(le({},e),Pe(f)),l(2,n=be(e,t)),"disabled"in f&&l(0,o=f.disabled),"label"in f&&l(1,s=f.label),"$$scope"in f&&l(3,i=f.$$scope)},[o,s,n,i,a]}class On extends fe{constructor(e){super(),ue(this,e,qn,Mn,se,{disabled:0,label:1})}}const Bl=On;function Ht(r){let e,l;return{c(){e=mt("title"),l=re(r[1])},l(t){e=dt(t,"title",{});var n=q(e);l=ie(n,r[1]),n.forEach(v)},m(t,n){P(t,e,n),E(e,l)},p(t,n){n&2&&Ve(l,t[1])},d(t){t&&v(e)}}}function An(r){let e,l,t,n=r[1]&&Ht(r),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:r[0]},{height:r[0]},r[2],r[3]],i={};for(let o=0;o<a.length;o+=1)i=le(i,a[o]);return{c(){e=mt("svg"),n&&n.c(),l=mt("path"),t=mt("path"),this.h()},l(o){e=dt(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=q(e);n&&n.l(s),l=dt(s,"path",{d:!0}),q(l).forEach(v),t=dt(s,"path",{d:!0}),q(t).forEach(v),s.forEach(v),this.h()},h(){M(l,"d","M16,2C8.2,2,2,8.2,2,16s6.2,14,14,14s14-6.2,14-14S23.8,2,16,2z M16,28C9.4,28,4,22.6,4,16S9.4,4,16,4s12,5.4,12,12	S22.6,28,16,28z"),M(t,"d","M21.4 23L16 17.6 10.6 23 9 21.4 14.4 16 9 10.6 10.6 9 16 14.4 21.4 9 23 10.6 17.6 16 23 21.4z"),qt(e,i)},m(o,s){P(o,e,s),n&&n.m(e,null),E(e,l),E(e,t)},p(o,[s]){o[1]?n?n.p(o,s):(n=Ht(o),n.c(),n.m(e,l)):n&&(n.d(1),n=null),qt(e,i=Oe(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:W,o:W,d(o){o&&v(e),n&&n.d()}}}function jn(r,e,l){let t,n;const a=["size","title"];let i=be(e,a),{size:o=16}=e,{title:s=void 0}=e;return r.$$set=f=>{l(5,e=le(le({},e),Pe(f))),l(3,i=be(e,a)),"size"in f&&l(0,o=f.size),"title"in f&&l(1,s=f.title)},r.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||s),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Pe(e),[o,s,n,i,t]}class Ln extends fe{constructor(e){super(),ue(this,e,jn,An,se,{size:0,title:1})}}function Wt(r,e,l){const t=r.slice();return t[4]=e[l],t[5]=e,t[6]=l,t}function Yt(r){let e,l,t=r[6]+1+"",n,a,i,o,s,f,u,c,_,m,g,p,d;function C(S){r[1](S,r[6])}let T={};r[0][r[6]]!==void 0&&(T.value=r[0][r[6]]),o=new Qe({props:T}),he.push(()=>ve(o,"value",C)),_=new Jl({});function k(){return r[2](r[6])}return{c(){e=O("div"),l=O("div"),n=re(t),a=R(),i=O("div"),B(o.$$.fragment),f=R(),u=O("div"),c=O("button"),B(_.$$.fragment),m=R(),this.h()},l(S){e=A(S,"DIV",{class:!0});var L=q(e);l=A(L,"DIV",{class:!0});var j=q(l);n=ie(j,t),j.forEach(v),a=H(L),i=A(L,"DIV",{class:!0});var G=q(i);I(o.$$.fragment,G),G.forEach(v),f=H(L),u=A(L,"DIV",{});var U=q(u);c=A(U,"BUTTON",{class:!0});var J=q(c);I(_.$$.fragment,J),J.forEach(v),U.forEach(v),m=H(L),L.forEach(v),this.h()},h(){M(l,"class","shrink-0 text-base"),M(i,"class","grow"),M(c,"class","px-1 py-2"),M(e,"class","flex flex-row items-center gap-x-2")},m(S,L){P(S,e,L),E(e,l),E(l,n),E(e,a),E(e,i),N(o,i,null),E(e,f),E(e,u),E(u,c),N(_,c,null),E(e,m),g=!0,p||(d=[Fl(ql.call(null,c,{text:"Remove example"})),te(c,"click",k)],p=!0)},p(S,L){r=S;const j={};!s&&L&1&&(s=!0,j.value=r[0][r[6]],Ce(()=>s=!1)),o.$set(j)},i(S){g||(h(o.$$.fragment,S),h(_.$$.fragment,S),g=!0)},o(S){b(o.$$.fragment,S),b(_.$$.fragment,S),g=!1},d(S){S&&v(e),w(o),w(_),p=!1,at(d)}}}function zn(r){let e,l,t,n,a,i,o,s,f,u=r[0],c=[];for(let m=0;m<u.length;m+=1)c[m]=Yt(Wt(r,u,m));const _=m=>b(c[m],1,1,()=>{c[m]=null});return{c(){e=O("div"),l=O("div");for(let m=0;m<c.length;m+=1)c[m].c();t=R(),n=O("div"),a=O("button"),i=re("+ Add"),this.h()},l(m){e=A(m,"DIV",{class:!0});var g=q(e);l=A(g,"DIV",{class:!0});var p=q(l);for(let T=0;T<c.length;T+=1)c[T].l(p);p.forEach(v),t=H(g),n=A(g,"DIV",{});var d=q(n);a=A(d,"BUTTON",{class:!0});var C=q(a);i=ie(C,"+ Add"),C.forEach(v),d.forEach(v),g.forEach(v),this.h()},h(){var m;M(l,"class","flex flex-col gap-y-2"),M(a,"class","bg-slate-600 p-2 text-white hover:bg-slate-400"),V(a,"ml-8",((m=r[0])==null?void 0:m.length)>0),M(e,"class","flex flex-col gap-y-2")},m(m,g){P(m,e,g),E(e,l);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(l,null);E(e,t),E(e,n),E(n,a),E(a,i),o=!0,s||(f=te(a,"click",r[3]),s=!0)},p(m,[g]){var p;if(g&1){u=m[0];let d;for(d=0;d<u.length;d+=1){const C=Wt(m,u,d);c[d]?(c[d].p(C,g),h(c[d],1)):(c[d]=Yt(C),c[d].c(),h(c[d],1),c[d].m(l,null))}for(Q(),d=u.length;d<c.length;d+=1)_(d);X()}(!o||g&1)&&V(a,"ml-8",((p=m[0])==null?void 0:p.length)>0)},i(m){if(!o){for(let g=0;g<u.length;g+=1)h(c[g]);o=!0}},o(m){c=c.filter(Boolean);for(let g=0;g<c.length;g+=1)b(c[g]);o=!1},d(m){m&&v(e),De(c,m),s=!1,f()}}}function Un(r,e,l){let{examples:t}=e;function n(o,s){r.$$.not_equal(t[s],o)&&(t[s]=o,l(0,t))}const a=o=>{t.splice(o,1),l(0,t)},i=()=>{l(0,t=[...t||[],""])};return r.$$set=o=>{"examples"in o&&l(0,t=o.examples)},[t,n,a,i]}class Jt extends fe{constructor(e){super(),ue(this,e,Un,zn,se,{examples:0})}}function Kt(r,e,l){const t=r.slice();return t[40]=e[l],t}function Qt(r,e,l){const t=r.slice();return t[6]=e[l],t}function Gn(r){let e,l,t;function n(i){r[32](i)}let a={labelText:"namespace"};return r[14]!==void 0&&(a.value=r[14]),e=new Qe({props:a}),he.push(()=>ve(e,"value",n)),{c(){B(e.$$.fragment)},l(i){I(e.$$.fragment,i)},m(i,o){N(e,i,o),t=!0},p(i,o){const s={};!l&&o[0]&16384&&(l=!0,s.value=i[14],Ce(()=>l=!1)),e.$set(s)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){b(e.$$.fragment,i),t=!1},d(i){w(e,i)}}}function Rn(r){let e,l;return e=new Qe({props:{labelText:"namespace",disabled:!0}}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p:W,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Xt(r){let e,l;return{c(){e=O("div"),l=re("This concept will be created under your namespace, so only will be visible to you."),this.h()},l(t){e=A(t,"DIV",{class:!0});var n=q(e);l=ie(n,"This concept will be created under your namespace, so only will be visible to you."),n.forEach(v),this.h()},h(){M(e,"class","mb-8 text-xs text-neutral-700")},m(t,n){P(t,e,n),E(e,l)},d(t){t&&v(e)}}}function Hn(r){let e,l,t,n;return t=new Dl({}),{c(){e=re(`Generate
              `),l=O("span"),B(t.$$.fragment),this.h()},l(a){e=ie(a,`Generate
              `),l=A(a,"SPAN",{class:!0});var i=q(l);I(t.$$.fragment,i),i.forEach(v),this.h()},h(){M(l,"class","ml-2"),V(l,"invisible",!r[9])},m(a,i){P(a,e,i),P(a,l,i),N(t,l,null),n=!0},p(a,i){(!n||i[0]&512)&&V(l,"invisible",!a[9])},i(a){n||(h(t.$$.fragment,a),n=!0)},o(a){b(t.$$.fragment,a),n=!1},d(a){a&&v(e),a&&v(l),w(t)}}}function Wn(r){let e,l;return e=new We({props:{labelText:"Dataset",selected:r[15],$$slots:{default:[Kn]},$$scope:{ctx:r}}}),e.$on("change",r[20]),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n[0]&32768&&(a.selected=t[15]),n[0]&16|n[1]&16384&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Yn(r){let e,l;return e=new $l({props:{kind:"error",title:"Error",subtitle:r[4].error.message,hideCloseButton:!0}}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n[0]&16&&(a.subtitle=t[4].error.message),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Jn(r){let e,l;return e=new St({}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p:W,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Zt(r){let e,l;return e=new tt({props:{value:`${r[6].namespace}/${r[6].dataset_name}`}}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n[0]&16&&(a.value=`${t[6].namespace}/${t[6].dataset_name}`),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Kn(r){let e,l,t=r[4].data,n=[];for(let i=0;i<t.length;i+=1)n[i]=Zt(Qt(r,t,i));const a=i=>b(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Y()},l(i){for(let o=0;o<n.length;o+=1)n[o].l(i);e=Y()},m(i,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(i,o);P(i,e,o),l=!0},p(i,o){if(o[0]&16){t=i[4].data;let s;for(s=0;s<t.length;s+=1){const f=Qt(i,t,s);n[s]?(n[s].p(f,o),h(n[s],1)):(n[s]=Zt(f),n[s].c(),h(n[s],1),n[s].m(e.parentNode,e))}for(Q(),s=t.length;s<n.length;s+=1)a(s);X()}},i(i){if(!l){for(let o=0;o<t.length;o+=1)h(n[o]);l=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)b(n[o]);l=!1},d(i){De(n,i),i&&v(e)}}}function Qn(r){let e,l;return e=new We({props:{labelText:"Field",selected:r[13],$$slots:{default:[xn]},$$scope:{ctx:r}}}),e.$on("change",r[21]),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n[0]&8192&&(a.selected=t[13]),n[0]&2|n[1]&16384&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Xn(r){let e,l;return e=new $l({props:{kind:"error",title:"Error",subtitle:r[5].error.message,hideCloseButton:!0}}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n[0]&32&&(a.subtitle=t[5].error.message),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Zn(r){let e,l;return e=new St({}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p:W,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function xt(r){let e,l;return e=new tt({props:{value:qe(r[40].path)}}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n[0]&2&&(a.value=qe(t[40].path)),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function xn(r){let e,l,t=r[1],n=[];for(let i=0;i<t.length;i+=1)n[i]=xt(Kt(r,t,i));const a=i=>b(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Y()},l(i){for(let o=0;o<n.length;o+=1)n[o].l(i);e=Y()},m(i,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(i,o);P(i,e,o),l=!0},p(i,o){if(o[0]&2){t=i[1];let s;for(s=0;s<t.length;s+=1){const f=Kt(i,t,s);n[s]?(n[s].p(f,o),h(n[s],1)):(n[s]=xt(f),n[s].c(),h(n[s],1),n[s].m(e.parentNode,e))}for(Q(),s=t.length;s<n.length;s+=1)a(s);X()}},i(i){if(!l){for(let o=0;o<t.length;o+=1)h(n[o]);l=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)b(n[o]);l=!1},d(i){De(n,i),i&&v(e)}}}function er(r){let e,l,t,n;return t=new Dl({}),{c(){e=re(`Generate
              `),l=O("span"),B(t.$$.fragment),this.h()},l(a){e=ie(a,`Generate
              `),l=A(a,"SPAN",{class:!0});var i=q(l);I(t.$$.fragment,i),i.forEach(v),this.h()},h(){M(l,"class","ml-2"),V(l,"invisible",!r[10])},m(a,i){P(a,e,i),P(a,l,i),N(t,l,null),n=!0},p(a,i){(!n||i[0]&1024)&&V(l,"invisible",!a[10])},i(a){n||(h(t.$$.fragment,a),n=!0)},o(a){b(t.$$.fragment,a),n=!1},d(a){a&&v(e),a&&v(l),w(t)}}}function tr(r){let e,l,t,n,a,i,o,s,f,u,c,_,m,g,p,d,C,T,k,S,L,j,G,U,J,D,Z,ce,Te,Be,Ie,me,ne,x,pe,$,ee,y,ke,Ee,lt,$e,nt,Ye;const z=[Rn,Gn],de=[];function Fe(F,K){return F[3]?0:1}o=Fe(r),s=de[o]=z[o](r);function Ae(F){r[33](F)}let ut={labelText:"name",required:!0};r[7]!==void 0&&(ut.value=r[7]),u=new Qe({props:ut}),he.push(()=>ve(u,"value",Ae));let _e=r[3]&&Xt();function ct(F){r[34](F)}let je={labelText:"Concept description",helperText:"This will be used by an LLM to generate example sentences.",placeholder:"Enter the concept description..."};r[8]!==void 0&&(je.value=r[8]),k=new Qe({props:je}),he.push(()=>ve(k,"value",ct)),G=new ot({props:{disabled:!r[8]||r[9],$$slots:{default:[Hn]},$$scope:{ctx:r}}}),G.$on("click",r[23]);function rt(F){r[35](F)}let It={};r[11]!==void 0&&(It.examples=r[11]),J=new Jt({props:It}),he.push(()=>ve(J,"examples",rt));const Nt=[Jn,Yn,Wn],Le=[];function wt(F,K){return F[4].isLoading?0:F[4].isError?1:F[4].data.length>0?2:-1}~(ne=wt(r))&&(x=Le[ne]=Nt[ne](r));const Pt=[Zn,Xn,Qn],ze=[];function Vt(F,K){var ye,Ue;return(ye=F[5])!=null&&ye.isLoading?0:(Ue=F[5])!=null&&Ue.isError?1:F[1].length>0?2:-1}~($=Vt(r))&&(ee=ze[$]=Pt[$](r)),Ee=new ot({props:{disabled:!r[6]||!r[0],$$slots:{default:[er]},$$scope:{ctx:r}}}),Ee.$on("click",r[24]);function Nl(F){r[36](F)}let Ft={};return r[12]!==void 0&&(Ft.examples=r[12]),$e=new Jt({props:Ft}),he.push(()=>ve($e,"examples",Nl)),{c(){e=O("div"),l=O("section"),t=O("div"),n=re("Step 1. Concept details"),a=R(),i=O("div"),s.c(),f=R(),B(u.$$.fragment),_=R(),_e&&_e.c(),m=R(),g=O("section"),p=O("div"),d=re("Step 2. Add positive examples"),C=R(),T=O("div"),B(k.$$.fragment),L=R(),j=O("div"),B(G.$$.fragment),U=R(),B(J.$$.fragment),Z=R(),ce=O("section"),Te=O("div"),Be=re("Step 3. Add negative examples"),Ie=R(),me=O("div"),x&&x.c(),pe=R(),ee&&ee.c(),y=R(),ke=O("div"),B(Ee.$$.fragment),lt=R(),B($e.$$.fragment),this.h()},l(F){e=A(F,"DIV",{class:!0});var K=q(e);l=A(K,"SECTION",{});var ye=q(l);t=A(ye,"DIV",{class:!0});var Ue=q(t);n=ie(Ue,"Step 1. Concept details"),Ue.forEach(v),a=H(ye),i=A(ye,"DIV",{class:!0});var Re=q(i);s.l(Re),f=H(Re),I(u.$$.fragment,Re),Re.forEach(v),_=H(ye),_e&&_e.l(ye),ye.forEach(v),m=H(K),g=A(K,"SECTION",{});var Ne=q(g);p=A(Ne,"DIV",{class:!0});var it=q(p);d=ie(it,"Step 2. Add positive examples"),it.forEach(v),C=H(Ne),T=A(Ne,"DIV",{class:!0});var Ge=q(T);I(k.$$.fragment,Ge),L=H(Ge),j=A(Ge,"DIV",{class:!0});var Je=q(j);I(G.$$.fragment,Je),Je.forEach(v),Ge.forEach(v),U=H(Ne),I(J.$$.fragment,Ne),Ne.forEach(v),Z=H(K),ce=A(K,"SECTION",{});var we=q(ce);Te=A(we,"DIV",{class:!0});var st=q(Te);Be=ie(st,"Step 3. Add negative examples"),st.forEach(v),Ie=H(we),me=A(we,"DIV",{class:!0});var Ke=q(me);x&&x.l(Ke),pe=H(Ke),ee&&ee.l(Ke),y=H(Ke),ke=A(Ke,"DIV",{class:!0});var Mt=q(ke);I(Ee.$$.fragment,Mt),Mt.forEach(v),Ke.forEach(v),lt=H(we),I($e.$$.fragment,we),we.forEach(v),K.forEach(v),this.h()},h(){M(t,"class","header-step svelte-62ihoh"),M(i,"class","flex flex-row gap-x-12"),M(p,"class","header-step svelte-62ihoh"),M(j,"class","generate-button pt-6"),M(T,"class","my-4 flex gap-x-2"),M(Te,"class","header-step svelte-62ihoh"),M(ke,"class","generate-button"),M(me,"class","my-4 flex items-end gap-x-2"),M(e,"class","flex flex-col gap-y-8")},m(F,K){P(F,e,K),E(e,l),E(l,t),E(t,n),E(l,a),E(l,i),de[o].m(i,null),E(i,f),N(u,i,null),E(l,_),_e&&_e.m(l,null),E(e,m),E(e,g),E(g,p),E(p,d),E(g,C),E(g,T),N(k,T,null),E(T,L),E(T,j),N(G,j,null),E(g,U),N(J,g,null),E(e,Z),E(e,ce),E(ce,Te),E(Te,Be),E(ce,Ie),E(ce,me),~ne&&Le[ne].m(me,null),E(me,pe),~$&&ze[$].m(me,null),E(me,y),E(me,ke),N(Ee,ke,null),E(ce,lt),N($e,ce,null),Ye=!0},p(F,K){let ye=o;o=Fe(F),o===ye?de[o].p(F,K):(Q(),b(de[ye],1,1,()=>{de[ye]=null}),X(),s=de[o],s?s.p(F,K):(s=de[o]=z[o](F),s.c()),h(s,1),s.m(i,f));const Ue={};!c&&K[0]&128&&(c=!0,Ue.value=F[7],Ce(()=>c=!1)),u.$set(Ue),F[3]?_e||(_e=Xt(),_e.c(),_e.m(l,null)):_e&&(_e.d(1),_e=null);const Re={};!S&&K[0]&256&&(S=!0,Re.value=F[8],Ce(()=>S=!1)),k.$set(Re);const Ne={};K[0]&768&&(Ne.disabled=!F[8]||F[9]),K[0]&512|K[1]&16384&&(Ne.$$scope={dirty:K,ctx:F}),G.$set(Ne);const it={};!D&&K[0]&2048&&(D=!0,it.examples=F[11],Ce(()=>D=!1)),J.$set(it);let Ge=ne;ne=wt(F),ne===Ge?~ne&&Le[ne].p(F,K):(x&&(Q(),b(Le[Ge],1,1,()=>{Le[Ge]=null}),X()),~ne?(x=Le[ne],x?x.p(F,K):(x=Le[ne]=Nt[ne](F),x.c()),h(x,1),x.m(me,pe)):x=null);let Je=$;$=Vt(F),$===Je?~$&&ze[$].p(F,K):(ee&&(Q(),b(ze[Je],1,1,()=>{ze[Je]=null}),X()),~$?(ee=ze[$],ee?ee.p(F,K):(ee=ze[$]=Pt[$](F),ee.c()),h(ee,1),ee.m(me,y)):ee=null);const we={};K[0]&65&&(we.disabled=!F[6]||!F[0]),K[0]&1024|K[1]&16384&&(we.$$scope={dirty:K,ctx:F}),Ee.$set(we);const st={};!nt&&K[0]&4096&&(nt=!0,st.examples=F[12],Ce(()=>nt=!1)),$e.$set(st)},i(F){Ye||(h(s),h(u.$$.fragment,F),h(k.$$.fragment,F),h(G.$$.fragment,F),h(J.$$.fragment,F),h(x),h(ee),h(Ee.$$.fragment,F),h($e.$$.fragment,F),Ye=!0)},o(F){b(s),b(u.$$.fragment,F),b(k.$$.fragment,F),b(G.$$.fragment,F),b(J.$$.fragment,F),b(x),b(ee),b(Ee.$$.fragment,F),b($e.$$.fragment,F),Ye=!1},d(F){F&&v(e),de[o].d(),w(u),_e&&_e.d(),w(k),w(G),w(J),~ne&&Le[ne].d(),~$&&ze[$].d(),w(Ee),w($e)}}}function lr(r){let e,l,t,n,a,i;return e=new yt({props:{title:"New Concept"}}),t=new Et({props:{hasForm:!0,$$slots:{default:[tr]},$$scope:{ctx:r}}}),a=new $t({props:{primaryButtonText:"Create",secondaryButtonText:"Cancel",primaryButtonDisabled:r[14].length==0||r[7].length==0}}),a.$on("click:button--secondary",r[25]),{c(){B(e.$$.fragment),l=R(),B(t.$$.fragment),n=R(),B(a.$$.fragment)},l(o){I(e.$$.fragment,o),l=H(o),I(t.$$.fragment,o),n=H(o),I(a.$$.fragment,o)},m(o,s){N(e,o,s),P(o,l,s),N(t,o,s),P(o,n,s),N(a,o,s),i=!0},p(o,s){const f={};s[0]&65531|s[1]&16384&&(f.$$scope={dirty:s,ctx:o}),t.$set(f);const u={};s[0]&16512&&(u.primaryButtonDisabled=o[14].length==0||o[7].length==0),a.$set(u)},i(o){i||(h(e.$$.fragment,o),h(t.$$.fragment,o),h(a.$$.fragment,o),i=!0)},o(o){b(e.$$.fragment,o),b(t.$$.fragment,o),b(a.$$.fragment,o),i=!1},d(o){w(e,o),o&&v(l),w(t,o),o&&v(n),w(a,o)}}}function nr(r){let e,l;return e=new Tt({props:{open:!0,size:"lg",$$slots:{default:[lr]},$$scope:{ctx:r}}}),e.$on("submit",r[22]),e.$on("close",r[25]),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n[0]&65531|n[1]&16384&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function rr(r,e,l){let t,n,a,i,o,s,f,u,c,_,m,g,p,d,C,T,k=W,S=()=>(k(),k=vt(c,z=>l(5,T=z)),c),L;r.$$.on_destroy.push(()=>k());let{command:j}=e;const G=Ol();ge(r,G,z=>l(31,L=z));let U=j.conceptName||"",J,D=!1,Z=!1;const ce=Al();ge(r,ce,z=>l(38,d=z));const Te=jl();ge(r,Te,z=>l(37,p=z));const Be=He(),Ie=Ll();ge(r,Ie,z=>l(4,C=z));function me(z){const de=z.target.value;if(de==="")l(6,o=void 0);else{const[Fe,Ae]=de.split("/");l(6,o={namespace:Fe,name:Ae})}l(0,f=void 0)}function ne(z){const de=z.target.value;l(0,f=Ot(de))}let x=[""],pe=[""];function $(){d.mutate([{namespace:i,name:U,type:"text",description:J}],{onSuccess:()=>{p.mutate([i,U,{insert:[...x.filter(z=>z!="").map(z=>({text:z,label:!0})),...pe.filter(z=>z!="").map(z=>({text:z,label:!1}))]}],{onSuccess:()=>{Be("create",{namespace:i,name:U}),ke()}})}})}async function ee(){if(!J)return;l(9,D=!0);const z=await Gl.generateExamples(J);l(9,D=!1),x.at(-1)===""&&x.pop(),x.push(...z),l(11,x)}async function y(){if(!o||!f)return;l(10,Z=!0);const z=await zl.selectRows(o.namespace,o.name,{columns:[f],limit:10,sort_by:[Ul]});l(10,Z=!1),pe.at(-1)===""&&pe.pop();const de=z.rows.map(Fe=>Fe[u]);pe.push(...de),l(12,pe)}function ke(){Be("close")}function Ee(z){i=z,l(14,i),l(26,j),l(29,a),l(3,t),l(30,n),l(31,L)}function lt(z){U=z,l(7,U)}function $e(z){J=z,l(8,J)}function nt(z){x=z,l(11,x)}function Ye(z){pe=z,l(12,pe)}return r.$$set=z=>{"command"in z&&l(26,j=z.command)},r.$$.update=()=>{var z,de,Fe;r.$$.dirty[1]&1&&l(3,t=(z=L.data)==null?void 0:z.auth_enabled),r.$$.dirty[1]&1&&l(30,n=(Fe=(de=L.data)==null?void 0:de.user)==null?void 0:Fe.id),r.$$.dirty[0]&1073741832&&l(29,a=(t?n:null)||"local"),r.$$.dirty[0]&603979776&&l(14,i=j.namespace||a),r.$$.dirty[0]&67108864&&l(6,o=j.dataset),r.$$.dirty[0]&80&&C.data&&C.data.length>0&&o===void 0&&l(6,o={namespace:C.data[0].namespace,name:C.data[0].dataset_name}),r.$$.dirty[0]&64&&l(15,s=o?`${o.namespace}/${o.name}`:""),r.$$.dirty[0]&67108864&&l(0,f=j.path),r.$$.dirty[0]&64&&S(l(2,c=o&&Ct(o.namespace,o.name))),r.$$.dirty[0]&36&&l(28,_=c&&(T==null?void 0:T.data)),r.$$.dirty[0]&268435456&&l(27,m=_?Me(_).filter(Ae=>Ae.dtype==="string"&&!yl(Ae,_)):[]),r.$$.dirty[0]&134217728&&l(1,g=m.sort((Ae,ut)=>{const _e=Me(Ae).some(je=>je.signal!=null&&Me(je).some(rt=>rt.dtype==="embedding")),ct=Me(ut).some(je=>je.signal!=null&&Me(je).some(rt=>rt.dtype==="embedding"));return _e&&!ct?-1:!_e&&ct?1:0})),r.$$.dirty[0]&3&&g&&g.length>0&&f===void 0&&l(0,f=Ot(g[0].path)),r.$$.dirty[0]&1&&l(13,u=f?qe(f):void 0)},[f,g,c,t,C,T,o,U,J,D,Z,x,pe,u,i,s,G,ce,Te,Ie,me,ne,$,ee,y,ke,j,m,_,a,n,L,Ee,lt,$e,nt,Ye]}class ir extends fe{constructor(e){super(),ue(this,e,rr,nr,se,{command:26},null,[-1,-1])}}function el(r,e,l){const t=r.slice();return t[5]=e[l],t}function sr(r){let e,l,t=r[1],n=[];for(let i=0;i<t.length;i+=1)n[i]=ll(el(r,t,i));const a=i=>b(n[i],1,1,()=>{n[i]=null});return{c(){e=O("div");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=A(i,"DIV",{class:!0,role:!0});var o=q(e);for(let s=0;s<n.length;s+=1)n[s].l(o);o.forEach(v),this.h()},h(){M(e,"class","flex flex-col"),M(e,"role","list")},m(i,o){P(i,e,o);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null);l=!0},p(i,o){if(o&14){t=i[1];let s;for(s=0;s<t.length;s+=1){const f=el(i,t,s);n[s]?(n[s].p(f,o),h(n[s],1)):(n[s]=ll(f),n[s].c(),h(n[s],1),n[s].m(e,null))}for(Q(),s=t.length;s<n.length;s+=1)a(s);X()}},i(i){if(!l){for(let o=0;o<t.length;o+=1)h(n[o]);l=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)b(n[o]);l=!1},d(i){i&&v(e),De(n,i)}}}function or(r){let e,l;return e=new Xl({props:{lines:3}}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p:W,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function tl(r){let e,l;return e=new en({props:{size:"sm",type:r[5].tag.type,$$slots:{default:[ar]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n&2&&(a.type=t[5].tag.type),n&258&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function ar(r){let e=r[5].tag.value+"",l;return{c(){l=re(e)},l(t){l=ie(t,e)},m(t,n){P(t,l,n)},p(t,n){n&2&&e!==(e=t[5].tag.value+"")&&Ve(l,e)},d(t){t&&v(l)}}}function ll(r){let e,l=r[5].title+"",t,n,a,i,o,s,f,u=r[5].tag&&tl(r);function c(){return r[4](r[5])}return{c(){e=O("button"),t=re(l),n=R(),u&&u.c(),a=R(),this.h()},l(_){e=A(_,"BUTTON",{"data-active":!0,class:!0});var m=q(e);t=ie(m,l),n=H(m),u&&u.l(m),a=H(m),m.forEach(v),this.h()},h(){M(e,"data-active",i=r[2]===r[5].value),M(e,"class","flex items-center justify-between svelte-d3v0kx")},m(_,m){P(_,e,m),E(e,t),E(e,n),u&&u.m(e,null),E(e,a),o=!0,s||(f=te(e,"click",c),s=!0)},p(_,m){r=_,(!o||m&2)&&l!==(l=r[5].title+"")&&Ve(t,l),r[5].tag?u?(u.p(r,m),m&2&&h(u,1)):(u=tl(r),u.c(),h(u,1),u.m(e,a)):u&&(Q(),b(u,1,1,()=>{u=null}),X()),(!o||m&6&&i!==(i=r[2]===r[5].value))&&M(e,"data-active",i)},i(_){o||(h(u),o=!0)},o(_){b(u),o=!1},d(_){_&&v(e),u&&u.d(),s=!1,f()}}}function fr(r){let e,l,t,n;const a=[or,sr],i=[];function o(s,f){return s[0]?0:1}return e=o(r),l=i[e]=a[e](r),{c(){l.c(),t=Y()},l(s){l.l(s),t=Y()},m(s,f){i[e].m(s,f),P(s,t,f),n=!0},p(s,[f]){let u=e;e=o(s),e===u?i[e].p(s,f):(Q(),b(i[u],1,1,()=>{i[u]=null}),X(),l=i[e],l?l.p(s,f):(l=i[e]=a[e](s),l.c()),h(l,1),l.m(t.parentNode,t))},i(s){n||(h(l),n=!0)},o(s){b(l),n=!1},d(s){i[e].d(s),s&&v(t)}}}function ur(r,e,l){let{skeleton:t=!1}=e,{items:n=[]}=e,{item:a=void 0}=e;const i=He(),o=s=>i("select",s.value);return r.$$set=s=>{"skeleton"in s&&l(0,t=s.skeleton),"items"in s&&l(1,n=s.items),"item"in s&&l(2,a=s.item)},[t,n,a,i,o]}class ft extends fe{constructor(e){super(),ue(this,e,ur,fr,se,{skeleton:0,items:1,item:2})}}function nl(r,e,l){const t=r.slice();return t[22]=e[l],t[23]=e,t[24]=l,t}function rl(r,e,l){const t=r.slice();return t[25]=e[l],t}function pt(r){const e=r.slice(),l=e[1].path;return e[21]=l,e}function il(r){let e,l,t,n=r[2].length>0?"and":"add",a,i,o,s,f=r[2],u=[];for(let m=0;m<f.length;m+=1)u[m]=ol(nl(r,f,m));const c=m=>b(u[m],1,1,()=>{u[m]=null});function _(){return r[19](r[21])}return{c(){for(let m=0;m<u.length;m+=1)u[m].c();e=R(),l=O("div"),t=O("button"),a=re(n),this.h()},l(m){for(let d=0;d<u.length;d+=1)u[d].l(m);e=H(m),l=A(m,"DIV",{});var g=q(l);t=A(g,"BUTTON",{class:!0});var p=q(t);a=ie(p,n),p.forEach(v),g.forEach(v),this.h()},h(){M(t,"class","uppercase text-blue-500 hover:underline")},m(m,g){for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(m,g);P(m,e,g),P(m,l,g),E(l,t),E(t,a),i=!0,o||(s=te(t,"click",_),o=!0)},p(m,g){if(r=m,g&133){f=r[2];let p;for(p=0;p<f.length;p+=1){const d=nl(r,f,p);u[p]?(u[p].p(d,g),h(u[p],1)):(u[p]=ol(d),u[p].c(),h(u[p],1),u[p].m(e.parentNode,e))}for(Q(),p=f.length;p<u.length;p+=1)c(p);X()}(!i||g&4)&&n!==(n=r[2].length>0?"and":"add")&&Ve(a,n)},i(m){if(!i){for(let g=0;g<f.length;g+=1)h(u[g]);i=!0}},o(m){u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)b(u[g]);i=!1},d(m){De(u,m),m&&v(e),m&&v(l),o=!1,s()}}}function sl(r){let e,l;return e=new tt({props:{value:r[25][0],text:r[25][1]}}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p:W,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function cr(r){let e,l,t=r[7],n=[];for(let i=0;i<t.length;i+=1)n[i]=sl(rl(r,t,i));const a=i=>b(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Y()},l(i){for(let o=0;o<n.length;o+=1)n[o].l(i);e=Y()},m(i,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(i,o);P(i,e,o),l=!0},p(i,o){if(o&128){t=i[7];let s;for(s=0;s<t.length;s+=1){const f=rl(i,t,s);n[s]?(n[s].p(f,o),h(n[s],1)):(n[s]=sl(f),n[s].c(),h(n[s],1),n[s].m(e.parentNode,e))}for(Q(),s=t.length;s<n.length;s+=1)a(s);X()}},i(i){if(!l){for(let o=0;o<t.length;o+=1)h(n[o]);l=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)b(n[o]);l=!1},d(i){De(n,i),i&&v(e)}}}function mr(r){let e,l,t;function n(i){r[17](i,r[22])}let a={labelText:"Value"};return r[22].value!==void 0&&(a.value=r[22].value),e=new Qe({props:a}),he.push(()=>ve(e,"value",n)),{c(){B(e.$$.fragment)},l(i){I(e.$$.fragment,i)},m(i,o){N(e,i,o),t=!0},p(i,o){r=i;const s={};!l&&o&4&&(l=!0,s.value=r[22].value,Ce(()=>l=!1)),e.$set(s)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){b(e.$$.fragment,i),t=!1},d(i){w(e,i)}}}function dr(r){let e,l;return{c(){e=O("span"),l=re("Blob filter not yet implemented")},l(t){e=A(t,"SPAN",{});var n=q(e);l=ie(n,"Blob filter not yet implemented"),n.forEach(v)},m(t,n){P(t,e,n),E(e,l)},p:W,i:W,o:W,d(t){t&&v(e)}}}function _r(r){let e,l;return e=new pn({}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p:W,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function hr(r){let e,l;return{c(){e=O("span"),l=re("In operator not yet implemented")},l(t){e=A(t,"SPAN",{});var n=q(e);l=ie(n,"In operator not yet implemented"),n.forEach(v)},m(t,n){P(t,e,n),E(e,l)},p:W,i:W,o:W,d(t){t&&v(e)}}}function gr(r){return{c:W,l:W,m:W,p:W,i:W,o:W,d:W}}function ol(r){let e,l,t,n,a,i,o,s,f,u,c,_;function m(k){r[16](k,r[22])}let g={labelText:"Operation",$$slots:{default:[cr]},$$scope:{ctx:r}};r[22].op!==void 0&&(g.selected=r[22].op),l=new We({props:g}),he.push(()=>ve(l,"selected",m));const p=[gr,hr,_r,dr,mr],d=[];function C(k,S){return k[22].op==="exists"?0:k[22].op==="in"?1:typeof k[22].value=="boolean"?2:typeof k[22].value=="function"?3:4}a=C(r),i=d[a]=p[a](r),f=new Ln({props:{size:20}});function T(){return r[18](r[22])}return{c(){e=O("div"),B(l.$$.fragment),n=R(),i.c(),o=R(),s=O("button"),B(f.$$.fragment),this.h()},l(k){e=A(k,"DIV",{class:!0});var S=q(e);I(l.$$.fragment,S),n=H(S),i.l(S),o=H(S),s=A(S,"BUTTON",{class:!0});var L=q(s);I(f.$$.fragment,L),L.forEach(v),S.forEach(v),this.h()},h(){M(s,"class","mt-5"),M(e,"class","flex items-center gap-x-2")},m(k,S){P(k,e,S),N(l,e,null),E(e,n),d[a].m(e,null),E(e,o),E(e,s),N(f,s,null),u=!0,c||(_=te(s,"click",T),c=!0)},p(k,S){r=k;const L={};S&268435456&&(L.$$scope={dirty:S,ctx:r}),!t&&S&4&&(t=!0,L.selected=r[22].op,Ce(()=>t=!1)),l.$set(L);let j=a;a=C(r),a===j?d[a].p(r,S):(Q(),b(d[j],1,1,()=>{d[j]=null}),X(),i=d[a],i?i.p(r,S):(i=d[a]=p[a](r),i.c()),h(i,1),i.m(e,o))},i(k){u||(h(l.$$.fragment,k),h(i),h(f.$$.fragment,k),u=!0)},o(k){b(l.$$.fragment,k),b(i),b(f.$$.fragment,k),u=!1},d(k){k&&v(e),w(l),d[a].d(),w(f),c=!1,_()}}}function pr(r){let e,l,t,n,a,i;t=new ft({props:{items:r[3],item:r[1]}}),t.$on("select",r[15]);let o=r[1]&&il(pt(r));return{c(){e=O("div"),l=O("div"),B(t.$$.fragment),n=R(),a=O("div"),o&&o.c(),this.h()},l(s){e=A(s,"DIV",{class:!0});var f=q(e);l=A(f,"DIV",{class:!0});var u=q(l);I(t.$$.fragment,u),u.forEach(v),n=H(f),a=A(f,"DIV",{class:!0});var c=q(a);o&&o.l(c),c.forEach(v),f.forEach(v),this.h()},h(){M(l,"class","-ml-4 mr-4 w-80 grow-0"),M(a,"class","flex w-full flex-col gap-y-6"),M(e,"class","flex flex-row")},m(s,f){P(s,e,f),E(e,l),N(t,l,null),E(e,n),E(e,a),o&&o.m(a,null),i=!0},p(s,f){const u={};f&8&&(u.items=s[3]),f&2&&(u.item=s[1]),t.$set(u),s[1]?o?(o.p(pt(s),f),f&2&&h(o,1)):(o=il(pt(s)),o.c(),h(o,1),o.m(a,null)):o&&(Q(),b(o,1,1,()=>{o=null}),X())},i(s){i||(h(t.$$.fragment,s),h(o),i=!0)},o(s){b(t.$$.fragment,s),b(o),i=!1},d(s){s&&v(e),w(t),o&&o.d()}}}function br(r){let e,l,t,n,a,i;return e=new yt({props:{label:"Filters",title:"Edit Filters"}}),t=new Et({props:{hasForm:!0,$$slots:{default:[pr]},$$scope:{ctx:r}}}),a=new $t({props:{primaryButtonText:"Save",secondaryButtonText:"Cancel",primaryButtonDisabled:!1}}),a.$on("click:button--secondary",r[8]),{c(){B(e.$$.fragment),l=R(),B(t.$$.fragment),n=R(),B(a.$$.fragment)},l(o){I(e.$$.fragment,o),l=H(o),I(t.$$.fragment,o),n=H(o),I(a.$$.fragment,o)},m(o,s){N(e,o,s),P(o,l,s),N(t,o,s),P(o,n,s),N(a,o,s),i=!0},p(o,s){const f={};s&268435471&&(f.$$scope={dirty:s,ctx:o}),t.$set(f)},i(o){i||(h(e.$$.fragment,o),h(t.$$.fragment,o),h(a.$$.fragment,o),i=!0)},o(o){b(e.$$.fragment,o),b(t.$$.fragment,o),b(a.$$.fragment,o),i=!1},d(o){w(e,o),o&&v(l),w(t,o),o&&v(n),w(a,o)}}}function kr(r){let e,l;return e=new Tt({props:{open:!0,$$slots:{default:[br]},$$scope:{ctx:r}}}),e.$on("submit",r[9]),e.$on("close",r[8]),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,[n]){const a={};n&268435471&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function vr(r,e,l){let t,n,a,i,o,s,f=W,u=()=>(f(),f=vt(t,D=>l(13,s=D)),t),c;r.$$.on_destroy.push(()=>f());let{command:_}=e;const m=gt();ge(r,m,D=>l(12,o=D));const g=tn();ge(r,g,D=>l(14,c=D));const p=He();let d=[];Tl(()=>{l(0,d=structuredClone(o.query.filters||[]))});let C;const T=[["equals","equals (=)"],["not_equal","not equal (!=)"],["greater","greater than (>)"],["greater_equal","greater or equal (>=)"],["less","less than (<)"],["less_equal","less or equal (<=)"],["in","in"],["exists","exists"]];function k(){p("close")}function S(){_t(m,o.query.filters=d,o),k()}const L=D=>l(1,C=D.detail);function j(D,Z){r.$$.not_equal(Z.op,D)&&(Z.op=D,l(2,i),l(0,d),l(1,C),l(11,a),l(13,s),l(10,_))}function G(D,Z){r.$$.not_equal(Z.value,D)&&(Z.value=D,l(2,i),l(0,d),l(1,C),l(11,a),l(13,s),l(10,_))}const U=D=>{l(0,d=d.filter(Z=>Z!=D))},J=D=>l(0,d=[...d,{path:D,op:"equals",value:""}]);return r.$$set=D=>{"command"in D&&l(10,_=D.command)},r.$$.update=()=>{if(r.$$.dirty&5120&&u(l(4,t=Rl(_.namespace,_.datasetName,ln(o)))),r.$$.dirty&24577&&l(3,n=s!=null&&s.isSuccess&&c.schema?Me(c.schema).map(D=>{const Z=d.filter(ce=>bt(ce.path,D.path));return{title:D.path.join("."),value:D,tag:Z.length>0?{value:Z.length.toString(),type:"blue"}:void 0}}):[]),r.$$.dirty&9216&&l(11,a=s!=null&&s.isSuccess?El(s.data.schema,_.path):void 0),r.$$.dirty&2050&&!C&&a&&l(1,C=a),r.$$.dirty&3&&l(2,i=d.filter(D=>bt(D.path,C==null?void 0:C.path))),r.$$.dirty&1)for(const D of d)D.op==="exists"&&(D.value=null)},[d,C,i,n,t,m,g,T,k,S,_,a,o,s,c,L,j,G,U,J]}class Cr extends fe{constructor(e){super(),ue(this,e,vr,kr,se,{command:10})}}function Sr(r,e,l){let{value:t}=e;return r.$$set=n=>{"value"in n&&l(0,t=n.value)},[t]}class Tr extends fe{constructor(e){super(),ue(this,e,Sr,null,se,{value:0})}}function al(r,e,l){const t=r.slice();return t[9]=e[l],t}function fl(r,e,l){const t=r.slice();return t[12]=e[l],t}function ul(r){let e,l,t=r[5],n=[];for(let i=0;i<t.length;i+=1)n[i]=ml(al(r,t,i));const a=i=>b(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Y()},l(i){for(let o=0;o<n.length;o+=1)n[o].l(i);e=Y()},m(i,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(i,o);P(i,e,o),l=!0},p(i,o){if(o&32){t=i[5];let s;for(s=0;s<t.length;s+=1){const f=al(i,t,s);n[s]?(n[s].p(f,o),h(n[s],1)):(n[s]=ml(f),n[s].c(),h(n[s],1),n[s].m(e.parentNode,e))}for(Q(),s=t.length;s<n.length;s+=1)a(s);X()}},i(i){if(!l){for(let o=0;o<t.length;o+=1)h(n[o]);l=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)b(n[o]);l=!1},d(i){De(n,i),i&&v(e)}}}function cl(r){let e,l;return e=new tt({props:{value:`${r[9].namespace}/${r[12].name}`,text:r[12].name}}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n&32&&(a.value=`${t[9].namespace}/${t[12].name}`),n&32&&(a.text=t[12].name),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function yr(r){let e,l,t=r[9].concepts,n=[];for(let i=0;i<t.length;i+=1)n[i]=cl(fl(r,t,i));const a=i=>b(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=R()},l(i){for(let o=0;o<n.length;o+=1)n[o].l(i);e=H(i)},m(i,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(i,o);P(i,e,o),l=!0},p(i,o){if(o&32){t=i[9].concepts;let s;for(s=0;s<t.length;s+=1){const f=fl(i,t,s);n[s]?(n[s].p(f,o),h(n[s],1)):(n[s]=cl(f),n[s].c(),h(n[s],1),n[s].m(e.parentNode,e))}for(Q(),s=t.length;s<n.length;s+=1)a(s);X()}},i(i){if(!l){for(let o=0;o<t.length;o+=1)h(n[o]);l=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)b(n[o]);l=!1},d(i){De(n,i),i&&v(e)}}}function ml(r){let e,l;return e=new Bl({props:{label:r[9].namespace,$$slots:{default:[yr]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n&32&&(a.label=t[9].namespace),n&32800&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Er(r){let e,l,t=r[4].isSuccess&&ul(r);return{c(){t&&t.c(),e=Y()},l(n){t&&t.l(n),e=Y()},m(n,a){t&&t.m(n,a),P(n,e,a),l=!0},p(n,a){n[4].isSuccess?t?(t.p(n,a),a&16&&h(t,1)):(t=ul(n),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),b(t,1,1,()=>{t=null}),X())},i(n){l||(h(t),l=!0)},o(n){b(t),l=!1},d(n){t&&t.d(n),n&&v(e)}}}function $r(r){let e,l;return e=new We({props:{labelText:"Concept *",selected:`${r[0].namespace}/${r[1]}`,invalid:r[2],invalidText:r[3],$$slots:{default:[Er]},$$scope:{ctx:r}}}),e.$on("update",r[7]),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,[n]){const a={};n&3&&(a.selected=`${t[0].namespace}/${t[1]}`),n&4&&(a.invalid=t[2]),n&8&&(a.invalidText=t[3]),n&32816&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Dr(r,e,l){let t,n,a,{rootValue:i}=e,{invalid:o}=e,{invalidText:s}=e,{value:f}=e;const u=Hl();ge(r,u,_=>l(4,a=_));function c(_){const[m,g]=_.detail.toString().split("/");!m||!g||(l(0,i.namespace=m,i),l(1,f=g))}return r.$$set=_=>{"rootValue"in _&&l(0,i=_.rootValue),"invalid"in _&&l(2,o=_.invalid),"invalidText"in _&&l(3,s=_.invalidText),"value"in _&&l(1,f=_.value)},r.$$.update=()=>{r.$$.dirty&16&&l(8,t=a.isSuccess?[...new Set(a.data.map(_=>_.namespace))]:[]),r.$$.dirty&272&&l(5,n=a.isSuccess?t.map(_=>{var m;return{namespace:_,concepts:((m=a.data)==null?void 0:m.filter(g=>g.namespace===_))||[]}}):[]),r.$$.dirty&19&&(!f||!i.namespace)&&a.isSuccess&&(l(0,i.namespace=a.data[0].namespace,i),l(1,f=a.data[0].name))},[i,f,o,s,a,n,u,c,t]}class Br extends fe{constructor(e){super(),ue(this,e,Dr,$r,se,{rootValue:0,invalid:2,invalidText:3,value:1})}}function dl(r,e,l){var a;const t=r.slice();t[16]=e[l];const n=(a=t[3])==null?void 0:a.some(function(...o){return r[14](t[16],...o)});return t[4]=n,t}function _l(r){var t,n;let e,l;return e=new tt({props:{value:(t=r[16])==null?void 0:t.toString(),text:(n=r[16])==null?void 0:n.toString(),disabled:!r[4]}}),{c(){B(e.$$.fragment)},l(a){I(e.$$.fragment,a)},m(a,i){N(e,a,i),l=!0},p(a,i){var s,f;const o={};i&64&&(o.value=(s=a[16])==null?void 0:s.toString()),i&64&&(o.text=(f=a[16])==null?void 0:f.toString()),i&72&&(o.disabled=!a[4]),e.$set(o)},i(a){l||(h(e.$$.fragment,a),l=!0)},o(a){b(e.$$.fragment,a),l=!1},d(a){w(e,a)}}}function Ir(r){let e,l,t=r[6],n=[];for(let i=0;i<t.length;i+=1)n[i]=_l(dl(r,t,i));const a=i=>b(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Y()},l(i){for(let o=0;o<n.length;o+=1)n[o].l(i);e=Y()},m(i,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(i,o);P(i,e,o),l=!0},p(i,o){if(o&72){t=i[6];let s;for(s=0;s<t.length;s+=1){const f=dl(i,t,s);n[s]?(n[s].p(f,o),h(n[s],1)):(n[s]=_l(f),n[s].c(),h(n[s],1),n[s].m(e.parentNode,e))}for(Q(),s=t.length;s<n.length;s+=1)a(s);X()}},i(i){if(!l){for(let o=0;o<t.length;o+=1)h(n[o]);l=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)b(n[o]);l=!1},d(i){De(n,i),i&&v(e)}}}function Nr(r){let e,l;return e=new We({props:{labelText:"Embedding *",selected:r[0],warn:!!r[5],warnText:r[5],invalid:r[1],invalidText:r[2],$$slots:{default:[Ir]},$$scope:{ctx:r}}}),e.$on("change",r[10]),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,[n]){const a={};n&1&&(a.selected=t[0]),n&32&&(a.warn=!!t[5]),n&32&&(a.warnText=t[5]),n&2&&(a.invalid=t[1]),n&4&&(a.invalidText=t[2]),n&524360&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function wr(r,e,l){let t,n,a,i,o,s,f,u,{invalid:c}=e,{invalidText:_}=e,{value:m}=e;const g=gt();ge(r,g,k=>l(15,u=k));const p=Ct(u.namespace,u.datasetName);ge(r,p,k=>l(13,f=k));const d=ri();ge(r,d,k=>l(12,s=k));function C(k){l(0,m=k.target.value)}const T=(k,S)=>{var L;return((L=S.signal)==null?void 0:L.signal_name)===(k==null?void 0:k.toString())};return r.$$set=k=>{"invalid"in k&&l(1,c=k.invalid),"invalidText"in k&&l(2,_=k.invalidText),"value"in k&&l(0,m=k.value)},r.$$.update=()=>{var k,S,L;r.$$.dirty&4096&&l(11,t=(S=(k=s.jsonSchema)==null?void 0:k.properties)==null?void 0:S.embedding),r.$$.dirty&12288&&l(3,n=s.path&&f.data?Me(El(f.data,s.path)).filter(j=>j.signal!=null&&Me(j).some(G=>G.dtype==="embedding")):void 0),r.$$.dirty&2056&&l(6,a=[...(t==null?void 0:t.enum)||[]].sort((j,G)=>{const U=n==null?void 0:n.some(D=>{var Z;return((Z=D.signal)==null?void 0:Z.signal_name)===(j==null?void 0:j.toString())}),J=n==null?void 0:n.some(D=>{var Z;return((Z=D.signal)==null?void 0:Z.signal_name)===(G==null?void 0:G.toString())});return U&&!J?-1:!U&&J?1:0})),r.$$.dirty&8&&n!=null&&n.length&&(L=n[0].signal)!=null&&L.signal_name&&l(0,m=n[0].signal.signal_name),r.$$.dirty&9&&l(4,i=(n==null?void 0:n.some(j=>{var G;return((G=j.signal)==null?void 0:G.signal_name)===(m==null?void 0:m.toString())}))||!1),r.$$.dirty&16&&l(5,o=i?void 0:"Embedding not pre-computed for this split")},[m,c,_,n,i,o,a,g,p,d,C,t,s,f,T]}class Pr extends fe{constructor(e){super(),ue(this,e,wr,Nr,se,{invalid:1,invalidText:2,value:0})}}function Vr(r){let e,l;return e=new ft({props:{skeleton:!0}}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p:W,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Fr(r){let e,l;return e=new ft({props:{items:r[1].data.map(hl),item:r[0]}}),e.$on("select",r[3]),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n&2&&(a.items=t[1].data.map(hl)),n&1&&(a.item=t[0]),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Mr(r){let e,l,t,n;const a=[Fr,Vr],i=[];function o(s,f){return s[1].isSuccess?0:s[1].isLoading?1:-1}return~(e=o(r))&&(l=i[e]=a[e](r)),{c(){l&&l.c(),t=Y()},l(s){l&&l.l(s),t=Y()},m(s,f){~e&&i[e].m(s,f),P(s,t,f),n=!0},p(s,[f]){let u=e;e=o(s),e===u?~e&&i[e].p(s,f):(l&&(Q(),b(i[u],1,1,()=>{i[u]=null}),X()),~e?(l=i[e],l?l.p(s,f):(l=i[e]=a[e](s),l.c()),h(l,1),l.m(t.parentNode,t)):l=null)},i(s){n||(h(l),n=!0)},o(s){b(l),n=!1},d(s){~e&&i[e].d(s),s&&v(t)}}}const hl=r=>({title:r.json_schema.title||"Unnamed embedding",value:r});function qr(r,e,l){let t,{embedding:n=void 0}=e;const a=nn();ge(r,a,o=>l(1,t=o));const i=o=>l(0,n=o.detail);return r.$$set=o=>{"embedding"in o&&l(0,n=o.embedding)},r.$$.update=()=>{var o;r.$$.dirty&3&&t.isSuccess&&!n&&l(0,n=(o=t.data)==null?void 0:o[0])},[n,t,a,i]}class Or extends fe{constructor(e){super(),ue(this,e,qr,Mr,se,{embedding:0})}}function gl(r,e,l){const t=r.slice();return t[13]=e[l],t}function Ar(r){let e,l,t;function n(i){r[12](i)}let a={labelText:r[0],helperText:r[1],required:!0,$$slots:{default:[Ur]},$$scope:{ctx:r}};return r[2]!==void 0&&(a.selected=r[2]),e=new We({props:a}),he.push(()=>ve(e,"selected",n)),{c(){B(e.$$.fragment)},l(i){I(e.$$.fragment,i)},m(i,o){N(e,i,o),t=!0},p(i,o){const s={};o&1&&(s.labelText=i[0]),o&2&&(s.helperText=i[1]),o&65568&&(s.$$scope={dirty:o,ctx:i}),!l&&o&4&&(l=!0,s.selected=i[2],Ce(()=>l=!1)),e.$set(s)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){b(e.$$.fragment,i),t=!1},d(i){w(e,i)}}}function jr(r){let e,l;return e=new We({props:{invalid:!0,invalidText:"No valid fields found"}}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p:W,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Lr(r){let e,l;return e=new St({}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p:W,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function pl(r){let e,l;return e=new Bl({props:{label:"Source Fields",$$slots:{default:[zr]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n&65568&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function bl(r){let e,l;return e=new tt({props:{value:qe(r[13].path),disabled:!1,text:kl(r[13])}}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n&32&&(a.value=qe(t[13].path)),n&32&&(a.text=kl(t[13])),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function zr(r){let e,l,t=r[5],n=[];for(let i=0;i<t.length;i+=1)n[i]=bl(gl(r,t,i));const a=i=>b(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Y()},l(i){for(let o=0;o<n.length;o+=1)n[o].l(i);e=Y()},m(i,o){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(i,o);P(i,e,o),l=!0},p(i,o){if(o&32){t=i[5];let s;for(s=0;s<t.length;s+=1){const f=gl(i,t,s);n[s]?(n[s].p(f,o),h(n[s],1)):(n[s]=bl(f),n[s].c(),h(n[s],1),n[s].m(e.parentNode,e))}for(Q(),s=t.length;s<n.length;s+=1)a(s);X()}},i(i){if(!l){for(let o=0;o<t.length;o+=1)h(n[o]);l=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)b(n[o]);l=!1},d(i){De(n,i),i&&v(e)}}}function Ur(r){var n;let e,l,t=((n=r[5])==null?void 0:n.length)&&pl(r);return{c(){t&&t.c(),e=Y()},l(a){t&&t.l(a),e=Y()},m(a,i){t&&t.m(a,i),P(a,e,i),l=!0},p(a,i){var o;(o=a[5])!=null&&o.length?t?(t.p(a,i),i&32&&h(t,1)):(t=pl(a),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Q(),b(t,1,1,()=>{t=null}),X())},i(a){l||(h(t),l=!0)},o(a){b(t),l=!1},d(a){t&&t.d(a),a&&v(e)}}}function Gr(r){let e,l,t,n;const a=[Lr,jr,Ar],i=[];function o(s,f){var u;return s[4].isLoading?0:((u=s[3])==null?void 0:u.length)===0?1:2}return e=o(r),l=i[e]=a[e](r),{c(){l.c(),t=Y()},l(s){l.l(s),t=Y()},m(s,f){i[e].m(s,f),P(s,t,f),n=!0},p(s,[f]){let u=e;e=o(s),e===u?i[e].p(s,f):(Q(),b(i[u],1,1,()=>{i[u]=null}),X(),l=i[e],l?l.p(s,f):(l=i[e]=a[e](s),l.c()),h(l,1),l.m(t.parentNode,t))},i(s){n||(h(l),n=!0)},o(s){b(l),n=!1},d(s){i[e].d(s),s&&v(t)}}}function kl(r){return`${r.path.join(".")} (${r.dtype})`}function Rr(r,e,l){let t,n,a,i,o=W,s=()=>(o(),o=vt(t,T=>l(4,i=T)),t),f;r.$$.on_destroy.push(()=>o());let{labelText:u="Field"}=e,{helperText:c=void 0}=e,{filter:_=void 0}=e,{defaultPath:m=void 0}=e,{path:g=void 0}=e;const p=gt();ge(r,p,T=>l(11,f=T));let d;function C(T){d=T,l(2,d),l(10,m),l(3,n),l(4,i),l(9,_)}return r.$$set=T=>{"labelText"in T&&l(0,u=T.labelText),"helperText"in T&&l(1,c=T.helperText),"filter"in T&&l(9,_=T.filter),"defaultPath"in T&&l(10,m=T.defaultPath),"path"in T&&l(8,g=T.path)},r.$$.update=()=>{if(r.$$.dirty&2048&&s(l(6,t=Ct(f.namespace,f.datasetName))),r.$$.dirty&528&&l(3,n=i.isSuccess?Me(i.data).filter(T=>T.path.length>0).filter(T=>_?_(T):!0):null),r.$$.dirty&24&&l(5,a=n==null?void 0:n.filter(T=>i.data&&!yl(T,i.data))),r.$$.dirty&1036&&m&&n&&!d){const T=n.find(k=>bt(k.path,m));T&&l(2,d=qe(T.path))}if(r.$$.dirty&24&&!(n!=null&&n.length)&&i.isSuccess&&l(8,g=void 0),r.$$.dirty&12&&n&&d&&(n.some(k=>qe(k.path)===d)||l(2,d=qe(n[0].path))),r.$$.dirty&12&&n){const T=n==null?void 0:n.find(k=>qe(k.path)===d);T&&l(8,g=T.path)}},[u,c,d,n,i,a,t,p,g,_,m,f,C]}class Hr extends fe{constructor(e){super(),ue(this,e,Rr,Gr,se,{labelText:0,helperText:1,filter:9,defaultPath:10,path:8})}}function Wr(r){let e,l;return e=new ft({props:{skeleton:!0}}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p:W,i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Yr(r){let e,l;return e=new ft({props:{items:r[1].map(vl),item:r[0]}}),e.$on("select",r[5]),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n&2&&(a.items=t[1].map(vl)),n&1&&(a.item=t[0]),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function Jr(r){let e,l,t,n;const a=[Yr,Wr],i=[];function o(s,f){return s[1]?0:s[2].isLoading?1:-1}return~(e=o(r))&&(l=i[e]=a[e](r)),{c(){l&&l.c(),t=Y()},l(s){l&&l.l(s),t=Y()},m(s,f){~e&&i[e].m(s,f),P(s,t,f),n=!0},p(s,[f]){let u=e;e=o(s),e===u?~e&&i[e].p(s,f):(l&&(Q(),b(i[u],1,1,()=>{i[u]=null}),X()),~e?(l=i[e],l?l.p(s,f):(l=i[e]=a[e](s),l.c()),h(l,1),l.m(t.parentNode,t)):l=null)},i(s){n||(h(l),n=!0)},o(s){b(l),n=!1},d(s){~e&&i[e].d(s),s&&v(t)}}}const vl=r=>({title:r.json_schema.title||"Unnamed signal",value:r});function Kr(r,e,l){let t,n,{defaultSignal:a=void 0}=e,{signal:i=void 0}=e;const o=rn();ge(r,o,f=>l(2,n=f));const s=f=>l(0,i=f.detail);return r.$$set=f=>{"defaultSignal"in f&&l(4,a=f.defaultSignal),"signal"in f&&l(0,i=f.signal)},r.$$.update=()=>{var f;r.$$.dirty&4&&l(1,t=(f=n.data)==null?void 0:f.filter(u=>u.name!="concept_score"&&u.name!="concept_labels")),r.$$.dirty&19&&t&&!i&&l(0,i=t.find(u=>u.name===a)||t[0])},[i,t,n,o,a,s]}class Qr extends fe{constructor(e){super(),ue(this,e,Kr,Jr,se,{defaultSignal:4,signal:0})}}function Xr(r){let e,l,t;function n(i){r[13](i)}let a={defaultSignal:r[0].signalName};return r[2]!==void 0&&(a.signal=r[2]),e=new Qr({props:a}),he.push(()=>ve(e,"signal",n)),{c(){B(e.$$.fragment)},l(i){I(e.$$.fragment,i)},m(i,o){N(e,i,o),t=!0},p(i,o){const s={};o&1&&(s.defaultSignal=i[0].signalName),!l&&o&4&&(l=!0,s.signal=i[2],Ce(()=>l=!1)),e.$set(s)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){b(e.$$.fragment,i),t=!1},d(i){w(e,i)}}}function Zr(r){let e,l,t;function n(i){r[12](i)}let a={};return r[2]!==void 0&&(a.embedding=r[2]),e=new Or({props:a}),he.push(()=>ve(e,"embedding",n)),{c(){B(e.$$.fragment)},l(i){I(e.$$.fragment,i)},m(i,o){N(e,i,o),t=!0},p(i,o){const s={};!l&&o&4&&(l=!0,s.embedding=i[2],Ce(()=>l=!1)),e.$set(s)},i(i){t||(h(e.$$.fragment,i),t=!0)},o(i){b(e.$$.fragment,i),t=!1},d(i){w(e,i)}}}function xr(r){let e;return{c(){e=re("No signal selected")},l(l){e=ie(l,"No signal selected")},m(l,t){P(l,e,t)},p:W,i:W,o:W,d(l){l&&v(e)}}}function ei(r){let e=r[2],l,t,n=Cl(r);return{c(){n.c(),l=Y()},l(a){n.l(a),l=Y()},m(a,i){n.m(a,i),P(a,l,i),t=!0},p(a,i){i&4&&se(e,e=a[2])?(Q(),b(n,1,1,W),X(),n=Cl(a),n.c(),h(n,1),n.m(l.parentNode,l)):n.p(a,i)},i(a){t||(h(n),t=!0)},o(a){b(n),t=!1},d(a){a&&v(l),n.d(a)}}}function Cl(r){var d,C,T;let e,l,t,n,a,i,o,s,f,u;l=new Zl({props:{source:r[2].json_schema.description}});function c(k){r[14](k)}let _={filter:r[6],defaultPath:r[0].path,labelText:"Field"};r[1]!==void 0&&(_.path=r[1]),n=new Hr({props:_}),he.push(()=>ve(n,"path",c));function m(k){r[15](k)}function g(k){r[16](k)}let p={schema:r[2].json_schema,showDescription:!1,hiddenProperties:["/signal_name"],customComponents:r[9][(d=r[2])==null?void 0:d.name]};return r[3][(C=r[2])==null?void 0:C.name]!==void 0&&(p.value=r[3][(T=r[2])==null?void 0:T.name]),r[4]!==void 0&&(p.validationErrors=r[4]),o=new Kl({props:p}),he.push(()=>ve(o,"value",m)),he.push(()=>ve(o,"validationErrors",g)),{c(){e=O("div"),B(l.$$.fragment),t=R(),B(n.$$.fragment),i=R(),B(o.$$.fragment)},l(k){e=A(k,"DIV",{});var S=q(e);I(l.$$.fragment,S),S.forEach(v),t=H(k),I(n.$$.fragment,k),i=H(k),I(o.$$.fragment,k)},m(k,S){P(k,e,S),N(l,e,null),P(k,t,S),N(n,k,S),P(k,i,S),N(o,k,S),u=!0},p(k,S){var U,J;const L={};S&4&&(L.source=k[2].json_schema.description),l.$set(L);const j={};S&64&&(j.filter=k[6]),S&1&&(j.defaultPath=k[0].path),!a&&S&2&&(a=!0,j.path=k[1],Ce(()=>a=!1)),n.$set(j);const G={};S&4&&(G.schema=k[2].json_schema),S&4&&(G.customComponents=k[9][(U=k[2])==null?void 0:U.name]),!s&&S&12&&(s=!0,G.value=k[3][(J=k[2])==null?void 0:J.name],Ce(()=>s=!1)),!f&&S&16&&(f=!0,G.validationErrors=k[4],Ce(()=>f=!1)),o.$set(G)},i(k){u||(h(l.$$.fragment,k),h(n.$$.fragment,k),h(o.$$.fragment,k),u=!0)},o(k){b(l.$$.fragment,k),b(n.$$.fragment,k),b(o.$$.fragment,k),u=!1},d(k){k&&v(e),w(l),k&&v(t),w(n,k),k&&v(i),w(o,k)}}}function ti(r){let e,l,t,n,a,i,o,s,f;const u=[Zr,Xr],c=[];function _(d,C){return d[0].command===ae.ComputeEmbedding?0:1}t=_(r),n=c[t]=u[t](r);const m=[ei,xr],g=[];function p(d,C){return d[2]?0:1}return o=p(r),s=g[o]=m[o](r),{c(){e=O("div"),l=O("div"),n.c(),a=R(),i=O("div"),s.c(),this.h()},l(d){e=A(d,"DIV",{class:!0});var C=q(e);l=A(C,"DIV",{class:!0});var T=q(l);n.l(T),T.forEach(v),a=H(C),i=A(C,"DIV",{class:!0});var k=q(i);s.l(k),k.forEach(v),C.forEach(v),this.h()},h(){M(l,"class","-ml-4 mr-4 w-96 grow-0"),M(i,"class","flex w-full flex-col gap-y-6 rounded border border-gray-300 bg-white p-4"),M(e,"class","flex flex-row")},m(d,C){P(d,e,C),E(e,l),c[t].m(l,null),E(e,a),E(e,i),g[o].m(i,null),f=!0},p(d,C){let T=t;t=_(d),t===T?c[t].p(d,C):(Q(),b(c[T],1,1,()=>{c[T]=null}),X(),n=c[t],n?n.p(d,C):(n=c[t]=u[t](d),n.c()),h(n,1),n.m(l,null));let k=o;o=p(d),o===k?g[o].p(d,C):(Q(),b(g[k],1,1,()=>{g[k]=null}),X(),s=g[o],s?s.p(d,C):(s=g[o]=m[o](d),s.c()),h(s,1),s.m(i,null))},i(d){f||(h(n),h(s),f=!0)},o(d){b(n),b(s),f=!1},d(d){d&&v(e),c[t].d(),g[o].d()}}}function li(r){let e,l,t,n,a,i;return e=new yt({props:{title:r[5]}}),t=new Et({props:{hasForm:!0,$$slots:{default:[ti]},$$scope:{ctx:r}}}),a=new $t({props:{primaryButtonText:r[0].command===ae.ComputeSignal||r[0].command===ae.ComputeEmbedding?"Compute":"Preview",secondaryButtonText:"Cancel",primaryButtonDisabled:r[4].length>0||!r[1]}}),a.$on("click:button--secondary",r[11]),{c(){B(e.$$.fragment),l=R(),B(t.$$.fragment),n=R(),B(a.$$.fragment)},l(o){I(e.$$.fragment,o),l=H(o),I(t.$$.fragment,o),n=H(o),I(a.$$.fragment,o)},m(o,s){N(e,o,s),P(o,l,s),N(t,o,s),P(o,n,s),N(a,o,s),i=!0},p(o,s){const f={};s&32&&(f.title=o[5]),e.$set(f);const u={};s&8388703&&(u.$$scope={dirty:s,ctx:o}),t.$set(u);const c={};s&1&&(c.primaryButtonText=o[0].command===ae.ComputeSignal||o[0].command===ae.ComputeEmbedding?"Compute":"Preview"),s&18&&(c.primaryButtonDisabled=o[4].length>0||!o[1]),a.$set(c)},i(o){i||(h(e.$$.fragment,o),h(t.$$.fragment,o),h(a.$$.fragment,o),i=!0)},o(o){b(e.$$.fragment,o),b(t.$$.fragment,o),b(a.$$.fragment,o),i=!1},d(o){w(e,o),o&&v(l),w(t,o),o&&v(n),w(a,o)}}}function ni(r){let e,l;return e=new Tt({props:{open:!0,$$slots:{default:[li]},$$scope:{ctx:r}}}),e.$on("submit",r[10]),e.$on("close",r[11]),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,[n]){const a={};n&8388735&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}const Il="COMMAND_SIGNAL_CONTEXT";function ri(){return kt(Il)}function ii(r,e){const l=ht({path:r,jsonSchema:e});return Sl(Il,l),l}function si(r,e,l){let t,n,a,i,o,{command:s}=e,f=s.path,u,c={},_=[];(s.command===ae.EditPreviewConcept||s.command==ae.ComputeSignalCommand)&&s.signalName&&(c={[s.signalName]:{...s.value}});const m=ii(f,u==null?void 0:u.json_schema);ge(r,m,D=>l(19,o=D));const g=gt(),p=He(),d=Wl();ge(r,d,D=>l(18,i=D));const C={concept_score:{"/namespace":Tr,"/concept_name":Br,"/embedding":Pr}};function T(D){D in c||l(3,c[D]={},c),l(3,c[D].signal_name=D,c)}function k(){t&&(s.command===ae.ComputeSignal||s.command===ae.ComputeEmbedding?i.mutate([s.namespace,s.datasetName,{leaf_path:f||[],signal:t}]):s.command===ae.PreviewConcept?f&&g.addUdfColumn({path:f,signal_udf:t}):s.command===ae.EditPreviewConcept&&f&&g.editUdfColumn({path:f,signal_udf:t}),S())}function S(){p("close")}function L(D){u=D,l(2,u)}function j(D){u=D,l(2,u)}function G(D){f=D,l(1,f)}function U(D){r.$$.not_equal(c[u==null?void 0:u.name],D)&&(c[u==null?void 0:u.name]=D,l(3,c))}function J(D){_=D,l(4,_)}return r.$$set=D=>{"command"in D&&l(0,s=D.command)},r.$$.update=()=>{r.$$.dirty&2&&_t(m,o.path=f,o),r.$$.dirty&4&&_t(m,o.jsonSchema=u==null?void 0:u.json_schema,o),r.$$.dirty&4&&u!=null&&u.name&&T(u.name),r.$$.dirty&12&&(t=u!=null&&u.name?c[u.name]:void 0),r.$$.dirty&4&&l(6,n=D=>D.dtype?u!=null&&u.input_type?Yl[u.input_type].includes(D.dtype):!0:!1),r.$$.dirty&1&&l(5,a=s.command===ae.ComputeSignal?"Compute Signal":s.command===ae.ComputeEmbedding?"Compute Embedding":"Preview Signal")},[s,f,u,c,_,a,n,m,d,C,k,S,L,j,G,U,J]}class oi extends fe{constructor(e){super(),ue(this,e,si,ni,se,{command:0})}}function ai(r){let e,l;return e=new ir({props:{command:r[0]}}),e.$on("close",Bt),e.$on("create",function(){Ml(r[0].onCreate)&&r[0].onCreate.apply(this,arguments)}),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){r=t;const a={};n&1&&(a.command=r[0]),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function fi(r){let e,l;return e=new Cr({props:{command:r[0]}}),e.$on("close",Bt),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n&1&&(a.command=t[0]),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function ui(r){let e,l;return e=new oi({props:{command:r[0]}}),e.$on("close",Bt),{c(){B(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,n){N(e,t,n),l=!0},p(t,n){const a={};n&1&&(a.command=t[0]),e.$set(a)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){b(e.$$.fragment,t),l=!1},d(t){w(e,t)}}}function ci(r){let e,l,t,n;const a=[ui,fi,ai],i=[];function o(s,f){return s[0].command===ae.ComputeSignal||s[0].command===ae.ComputeEmbedding||s[0].command===ae.PreviewConcept||s[0].command===ae.EditPreviewConcept?0:s[0].command===ae.EditFilter?1:s[0].command===ae.CreateConcept?2:-1}return~(e=o(r))&&(l=i[e]=a[e](r)),{c(){l&&l.c(),t=Y()},l(s){l&&l.l(s),t=Y()},m(s,f){~e&&i[e].m(s,f),P(s,t,f),n=!0},p(s,[f]){let u=e;e=o(s),e===u?~e&&i[e].p(s,f):(l&&(Q(),b(i[u],1,1,()=>{i[u]=null}),X()),~e?(l=i[e],l?l.p(s,f):(l=i[e]=a[e](s),l.c()),h(l,1),l.m(t.parentNode,t)):l=null)},i(s){n||(h(l),n=!0)},o(s){b(l),n=!1},d(s){~e&&i[e].d(s),s&&v(t)}}}var ae=(r=>(r.ComputeSignal="computeSignal",r.PreviewConcept="previewConcept",r.EditPreviewConcept="editPreviewConcept",r.EditFilter="editFilter",r.CreateConcept="createConcept",r.ComputeEmbedding="computeEmbedding",r.ComputeSignalCommand="computeSignal",r))(ae||{});function Ci(r){Dt.set(r)}let Dt=ht({});function Bt(){Dt.set({})}function mi(r,e,l){let t,n;return ge(r,Dt,a=>l(1,n=a)),r.$$.update=()=>{r.$$.dirty&2&&l(0,t=n)},[t,n]}class Si extends fe{constructor(e){super(),ue(this,e,mi,ci,se,{})}}export{ae as C,Tr as E,yt as M,Bl as S,Si as a,Ln as b,pn as c,Tt as d,Et as e,$t as f,ft as g,Br as h,Pr as i,Ci as t};
