import{S as fe,i as ue,s as de,E as ie,_ as re,$ as se,m as D,h as d,n as y,a0 as be,b as H,J as _,O as Ae,a1 as W,D as ve,F as we,q,r as Z,u as te,G as St,k as S,a as G,l as A,c as K,K as Re,L as At,M as Pt,N as Rt,v as le,d as V,f as ne,g as v,y as O,z as L,A as F,B as U,w as Ye,U as qe,V as Ze,a4 as Ie,C as jt,a6 as Je,H as Me,R as $e,o as Gt,ab as ze,e as ke,P as Kt,a7 as Bt,aa as xt}from"./index.8c57c90c.js";import{l as pe,B as Qe,S as Wt,T as Jt,W as Xt,L as Te,X as Ce,U as Nt,Y as Ht,K as Xe,b as el,Z as tl,H as ye,A as ll,n as Se,_ as nl,m as rl,a as sl,$ as al,a0 as il,h as Ot}from"./HoverTooltip.624267ce.js";import{a as Lt,b as ol,S as Ft}from"./signalQueries.ff82c0be.js";import{T as cl,S as fl,a as Ut,b as Yt}from"./StringSpanHighlight.6316571d.js";import{C as ul,a as dl}from"./ChevronUp.5525b820.js";import{f as ml,S as qt,d as _l,I as Zt}from"./JSONSchemaForm.3d114726.js";import{g as Qt}from"./settingsStore.ca891065.js";import{p as hl,Q as gl,g as pl,N as bl,v as Fe}from"./Commands.834420cd.js";import{S as He,a as Pe}from"./SelectItem.5cf70406.js";import{g as vl}from"./navigation.d91680f0.js";function et(r){let e,l;return{c(){e=re("title"),l=q(r[1])},l(t){e=se(t,"title",{});var n=D(e);l=Z(n,r[1]),n.forEach(d)},m(t,n){H(t,e,n),_(e,l)},p(t,n){n&2&&te(l,t[1])},d(t){t&&d(e)}}}function wl(r){let e,l,t=r[1]&&et(r),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:r[0]},{height:r[0]},r[2],r[3]],o={};for(let s=0;s<n.length;s+=1)o=ie(o,n[s]);return{c(){e=re("svg"),t&&t.c(),l=re("path"),this.h()},l(s){e=se(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=D(e);t&&t.l(a),l=se(a,"path",{d:!0}),D(l).forEach(d),a.forEach(d),this.h()},h(){y(l,"d","M10 6L10 8 22.59 8 6 24.59 7.41 26 24 9.41 24 22 26 22 26 6 10 6z"),be(e,o)},m(s,a){H(s,e,a),t&&t.m(e,null),_(e,l)},p(s,[a]){s[1]?t?t.p(s,a):(t=et(s),t.c(),t.m(e,l)):t&&(t.d(1),t=null),be(e,o=Ae(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:W,o:W,d(s){s&&d(e),t&&t.d()}}}function kl(r,e,l){let t,n;const o=["size","title"];let s=ve(e,o),{size:a=16}=e,{title:i=void 0}=e;return r.$$set=c=>{l(5,e=ie(ie({},e),we(c))),l(3,s=ve(e,o)),"size"in c&&l(0,a=c.size),"title"in c&&l(1,i=c.title)},r.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||i),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=we(e),[a,i,n,s,t]}class $l extends fe{constructor(e){super(),ue(this,e,kl,wl,de,{size:0,title:1})}}function tt(r){let e,l;return{c(){e=re("title"),l=q(r[1])},l(t){e=se(t,"title",{});var n=D(e);l=Z(n,r[1]),n.forEach(d)},m(t,n){H(t,e,n),_(e,l)},p(t,n){n&2&&te(l,t[1])},d(t){t&&d(e)}}}function El(r){let e,l,t,n=r[1]&&tt(r),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:r[0]},{height:r[0]},r[2],r[3]],s={};for(let a=0;a<o.length;a+=1)s=ie(s,o[a]);return{c(){e=re("svg"),n&&n.c(),l=re("path"),t=re("path"),this.h()},l(a){e=se(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var i=D(e);n&&n.l(i),l=se(i,"path",{d:!0}),D(l).forEach(d),t=se(i,"path",{d:!0}),D(t).forEach(d),i.forEach(d),this.h()},h(){y(l,"d","M11,11V21H21V11Zm8,8H13V13h6Z"),y(t,"d","M30,13V11H26V8a2,2,0,0,0-2-2H21V2H19V6H13V2H11V6H8A2,2,0,0,0,6,8v3H2v2H6v6H2v2H6v3a2,2,0,0,0,2,2h3v4h2V26h6v4h2V26h3a2,2,0,0,0,2-2V21h4V19H26V13ZM24,24H8V8H24Z"),be(e,s)},m(a,i){H(a,e,i),n&&n.m(e,null),_(e,l),_(e,t)},p(a,[i]){a[1]?n?n.p(a,i):(n=tt(a),n.c(),n.m(e,l)):n&&(n.d(1),n=null),be(e,s=Ae(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},i&1&&{width:a[0]},i&1&&{height:a[0]},i&4&&a[2],i&8&&a[3]]))},i:W,o:W,d(a){a&&d(e),n&&n.d()}}}function Vl(r,e,l){let t,n;const o=["size","title"];let s=ve(e,o),{size:a=16}=e,{title:i=void 0}=e;return r.$$set=c=>{l(5,e=ie(ie({},e),we(c))),l(3,s=ve(e,o)),"size"in c&&l(0,a=c.size),"title"in c&&l(1,i=c.title)},r.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||i),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=we(e),[a,i,n,s,t]}class lt extends fe{constructor(e){super(),ue(this,e,Vl,El,de,{size:0,title:1})}}function nt(r){let e,l;return{c(){e=re("title"),l=q(r[1])},l(t){e=se(t,"title",{});var n=D(e);l=Z(n,r[1]),n.forEach(d)},m(t,n){H(t,e,n),_(e,l)},p(t,n){n&2&&te(l,t[1])},d(t){t&&d(e)}}}function Dl(r){let e,l,t=r[1]&&nt(r),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:r[0]},{height:r[0]},r[2],r[3]],o={};for(let s=0;s<n.length;s+=1)o=ie(o,n[s]);return{c(){e=re("svg"),t&&t.c(),l=re("path"),this.h()},l(s){e=se(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=D(e);t&&t.l(a),l=se(a,"path",{d:!0}),D(l).forEach(d),a.forEach(d),this.h()},h(){y(l,"d","M16,2A14,14,0,1,0,30,16,14.0158,14.0158,0,0,0,16,2Zm0,26A12,12,0,0,1,16,4V16l8.4812,8.4814A11.9625,11.9625,0,0,1,16,28Z"),be(e,o)},m(s,a){H(s,e,a),t&&t.m(e,null),_(e,l)},p(s,[a]){s[1]?t?t.p(s,a):(t=nt(s),t.c(),t.m(e,l)):t&&(t.d(1),t=null),be(e,o=Ae(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:W,o:W,d(s){s&&d(e),t&&t.d()}}}function Il(r,e,l){let t,n;const o=["size","title"];let s=ve(e,o),{size:a=16}=e,{title:i=void 0}=e;return r.$$set=c=>{l(5,e=ie(ie({},e),we(c))),l(3,s=ve(e,o)),"size"in c&&l(0,a=c.size),"title"in c&&l(1,i=c.title)},r.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||i),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=we(e),[a,i,n,s,t]}class Ln extends fe{constructor(e){super(),ue(this,e,Il,Dl,de,{size:0,title:1})}}function rt(r){let e,l;return{c(){e=re("title"),l=q(r[1])},l(t){e=se(t,"title",{});var n=D(e);l=Z(n,r[1]),n.forEach(d)},m(t,n){H(t,e,n),_(e,l)},p(t,n){n&2&&te(l,t[1])},d(t){t&&d(e)}}}function Ml(r){let e,l,t,n=r[1]&&rt(r),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:r[0]},{height:r[0]},r[2],r[3]],s={};for(let a=0;a<o.length;a+=1)s=ie(s,o[a]);return{c(){e=re("svg"),n&&n.c(),l=re("path"),t=re("path"),this.h()},l(a){e=se(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var i=D(e);n&&n.l(i),l=se(i,"path",{d:!0}),D(l).forEach(d),t=se(i,"path",{d:!0}),D(t).forEach(d),i.forEach(d),this.h()},h(){y(l,"d","M12 12H14V24H12zM18 12H20V24H18z"),y(t,"d","M4 6V8H6V28a2 2 0 002 2H24a2 2 0 002-2V8h2V6zM8 28V8H24V28zM12 2H20V4H12z"),be(e,s)},m(a,i){H(a,e,i),n&&n.m(e,null),_(e,l),_(e,t)},p(a,[i]){a[1]?n?n.p(a,i):(n=rt(a),n.c(),n.m(e,l)):n&&(n.d(1),n=null),be(e,s=Ae(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},i&1&&{width:a[0]},i&1&&{height:a[0]},i&4&&a[2],i&8&&a[3]]))},i:W,o:W,d(a){a&&d(e),n&&n.d()}}}function zl(r,e,l){let t,n;const o=["size","title"];let s=ve(e,o),{size:a=16}=e,{title:i=void 0}=e;return r.$$set=c=>{l(5,e=ie(ie({},e),we(c))),l(3,s=ve(e,o)),"size"in c&&l(0,a=c.size),"title"in c&&l(1,i=c.title)},r.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||i),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=we(e),[a,i,n,s,t]}class Tl extends fe{constructor(e){super(),ue(this,e,zl,Ml,de,{size:0,title:1})}}function st(r){let e,l;return{c(){e=re("title"),l=q(r[1])},l(t){e=se(t,"title",{});var n=D(e);l=Z(n,r[1]),n.forEach(d)},m(t,n){H(t,e,n),_(e,l)},p(t,n){n&2&&te(l,t[1])},d(t){t&&d(e)}}}function Cl(r){let e,l,t,n=r[1]&&st(r),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:r[0]},{height:r[0]},r[2],r[3]],s={};for(let a=0;a<o.length;a+=1)s=ie(s,o[a]);return{c(){e=re("svg"),n&&n.c(),l=re("path"),t=re("path"),this.h()},l(a){e=se(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var i=D(e);n&&n.l(i),l=se(i,"path",{d:!0}),D(l).forEach(d),t=se(i,"path",{d:!0}),D(t).forEach(d),i.forEach(d),this.h()},h(){y(l,"d","M5.24,22.51l1.43-1.42A14.06,14.06,0,0,1,3.07,16C5.1,10.93,10.7,7,16,7a12.38,12.38,0,0,1,4,.72l1.55-1.56A14.72,14.72,0,0,0,16,5,16.69,16.69,0,0,0,1.06,15.66a1,1,0,0,0,0,.68A16,16,0,0,0,5.24,22.51Z"),y(t,"d","M12 15.73a4 4 0 013.7-3.7l1.81-1.82a6 6 0 00-7.33 7.33zM30.94 15.66A16.4 16.4 0 0025.2 8.22L30 3.41 28.59 2 2 28.59 3.41 30l5.1-5.1A15.29 15.29 0 0016 27 16.69 16.69 0 0030.94 16.34 1 1 0 0030.94 15.66zM20 16a4 4 0 01-6 3.44L19.44 14A4 4 0 0120 16zm-4 9a13.05 13.05 0 01-6-1.58l2.54-2.54a6 6 0 008.35-8.35l2.87-2.87A14.54 14.54 0 0128.93 16C26.9 21.07 21.3 25 16 25z"),be(e,s)},m(a,i){H(a,e,i),n&&n.m(e,null),_(e,l),_(e,t)},p(a,[i]){a[1]?n?n.p(a,i):(n=st(a),n.c(),n.m(e,l)):n&&(n.d(1),n=null),be(e,s=Ae(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},i&1&&{width:a[0]},i&1&&{height:a[0]},i&4&&a[2],i&8&&a[3]]))},i:W,o:W,d(a){a&&d(e),n&&n.d()}}}function yl(r,e,l){let t,n;const o=["size","title"];let s=ve(e,o),{size:a=16}=e,{title:i=void 0}=e;return r.$$set=c=>{l(5,e=ie(ie({},e),we(c))),l(3,s=ve(e,o)),"size"in c&&l(0,a=c.size),"title"in c&&l(1,i=c.title)},r.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||i),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=we(e),[a,i,n,s,t]}class Sl extends fe{constructor(e){super(),ue(this,e,yl,Cl,de,{size:0,title:1})}}const Al=r=>({}),at=r=>({}),Pl=r=>({}),it=r=>({});function Rl(r){let e,l;return e=new ul({}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Bl(r){let e,l;return e=new dl({}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function ot(r){let e,l;const t=r[2].below,n=St(t,r,r[1],at);return{c(){e=S("div"),n&&n.c(),this.h()},l(o){e=A(o,"DIV",{class:!0});var s=D(e);n&&n.l(s),s.forEach(d),this.h()},h(){y(e,"class","p-4")},m(o,s){H(o,e,s),n&&n.m(e,null),l=!0},p(o,s){n&&n.p&&(!l||s&2)&&At(n,t,o,o[1],l?Rt(t,o[1],s,Al):Pt(o[1]),at)},i(o){l||(v(n,o),l=!0)},o(o){V(n,o),l=!1},d(o){o&&d(e),n&&n.d(o)}}}function Nl(r){let e,l,t,n,o,s,a,i,c,f;const C=r[2].above,g=St(C,r,r[1],it),h=[Bl,Rl],u=[];function m(z,I){return z[0]?0:1}o=m(r),s=u[o]=h[o](r);let k=r[0]&&ot(r);return{c(){e=S("div"),l=S("button"),t=S("div"),g&&g.c(),n=G(),s.c(),a=G(),k&&k.c(),this.h()},l(z){e=A(z,"DIV",{class:!0});var I=D(e);l=A(I,"BUTTON",{class:!0});var $=D(l);t=A($,"DIV",{class:!0});var E=D(t);g&&g.l(E),n=K(E),s.l(E),E.forEach(d),$.forEach(d),a=K(I),k&&k.l(I),I.forEach(d),this.h()},h(){y(t,"class","flex items-center justify-between"),y(l,"class","w-full p-4 text-left hover:bg-gray-200"),y(e,"class","rounded-xl border border-gray-200")},m(z,I){H(z,e,I),_(e,l),_(l,t),g&&g.m(t,null),_(t,n),u[o].m(t,null),_(e,a),k&&k.m(e,null),i=!0,c||(f=Re(l,"click",r[3]),c=!0)},p(z,[I]){g&&g.p&&(!i||I&2)&&At(g,C,z,z[1],i?Rt(C,z[1],I,Pl):Pt(z[1]),it);let $=o;o=m(z),o!==$&&(le(),V(u[$],1,1,()=>{u[$]=null}),ne(),s=u[o],s||(s=u[o]=h[o](z),s.c()),v(s,1),s.m(t,null)),z[0]?k?(k.p(z,I),I&1&&v(k,1)):(k=ot(z),k.c(),v(k,1),k.m(e,null)):k&&(le(),V(k,1,1,()=>{k=null}),ne())},i(z){i||(v(g,z),v(s),v(k),i=!0)},o(z){V(g,z),V(s),V(k),i=!1},d(z){z&&d(e),g&&g.d(z),u[o].d(),k&&k.d(),c=!1,f()}}}function Hl(r,e,l){let{$$slots:t={},$$scope:n}=e,{expanded:o=!1}=e;const s=()=>l(0,o=!o);return r.$$set=a=>{"expanded"in a&&l(0,o=a.expanded),"$$scope"in a&&l(1,n=a.$$scope)},[o,n,t,s]}class Ue extends fe{constructor(e){super(),ue(this,e,Hl,Nl,de,{expanded:0})}}function ct(r,e,l){const t=r.slice();return t[6]=e[l],t}function ft(r){let e,l,t=r[6].text+"",n,o,s,a,i,c,f,C;a=new Tl({props:{size:16}});function g(){return r[5](r[6])}return{c(){e=S("div"),l=S("span"),n=q(t),o=G(),s=S("button"),O(a.$$.fragment),i=G(),this.h()},l(h){e=A(h,"DIV",{class:!0});var u=D(e);l=A(u,"SPAN",{class:!0});var m=D(l);n=Z(m,t),m.forEach(d),o=K(u),s=A(u,"BUTTON",{title:!0,class:!0});var k=D(s);L(a.$$.fragment,k),k.forEach(d),i=K(u),u.forEach(d),this.h()},h(){y(l,"class","shrink"),y(s,"title","Remove sample"),y(s,"class","shrink-0 opacity-50 hover:text-red-400 hover:opacity-100"),y(e,"class","flex w-full justify-between gap-x-2 border-b border-gray-200 p-2 hover:bg-gray-50")},m(h,u){H(h,e,u),_(e,l),_(l,n),_(e,o),_(e,s),F(a,s,null),_(e,i),c=!0,f||(C=Re(s,"click",g),f=!0)},p(h,u){r=h,(!c||u&1)&&t!==(t=r[6].text+"")&&te(n,t)},i(h){c||(v(a.$$.fragment,h),c=!0)},o(h){V(a.$$.fragment,h),c=!1},d(h){h&&d(e),U(a),f=!1,C()}}}function Ol(r){let e,l,t,n,o,s;function a(g){r[3](g)}let i={labelText:"Add example"};r[1]!==void 0&&(i.value=r[1]),l=new ml({props:i}),Ye.push(()=>qe(l,"value",a)),l.$on("keydown",r[4]);let c=[...r[0]].reverse(),f=[];for(let g=0;g<c.length;g+=1)f[g]=ft(ct(r,c,g));const C=g=>V(f[g],1,1,()=>{f[g]=null});return{c(){e=S("div"),O(l.$$.fragment),n=G(),o=S("div");for(let g=0;g<f.length;g+=1)f[g].c();this.h()},l(g){e=A(g,"DIV",{class:!0});var h=D(e);L(l.$$.fragment,h),h.forEach(d),n=K(g),o=A(g,"DIV",{class:!0});var u=D(o);for(let m=0;m<f.length;m+=1)f[m].l(u);u.forEach(d),this.h()},h(){y(e,"class",""),y(o,"class","flex h-full w-full flex-col overflow-y-auto overflow-x-clip border border-gray-200")},m(g,h){H(g,e,h),F(l,e,null),H(g,n,h),H(g,o,h);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(o,null);s=!0},p(g,[h]){const u={};if(!t&&h&2&&(t=!0,u.value=g[1],Ze(()=>t=!1)),l.$set(u),h&5){c=[...g[0]].reverse();let m;for(m=0;m<c.length;m+=1){const k=ct(g,c,m);f[m]?(f[m].p(k,h),v(f[m],1)):(f[m]=ft(k),f[m].c(),v(f[m],1),f[m].m(o,null))}for(le(),m=c.length;m<f.length;m+=1)C(m);ne()}},i(g){if(!s){v(l.$$.fragment,g);for(let h=0;h<c.length;h+=1)v(f[h]);s=!0}},o(g){V(l.$$.fragment,g),f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)V(f[h]);s=!1},d(g){g&&d(e),U(l),g&&d(n),g&&d(o),Ie(f,g)}}}function Ll(r,e,l){let{data:t}=e,n;const o=jt();function s(c){n=c,l(1,n)}const a=c=>{c.key==="Enter"&&(o("add",n),l(1,n=""))},i=c=>o("remove",c.id);return r.$$set=c=>{"data"in c&&l(0,t=c.data)},[t,n,o,s,a,i]}class ut extends fe{constructor(e){super(),ue(this,e,Ll,Ol,de,{data:0})}}const Be={not_good:"text-red-600",ok:"text-yellow-600",good:"text-green-600",very_good:"text-blue-600",great:"text-purple-600"},Ne={not_good:"Not good",ok:"OK",good:"Good",very_good:"Very good",great:"Great"};function Fl(r){let e,l,t,n,o,s=Ne[r[0].overall]+"",a,i,c,f,C,g,h,u=pe(r[0].f1)+"",m,k,z,I,$,E,p=pe(r[0].recall)+"",b,T,N,Y,B,M,w=pe(r[0].precision)+"",P,Q,X,ae,oe,ce,J=pe(r[0].roc_auc)+"",ee;return{c(){e=S("table"),l=S("tr"),t=S("td"),n=q("Overall score"),o=S("td"),a=q(s),c=G(),f=S("tr"),C=S("td"),g=q("F1"),h=S("td"),m=q(u),k=G(),z=S("tr"),I=S("td"),$=q("Recall"),E=S("td"),b=q(p),T=G(),N=S("tr"),Y=S("td"),B=q("Precision"),M=S("td"),P=q(w),Q=G(),X=S("tr"),ae=S("td"),oe=q("Area under ROC"),ce=S("td"),ee=q(J),this.h()},l(j){e=A(j,"TABLE",{class:!0});var R=D(e);l=A(R,"TR",{});var x=D(l);t=A(x,"TD",{class:!0});var _e=D(t);n=Z(_e,"Overall score"),_e.forEach(d),o=A(x,"TD",{class:!0});var he=D(o);a=Z(he,s),he.forEach(d),x.forEach(d),c=K(R),f=A(R,"TR",{});var me=D(f);C=A(me,"TD",{class:!0});var ge=D(C);g=Z(ge,"F1"),ge.forEach(d),h=A(me,"TD",{class:!0});var Ee=D(h);m=Z(Ee,u),Ee.forEach(d),me.forEach(d),k=K(R),z=A(R,"TR",{});var Ve=D(z);I=A(Ve,"TD",{class:!0});var De=D(I);$=Z(De,"Recall"),De.forEach(d),E=A(Ve,"TD",{class:!0});var je=D(E);b=Z(je,p),je.forEach(d),Ve.forEach(d),T=K(R),N=A(R,"TR",{});var Oe=D(N);Y=A(Oe,"TD",{class:!0});var Ge=D(Y);B=Z(Ge,"Precision"),Ge.forEach(d),M=A(Oe,"TD",{class:!0});var Ke=D(M);P=Z(Ke,w),Ke.forEach(d),Oe.forEach(d),Q=K(R),X=A(R,"TR",{});var Le=D(X);ae=A(Le,"TD",{class:!0});var xe=D(ae);oe=Z(xe,"Area under ROC"),xe.forEach(d),ce=A(Le,"TD",{class:!0});var We=D(ce);ee=Z(We,J),We.forEach(d),Le.forEach(d),R.forEach(d),this.h()},h(){y(t,"class","svelte-zc5pc5"),y(o,"class",i=Je(Be[r[0].overall])+" svelte-zc5pc5"),y(C,"class","svelte-zc5pc5"),y(h,"class","svelte-zc5pc5"),y(I,"class","svelte-zc5pc5"),y(E,"class","svelte-zc5pc5"),y(Y,"class","svelte-zc5pc5"),y(M,"class","svelte-zc5pc5"),y(ae,"class","svelte-zc5pc5"),y(ce,"class","svelte-zc5pc5"),y(e,"class","svelte-zc5pc5")},m(j,R){H(j,e,R),_(e,l),_(l,t),_(t,n),_(l,o),_(o,a),_(e,c),_(e,f),_(f,C),_(C,g),_(f,h),_(h,m),_(e,k),_(e,z),_(z,I),_(I,$),_(z,E),_(E,b),_(e,T),_(e,N),_(N,Y),_(Y,B),_(N,M),_(M,P),_(e,Q),_(e,X),_(X,ae),_(ae,oe),_(X,ce),_(ce,ee)},p(j,[R]){R&1&&s!==(s=Ne[j[0].overall]+"")&&te(a,s),R&1&&i!==(i=Je(Be[j[0].overall])+" svelte-zc5pc5")&&y(o,"class",i),R&1&&u!==(u=pe(j[0].f1)+"")&&te(m,u),R&1&&p!==(p=pe(j[0].recall)+"")&&te(b,p),R&1&&w!==(w=pe(j[0].precision)+"")&&te(P,w),R&1&&J!==(J=pe(j[0].roc_auc)+"")&&te(ee,J)},i:W,o:W,d(j){j&&d(e)}}}function Ul(r,e,l){let{metrics:t}=e;return r.$$set=n=>{"metrics"in n&&l(0,t=n.metrics)},[t]}class dt extends fe{constructor(e){super(),ue(this,e,Ul,Fl,de,{metrics:0})}}function mt(r,e,l){const t=r.slice();return t[21]=e[l],t}function Yl(r){let e;return{c(){e=q("Compute")},l(l){e=Z(l,"Compute")},m(l,t){H(l,e,t)},d(l){l&&d(e)}}}function _t(r){let e,l;return e=new Pe({props:{value:r[21].name}}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p(t,n){const o={};n&512&&(o.value=t[21].name),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function ql(r){var s;let e,l,t=((s=r[9])==null?void 0:s.data)||[],n=[];for(let a=0;a<t.length;a+=1)n[a]=_t(mt(r,t,a));const o=a=>V(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=ke()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);e=ke()},m(a,i){for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(a,i);H(a,e,i),l=!0},p(a,i){var c;if(i&512){t=((c=a[9])==null?void 0:c.data)||[];let f;for(f=0;f<t.length;f+=1){const C=mt(a,t,f);n[f]?(n[f].p(C,i),v(n[f],1)):(n[f]=_t(C),n[f].c(),v(n[f],1),n[f].m(e.parentNode,e))}for(le(),f=t.length;f<n.length;f+=1)o(f);ne()}},i(a){if(!l){for(let i=0;i<t.length;i+=1)v(n[i]);l=!0}},o(a){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)V(n[i]);l=!1},d(a){Ie(n,a),a&&d(e)}}}function Zl(r){let e,l;return e=new fl({props:{text:r[0],row:r[4],spanPaths:r[6],valuePaths:r[5],embeddings:r[1]?[r[1]]:[]}}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.text=t[0]),n&16&&(o.row=t[4]),n&64&&(o.spanPaths=t[6]),n&32&&(o.valuePaths=t[5]),n&2&&(o.embeddings=t[1]?[t[1]]:[]),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Ql(r){let e,l;return e=new qt({}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p:W,i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function jl(r){let e,l,t,n,o,s,a,i,c,f,C,g,h,u,m,k;t=new cl({props:{value:r[3],cols:50,placeholder:"Paste text to try the concept.",rows:6,class:"mb-2"}}),t.$on("input",r[12]),a=new Qe({props:{$$slots:{default:[Yl]},$$scope:{ctx:r}}}),a.$on("click",r[18]);function z(b){r[19](b)}let I={labelText:"Embedding",$$slots:{default:[ql]},$$scope:{ctx:r}};r[1]!==void 0&&(I.selected=r[1]),f=new He({props:I}),Ye.push(()=>qe(f,"selected",z));const $=[Ql,Zl],E=[];function p(b,T){var N;return b[7]&&((N=b[2])!=null&&N.isFetching)?0:b[4]!=null&&b[0]!=null?1:-1}return~(u=p(r))&&(m=E[u]=$[u](r)),{c(){e=S("div"),l=S("div"),O(t.$$.fragment),n=G(),o=S("div"),s=S("div"),O(a.$$.fragment),i=G(),c=S("div"),O(f.$$.fragment),g=G(),h=S("div"),m&&m.c(),this.h()},l(b){e=A(b,"DIV",{class:!0});var T=D(e);l=A(T,"DIV",{});var N=D(l);L(t.$$.fragment,N),n=K(N),o=A(N,"DIV",{class:!0});var Y=D(o);s=A(Y,"DIV",{class:!0});var B=D(s);L(a.$$.fragment,B),B.forEach(d),i=K(Y),c=A(Y,"DIV",{class:!0});var M=D(c);L(f.$$.fragment,M),M.forEach(d),Y.forEach(d),N.forEach(d),g=K(T),h=A(T,"DIV",{class:!0});var w=D(h);m&&m.l(w),w.forEach(d),T.forEach(d),this.h()},h(){y(s,"class","pt-4"),y(c,"class","mb-2 w-32"),y(o,"class","flex flex-row justify-between"),y(h,"class","mt-4 border-gray-200"),Me(h,"border-t",r[0]!=null),y(e,"class","flex flex-col gap-x-8")},m(b,T){H(b,e,T),_(e,l),F(t,l,null),_(l,n),_(l,o),_(o,s),F(a,s,null),_(o,i),_(o,c),F(f,c,null),_(e,g),_(e,h),~u&&E[u].m(h,null),k=!0},p(b,[T]){const N={};T&8&&(N.value=b[3]),t.$set(N);const Y={};T&16777216&&(Y.$$scope={dirty:T,ctx:b}),a.$set(Y);const B={};T&16777728&&(B.$$scope={dirty:T,ctx:b}),!C&&T&2&&(C=!0,B.selected=b[1],Ze(()=>C=!1)),f.$set(B);let M=u;u=p(b),u===M?~u&&E[u].p(b,T):(m&&(le(),V(E[M],1,1,()=>{E[M]=null}),ne()),~u?(m=E[u],m?m.p(b,T):(m=E[u]=$[u](b),m.c()),v(m,1),m.m(h,null)):m=null),(!k||T&1)&&Me(h,"border-t",b[0]!=null)},i(b){k||(v(t.$$.fragment,b),v(a.$$.fragment,b),v(f.$$.fragment,b),v(m),k=!0)},o(b){V(t.$$.fragment,b),V(a.$$.fragment,b),V(f.$$.fragment,b),V(m),k=!1},d(b){b&&d(e),U(t),U(a),U(f),~u&&E[u].d()}}}function Gl(r,e,l){var w;let t,n,o,s,a=W,i=()=>(a(),a=ze(o,P=>l(2,s=P)),o),c,f=W,C=()=>(f(),f=ze(n,P=>l(17,c=P)),n),g,h;r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>f());let{concept:u}=e,{example:m}=e;const k=Lt();$e(r,k,P=>l(9,h=P));const z=Qt();$e(r,z,P=>l(20,g=P));let I=(w=m.text)==null?void 0:w.trim();Gt(()=>{b()});function $(P){l(3,I=P.target.value),l(0,E=void 0)}let E,p=g.embedding;function b(){l(0,E=I)}let T,N,Y;const B=()=>b();function M(P){p=P,l(1,p)}return r.$$set=P=>{"concept"in P&&l(14,u=P.concept),"example"in P&&l(15,m=P.example)},r.$$.update=()=>{var P;if(r.$$.dirty&32768&&m.text&&(l(3,I=m.text.trim()),l(0,E=void 0)),r.$$.dirty&16386&&l(16,t={signal_name:"concept_score",concept_name:u.concept_name,namespace:u.namespace,embedding:p}),r.$$.dirty&65536&&C(l(8,n=t.embedding?ol({signal:t}):void 0)),r.$$.dirty&16387&&i(l(7,o=p!=null&&E!=null?Wt(u.namespace,u.concept_name,p,{examples:[{text:E}]}):null)),r.$$.dirty&131078&&(s==null?void 0:s.data)!=null&&p!=null&&((P=c==null?void 0:c.data)==null?void 0:P.fields)!=null){const Q=Jt(c.data.fields);l(4,T=Xt(s.data[0],Q));const X=hl(Q);l(6,Y=X.spanPaths),l(5,N=X.valuePaths)}},[E,p,s,I,T,N,Y,o,n,h,k,z,$,b,u,m,t,c,B,M]}class Kl extends fe{constructor(e){super(),ue(this,e,Gl,jl,de,{concept:14,example:15})}}function xl(r,e,l,t,n,o){const s={...r};if(e==null||l==null)return s;const a=[...e,...l],i=new Set,c=[];for(const u of a){const m=Te.value(Ce(u,[Nt]),"string");if(m==null||i.has(m))continue;i.add(m);const k=Ce(u,n);if(k==null)continue;const z=Te.value(k,"string");if(z==null)continue;const I=`${t.namespace}/${t.concept_name}`,$=Ce(k,[`${I}/${o}`]);if($==null)continue;const E=Ce(k,[`${I}/labels`]),p=[];if(E!=null)for(const b of E){const T=Te.value(b,"string_span");T!=null&&p.push(T)}for(const b of $){const T=Te.value(b,"string_span");if(T==null||!p.every(M=>M.start>T.end||M.end<T.start))continue;const Y=Ce(b,["score"]);if(Y==null)continue;const B=Te.value(Y,"float32");B!=null&&c.push({text:z,span:T,score:B})}}function f(u){return{text:gl(u.text,u.span.start,u.span.end),score:u.score}}c.sort((u,m)=>m.score-u.score);const C=c[0],g=c.slice().reverse().find(u=>u!=C);c.sort((u,m)=>Math.abs(u.score-.5)-Math.abs(m.score-.5));const h=c.find(u=>u!=C&&u!=g);return C!=null&&s.positive==null&&(s.positive=f(C)),h!=null&&s.neutral==null&&(s.neutral=f(h)),g!=null&&s.negative==null&&(s.negative=f(g)),s}function ht(r,e,l){const t=r.slice();return t[20]=e[l],t}function Wl(r){const e=r.slice(),l=tn(e[20].score);e[23]=l;const t=ln(e[20].score);return e[24]=t,e}function Jl(r){let e,l,t,n,o,s,a,i,c,f=r[20].text+"",C,g,h,u=r[24]+"",m,k,z=pe(r[20].score,2)+"",I,$,E,p,b,T;n=new Ut({});function N(){return r[17](r[20])}a=new Yt({});function Y(){return r[18](r[20])}return{c(){e=S("div"),l=S("div"),t=S("button"),O(n.$$.fragment),o=G(),s=S("button"),O(a.$$.fragment),i=G(),c=S("div"),C=q(f),g=G(),h=S("div"),m=q(u),k=G(),I=q(z),$=G(),this.h()},l(B){e=A(B,"DIV",{class:!0});var M=D(e);l=A(M,"DIV",{class:!0});var w=D(l);t=A(w,"BUTTON",{class:!0});var P=D(t);L(n.$$.fragment,P),P.forEach(d),o=K(w),s=A(w,"BUTTON",{class:!0});var Q=D(s);L(a.$$.fragment,Q),Q.forEach(d),w.forEach(d),i=K(M),c=A(M,"DIV",{class:!0});var X=D(c);C=Z(X,f),X.forEach(d),g=K(M),h=A(M,"DIV",{class:!0});var ae=D(h);m=Z(ae,u),k=K(ae),I=Z(ae,z),ae.forEach(d),$=K(M),M.forEach(d),this.h()},h(){y(t,"class","p-2 hover:bg-gray-200"),Me(t,"text-blue-500",r[20].label===!0),y(s,"class","p-2 hover:bg-gray-200"),Me(s,"text-red-500",r[20].label===!1),y(l,"class","mr-2 flex flex-shrink-0 gap-x-1"),y(c,"class","flex-grow"),y(h,"class","w-40 flex-shrink-0 text-right"),y(e,"class",E=`flex flex-grow items-center rounded-md border border-gray-300 p-4 pl-2 ${r[23]}`)},m(B,M){H(B,e,M),_(e,l),_(l,t),F(n,t,null),_(l,o),_(l,s),F(a,s,null),_(e,i),_(e,c),_(c,C),_(e,g),_(e,h),_(h,m),_(h,k),_(h,I),_(e,$),p=!0,b||(T=[Re(t,"click",N),Re(s,"click",Y)],b=!0)},p(B,M){r=B,(!p||M&1)&&Me(t,"text-blue-500",r[20].label===!0),(!p||M&1)&&Me(s,"text-red-500",r[20].label===!1),(!p||M&1)&&f!==(f=r[20].text+"")&&te(C,f),(!p||M&1)&&u!==(u=r[24]+"")&&te(m,u),(!p||M&1)&&z!==(z=pe(r[20].score,2)+"")&&te(I,z),(!p||M&1&&E!==(E=`flex flex-grow items-center rounded-md border border-gray-300 p-4 pl-2 ${r[23]}`))&&y(e,"class",E)},i(B){p||(v(n.$$.fragment,B),v(a.$$.fragment,B),p=!0)},o(B){V(n.$$.fragment,B),V(a.$$.fragment,B),p=!1},d(B){B&&d(e),U(n),U(a),b=!1,Kt(T)}}}function Xl(r){let e,l;return e=new qt({props:{paragraph:!0,lines:2}}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p:W,i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function gt(r){let e,l,t,n;const o=[Xl,Jl],s=[];function a(c,f){return c[20]==null?0:1}function i(c,f){return f===1?Wl(c):c}return e=a(r),l=s[e]=o[e](i(r,e)),{c(){l.c(),t=ke()},l(c){l.l(c),t=ke()},m(c,f){s[e].m(c,f),H(c,t,f),n=!0},p(c,f){let C=e;e=a(c),e===C?s[e].p(i(c,e),f):(le(),V(s[C],1,1,()=>{s[C]=null}),ne(),l=s[e],l?l.p(i(c,e),f):(l=s[e]=o[e](i(c,e)),l.c()),v(l,1),l.m(t.parentNode,t))},i(c){n||(v(l),n=!0)},o(c){V(l),n=!1},d(c){s[e].d(c),c&&d(t)}}}function en(r){let e,l,t=r[0],n=[];for(let s=0;s<t.length;s+=1)n[s]=gt(ht(r,t,s));const o=s=>V(n[s],1,1,()=>{n[s]=null});return{c(){e=S("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=A(s,"DIV",{class:!0});var a=D(e);for(let i=0;i<n.length;i+=1)n[i].l(a);a.forEach(d),this.h()},h(){y(e,"class","flex flex-col gap-y-4")},m(s,a){H(s,e,a);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null);l=!0},p(s,[a]){if(a&17){t=s[0];let i;for(i=0;i<t.length;i+=1){const c=ht(s,t,i);n[i]?(n[i].p(c,a),v(n[i],1)):(n[i]=gt(c),n[i].c(),v(n[i],1),n[i].m(e,null))}for(le(),i=t.length;i<n.length;i+=1)o(i);ne()}},i(s){if(!l){for(let a=0;a<t.length;a+=1)v(n[a]);l=!0}},o(s){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)V(n[a]);l=!1},d(s){s&&d(e),Ie(n,s)}}}const pt=100;function tn(r){return r<.2?"bg-red-500/10":r<.8?"bg-yellow-500/10":"bg-blue-500/10"}function ln(r){return r<.2?"Likely not in concept":r<.8?"Uncertain":"Likely in concept"}function nn(r,e,l){let t,n,o,s,a,i,c,f,C=W,g=()=>(C(),C=ze(a,M=>l(15,f=M)),a),h,u=W,m=()=>(u(),u=ze(n,M=>l(16,h=M)),n);r.$$.on_destroy.push(()=>C()),r.$$.on_destroy.push(()=>u());let{dataset:k}=e,{concept:z}=e,{fieldPath:I}=e,{schema:$}=e,{embedding:E}=e;const p=Ht();$e(r,p,M=>l(19,c=M));let b={},T={};function N(M,w){if(M==null)return;const P={text:M.text,label:w},Q=Object.keys(T).find(X=>T[X]===M);l(10,b={...T}),c.mutate([z.namespace,z.concept_name,{insert:[P]}],{onSuccess:()=>l(10,b={...b,[Q]:void 0})})}const Y=M=>N(M,!0),B=M=>N(M,!1);return r.$$set=M=>{"dataset"in M&&l(5,k=M.dataset),"concept"in M&&l(6,z=M.concept),"fieldPath"in M&&l(7,I=M.fieldPath),"schema"in M&&l(8,$=M.schema),"embedding"in M&&l(9,E=M.embedding)},r.$$.update=()=>{var M,w;r.$$.dirty&576&&l(14,t={type:"concept",concept_namespace:z.namespace,concept_name:z.concept_name,embedding:E}),r.$$.dirty&16800&&m(l(2,n=Xe(k.namespace,k.name,{columns:[I],limit:pt,combine_columns:!0,searches:[{path:I,query:t}]},$))),r.$$.dirty&576&&l(13,o={signal_name:"concept_score",namespace:z.namespace,concept_name:z.concept_name,embedding:E}),r.$$.dirty&64&&l(12,s={signal_name:"concept_labels",namespace:z.namespace,concept_name:z.concept_name}),r.$$.dirty&12704&&g(l(1,a=Xe(k.namespace,k.name,{columns:[I,{path:I,signal_udf:o},{path:I,signal_udf:s}],limit:pt,combine_columns:!0,sort_by:[Nt]},$))),r.$$.dirty&100032&&l(11,T=xl(b,h.isFetching||(M=h.data)==null?void 0:M.rows,f.isFetching||(w=f.data)==null?void 0:w.rows,z,I,E)),r.$$.dirty&2048&&l(0,i=[T.positive,T.neutral,T.negative])},[i,a,n,p,N,k,z,I,$,E,b,T,s,o,t,f,h,Y,B]}class rn extends fe{constructor(e){super(),ue(this,e,nn,en,de,{dataset:5,concept:6,fieldPath:7,schema:8,embedding:9})}}function bt(r,e,l){const t=r.slice();return t[23]=e[l],t}function vt(r,e,l){const t=r.slice();return t[26]=e[l],t}function wt(r,e,l){const t=r.slice();return t[7]=e[l],t}function sn(r){let e,l;return e=new He({props:{labelText:"Dataset",selected:r[10],$$slots:{default:[cn]},$$scope:{ctx:r}}}),e.$on("change",r[14]),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p(t,n){const o={};n[0]&1024&&(o.selected=t[10]),n[0]&64|n[1]&1&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function an(r){let e,l;return e=new Zt({props:{kind:"error",title:"Error",subtitle:r[6].error.message,hideCloseButton:!0}}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p(t,n){const o={};n[0]&64&&(o.subtitle=t[6].error.message),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function on(r){let e,l;return e=new Ft({}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p:W,i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function kt(r){let e,l;return e=new Pe({props:{value:`${r[7].namespace}/${r[7].dataset_name}`}}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p(t,n){const o={};n[0]&64&&(o.value=`${t[7].namespace}/${t[7].dataset_name}`),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function cn(r){let e,l,t,n;e=new Pe({props:{value:"",text:"none"}});let o=r[6].data,s=[];for(let i=0;i<o.length;i+=1)s[i]=kt(wt(r,o,i));const a=i=>V(s[i],1,1,()=>{s[i]=null});return{c(){O(e.$$.fragment),l=G();for(let i=0;i<s.length;i+=1)s[i].c();t=ke()},l(i){L(e.$$.fragment,i),l=K(i);for(let c=0;c<s.length;c+=1)s[c].l(i);t=ke()},m(i,c){F(e,i,c),H(i,l,c);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(i,c);H(i,t,c),n=!0},p(i,c){if(c[0]&64){o=i[6].data;let f;for(f=0;f<o.length;f+=1){const C=wt(i,o,f);s[f]?(s[f].p(C,c),v(s[f],1)):(s[f]=kt(C),s[f].c(),v(s[f],1),s[f].m(t.parentNode,t))}for(le(),f=o.length;f<s.length;f+=1)a(f);ne()}},i(i){if(!n){v(e.$$.fragment,i);for(let c=0;c<o.length;c+=1)v(s[c]);n=!0}},o(i){V(e.$$.fragment,i),s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)V(s[c]);n=!1},d(i){U(e,i),i&&d(l),Ie(s,i),i&&d(t)}}}function fn(r){let e,l;return e=new He({props:{labelText:"Field with embeddings",selected:r[8],$$slots:{default:[mn]},$$scope:{ctx:r}}}),e.$on("change",r[15]),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p(t,n){const o={};n[0]&256&&(o.selected=t[8]),n[0]&16|n[1]&1&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function un(r){let e,l;return e=new Zt({props:{kind:"error",title:"Error",subtitle:r[5].error.message,hideCloseButton:!0}}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p(t,n){const o={};n[0]&32&&(o.subtitle=t[5].error.message),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function dn(r){let e,l;return e=new Ft({}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p:W,i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function $t(r){let e,l;return e=new Pe({props:{value:Se(r[26].path)}}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p(t,n){const o={};n[0]&16&&(o.value=Se(t[26].path)),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function mn(r){let e,l,t=r[4],n=[];for(let s=0;s<t.length;s+=1)n[s]=$t(vt(r,t,s));const o=s=>V(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ke()},l(s){for(let a=0;a<n.length;a+=1)n[a].l(s);e=ke()},m(s,a){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,a);H(s,e,a),l=!0},p(s,a){if(a[0]&16){t=s[4];let i;for(i=0;i<t.length;i+=1){const c=vt(s,t,i);n[i]?(n[i].p(c,a),v(n[i],1)):(n[i]=$t(c),n[i].c(),v(n[i],1),n[i].m(e.parentNode,e))}for(le(),i=t.length;i<n.length;i+=1)o(i);ne()}},i(s){if(!l){for(let a=0;a<t.length;a+=1)v(n[a]);l=!0}},o(s){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)V(n[a]);l=!1},d(s){Ie(n,s),s&&d(e)}}}function Et(r){let e,l,t;function n(s){r[21](s)}let o={labelText:"Embedding",$$slots:{default:[_n]},$$scope:{ctx:r}};return r[3]!==void 0&&(o.selected=r[3]),e=new He({props:o}),Ye.push(()=>qe(e,"selected",n)),{c(){O(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,a){F(e,s,a),t=!0},p(s,a){const i={};a[0]&512|a[1]&1&&(i.$$scope={dirty:a,ctx:s}),!l&&a[0]&8&&(l=!0,i.selected=s[3],Ze(()=>l=!1)),e.$set(i)},i(s){t||(v(e.$$.fragment,s),t=!0)},o(s){V(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function Vt(r){let e,l;return e=new Pe({props:{value:r[23]}}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p(t,n){const o={};n[0]&512&&(o.value=t[23]),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function _n(r){let e,l,t=r[9],n=[];for(let s=0;s<t.length;s+=1)n[s]=Vt(bt(r,t,s));const o=s=>V(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ke()},l(s){for(let a=0;a<n.length;a+=1)n[a].l(s);e=ke()},m(s,a){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,a);H(s,e,a),l=!0},p(s,a){if(a[0]&512){t=s[9];let i;for(i=0;i<t.length;i+=1){const c=bt(s,t,i);n[i]?(n[i].p(c,a),v(n[i],1)):(n[i]=Vt(c),n[i].c(),v(n[i],1),n[i].m(e.parentNode,e))}for(le(),i=t.length;i<n.length;i+=1)o(i);ne()}},i(s){if(!l){for(let a=0;a<t.length;a+=1)v(n[a]);l=!0}},o(s){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)V(n[a]);l=!1},d(s){Ie(n,s),s&&d(e)}}}function Dt(r){let e,l;return e=new Qe({props:{class:"dataset-link top-7 h-8",icon:$l,iconDescription:"Open dataset and apply concept."}}),e.$on("click",r[16]),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p:W,i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function It(r){let e,l,t;return l=new rn({props:{concept:r[0],dataset:r[7],fieldPath:r[2],schema:r[1],embedding:r[3]}}),{c(){e=S("div"),O(l.$$.fragment)},l(n){e=A(n,"DIV",{});var o=D(e);L(l.$$.fragment,o),o.forEach(d)},m(n,o){H(n,e,o),F(l,e,null),t=!0},p(n,o){const s={};o[0]&1&&(s.concept=n[0]),o[0]&128&&(s.dataset=n[7]),o[0]&4&&(s.fieldPath=n[2]),o[0]&2&&(s.schema=n[1]),o[0]&8&&(s.embedding=n[3]),l.$set(s)},i(n){t||(v(l.$$.fragment,n),t=!0)},o(n){V(l.$$.fragment,n),t=!1},d(n){n&&d(e),U(l)}}}function hn(r){let e,l,t,n,o,s,a,i,c,f,C;const g=[on,an,sn],h=[];function u(p,b){return p[6].isLoading?0:p[6].isError?1:p[6].data.length>0?2:-1}~(t=u(r))&&(n=h[t]=g[t](r));const m=[dn,un,fn],k=[];function z(p,b){return p[5].isLoading?0:p[5].isError?1:p[4].length>0?2:-1}~(s=z(r))&&(a=k[s]=m[s](r));let I=r[9].length>0&&Et(r),$=r[8]!=null&&r[3]!=null&&Dt(r),E=r[7]!=null&&r[2]!=null&&r[1]!=null&&r[3]!=null&&It(r);return{c(){e=S("div"),l=S("div"),n&&n.c(),o=G(),a&&a.c(),i=G(),I&&I.c(),c=G(),$&&$.c(),f=G(),E&&E.c(),this.h()},l(p){e=A(p,"DIV",{class:!0});var b=D(e);l=A(b,"DIV",{class:!0});var T=D(l);n&&n.l(T),o=K(T),a&&a.l(T),i=K(T),I&&I.l(T),c=K(T),$&&$.l(T),T.forEach(d),f=K(b),E&&E.l(b),b.forEach(d),this.h()},h(){y(l,"class","flex flex-row gap-x-2"),y(e,"class","flex flex-col gap-y-4")},m(p,b){H(p,e,b),_(e,l),~t&&h[t].m(l,null),_(l,o),~s&&k[s].m(l,null),_(l,i),I&&I.m(l,null),_(l,c),$&&$.m(l,null),_(e,f),E&&E.m(e,null),C=!0},p(p,b){let T=t;t=u(p),t===T?~t&&h[t].p(p,b):(n&&(le(),V(h[T],1,1,()=>{h[T]=null}),ne()),~t?(n=h[t],n?n.p(p,b):(n=h[t]=g[t](p),n.c()),v(n,1),n.m(l,o)):n=null);let N=s;s=z(p),s===N?~s&&k[s].p(p,b):(a&&(le(),V(k[N],1,1,()=>{k[N]=null}),ne()),~s?(a=k[s],a?a.p(p,b):(a=k[s]=m[s](p),a.c()),v(a,1),a.m(l,i)):a=null),p[9].length>0?I?(I.p(p,b),b[0]&512&&v(I,1)):(I=Et(p),I.c(),v(I,1),I.m(l,c)):I&&(le(),V(I,1,1,()=>{I=null}),ne()),p[8]!=null&&p[3]!=null?$?($.p(p,b),b[0]&264&&v($,1)):($=Dt(p),$.c(),v($,1),$.m(l,null)):$&&(le(),V($,1,1,()=>{$=null}),ne()),p[7]!=null&&p[2]!=null&&p[1]!=null&&p[3]!=null?E?(E.p(p,b),b[0]&142&&v(E,1)):(E=It(p),E.c(),v(E,1),E.m(e,null)):E&&(le(),V(E,1,1,()=>{E=null}),ne())},i(p){C||(v(n),v(a),v(I),v($),v(E),C=!0)},o(p){V(n),V(a),V(I),V($),V(E),C=!1},d(p){p&&d(e),~t&&h[t].d(),~s&&k[s].d(),I&&I.d(),$&&$.d(),E&&E.d()}}}function gn(r,e,l){let t,n,o,s,a,i,c,f,C,g,h=W,u=()=>(h(),h=ze(o,w=>l(5,g=w)),o),m,k;r.$$.on_destroy.push(()=>h());let{concept:z}=e;const I=Qt();$e(r,I,w=>l(20,k=w));let $,E,p,b;const T=el();$e(r,T,w=>l(6,m=w));function N(w){const P=w.target.value;if(P==="")l(7,$=null);else{const[Q,X]=P.split("/");l(7,$={namespace:Q,name:X})}}function Y(w){const P=w.target.value;l(2,p=rl(P))}function B(){if(a==null||b==null||$==null)return;bl(t,$.namespace,$.name).addSearch({path:[a],query:{type:"concept",concept_namespace:z.namespace,concept_name:z.concept_name,embedding:b}}),vl(_l($.namespace,$.name))}function M(w){b=w,l(3,b),l(17,f),l(2,p),l(1,E),l(4,c),l(5,g),l(19,i)}return r.$$set=w=>{"concept"in w&&l(0,z=w.concept)},r.$$.update=()=>{if(r.$$.dirty[0]&1048576&&l(18,n=[k.embedding,"gte-small","gte-base","openai","sbert"]),r.$$.dirty[0]&192&&m.data&&m.data.length>0&&$===void 0&&l(7,$={namespace:m.data[0].namespace,name:m.data[0].dataset_name}),r.$$.dirty[0]&128&&u(l(11,o=tl($==null?void 0:$.namespace,$==null?void 0:$.name))),r.$$.dirty[0]&128&&l(10,s=$?`${$.namespace}/${$.name}`:""),r.$$.dirty[0]&32&&l(1,E=g.data),r.$$.dirty[0]&2&&l(19,i=E?ye(E).filter(w=>!ll(w,E)&&w.dtype!=null):[]),r.$$.dirty[0]&524288&&l(4,c=i.filter(w=>ye(w).some(P=>P.signal!=null&&ye(P).some(Q=>Q.dtype==="embedding")))),r.$$.dirty[0]&20&&p!=null){const w=Se(p);c.some(Q=>Se(Q.path)===w)||l(2,p=void 0)}r.$$.dirty[0]&20&&c.length>0&&p==null&&l(2,p=c[0].path),r.$$.dirty[0]&4&&l(8,a=p?Se(p):void 0),r.$$.dirty[0]&6&&l(17,f=p&&E?ye(nl(E,p)).filter(w=>w.signal!=null&&ye(w).some(P=>P.dtype==="embedding")):[]),r.$$.dirty[0]&393216&&l(9,C=f.map(w=>w.signal.signal_name).sort((w,P)=>{let Q=n.indexOf(w),X=n.indexOf(P);return Q===-1&&(Q=n.length),X===-1&&(X=n.length),Q-X})),r.$$.dirty[0]&131080&&b!=null&&(f.some(P=>P.path.at(-1)===b)||l(3,b=void 0))},t=pl(),[z,E,p,b,c,g,m,$,a,C,s,o,I,T,N,Y,B,f,n,i,k,M]}class pn extends fe{constructor(e){super(),ue(this,e,gn,hn,de,{concept:0},null,[-1,-1])}}function Mt(r,e,l){const t=r.slice();t[23]=e[l];const n=t[3][t[23].name];t[24]=n;const o=t[9].isLoading&&t[9].variables&&t[9].variables[2]==t[23].name;return t[25]=o,t}function zt(r){let e,l,t,n,o;return l=new Sl({props:{class:"ml-2"}}),{c(){e=S("div"),O(l.$$.fragment)},l(s){e=A(s,"DIV",{});var a=D(e);L(l.$$.fragment,a),a.forEach(d)},m(s,a){H(s,e,a),F(l,e,null),t=!0,n||(o=Bt(Ot.call(null,e,{text:"Your concepts are only visible to you when logged in with Google."})),n=!0)},i(s){t||(v(l.$$.fragment,s),t=!0)},o(s){V(l.$$.fragment,s),t=!1},d(s){s&&d(e),U(l),n=!1,o()}}}function Tt(r){let e,l=r[0].description+"",t;return{c(){e=S("div"),t=q(l),this.h()},l(n){e=A(n,"DIV",{class:!0});var o=D(e);t=Z(o,l),o.forEach(d),this.h()},h(){y(e,"class","text text-base text-gray-600")},m(n,o){H(n,e,o),_(e,t)},p(n,o){o&1&&l!==(l=n[0].description+"")&&te(t,l)},d(n){n&&d(e)}}}function bn(r){let e,l;return{c(){e=S("div"),l=q("Try it"),this.h()},l(t){e=A(t,"DIV",{slot:!0,class:!0});var n=D(e);l=Z(n,"Try it"),n.forEach(d),this.h()},h(){y(e,"slot","above"),y(e,"class","text-md font-semibold")},m(t,n){H(t,e,n),_(e,l)},p:W,d(t){t&&d(e)}}}function vn(r){let e,l;return e=new Kl({props:{example:r[4],concept:r[0],slot:"below"}}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p(t,n){const o={};n&16&&(o.example=t[4]),n&1&&(o.concept=t[0]),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Ct(r){let e,l;return e=new Ue({props:{expanded:!0,$$slots:{below:[Dn],above:[wn]},$$scope:{ctx:r}}}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p(t,n){const o={};n&268436237&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function wn(r){let e,l;return{c(){e=S("div"),l=q("Metrics"),this.h()},l(t){e=A(t,"DIV",{slot:!0,class:!0});var n=D(e);l=Z(n,"Metrics"),n.forEach(d),this.h()},h(){y(e,"slot","above"),y(e,"class","text-md font-semibold")},m(t,n){H(t,e,n),_(e,l)},p:W,d(t){t&&d(e)}}}function kn(r){let e,l;function t(){return r[17](r[23])}return e=new Qe({props:{icon:r[25]?Fe:lt,class:"w-28 text-3xl",$$slots:{default:[Vn]},$$scope:{ctx:r}}}),e.$on("click",t),{c(){O(e.$$.fragment)},l(n){L(e.$$.fragment,n)},m(n,o){F(e,n,o),l=!0},p(n,o){r=n;const s={};o&768&&(s.icon=r[25]?Fe:lt),o&268435456&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(n){l||(v(e.$$.fragment,n),l=!0)},o(n){V(e.$$.fragment,n),l=!1},d(n){U(e,n)}}}function $n(r){let e,l=Ne[r[24].metrics.overall]+"",t,n,o,s,a;return{c(){e=S("div"),t=q(l),this.h()},l(i){e=A(i,"DIV",{class:!0});var c=D(e);t=Z(c,l),c.forEach(d),this.h()},h(){y(e,"class",n="concept-score-pill cursor-default text-2xl font-light "+Be[r[24].metrics.overall])},m(i,c){H(i,e,c),_(e,t),s||(a=Bt(o=Ot.call(null,e,{component:dt,props:{metrics:r[24].metrics}})),s=!0)},p(i,c){r=i,c&264&&l!==(l=Ne[r[24].metrics.overall]+"")&&te(t,l),c&264&&n!==(n="concept-score-pill cursor-default text-2xl font-light "+Be[r[24].metrics.overall])&&y(e,"class",n),o&&xt(o.update)&&c&264&&o.update.call(null,{component:dt,props:{metrics:r[24].metrics}})},i:W,o:W,d(i){i&&d(e),s=!1,a()}}}function En(r){let e,l;return e=new Fe({}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p:W,i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function Vn(r){let e;return{c(){e=q("Compute")},l(l){e=Z(l,"Compute")},m(l,t){H(l,e,t)},d(l){l&&d(e)}}}function yt(r){let e,l,t=r[23].name+"",n,o,s,a,i,c;const f=[En,$n,kn],C=[];function g(h,u){return h[2].isLoading?0:h[24]&&h[24].metrics?1:2}return s=g(r),a=C[s]=f[s](r),{c(){e=S("div"),l=S("div"),n=q(t),o=G(),a.c(),i=G(),this.h()},l(h){e=A(h,"DIV",{class:!0});var u=D(e);l=A(u,"DIV",{class:!0});var m=D(l);n=Z(m,t),m.forEach(d),o=K(u),a.l(u),i=K(u),u.forEach(d),this.h()},h(){y(l,"class","text-gray-500"),y(e,"class","flex w-36 flex-col items-center gap-y-2 rounded-md border border-b-0 border-gray-200 p-4 shadow-md")},m(h,u){H(h,e,u),_(e,l),_(l,n),_(e,o),C[s].m(e,null),_(e,i),c=!0},p(h,u){(!c||u&256)&&t!==(t=h[23].name+"")&&te(n,t);let m=s;s=g(h),s===m?C[s].p(h,u):(le(),V(C[m],1,1,()=>{C[m]=null}),ne(),a=C[s],a?a.p(h,u):(a=C[s]=f[s](h),a.c()),v(a,1),a.m(e,i))},i(h){c||(v(a),c=!0)},o(h){V(a),c=!1},d(h){h&&d(e),C[s].d()}}}function Dn(r){let e,l,t=r[8].data,n=[];for(let s=0;s<t.length;s+=1)n[s]=yt(Mt(r,t,s));const o=s=>V(n[s],1,1,()=>{n[s]=null});return{c(){e=S("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=A(s,"DIV",{slot:!0,class:!0});var a=D(e);for(let i=0;i<n.length;i+=1)n[i].l(a);a.forEach(d),this.h()},h(){y(e,"slot","below"),y(e,"class","model-metrics flex gap-x-4")},m(s,a){H(s,e,a);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null);l=!0},p(s,a){if(a&781){t=s[8].data;let i;for(i=0;i<t.length;i+=1){const c=Mt(s,t,i);n[i]?(n[i].p(c,a),v(n[i],1)):(n[i]=yt(c),n[i].c(),v(n[i],1),n[i].m(e,null))}for(le(),i=t.length;i<n.length;i+=1)o(i);ne()}},i(s){if(!l){for(let a=0;a<t.length;a+=1)v(n[a]);l=!0}},o(s){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)V(n[a]);l=!1},d(s){s&&d(e),Ie(n,s)}}}function In(r){let e,l;return{c(){e=S("div"),l=q("Collect labels"),this.h()},l(t){e=A(t,"DIV",{slot:!0,class:!0});var n=D(e);l=Z(n,"Collect labels"),n.forEach(d),this.h()},h(){y(e,"slot","above"),y(e,"class","text-md font-semibold")},m(t,n){H(t,e,n),_(e,l)},p:W,d(t){t&&d(e)}}}function Mn(r){let e,l;return e=new pn({props:{slot:"below",concept:r[0]}}),{c(){O(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,n){F(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.concept=t[0]),e.$set(o)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){U(e,t)}}}function zn(r){let e,l,t,n=r[0].concept_name+"",o,s,a,i,c,f,C,g,h,u,m,k,z,I,$=r[1].length+"",E,p,b,T,N,Y,B,M,w,P=r[5].length+"",Q,X,ae,oe,ce,J=r[7]==r[0].namespace&&zt(),ee=r[0].description&&Tt(r);c=new Ue({props:{expanded:!0,$$slots:{below:[vn],above:[bn]},$$scope:{ctx:r}}});let j=r[8].data&&Ct(r);return g=new Ue({props:{$$slots:{below:[Mn],above:[In]},$$scope:{ctx:r}}}),z=new Ut({}),T=new ut({props:{data:r[1]}}),T.$on("remove",r[18]),T.$on("add",r[19]),M=new Yt({}),oe=new ut({props:{data:r[5]}}),oe.$on("remove",r[20]),oe.$on("add",r[21]),{c(){e=S("div"),l=S("div"),t=S("div"),o=q(n),s=G(),J&&J.c(),a=G(),ee&&ee.c(),i=G(),O(c.$$.fragment),f=G(),j&&j.c(),C=G(),O(g.$$.fragment),h=G(),u=S("div"),m=S("div"),k=S("span"),O(z.$$.fragment),I=q(" In concept ("),E=q($),p=q(" examples)"),b=G(),O(T.$$.fragment),N=G(),Y=S("div"),B=S("span"),O(M.$$.fragment),w=q("Not in concept ("),Q=q(P),X=q(" examples)"),ae=G(),O(oe.$$.fragment),this.h()},l(R){e=A(R,"DIV",{class:!0});var x=D(e);l=A(x,"DIV",{});var _e=D(l);t=A(_e,"DIV",{class:!0});var he=D(t);o=Z(he,n),s=K(he),J&&J.l(he),he.forEach(d),a=K(_e),ee&&ee.l(_e),_e.forEach(d),i=K(x),L(c.$$.fragment,x),f=K(x),j&&j.l(x),C=K(x),L(g.$$.fragment,x),h=K(x),u=A(x,"DIV",{class:!0});var me=D(u);m=A(me,"DIV",{class:!0});var ge=D(m);k=A(ge,"SPAN",{class:!0});var Ee=D(k);L(z.$$.fragment,Ee),I=Z(Ee," In concept ("),E=Z(Ee,$),p=Z(Ee," examples)"),Ee.forEach(d),b=K(ge),L(T.$$.fragment,ge),ge.forEach(d),N=K(me),Y=A(me,"DIV",{class:!0});var Ve=D(Y);B=A(Ve,"SPAN",{class:!0});var De=D(B);L(M.$$.fragment,De),w=Z(De,"Not in concept ("),Q=Z(De,P),X=Z(De," examples)"),De.forEach(d),ae=K(Ve),L(oe.$$.fragment,Ve),Ve.forEach(d),me.forEach(d),x.forEach(d),this.h()},h(){y(t,"class","flex flex-row items-center text-2xl font-semibold"),y(k,"class","flex items-center gap-x-2 text-lg"),y(m,"class","flex w-0 flex-grow flex-col gap-y-4"),y(B,"class","flex items-center gap-x-2 text-lg"),y(Y,"class","flex w-0 flex-grow flex-col gap-y-4"),y(u,"class","flex gap-x-4"),y(e,"class","flex h-full w-full flex-col gap-y-8 px-10")},m(R,x){H(R,e,x),_(e,l),_(l,t),_(t,o),_(t,s),J&&J.m(t,null),_(l,a),ee&&ee.m(l,null),_(e,i),F(c,e,null),_(e,f),j&&j.m(e,null),_(e,C),F(g,e,null),_(e,h),_(e,u),_(u,m),_(m,k),F(z,k,null),_(k,I),_(k,E),_(k,p),_(m,b),F(T,m,null),_(u,N),_(u,Y),_(Y,B),F(M,B,null),_(B,w),_(B,Q),_(B,X),_(Y,ae),F(oe,Y,null),ce=!0},p(R,[x]){(!ce||x&1)&&n!==(n=R[0].concept_name+"")&&te(o,n),R[7]==R[0].namespace?J?x&129&&v(J,1):(J=zt(),J.c(),v(J,1),J.m(t,null)):J&&(le(),V(J,1,1,()=>{J=null}),ne()),R[0].description?ee?ee.p(R,x):(ee=Tt(R),ee.c(),ee.m(l,null)):ee&&(ee.d(1),ee=null);const _e={};x&268435473&&(_e.$$scope={dirty:x,ctx:R}),c.$set(_e),R[8].data?j?(j.p(R,x),x&256&&v(j,1)):(j=Ct(R),j.c(),v(j,1),j.m(e,C)):j&&(le(),V(j,1,1,()=>{j=null}),ne());const he={};x&268435457&&(he.$$scope={dirty:x,ctx:R}),g.$set(he),(!ce||x&2)&&$!==($=R[1].length+"")&&te(E,$);const me={};x&2&&(me.data=R[1]),T.$set(me),(!ce||x&32)&&P!==(P=R[5].length+"")&&te(Q,P);const ge={};x&32&&(ge.data=R[5]),oe.$set(ge)},i(R){ce||(v(J),v(c.$$.fragment,R),v(j),v(g.$$.fragment,R),v(z.$$.fragment,R),v(T.$$.fragment,R),v(M.$$.fragment,R),v(oe.$$.fragment,R),ce=!0)},o(R){V(J),V(c.$$.fragment,R),V(j),V(g.$$.fragment,R),V(z.$$.fragment,R),V(T.$$.fragment,R),V(M.$$.fragment,R),V(oe.$$.fragment,R),ce=!1},d(R){R&&d(e),J&&J.d(),ee&&ee.d(),U(c),j&&j.d(),U(g),U(z),U(T),U(M),U(oe)}}}function Tn(r,e,l){let t,n,o,s,a,i,c,f=W,C=()=>(f(),f=ze(n,w=>l(2,c=w)),n),g,h,u;r.$$.on_destroy.push(()=>f());let{concept:m}=e;const k=sl();$e(r,k,w=>l(16,g=w));const z=Ht();$e(r,z,w=>l(22,i=w));const I=Lt();$e(r,I,w=>l(8,h=w));let $={};const E=al();$e(r,E,w=>l(9,u=w));function p(w){!m.namespace||!m.concept_name||i.mutate([m.namespace,m.concept_name,{remove:[w]}])}function b(w,P){!m.namespace||!m.concept_name||i.mutate([m.namespace,m.concept_name,{insert:[{text:w,label:P}]}])}const T=w=>u.mutate([m.namespace,m.concept_name,w.name]),N=w=>p(w.detail),Y=w=>b(w.detail,!0),B=w=>p(w.detail),M=w=>b(w.detail,!1);return r.$$set=w=>{"concept"in w&&l(0,m=w.concept)},r.$$.update=()=>{var w,P;if(r.$$.dirty&65536&&l(7,t=(P=(w=g.data)==null?void 0:w.user)==null?void 0:P.id),r.$$.dirty&1&&C(l(6,n=il(m.namespace,m.concept_name))),r.$$.dirty&4&&c.data){l(3,$={});for(const Q of c.data)l(3,$[Q.embedding_name]=Q,$)}r.$$.dirty&1&&l(1,o=Object.values(m.data).filter(Q=>Q.label==!0)),r.$$.dirty&1&&l(5,s=Object.values(m.data).filter(Q=>Q.label==!1)),r.$$.dirty&2&&l(4,a=o[Math.floor(Math.random()*o.length)])},[m,o,c,$,a,s,n,t,h,u,k,z,I,E,p,b,g,T,N,Y,B,M]}class Fn extends fe{constructor(e){super(),ue(this,e,Tn,zn,de,{concept:0})}}export{Fn as C,Ln as I,Tl as T,lt as a};
