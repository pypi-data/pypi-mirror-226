Metadata-Version: 2.1
Name: gcp-pubsub-dao
Version: 0.1.0
Summary: DAO for GCP PubSub service.
Author: Raman Shakun
Author-email: shakunroman@gmail.com
Requires-Python: >=3.11,<4.0
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.11
Requires-Dist: google-cloud-pubsub (>=2.18.2,<3.0.0)
Description-Content-Type: text/markdown

# Ash DAL
The library provides DAO classes for GCP pubsub publisher/subscriber.

## Installation

### PyPi

*To be added*

## Usage
```python
from gcp_pubsub_dao import PubSubSubscriberDAO, Message

dao = PubSubSubscriberDAO(project_id="prodect-dev", subscription_id="subscription")
messages: Message = dao.get_messages(messages_count=2)

for message in messages:
    print(message.data)
    
dao.ack_messages(ack_ids=[message[0].ack_id])      
dao.nack_messages(ack_ids=[message[1].ack_id])     

dao.close()     # to clean up connections
```

```python
from gcp_pubsub_dao import PubSubPublisherDAO

dao = PubSubPublisherDAO(project_id="prodect-dev")
try:
    dao.publish_message(topic_name="topic", payload=b"asdfsdf", attributes={"kitId": "AW12345678"})
except Exception as ex:
    print(ex)
```
