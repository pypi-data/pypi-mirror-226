#!/usr/bin/zsh

#qsub -P P_lsst -q mc_highmem run_batch.sh

#healpix_pixels=('9559' '9686' '9687' '9814' '9815' '9816' '9942' '9943' '10070' '10071' '10072' '10198' '10199' '10200' '10326' '10327' '10450')
#healpix_pixels=('9559')

#healpix_pixels=('2723' '2724' '2725' '2726' '2727' '2728' '2729' '2730' '2731' '2732' '2733' '2734' '2735' '2896' '2897' '2898' '2899' '2900' '2901' '2902' '2903' '2904' '2905' '2906' '2907' '2908' '2909' '3074' '3075' '3076' '3077' '3078' '3079' '3080' '3081' '3082' '3083' '3084' '3085' '3086' '3256' '3257' '3258' '3259' '3260' '3261' '3262' '3263' '3264' '3265' '3266' '3267' '3268' '3441' '3442' '3443' '3444' '3445' '3446' '3447' '3448' '3449' '3450' '3451' '3452' '3453' '3454' '3631' '3632' '3633' '3634' '3635' '3636' '3637' '3638' '3639' '3640' '3641' '3642' '3643' '3825' '3826' '3827' '3828' '3829' '3830' '3831' '3832' '3833' '3834' '3835' '3836' '3837' '4022' '4023' '4024' '4025' '4026' '4027' '4028' '4029' '4030' '4031' '4032' '4033' '4034' '4035' '4224' '4225' '4226' '4227' '4228' '4229' '4230' '4231' '4232' '4233' '4234' '4235' '4236' '4428' '4429' '4430' '4431' '4432' '4433' '4434' '4435' '4436' '4437' '4438' '4439' '4440' '4441' '4636' '4637' '4638' '4639' '4640' '4641' '4642' '4643' '4644' '4645' '4646' '4647' '4648' '4848' '4849' '4850' '4851' '4852' '4853' '4854' '4855' '4856' '4857' '4858' '4859' '4860' '5062' '5063' '5064' '5065' '5066' '5067' '5068' '5069' '5070' '5071' '5072' '5073' '5074')

#cosmoDC2 small
#healpix_pixels=('9559', '9686', '9687', '9814', '9815', '9816', '9942', '9943', '10070', '10071', '10072', '10198', '10199', '10200', '10326', '10327', '10450')
#
#healpix_pixels=('10066 10067 10068 10069 10070 10071 10072 10073 10074 10193 10194 10195')
# '10196 10197 10198 10199 10200 10201 10202 10321 10322 10323 10324 10325' '10326 10327 10328 10329 10444 10445 10446 10447 10448 10449 10450 10451 10452' '8786 8787 8788 8789 8790 8791 8792 8793 8794 8913 8914 8915 8916 8917' '8918 8919 8920 8921 9042 9043 9044 9045 9046 9047 9048 9049' '9050 9169 9170 9171 9172 9173 9174 9175 9176 9177 9178 9298 9299' '9300 9301 9302 9303 9304 9305 9306 9425 9426 9427 9428 9429 9430 9431' '9432 9433 9434 9554 9555 9556 9557 9558 9559 9560 9561 9562 9681 9682' '9683 9684 9685 9686 9687 9688 9689 9690 9810 9811 9812 9813 9814 9815 9816' '9817 9818 9937 9938 9939 9940 9941 9942 9943 9944 9945 9946')
#index=0
#for healpix_pixel in "${healpix_pixels[@]}" ;do
#    ((index=index+1))
#    echo ${index}
#    #qsub -P P_lsst -q mc_highmem -v healpix_pixel=${healpix_pixel} run_batch.sh 
#    sbatch -t 1:00:00 --cpus-per-task=1 --mem=16G --export=healpix_pixel=${healpix_pixel} run_tar.sh
#done

sbatch -t 2:00:00 --cpus-per-task=1 --mem=32G run_tar1.sh
sbatch -t 2:00:00 --cpus-per-task=1 --mem=32G run_tar2.sh
sbatch -t 2:00:00 --cpus-per-task=1 --mem=32G run_tar3.sh
sbatch -t 2:00:00 --cpus-per-task=1 --mem=32G run_tar4.sh
sbatch -t 2:00:00 --cpus-per-task=1 --mem=32G run_tar5.sh
sbatch -t 2:00:00 --cpus-per-task=1 --mem=32G run_tar6.sh
sbatch -t 2:00:00 --cpus-per-task=1 --mem=32G run_tar7.sh
sbatch -t 2:00:00 --cpus-per-task=1 --mem=32G run_tar8.sh
sbatch -t 2:00:00 --cpus-per-task=1 --mem=32G run_tar9.sh
sbatch -t 2:00:00 --cpus-per-task=1 --mem=32G run_tar10.sh
