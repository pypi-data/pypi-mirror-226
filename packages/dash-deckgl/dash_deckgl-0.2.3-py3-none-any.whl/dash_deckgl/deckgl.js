"use strict";(self.webpackChunkdash_deckgl=self.webpackChunkdash_deckgl||[]).push([[707],{1167:(e,r,t)=>{t.r(r),t.d(r,{default:()=>R});var n={};t.r(n),t.d(n,{AGGREGATION_OPERATION:()=>p.AGGREGATION_OPERATION,AmbientLight:()=>p.AmbientLight,ArcLayer:()=>p.ArcLayer,AttributeManager:()=>p.AttributeManager,BitmapLayer:()=>p.BitmapLayer,Buffer:()=>m.Buffer,COORDINATE_SYSTEM:()=>p.COORDINATE_SYSTEM,CPUGridLayer:()=>p.CPUGridLayer,ColumnLayer:()=>p.ColumnLayer,CompositeLayer:()=>p.CompositeLayer,ConeGeometry:()=>m.ConeGeometry,ContourLayer:()=>p.ContourLayer,Controller:()=>p.Controller,CubeGeometry:()=>m.CubeGeometry,CylinderGeometry:()=>m.CylinderGeometry,Deck:()=>p.Deck,DeckRenderer:()=>p.DeckRenderer,DirectionalLight:()=>p.DirectionalLight,FEATURES:()=>m.FEATURES,FirstPersonController:()=>p.FirstPersonController,FirstPersonView:()=>p.FirstPersonView,FirstPersonViewport:()=>p.FirstPersonViewport,FlyToInterpolator:()=>p.FlyToInterpolator,Framebuffer:()=>m.Framebuffer,GPUGridLayer:()=>p.GPUGridLayer,GeoJsonLayer:()=>p.GeoJsonLayer,GeohashLayer:()=>p.GeohashLayer,Geometry:()=>m.Geometry,GoogleMapsOverlay:()=>p.GoogleMapsOverlay,GreatCircleLayer:()=>p.GreatCircleLayer,GridCellLayer:()=>p.GridCellLayer,GridLayer:()=>p.GridLayer,H3ClusterLayer:()=>p.H3ClusterLayer,H3HexagonLayer:()=>p.H3HexagonLayer,HeatmapLayer:()=>p.HeatmapLayer,HexagonLayer:()=>p.HexagonLayer,IcoSphereGeometry:()=>m.IcoSphereGeometry,IconLayer:()=>p.IconLayer,JSONConfiguration:()=>p.JSONConfiguration,JSONConverter:()=>p.JSONConverter,Layer:()=>p.Layer,LayerExtension:()=>p.LayerExtension,LayerManager:()=>p.LayerManager,LightingEffect:()=>p.LightingEffect,LineLayer:()=>p.LineLayer,LinearInterpolator:()=>p.LinearInterpolator,MVTLayer:()=>p.MVTLayer,MapController:()=>p.MapController,MapView:()=>p.MapView,Model:()=>m.Model,OPERATION:()=>p.OPERATION,OrbitController:()=>p.OrbitController,OrbitView:()=>p.OrbitView,OrbitViewport:()=>p.OrbitViewport,OrthographicController:()=>p.OrthographicController,OrthographicView:()=>p.OrthographicView,OrthographicViewport:()=>p.OrthographicViewport,PathLayer:()=>p.PathLayer,PlaneGeometry:()=>m.PlaneGeometry,PointCloudLayer:()=>p.PointCloudLayer,PointLight:()=>p.PointLight,PolygonLayer:()=>p.PolygonLayer,PostProcessEffect:()=>p.PostProcessEffect,Program:()=>m.Program,ProgramManager:()=>m.ProgramManager,QuadkeyLayer:()=>p.QuadkeyLayer,Renderbuffer:()=>m.Renderbuffer,S2Layer:()=>p.S2Layer,ScatterplotLayer:()=>p.ScatterplotLayer,ScenegraphLayer:()=>p.ScenegraphLayer,ScreenGridLayer:()=>p.ScreenGridLayer,SimpleMeshLayer:()=>p.SimpleMeshLayer,SolidPolygonLayer:()=>p.SolidPolygonLayer,SphereGeometry:()=>m.SphereGeometry,TRANSITION_EVENTS:()=>p.TRANSITION_EVENTS,TerrainLayer:()=>p.TerrainLayer,Tesselator:()=>p.Tesselator,TextLayer:()=>p.TextLayer,Texture2D:()=>m.Texture2D,Texture3D:()=>m.Texture3D,TextureCube:()=>m.TextureCube,Tile3DLayer:()=>p.Tile3DLayer,TileLayer:()=>p.TileLayer,Timeline:()=>m.Timeline,Transform:()=>m.Transform,TransformFeedback:()=>m.TransformFeedback,TransitionInterpolator:()=>p.TransitionInterpolator,Transport:()=>p.Transport,TripsLayer:()=>p.TripsLayer,TruncatedConeGeometry:()=>m.TruncatedConeGeometry,UNIT:()=>p.UNIT,VERSION:()=>p.VERSION,View:()=>p.View,Viewport:()=>p.Viewport,WebMercatorViewport:()=>p.WebMercatorViewport,_AggregationLayer:()=>p._AggregationLayer,_BinSorter:()=>p._BinSorter,_CPUAggregator:()=>p._CPUAggregator,_CameraLight:()=>p._CameraLight,_GPUGridAggregator:()=>p._GPUGridAggregator,_GeoCellLayer:()=>p._GeoCellLayer,_GlobeController:()=>p._GlobeController,_GlobeView:()=>p._GlobeView,_GlobeViewport:()=>p._GlobeViewport,_LayersPass:()=>p._LayersPass,_MultiIconLayer:()=>p._MultiIconLayer,_PickLayersPass:()=>p._PickLayersPass,_SunLight:()=>p._SunLight,_TextBackgroundLayer:()=>p._TextBackgroundLayer,_Tile2DHeader:()=>p._Tile2DHeader,_Tileset2D:()=>p._Tileset2D,_WMSLayer:()=>p._WMSLayer,_compareProps:()=>p._compareProps,_convertFunctions:()=>p._convertFunctions,_count:()=>p._count,_deepEqual:()=>p._deepEqual,_fillArray:()=>p._fillArray,_flatten:()=>p._flatten,_getURLFromTemplate:()=>p._getURLFromTemplate,_memoize:()=>p._memoize,_mergeShaders:()=>p._mergeShaders,_parseExpressionString:()=>p._parseExpressionString,_shallowEqualObjects:()=>p._shallowEqualObjects,assert:()=>p.assert,cloneTextureFrom:()=>m.cloneTextureFrom,copyToTexture:()=>m.copyToTexture,createIterable:()=>p.createIterable,cssToDeviceRatio:()=>m.cssToDeviceRatio,fetchFile:()=>g.fetchFile,fp64LowPart:()=>p.fp64LowPart,getParameters:()=>m.getParameters,gouraudLighting:()=>p.gouraudLighting,hasFeatures:()=>m.hasFeatures,instrumentGLContext:()=>m.instrumentGLContext,isWebGL2:()=>m.isWebGL2,load:()=>g.load,log:()=>p.log,parse:()=>g.parse,phongLighting:()=>p.phongLighting,picking:()=>p.picking,project:()=>p.project,project32:()=>p.project32,readPixelsToBuffer:()=>m.readPixelsToBuffer,registerLoaders:()=>g.registerLoaders,setParameters:()=>m.setParameters,shadow:()=>p.shadow,withParameters:()=>m.withParameters});var o=t(616),a=t.n(o),i=t(9538),l=t(9356),c=t(4572);t(3373);var u=t(5845),s=t(3549),y=t(8318),f={},p=t(4144),m=t(8339),g=t(4933);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function b(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function h(e,r,t){return(r=function(e){var r=function(e,r){if("object"!==d(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===d(r)?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function v(e,r){if(e){if("string"==typeof e)return L(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?L(e,r):void 0}}function L(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var S=function(e){return e.charAt(0)===e.charAt(0).toUpperCase()},w=function(e){return e.charAt(0)===e.charAt(0).toLowerCase()&&"_"!==e.charAt(0)},O=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={},o=function(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=v(e))){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw a}}}}(Object.keys(r).filter(t));try{for(o.s();!(e=o.n()).done;){var a=e.value;n[a]=r[a]}}catch(e){o.e(e)}finally{o.f()}return n},T={classes:O(n,S),enumerations:{COORDINATE_SYSTEM:u.COORDINATE_SYSTEM,GL:s.Z}},P=(0,o.createContext)(),E=function(e){var r,t,n=e.configuration,i=e.customLibraries,l=e.children,c=(r=(0,o.useState)(new y.Z({configuration:T})),t=2,function(e){if(Array.isArray(e))return e}(r)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==r);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(r,t)||v(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],s=c[1],p=function(e){if(e){var r=new y.Z(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?b(Object(t),!0).forEach((function(r){h(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},u));r.mergeConfiguration(e),r.convertedJson=null,s(r)}};(0,o.useEffect)((function(){p(n)}),[n]);var m=function(e,r){var t={classes:O(r,S),functions:O(r,w)};p(t)};return(0,o.useEffect)((function(){if(i){var e={};i.forEach((function(r){var t=r.libraryName,n=r.resourceUri;if(e[t]=!1,t in window)return m(0,window[t]),void(e[t]=window[t]);Object.defineProperty(window,t,{set:function(r){m(0,r),e[t]=r},get:function(){return e[t]}}),function(e){if(!f[e]){var r=document.createElement("script");r.type="text/javascript",r.src=e,document.querySelector("head").appendChild(r),f[e]=new Promise((function(e){r.onload=e}))}f[e]}(n)}))}}),[i]),a().createElement(P.Provider,{value:u},l)};function C(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw a}}}}function _(e,r){if(e){if("string"==typeof e)return A(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?A(e,r):void 0}}function A(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var j={fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif',display:"flex",flex:"wrap",maxWidth:"500px",flexDirection:"column",zIndex:2};function G(e,r){var t,n,o,a=e,i="properties",l=C(function(e){if(Array.isArray(e))return A(e)}(o=new Set(e.match(/{[^}]*}/g).map((function(e){return e.replace(/[{}]/g,"")}))))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||_(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());try{for(l.s();!(n=l.n()).done;){var c=n.value;if(c.includes(".")){t=r;var u,s=C(c.split("."));try{for(s.s();!(u=s.n()).done;){var y=u.value;if(!t.hasOwnProperty(y)){t=void 0;break}t=t[y]}}catch(e){s.e(e)}finally{s.f()}}else t=r.hasOwnProperty(c)?r[c]:r[i]&&r[i].hasOwnProperty(c)?r[i][c]:void 0;a=a.replaceAll("{".concat(c,"}"),t)}}catch(e){l.e(e)}finally{l.f()}return a}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},I.apply(this,arguments)}function k(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function D(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?k(Object(t),!0).forEach((function(r){V(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function V(e,r,t){return(r=function(e){var r=function(e,r){if("object"!==x(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!==x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===x(r)?r:String(r)}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function M(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=a.call(t)).done)&&(l.push(n.value),l.length!==r);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return N(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?N(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}new Set(["position","index"]);var F=function(e){var r=e.spec,t=e.tooltips,n=e.width,u=void 0===n?"100%":n,s=e.height,y=void 0===s?500:s,f=e.events,p=void 0===f?[]:f,m=e.description,g=e.overlay,d=e.mapbox_key,b=e.setProps,h=(e.lastevent,e.viewstate),v=M((0,o.useState)({}),2),L=v[0],S=v[1],w=M((0,o.useState)({}),2),O=w[0],T=w[1],E=M((0,o.useState)(!1),2),C=(E[0],E[1],M((0,o.useState)(!1),2)),_=(C[0],C[1],(0,o.useContext)(P)),A=M((0,o.useState)(h),2),x=A[0],k=A[1],N=[];if(m)for(var F in m)if(["top-right","top-left","bottom-right","bottom-left"].includes(F)){var R=F.split("-");N.push({pos:R,content:m[F]})}var U=(0,o.useCallback)((function(e,r){p.includes(e)&&b({lastEvent:D(D({},r.object),{},{coordinate:r.coordinate,eventType:e})})}),[p]),H={onClick:function(e){return U("click",e)},onHover:function(e){return U("hover",e)},onDragStart:function(e){return U("drag-start",e)},onDrag:function(e){return U("drag",e)},onDragEnd:function(e){return U("drag-end",e)}},B=function(e){return e?e.length?function(r){if(!r.picked)return null;var t=null;return e.map((function(e){if(e.layer&&r.layer.id!=e.layer)return null;t={style:e.style||j},e.html?t.html=G(e.html,r.object):t.text=G(e.text,r.object)})),t}:getTooltipDefault:null}(t),J=D(D({},H),{},{getTooltip:B});(0,o.useEffect)((function(){!function(){var e,r;e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://api.tiles.mapbox.com/mapbox-gl-js/v1.13.2/mapbox-gl.css",(r=document.createElement("link")).type="text/css",r.rel="stylesheet",r.href=e,document.getElementsByTagName("head")[0].appendChild(r)}()}),[]),(0,o.useEffect)((function(){var e=_.convert(r);e.initialViewState&&(!x||e.initialViewState.longitude&&e.initialViewState.latitude)&&k(e.initialViewState),S(D(D({},L),e))}),[r,_]),(0,o.useEffect)((function(){var e=_.convert(g);T(D(D({},O),e))}),[g,_]);var W=(0,o.useCallback)((function(e){var r=e.viewState;k(r),b({viewstate:r})}),[]);return a().createElement("div",{className:"deckgl-map",style:{height:y,width:u,position:"relative"}},a().createElement("div",{id:"deckgl-primary",style:{width:"100%",height:"100%"}},x&&a().createElement(i.Z,I({viewState:x,onViewStateChange:W},J,L),a().createElement(c.D5,{mapStyle:L.mapStyle||l.Z.POSITRON,mapboxAccessToken:d}))),g&&a().createElement("div",{id:"deckgl-overlay",style:{width:"100%",height:"100%",pointerEvents:"none"}},a().createElement(i.Z,I({viewState:x,contoller:!1},J,O,{style:D(D({},O.style),{},{zIndex:1,pointerEvents:"none"})}),a().createElement(c.D5,{mapStyle:O.mapStyle,mapboxAccessToken:d}))),N.map((function(e,r){var t;return a().createElement("div",{key:r,className:"description",style:(t={position:"absolute",zIndex:10},V(t,e.pos[0],10),V(t,e.pos[1],10),t),dangerouslySetInnerHTML:{__html:e.content}})})))};const R=function(e){return a().createElement(E,{customLibraries:e.customLibraries,configuration:e.configuration},a().createElement(F,e))}}}]);
//# sourceMappingURL=deckgl.js.map